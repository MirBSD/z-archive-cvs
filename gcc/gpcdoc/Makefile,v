head	1.6;
access;
symbols
	MIRBSD_10_BASE:1.3
	MIRBSD_9_BASE:1.3
	MIRBSD_8:1.3.0.2
	MIRBSD_8_BASE:1.3;
locks; strict;
comment	@# @;


1.6
date	2009.12.27.18.03.42;	author tg;	state Exp;
branches;
next	1.5;
commitid	1004B37A1916BB31DC1;

1.5
date	2009.12.27.17.05.41;	author tg;	state Exp;
branches;
next	1.4;
commitid	1004B3793E431013FA9;

1.4
date	2009.12.27.16.43.05;	author tg;	state Exp;
branches;
next	1.3;
commitid	1004B378E953FCBDD99;

1.3
date	2005.11.22.22.04.01;	author tg;	state Exp;
branches;
next	1.2;
commitid	5756438395e560e8;

1.2
date	2005.11.22.17.55.23;	author tg;	state Exp;
branches;
next	1.1;
commitid	52b843835b5a18a8;

1.1
date	2005.11.20.13.50.43;	author tg;	state Exp;
branches;
next	;
commitid	74eb43807f36dad2;


desc
@@


1.6
log
@together with cid 1004B37A0470838A5B5 make all gpc info pages valid HTML 4.01 Transitional, thanks to Dillo2 and Opera’s W3C interface
@
text
@# $MirOS: gcc/gpcdoc/Makefile,v 1.5 2009/12/27 17:05:41 tg Exp $

MAN=		gpc.1 gpc-run.1

.PATH: ${.CURDIR}/../gcc/p/doc/en
.PATH: ${.CURDIR}/../gcc/p/doc/generated

# texinfo file generation
INFOFILES=	gpc.info gpcs.info gpcs-de.info gpc-hr.info gpcs-hr.info
HTMLFILES=	${INFOFILES:.info=.html}

# aiding the GNU Make-lang.in copied part
srcdir=		${.CURDIR}/../gcc
MAKEINFO=	makeinfo
MAKEINFOFLAGS=	--no-split
MAKEINFO_INFO=	--enable-encoding
MAKEINFO_HTML=	--html

# copied from gpc p/Make-lang.in {{{
GPC_GENERATED_TEXI=\
  $(srcdir)/p/doc/generated/version.texi \
  $(srcdir)/p/doc/generated/lang-options.texi \
  $(srcdir)/p/doc/generated/keyword.texi \
  $(srcdir)/p/doc/generated/gpcpas.texi \
  $(srcdir)/p/doc/generated/crt.texi \
  $(srcdir)/p/doc/generated/dos.texi \
  $(srcdir)/p/doc/generated/dosunix.texi \
  $(srcdir)/p/doc/generated/fileutils.texi \
  $(srcdir)/p/doc/generated/gmp.texi \
  $(srcdir)/p/doc/generated/gpcutil.texi \
  $(srcdir)/p/doc/generated/heapmon.texi \
  $(srcdir)/p/doc/generated/intl.texi \
  $(srcdir)/p/doc/generated/md5.texi \
  $(srcdir)/p/doc/generated/overlay.texi \
  $(srcdir)/p/doc/generated/pipes.texi \
  $(srcdir)/p/doc/generated/ports.texi \
  $(srcdir)/p/doc/generated/printer.texi \
  $(srcdir)/p/doc/generated/regex.texi \
  $(srcdir)/p/doc/generated/strings.texi \
  $(srcdir)/p/doc/generated/stringutils.texi \
  $(srcdir)/p/doc/generated/system.texi \
  $(srcdir)/p/doc/generated/tfdd.texi \
  $(srcdir)/p/doc/generated/trap.texi \
  $(srcdir)/p/doc/generated/turbo3.texi \
  $(srcdir)/p/doc/generated/windos.texi

GPC_COMMON_TEXI=\
  $(srcdir)/p/doc/macros.texi \
  $(srcdir)/p/doc/contributors.texi \
  $(GPC_GENERATED_TEXI)

GPC_TEXI_EN=\
  $(GPC_COMMON_TEXI) \
  $(srcdir)/p/doc/en/gpc.texi \
  $(srcdir)/p/doc/en/welcome.texi \
  $(srcdir)/p/doc/en/purpose.texi \
  $(srcdir)/p/doc/en/about.texi \
  $(srcdir)/p/doc/en/news.texi \
  $(srcdir)/p/doc/en/faq.texi \
  $(srcdir)/p/doc/en/libs.texi \
  $(srcdir)/p/doc/en/install.texi \
  $(srcdir)/p/doc/en/bpqstart.texi \
  $(srcdir)/p/doc/en/invoke.texi \
  $(srcdir)/p/doc/en/programming.texi \
  $(srcdir)/p/doc/en/reference.texi \
  $(srcdir)/p/doc/en/keywords.texi \
  $(srcdir)/p/doc/en/support.texi \
  $(srcdir)/p/doc/en/todo.texi \
  $(srcdir)/p/doc/en/internals.texi \
  $(srcdir)/p/doc/en/resources.texi \
  $(srcdir)/p/doc/en/authors.texi \
  $(srcdir)/p/doc/en/copying.texi \
  $(srcdir)/p/doc/en/copying-lib.texi \
  $(srcdir)/p/doc/en/copying-demo.texi \
  $(srcdir)/p/doc/en/gnu.texi \
  $(srcdir)/p/doc/en/gpcs.texi

GPC_TEXI_DE=\
  $(GPC_COMMON_TEXI) \
  $(srcdir)/p/doc/de/gpcs.texi

# @@@@ Some files are not translated yet -- use the English versions for now
GPC_TEXI_HR=\
  $(GPC_COMMON_TEXI) \
  $(srcdir)/p/doc/hr/gpc.texi \
  $(srcdir)/p/doc/hr/welcome.texi \
  $(srcdir)/p/doc/hr/purpose.texi \
  $(srcdir)/p/doc/hr/about.texi \
  $(srcdir)/p/doc/en/news.texi \
  $(srcdir)/p/doc/hr/faq.texi \
  $(srcdir)/p/doc/hr/libs.texi \
  $(srcdir)/p/doc/en/install.texi \
  $(srcdir)/p/doc/en/bpqstart.texi \
  $(srcdir)/p/doc/hr/invoke.texi \
  $(srcdir)/p/doc/en/programming.texi \
  $(srcdir)/p/doc/en/reference.texi \
  $(srcdir)/p/doc/hr/keywords.texi \
  $(srcdir)/p/doc/hr/support.texi \
  $(srcdir)/p/doc/en/todo.texi \
  $(srcdir)/p/doc/en/internals.texi \
  $(srcdir)/p/doc/hr/resources.texi \
  $(srcdir)/p/doc/hr/authors.texi \
  $(srcdir)/p/doc/en/copying.texi \
  $(srcdir)/p/doc/en/copying-lib.texi \
  $(srcdir)/p/doc/en/copying-demo.texi \
  $(srcdir)/p/doc/en/gnu.texi \
  $(srcdir)/p/doc/hr/gpcs.texi

GPC_DOC_DIRS_EN=-I $(srcdir)/p/doc -I $(srcdir)/p/doc/en -I $(srcdir)/p/doc/generated
GPC_DOC_DIRS_DE=-I $(srcdir)/p/doc -I $(srcdir)/p/doc/de -I $(srcdir)/p/doc/generated
GPC_DOC_DIRS_HR=-I $(srcdir)/p/doc -I $(srcdir)/p/doc/hr -I $(srcdir)/p/doc/generated -I $(srcdir)/p/doc/en
MAKEINFO_EN=LANG=en_GB LC_ALL=en_GB $(MAKEINFO) $(MAKEINFOFLAGS) $(GPC_DOC_DIRS_EN)
MAKEINFO_DE=LANG=de_DE LC_ALL=de_DE $(MAKEINFO) $(MAKEINFOFLAGS) $(GPC_DOC_DIRS_DE)
MAKEINFO_HR=LANG=hr_HR LC_ALL=hr_HR $(MAKEINFO) $(MAKEINFOFLAGS) $(GPC_DOC_DIRS_HR)
# copied from gpc p/Make-lang.in }}}

# adapted from gpc p/Make-lang.in
gpc.info: $(GPC_TEXI_EN)
	$(MAKEINFO_EN) ${MAKEINFO_INFO} -o $@@ gpc.texi

gpcs.info: $(GPC_TEXI_EN)
	$(MAKEINFO_EN) ${MAKEINFO_INFO} -o $@@ gpcs.texi

gpcs-de.info: $(GPC_TEXI_DE)
	$(MAKEINFO_DE) ${MAKEINFO_INFO} -o $@@ gpcs.texi

gpc-hr.info: $(GPC_TEXI_HR)
	$(MAKEINFO_HR) ${MAKEINFO_INFO} -o $@@ gpc.texi

gpcs-hr.info: $(GPC_TEXI_HR)
	$(MAKEINFO_HR) ${MAKEINFO_INFO} -o $@@ gpcs.texi

# and once again, for HTML output
gpc.html: $(GPC_TEXI_EN)
	$(MAKEINFO_EN) ${MAKEINFO_HTML} -o $@@ gpc.texi

gpcs.html: $(GPC_TEXI_EN)
	$(MAKEINFO_EN) ${MAKEINFO_HTML} -o $@@ gpcs.texi

gpcs-de.html: $(GPC_TEXI_DE)
	$(MAKEINFO_DE) ${MAKEINFO_HTML} -o $@@ gpcs.texi

gpc-hr.html: $(GPC_TEXI_HR)
	$(MAKEINFO_HR) ${MAKEINFO_HTML} -o $@@ gpc.texi

gpcs-hr.html: $(GPC_TEXI_HR)
	$(MAKEINFO_HR) ${MAKEINFO_HTML} -o $@@ gpcs.texi


all: ${INFOFILES} ${HTMLFILES}
CLEANFILES+=	${INFOFILES} ${HTMLFILES}

afterinstall:
.for _i in ${INFOFILES}
	${INSTALL} ${INSTALL_COPY} -o ${MANOWN} -g ${MANGRP} -m ${MANMODE} \
	    ${_i} ${DESTDIR}${GCC_INFODIR}/
.endfor

.include <bsd.prog.mk>
@


1.5
log
@finish merging using the generated/compiled info/html documentation
@
text
@d1 1
a1 1
# $MirOS: gcc/gpcdoc/Makefile,v 1.4 2009/12/27 16:43:05 tg Exp $
d15 3
a17 1
MAKEINFOFLAGS=	--no-split --enable-encoding
d119 1
a119 1
	$(MAKEINFO_EN) -o $@@ gpc.texi
d122 1
a122 1
	$(MAKEINFO_EN) -o $@@ gpcs.texi
d125 1
a125 1
	$(MAKEINFO_DE) -o $@@ gpcs.texi
d128 1
a128 1
	$(MAKEINFO_HR) -o $@@ gpc.texi
d131 1
a131 1
	$(MAKEINFO_HR) -o $@@ gpcs.texi
d135 1
a135 1
	$(MAKEINFO_EN) --html -o $@@ gpc.texi
d138 1
a138 1
	$(MAKEINFO_EN) --html -o $@@ gpcs.texi
d141 1
a141 1
	$(MAKEINFO_DE) --html -o $@@ gpcs.texi
d144 1
a144 1
	$(MAKEINFO_HR) --html -o $@@ gpc.texi
d147 2
a148 1
	$(MAKEINFO_HR) --html -o $@@ gpcs.texi
@


1.4
log
@format gpc(1) and gpc-run(1) already
• gpc.1 has OK licence conditions and content
• gpc-run.1 is autogenerated from help2man but OK as well
@
text
@d1 1
a1 1
# $MirOS: gcc/gpcdoc/Makefile,v 1.3 2005/11/22 22:04:01 tg Exp $
d8 141
a148 2
# this is the old stuff, to be replaced RSN
FILES!=		echo *.info
d151 1
a151 1
.for _i in ${FILES}
@


1.3
log
@missing include
@
text
@d1 1
a1 1
# $MirOS: gcc/gpcdoc/Makefile,v 1.2 2005/11/22 17:55:23 tg Exp $
d3 6
d11 1
a11 3
all clean cleandir depend includes install lint obj prereq tags:

install:
d17 1
a17 2
.include <bsd.own.mk>
.include "../Makefile.inc"
@


1.2
log
@with quite little effort the gcc module can be made portable
Initial testing on Darwin; this only removes build failures,
testing will be done later
@
text
@d1 1
a1 1
# $MirOS: gcc/gpcdoc/Makefile,v 1.1 2005/11/20 13:50:43 tg Exp $
d14 1
@


1.1
log
@add some pre-formatted GNU Pascal documentation from gpc-20051116/p/doc
@
text
@d1 1
a1 1
# $MirOS$
d10 1
a10 1
	    ${_i} ${DESTDIR}/usr/share/info/
@

