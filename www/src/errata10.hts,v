head	1.22;
access;
symbols;
locks; strict;
comment	@# @;


1.22
date	2018.05.06.12.56.39;	author tg;	state Exp;
branches;
next	1.21;
commitid	1005AEEFB932696C89D;

1.21
date	2009.06.21.11.01.23;	author tg;	state Exp;
branches;
next	1.20;
commitid	1004A3E12E72F4AD1AB;

1.20
date	2008.12.14.00.09.25;	author tg;	state Exp;
branches;
next	1.19;
commitid	10049444E5325915C76;

1.19
date	2008.07.18.13.31.22;	author tg;	state Exp;
branches;
next	1.18;
commitid	10048809B3F3A78FCDC;

1.18
date	2008.07.18.13.29.39;	author tg;	state Exp;
branches;
next	1.17;
commitid	10048809AD278B142AC;

1.17
date	2008.07.14.12.48.35;	author tg;	state Exp;
branches;
next	1.16;
commitid	100487B4B3803F93F30;

1.16
date	2008.07.08.13.34.12;	author tg;	state Exp;
branches;
next	1.15;
commitid	10048736CDD06A207AA;

1.15
date	2008.07.05.01.38.25;	author tg;	state Exp;
branches;
next	1.14;
commitid	100486ED06E1AA8A9A9;

1.14
date	2008.06.21.22.37.19;	author tg;	state Exp;
branches;
next	1.13;
commitid	100485D823243B8BA5E;

1.13
date	2008.06.13.19.39.04;	author tg;	state Exp;
branches;
next	1.12;
commitid	1004852CCE2340FF7C0;

1.12
date	2008.06.13.18.36.30;	author tg;	state Exp;
branches;
next	1.11;
commitid	1004852BE3B3B8BFBAB;

1.11
date	2008.06.03.18.05.10;	author tg;	state Exp;
branches;
next	1.10;
commitid	100484587B20D372A05;

1.10
date	2008.05.19.22.01.06;	author tg;	state Exp;
branches;
next	1.9;
commitid	1004831F8AF025DF0BE;

1.9
date	2008.05.19.18.45.57;	author tg;	state Exp;
branches;
next	1.8;
commitid	1004831CAF746024E3F;

1.8
date	2008.05.17.19.13.40;	author tg;	state Exp;
branches;
next	1.7;
commitid	100482F2E7B2A1D37E1;

1.7
date	2008.05.17.12.01.52;	author tg;	state Exp;
branches;
next	1.6;
commitid	100482EC93D43028B8D;

1.6
date	2008.04.02.19.03.57;	author tg;	state Exp;
branches;
next	1.5;
commitid	10047F3D8904FF61CF5;

1.5
date	2008.03.30.20.09.07;	author tg;	state Exp;
branches;
next	1.4;
commitid	10047EFF379468C4FD0;

1.4
date	2008.03.27.21.30.07;	author tg;	state Exp;
branches;
next	1.3;
commitid	10047EC11D7018F6C83;

1.3
date	2008.03.22.23.38.28;	author tg;	state Exp;
branches;
next	1.2;
commitid	10047E5988B449957B3;

1.2
date	2008.03.22.20.41.27;	author tg;	state Exp;
branches;
next	1.1;
commitid	10047E56EB42921240A;

1.1
date	2008.03.22.20.38.16;	author tg;	state Exp;
branches;
next	;
commitid	10047E56E14233E1390;


desc
@@


1.22
log
@introduce a marker for pages with old content
@
text
@# This file is part of the website of The MirOS Project, which is
# copyrighted material, please read the LICENCE file for details.

mws_setname errata/10 "Errata for MirOS #10"
mws_setheadline 'Errata for MirOS #10'
mws_setold
mws_putheader '$MirOS: www/src/errata10.hts,v 1.21 2009/06/21 11:01:23 tg Exp $'
mws_content <<'EOF'
<p>Jump to <a href="#binup">binary updates</a></p>

<h2 id="cvsup">Source updates</h2>
<p>By upgrading to the <tt>MIRBSD_10</tt> branch on CVS in the
 <tt>src</tt> module, you gain the following fixes:</p><ul>
<li>
 Pull up mksh R36b.
</li><li>
 Fix content of htmd10.ngz dist set.
</li><li>
 Update <tt>/etc/ssh/ssh_known_hosts</tt>
</li><li>
 Remove BSDstats script, as the site is constantly broken, see <a
 href="permalinks/wlog-10_e20080709-tg-g10007.htm">wlog</a> for details.
</li><li>
 Pull up mksh R35.
</li><li>
 Under some circumstances, arc4random(9) was not properly initialised
 until the next write to arandom(4), <tt>RNDSTIRARC4</tt> ioctl(2),
 or (in -current) slow pool full event. This usually was not an issue
 since <tt>/etc/rc</tt> and the installer re-set arandom(4) at boot.
</li><li>
 A positive leap second will be introduced at the end of December 2008.
</li><li>
 Add support for <tt>__restrict__</tt> and <tt>__packed</tt> on PCC
</li><li>
 Add support for the <tt>xsrv10.ngz</tt> dist set in the installer
</li><li>
 Data passed to the KERN_ARND sysctl(3) (sysctl(8) kern.arandom)
 was improperly read, leading to out-of-bounds kernel memory access
</li><li>
 The installer now uses rdate(8)+ntpd(8) instead of the deprecated
 <tt>-s</tt> flag to ntpd(8), disables core dumps, and defaults the
 aperture driver – xf86(4) – to enabled if an X server is installed
</li><li>
 ntpd(8) <tt>-s</tt> (and <tt>-S</tt>) options are now deprecated
</li><li>
 Use CPUID for FPU detection (from OpenBSD), to enable GeodeLX CPUs to work
</li><li>
 Pull up mksh-R34(beta), new <tt>/etc/skel/.mkshrc</tt>, fixed profile
</li><li>
 Update <tt>/etc/ssh/ssh_known_hosts</tt>
</li><li>
 Merge sendmail 8.14.3 plugging a use-after-free bug
</li><li>
 Merge OpenSSH 5.0 and some OpenSSL security fixes from OpenBSD
</li><li>
 Work around one of the CVE-2008-1391 cases in strtod(3), add some
 more overflow checking in the printf(3) function suite
</li><li>
 Add support for the <tt>fixes10.ngz</tt> dist set in the installer
</li><li>
 Plug a memory leak in normally unused <tt>-P</tt> option in rm(1)
</li><li>
 Fix SIGSEGV in sendmail(8) occuring under certain occations
 (included in first binary update)
</li><li>
 Sync bxinst.i386 (stand-alone bootxx/PBR) with actual version built, cosmetics
 (included in first binary update)
</li><li>
 Fix &lt;bsd.lkm.mk&gt; CPPFLAGS include path, allow building LKMs again
 (included in first binary update)
</li><li>
 Two flaws in httpd(8) modules not enabled by default:<ul>
  <li>mod_status XSS CVE-2007-6388: cross-site scripting attack</li>
  <li>mod_imap XSS CVE-2007-5000: cross-site scripting attack</li>
 </ul>
 (included in first binary update)
</li><li>
 Buffer overflow in ppp(8) command prompt parsing
 (already included in #10semel)
</li></ul>

<h2 id="binup">Binary updates</h2>
<p>Download the <a href="/MirOS/v10/updates/i386/site10.ngz">first i386
 binary update</a> or the <a href="/MirOS/v10/updates/sparc/site10.ngz">first
 sparc binary update</a>. Either select the <tt>site10.ngz</tt> distribution
 set during install, or use <tt>cd /; sudo tar xzphvvf /path/to/site10.ngz</tt>
 to bring in the fixed files.</p>
<p>The security update is gzsig(1)d, use the following command to verify the
 integrity of the cryptographic signature:</p><pre>
	$ grep '^key 2:' /usr/share/doc/README | \
	    sed 's/^key 2:.//' | gzsig verify /dev/stdin site10.ngz
	$ rmd160 site10.ngz
</pre><p>The first command verifies the cryptographic signature, i.e. whether
 the update is really from us. The second command outputs a cryptographic hash
 to compare with the correct one from the list below, to determine whether you
 got the correct file.</p>
<ul>
 <li>RMD160 (i386/site10.ngz) = addc766151cf0c35301920822b0a107a20039b8e</li>
 <li>RMD160 (sparc/site10.ngz) = 13f724f851339c3d8b2cac89345dc63a4b64fb16</li>
</ul>

<p>Alternatively, you can use the updated locations for the <a
 href="/MirOS/v10/updates/i386/">i386</a> or <a
 href="/MirOS/v10/updates/sparc/">sparc</a> architectures during
 netinstall and ensure that you have the <tt>site10.ngz</tt> set
 selected.</p>

<p>In the future, the update set will be named <tt>fixes10.ngz</tt>,
 but to be able to select it, you must use the modified installer
 from the <tt>updates</tt> directory (or rename it to or merge it into
 your own <tt>site10.ngz</tt> set).</p>

EOF
mws_putfooter
exit 0
@


1.21
log
@Add a new function mws_setheadline, which takes over from using <h1> in
the HTML source itself; ensure <h1> is never used otherwise; ensure the
headlines do not contain entities (convert to plain UTF-8) or HTML code
@
text
@d6 2
a7 1
mws_putheader '$MirOS: www/src/errata10.hts,v 1.20 2008/12/14 00:09:25 tg Exp $'
@


1.20
log
@MFC: mksh R36b
@
text
@d5 2
a6 1
mws_putheader '$MirOS: www/src/errata10.hts,v 1.19 2008/07/18 13:31:22 tg Exp $'
a7 2
<h1>Errata for MirOS #10</h1>

@


1.19
log
@sync
@
text
@d5 1
a5 1
mws_putheader '$MirOS: www/src/errata10.hts,v 1.18 2008/07/18 13:29:39 tg Exp $'
d15 1
a15 1
 Pull up mksh R35b.
@


1.18
log
@MFC: mksh R35b
@
text
@d5 1
a5 1
mws_putheader '$MirOS: www/src/errata10.hts,v 1.17 2008/07/14 12:48:35 tg Exp $'
d17 4
@


1.17
log
@sync clog
@
text
@d5 1
a5 1
mws_putheader '$MirOS: www/src/errata10.hts,v 1.16 2008/07/08 13:34:12 tg Exp $'
d15 2
@


1.16
log
@the rnd.c MFC, and why it was not really an issue, usually
@
text
@d5 1
a5 1
mws_putheader '$MirOS: www/src/errata10.hts,v 1.15 2008/07/05 01:38:25 tg Exp $'
d15 5
@


1.15
log
@MFC:

new IERS Bulletin C, thanks Alex Pennace <alex@@pennace.org> for the
heads-up, as http://hpiers.obspm.fr/eoppc/bul/bulc/bulletinc.dat is
a web-accessible version, but I don't get it emailed myself
@
text
@d5 1
a5 1
mws_putheader '$MirOS: www/src/errata10.hts,v 1.14 2008/06/21 22:37:19 tg Exp $'
d15 5
@


1.14
log
@• <sys/cdefs.h>: Implement syntactically and semantically correct support
  for __packed (seems to at least not break things) and __restrict__ (the
  C99 “restrict” keyword is supported) for pcc to #10-stable and HEAD
• <sys/cdefs.h>: Implement syntactically and semantically correct support
  for __aligned(x) for gcc and pcc to HEAD; not working correctly for pcc
  due to pcc bugs though
• errata10.hts: document __packed and __restrict__ additions
• mksh.hts: pcc-current builds mksh fine again (with these changes)
@
text
@d5 1
a5 1
mws_putheader '$MirOS: www/src/errata10.hts,v 1.13 2008/06/13 19:39:04 tg Exp $'
d15 2
@


1.13
log
@add support for an “xsrv” set
@
text
@d5 1
a5 1
mws_putheader '$MirOS: www/src/errata10.hts,v 1.12 2008/06/13 18:36:30 tg Exp $'
d15 2
@


1.12
log
@keep track of recent commits into the -stable branch
@
text
@d5 1
a5 1
mws_putheader '$MirOS: www/src/errata10.hts,v 1.11 2008/06/03 18:05:10 tg Exp $'
d15 2
@


1.11
log
@mws_putheader must come after all other initialisation calls
@
text
@d5 1
a5 1
mws_putheader '$MirOS: www/src/errata10.hts,v 1.10 2008/05/19 22:01:06 tg Exp $'
d15 9
@


1.10
log
@MFC: pull up the CPUID FPU detection diff for AMD Geode LX boards
@
text
@a0 2
mws_putheader '$MirOS: www/src/errata10.hts,v 1.9 2008/05/19 18:45:57 tg Exp $'
#-
d5 1
@


1.9
log
@mention mksh pull-up
@
text
@d1 1
a1 1
mws_putheader '$MirOS: www/src/errata10.hts,v 1.8 2008/05/17 19:13:40 tg Exp $'
d16 2
@


1.8
log
@sync
@
text
@d1 1
a1 1
mws_putheader '$MirOS: www/src/errata10.hts,v 1.7 2008/05/17 12:01:52 tg Exp $'
d16 2
@


1.7
log
@bring these in sync with current cvs
@
text
@d1 1
a1 1
mws_putheader '$MirOS: www/src/errata10.hts,v 1.6 2008/04/02 19:03:57 tg Exp $'
a14 3
<!-- TODO:
 * sendmail
-->
d16 4
@


1.6
log
@• symlink all the #10semel sets into the updates/$arch/ dir and adjust
  the index.txt file there, so that NetInstall from that directory succeeds
• mention future fixes10.ngz set and its handling
@
text
@d1 1
a1 1
mws_putheader '$MirOS: www/src/errata10.hts,v 1.5 2008/03/30 20:09:07 tg Exp $'
d15 3
d19 7
@


1.5
log
@sync
@
text
@d1 1
a1 1
mws_putheader '$MirOS: www/src/errata10.hts,v 1.4 2008/03/27 21:30:07 tg Exp $'
d57 11
@


1.4
log
@publish first binary update
“au ja, mach das doc[h] – apache und sendmüll” bsiegert@@
@
text
@d1 1
a1 1
mws_putheader '$MirOS: www/src/errata10.hts,v 1.3 2008/03/22 23:38:28 tg Exp $'
d16 2
@


1.3
log
@forgot </ul>
@
text
@d1 1
a1 1
mws_putheader '$MirOS: www/src/errata10.hts,v 1.2 2008/03/22 20:41:27 tg Exp $'
d17 1
d20 1
d23 1
d29 1
d36 18
a53 1
<p>None yet.</p>
@


1.2
log
@circumvent (not fix) a SIGSEGV occuring under some circumstances in
sendmail(8) – for instance, when receiving mails via STARTTLS

this does not seem to be STARTTLS related, however:
the macvalue(macid("{deliveryMode}"), parent) call returns an out of range
string pointer, which is then dereferenced – no idea why the rv is invalid
@
text
@d1 1
a1 1
mws_putheader '$MirOS: www/src/errata10.hts,v 1.1 2008/03/22 20:38:16 tg Exp $'
d29 1
a29 1
</li>
@


1.1
log
@add new files
• changelog for #11 (i.e. past #10, until we release)
  → helps writing release announcements and flyers ☻☺
  ‣ empty at the moment
• errata for #10
  ‣ populated with MIRBSD_10 branch info already
both are not yet linked anywhere tho
@
text
@d1 1
a1 1
mws_putheader '$MirOS$'
d16 2
@

