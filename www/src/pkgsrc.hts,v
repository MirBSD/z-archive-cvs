head	1.11;
access;
symbols;
locks; strict;
comment	@# @;


1.11
date	2018.05.06.12.56.45;	author tg;	state Exp;
branches;
next	1.10;
commitid	1005AEEFB932696C89D;

1.10
date	2014.02.04.20.24.57;	author bsiegert;	state Exp;
branches;
next	1.9;
commitid	10052F14C83670EA9F6;

1.9
date	2013.04.21.17.18.11;	author tg;	state Exp;
branches;
next	1.8;
commitid	10051741F6B218894DB;

1.8
date	2013.04.21.16.11.54;	author bsiegert;	state Exp;
branches;
next	1.7;
commitid	10051740FC90CA484C6;

1.7
date	2013.04.13.15.13.36;	author bsiegert;	state Exp;
branches;
next	1.6;
commitid	100516976190604B560;

1.6
date	2012.04.24.18.00.52;	author bsiegert;	state Exp;
branches;
next	1.5;
commitid	1004F96EA5D65298DF2;

1.5
date	2011.12.18.12.11.18;	author bsiegert;	state Exp;
branches;
next	1.4;
commitid	1004EEDD873643BE90A;

1.4
date	2011.12.18.12.08.41;	author bsiegert;	state Exp;
branches;
next	1.3;
commitid	1004EEDD7CF0188B053;

1.3
date	2011.07.05.20.14.54;	author bsiegert;	state Exp;
branches;
next	1.2;
commitid	1004E1370B22C605A59;

1.2
date	2011.05.14.17.49.12;	author bsiegert;	state Exp;
branches;
next	1.1;
commitid	1004DCEC09748E0C854;

1.1
date	2011.02.08.22.13.28;	author bsiegert;	state Exp;
branches;
next	;
commitid	1004D51BFEB0E63C2EB;


desc
@@


1.11
log
@introduce a marker for pages with old content
@
text
@# This file is part of the website of The MirOS Project, which is
# copyrighted material, please read the LICENCE file for details.

mws_setname pkgsrc "pkgsrc on MirOS"
mws_subdir 0
mws_setheadline pkgsrc on MirOS
mws_setold
mws_putheader '$MirOS: www/src/pkgsrc.hts,v 1.10 2014/02/04 20:24:57 bsiegert Exp $'
mws_content <<'EOF'
<p>pkgsrc is a “ports tree” developed by the NetBSD project and portable
 to several other operating systems. Support for MirOS has existed since
 2006 in the form of a private patch. Since January 2011, MirOS support
 is contained in the upstream pkgsrc repository.</p>

<p>pkgsrc allows the easy installation of third-party software not
 contained in the base system. It is very similar to <a
 href="ports.htm">MirPorts</a>, the ports framework developed by the
 MirOS project, “native” on MirOS. However, pkgsrc generally contains
 more and newer software.</p>

<p>For more information on pkgsrc, see
 <a href="http://www.pkgsrc.org/">http://www.pkgsrc.org/</a>.</p>

<p>MirPorts and pkgsrc can be installed and used in parallel. However,
 there is one caveat: the package tools are incompatible but they have
 the same names. Thus, when installing packages, you must assure that
 the right ones are used. Moreover, when bootstrapping pkgsrc on MirOS,
 the MirPorts directories (normally /usr/mpkg/bin and /usr/mpkg/sbin)
 <b>must not</b> be in your PATH.</p>

<h2>Binary packages</h2>

<p>Pre-built binary packages of the
 <b>pkgsrc-2013Q4 branch</b>
 (from January 2014), built for recent MirOS-current, are
 available. They can be used even if you did not install a compiler on
 the system. The binary repository contains <b>7431 packages</b>.
 The packages have been built with
 <tt>/usr/pkg</tt>
 as the prefix and
 <tt>/usr/pkg/var</tt> as VARBASE so that they are self-contained.
 You need root rights to use these packages. pkgsrc can
 also be installed as an unprivileged user but you will need to build
 from source in this case.
</p>

<p>To install pkgsrc from binary packages, follow these steps:</p>

<ol>
 <li>Download the bootstrap kit: <br />
  <tt>ftp
  ftp://ftp.netbsd.org/pub/pkgsrc/packages/MirBSD/i386/10uB4_2013Q4/bootstrap.tar.gz</tt></li>
 <li>Extract the file:<br />
  <tt>cd / ; sudo tar xvpzf /path/to/bootstrap.tar.gz</tt></li>
 <li>Set the PATH:<br />
  <tt>export PATH=/usr/pkg/bin:/usr/pkg/sbin:$PATH</tt><br />
  (Add this line to your .profile to make the change permanent.)</li>
 <li>Update the package list for pkgin, the binary package manager:<br />
  <tt>pkgin update</tt></li>
 <li>Install the desired package(s), for example:<br />
  <tt>pkgin install python27</tt></li>
</ol>

<p>More information can be found in
 <a href="http://www.netbsd.org/docs/pkgsrc/using.html#using-pkg">Section
 4.1 of the pkgsrc guide</a>. More information on using pkgin for binary
 packages can be found on
 <a href="http://pkgin.net/">pkgin.net</a>.</p>

<h2>Installation from source</h2>

<ol>
 <li>Check out pkgsrc, for example to /usr/pkgsrc:<br />
  <tt>cd /usr ; cvs -qd anoncvs@@anoncvs.netbsd.org:/cvsroot co -P pkgsrc</tt>
 </li>
 <li>As above, prepend the pkgsrc directories to the PATH:
  <tt>export PATH=/usr/pkg/bin:/usr/pkg/sbin:$PATH</tt></li>
 <li>Bootstrap pkgsrc. In this example, we install (using sudo) into
  /usr/pkg. The dbdir should be inside the prefix to avoid conflicts
  with MirPorts.<br />
  <tt>cd bootstrap</tt><br />
  <tt>./bootstrap --prefix /usr/pkg --pkgdbdir /usr/pkg/db</tt></li>
 <li>pkgsrc can be configured by editing the /usr/pkg/etc/mk.conf file.
  See the
  <a href="http://www.netbsd.org/docs/pkgsrc/configuring.html">pkgsrc Guide</a>
  for details.</li>
 <li>To build and install a package, use the bmake command. For example,
  to install Perl:<br />
  <tt>cd /usr/pkgsrc/lang/perl5</tt><br />
  <tt>bmake package-install clean</tt></li>
</ol>


EOF
mws_putfooter
exit 0
@


1.10
log
@pkgsrc-2013Q4, 7431 unzels.

I also forgot to create and upload the bootstrap.tar.gz file, oops.
@
text
@d7 2
a8 1
mws_putheader '$MirOS: www/src/pkgsrc.hts,v 1.9 2013/04/21 17:18:11 tg Exp $'
@


1.9
log
@</li> is mandatory
@
text
@d7 1
a7 1
mws_putheader '$MirOS: www/src/pkgsrc.hts,v 1.8 2013/04/21 16:11:54 bsiegert Exp $'
d33 2
a34 2
 <b>pkgsrc-2013Q1 branch</b>
 (from April 2013), built for recent MirOS-current, are
d36 1
a36 1
 the system. The binary repository contains about <b>7000 packages</b>.
d51 1
a51 1
  ftp://ftp.netbsd.org/pub/pkgsrc/packages/MirBSD/i386/10uB0_2013Q1/bootstrap.tar.gz</tt></li>
d88 1
a88 1
  <tt>cd ../lang/perl5</tt><br />
@


1.8
log
@The bootstrapkit now comes with pkgin preconfigured, the whole thing is much
easier!
@
text
@d7 1
a7 1
mws_putheader '$MirOS: www/src/pkgsrc.hts,v 1.7 2013/04/13 15:13:36 bsiegert Exp $'
d58 1
a58 1
  <tt>pkgin update</tt>
@


1.7
log
@News entry + description for pkgsrc-2013Q1. 7000 packages!
@
text
@d7 1
a7 1
mws_putheader '$MirOS: www/src/pkgsrc.hts,v 1.6 2012/04/24 18:00:52 bsiegert Exp $'
d53 8
a60 12
  <tt>cd / ; tar xvpzf /path/to/bootstrap.tar.gz</tt></li>
 <li>Set the PATH to include /usr/pkg <i>before</i> any MirPorts
  directories. The reason is that the package tools have the same names,
  and using e.g. pkg_add(1) from MirPorts to install a pkgsrc package
  will not work. For example, to replace MirPorts by pkgsrc in your
  path, run:<br />
  <tt>export PATH=$(echo $PATH|sed s,mpkg,pkg,g)</tt></li>
 <li>Set the path to the binary packages:<br />
  <tt>export
  PKG_PATH="ftp://ftp.netbsd.org/pub/pkgsrc/packages/MirBSD/i386/10uB0_2013Q1/All/"</tt></li>
 <li>Now you can easily install additional packages, for example:<br />
  <tt>pkg_add python27</tt></li>
d65 3
a67 1
 4.1 of the pkgsrc guide</a>.</p>
a71 5
 <li>Make sure there are no mentions of MirPorts in your current
  environment. Most importantly, remove /usr/mpkg/bin and /usr/mpkg/sbin
  from your PATH. This is needed when building or installing packages;
  the reason is that the package tools from MirPorts and pkgsrc have the
  same name but are incompatible with each other.</li>
d73 4
a76 1
  <tt>cvs -qd anoncvs@@anoncvs.netbsd.org:/cvsroot co -P pkgsrc</tt></li>
a81 2
 <li>Add /usr/pkg/bin and /usr/pkg/sbin to your path:<br />
  <tt>export PATH=/usr/pkg/bin:${PATH}:/usr/pkg/sbin</tt></li>
d83 2
a84 1
  See the <a href="http://www.netbsd.org/docs/pkgsrc/">pkgsrc Guide</a>
@


1.6
log
@Update instructions for 2012Q1.
@
text
@d7 1
a7 1
mws_putheader '$MirOS: www/src/pkgsrc.hts,v 1.5 2011/12/18 12:11:18 bsiegert Exp $'
a29 3
<p>Starting from pkgsrc-2011Q2, you no longer need to apply any
 MirBSD-specific patches to install pkgsrc.</p>

d33 2
a34 2
 <b>pkgsrc-2012Q1 branch</b>
 (from April 2012), built for recent MirOS-current, are
d36 1
a36 1
 the system. The binary repository contains about <b>5600 packages</b>.
d51 1
a51 1
  ftp://ftp.netbsd.org/pub/pkgsrc/packages/MirBSD/i386/10uB0_2012Q1/bootstrap.tar.gz</tt></li>
d62 1
a62 1
  PKG_PATH="ftp://ftp.netbsd.org/pub/pkgsrc/packages/MirBSD/i386/10uB0_2012Q1/All/"</tt></li>
@


1.5
log
@Add link to 2011Q3 release announcement
@
text
@d7 1
a7 1
mws_putheader '$MirOS: www/src/pkgsrc.hts,v 1.4 2011/12/18 12:08:41 bsiegert Exp $'
d36 2
a37 2
 <a href="http://mail-index.netbsd.org/current-users/2011/10/03/msg017924.html"><b>2011Q3 branch</b></a>
 (from October 2011), built for recent MirOS-current (from 2011), are
d39 2
a40 2
 the system. The binary repository contains <b>5330 packages</b>. The
 packages have been built with
d43 2
a44 2
 <tt>/usr/pkg/var</tt> as VARBASE, so that they are self-contained. This
 means that you need root rights to use them as the system. pkgsrc can
d54 1
a54 1
  ftp://ftp.netbsd.org/pub/pkgsrc/packages/MirBSD/i386/10uAE_2011Q3/bootstrap.tar.gz</tt></li>
d65 1
a65 1
  PKG_PATH="ftp://ftp.netbsd.org/pub/pkgsrc/packages/MirBSD/i386/10uAE_2011Q3/All/"</tt></li>
@


1.4
log
@Binary packages for MirBSD on pkgsrc, yay!
@
text
@d7 1
a7 1
mws_putheader '$MirOS: www/src/pkgsrc.hts,v 1.3 2011/07/05 20:14:54 bsiegert Exp $'
d35 6
a40 5
<p>Pre-built binary packages of the <b>2011Q3 branch</b> (from September
 2011), built for recent MirOS-current (from 2011), are available. They
 can be used even if you did not install a compiler on the system. The
 binary repository contains <b>5330 packages</b>. The packages have been
 built with
@


1.3
log
@No more patches needed to bootstrap pkgsrc, yay!
@
text
@d7 1
a7 1
mws_putheader '$MirOS: www/src/pkgsrc.hts,v 1.2 2011/05/14 17:49:12 bsiegert Exp $'
d33 41
a73 1
<h2>Installation instructions</h2>
@


1.2
log
@I just committed the MirOS libtool support into pkgsrc, yay!
@
text
@d7 1
a7 1
mws_putheader '$MirOS: www/src/pkgsrc.hts,v 1.1 2011/02/08 22:13:28 bsiegert Exp $'
d30 2
a31 1
<!-- TODO(bsiegert): add full installation instructions -->
d33 1
a33 1
<h2>Needed patches</h2>
d35 23
a57 2
<p>At the moment, this patch must be manually applied before
 bootstrapping pkgsrc.</p>
a58 10
<ul>
 <li><a
  href="http://dl.dropbox.com/u/17617299/MirOS/bmake.diff">bmake.diff</a>:
  this patch fixes the bmake test suite so that bootstrap can
  succeed.</li>
</ul>

<p>Since 2011-05-14, MirBSD support for libtool has been integrated into
 pkgsrc, so the libtool patch that used to be here is no longer
 necessary.</p>
@


1.1
log
@news entry about pkgsrc; also add a new page about pkgsrc support for MirOS,
containing links to the necessary patches.
@
text
@d7 1
a7 1
mws_putheader '$MirOS$'
d34 2
a35 1
<p>At the moment, these patches must be manually applied.</p>
a41 4
 <li><a
  href="http://dl.dropbox.com/u/17617299/MirOS/pkgsrc-libtool-miros-2.diff">pkgsrc-libtool-miros-2.diff</a>:
  work-in-progress version of MirOS support for libtool-2.2.6b. Without
  this, packages using libtool only build static libraries.</li>
d44 3
@

