head	1.6;
access;
symbols;
locks; strict;
comment	@# @;


1.6
date	2019.12.29.23.47.28;	author tg;	state Exp;
branches;
next	1.5;
commitid	1005E093B23010690D2;

1.5
date	2019.12.29.23.40.43;	author tg;	state Exp;
branches;
next	1.4;
commitid	1005E09394D04739973;

1.4
date	2019.12.29.21.49.52;	author tg;	state Exp;
branches;
next	1.3;
commitid	1005E091F921516DFAF;

1.3
date	2019.12.29.21.34.49;	author tg;	state Exp;
branches;
next	1.2;
commitid	1005E091C013C140F49;

1.2
date	2018.05.01.21.34.57;	author tg;	state Exp;
branches;
next	1.1;
commitid	1005AE8DD9312AEFD5D;

1.1
date	2017.08.10.19.25.16;	author tg;	state Exp;
branches;
next	;
commitid	100598CB32730354517;


desc
@@


1.6
log
@separate FAQ entry bottom line
@
text
@# This file is part of the website of The MirOS Project, which is
# copyrighted material, please read the LICENCE file for details.

mws_setname hosted/ksh-chan "Frequently Asked Questions for The MirBSD Korn Shell"
mws_setheadline 'mksh FAQ'
mws_putheader '$MirOS: www/src/mksh-faq.hts,v 1.5 2019/12/29 23:40:43 tg Exp $'
mws_content <<'EOF'
<h2>MirBSD Korn Shell — frequently asked questions</h2>
<p>This list is an (incomplete; feedback and patches welcome) attempt
 to answer questions that people often have about <a href="mksh.htm">mksh,
 the MirBSD Korn Shell</a>.</p>
<h2 id="toc">Table of contents</h2>
<ul>
EOF

#DEPEND .linked/mksh-faq.inc
sources=mksh-faq
sourcedir_mksh_faq=.linked

integer notimesort=1

#DEPEND mk/parser
. "$TOP"/mk/parser

integer entryp=0
while (( entryp < entries )); do
	ent=${ei_indir[entryp++]}
	[[ -n ${e_title[ent]} ]] || continue
	[[ -n ${e_toc[ent]} ]] || continue
	print -r -- " <li><a href=\"#${e_toc[ent]}\">${e_title[ent]}</a></li>"
done

mws_content <<'EOF'
</ul>
EOF

integer entryp=0
while (( entryp < entries )); do
	ent=${ei_indir[entryp++]}
	[[ -n ${e_title[ent]} ]] || continue
	xxid=
	[[ -n ${e_toc[ent]} ]] && xxid=" id=\"${e_toc[ent]}\""
	print -r "<div class=\"wlentry\"$xxid><div class=\"wltitle\">"
	if [[ -n ${e_link[ent]} ]]; then
		print -r "  <h3 class=\"wlentry\"><a" \
		    "href=\"${e_link[ent]}\">${e_title[ent]}</a></h3>"
	else
		print -r "  <h3 class=\"wlentry\">${e_title[ent]}</h3>"
	fi
	[[ -n ${e_isbn[ent]} ]] && print -r '  <div class="wlsubtitle">'ISBN: \
	    "${e_isbn[ent]}</div>"
	if [[ ${ei_body[ent]::1} != '<' ]]; then
		beg="<p>"
		end="</p>"
	else
		beg=
		end=
	fi
	print -r -- " </div>$beg"
	print -r -- "${ei_body[ent]}"
	end+="<div class=\"wlsep\"><a href=\"#toc\" title=\"back to ToC\">↑</a>"
	[[ -z $xxid ]] || \
	    end+=" • <a href=\"#${e_toc[ent]}\" title=\"link\">&#x1F517;</a>"
	end+="</div></div>"
	print -r -- "$end"
done | mws_content

mws_putfooter
exit 0
@


1.5
log
@merge the mksh FAQ into one quill-moving place

(hts-.inc-format file in mksh source tree, linked into HTML, not installed)
@
text
@d6 1
a6 1
mws_putheader '$MirOS: www/src/mksh-faq.hts,v 1.2 2018/05/01 21:34:57 tg Exp $'
d61 1
a61 1
	end+="<div><small><a href=\"#toc\" title=\"back to ToC\">↑</a>"
d64 1
a64 1
	end+="</small></div></div>"
@


1.4
log
@make it easier to get links to individual FAQ entries
@
text
@a11 3
<p>You might also wish to read the <a href="ksh-chan.htm">homepage of the
 <tt>#ksh</tt> IRC channel on Freenode</a> which lists several resources
 for Korn or POSIX-compatible shells in general.</p>
@


1.3
log
@move www/data/mksh-faq.inc to mksh/mksh.faq so we also ship it (c.p.)
@
text
@d64 5
a68 1
	print -r -- "$end<div><small><a href=\"#toc\">↑</a></small></div></div>"
@


1.2
log
@g/c parser_usedate: the faster code was sorting wrong
@
text
@d6 1
a6 1
mws_putheader '$MirOS: www/src/mksh-faq.hts,v 1.1 2017/08/10 19:25:16 tg Exp $'
d19 1
a19 1
#DEPEND data/mksh-faq.inc
d21 1
@


1.1
log
@we have a FAQ now! (well, two of them, different scope though)
@
text
@d6 1
a6 1
mws_putheader '$MirOS: www/src/ksh-chan.hts,v 1.91+1.92 2017/08/09 14:08:08 tg Exp $'
a22 1
integer parser_usedate=0
@

