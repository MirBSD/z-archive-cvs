head	1.14;
access;
symbols
	tg-mirmake-dev_BASE:1.13
	tg-mirmake-dev:1.13.0.2
	mirbsd:1.1.7;
locks; strict;
comment	@# @;


1.14
date	2007.03.09.10.24.52;	author tg;	state Exp;
branches;
next	1.13;
commitid	10045F1360A06595CA7;

1.13
date	2006.06.15.18.11.37;	author tg;	state Exp;
branches;
next	1.12;
commitid	1004491A2D56D07D882;

1.12
date	2005.12.17.05.45.31;	author tg;	state Exp;
branches;
next	1.11;
commitid	10043A3A60720E1DF0A;

1.11
date	2005.12.16.21.48.45;	author tg;	state Exp;
branches;
next	1.10;
commitid	10043A33616407103C3;

1.10
date	2005.12.15.01.29.22;	author tg;	state Exp;
branches;
next	1.9;
commitid	10043A0C7030A0FBB7E;

1.9
date	2005.10.21.20.00.14;	author tg;	state Exp;
branches;
next	1.8;
commitid	7c2f435948d43637;

1.8
date	2005.10.06.20.59.44;	author tg;	state Exp;
branches;
next	1.7;
commitid	114343459034471e;

1.7
date	2005.10.02.18.49.03;	author tg;	state Exp;
branches;
next	1.6;
commitid	3d443402ba6828e;

1.6
date	2005.09.12.21.53.26;	author tg;	state Exp;
branches;
next	1.5;
commitid	1ed74325f8e4b975;

1.5
date	2005.08.21.12.15.22;	author tg;	state Exp;
branches;
next	1.4;
commitid	6bde430870682464;

1.4
date	2005.08.21.11.28.07;	author tg;	state Exp;
branches;
next	1.3;
commitid	6af643086553c055;

1.3
date	2005.02.23.21.59.41;	author tg;	state Exp;
branches;
next	1.2;

1.2
date	2005.02.23.21.29.44;	author tg;	state Exp;
branches;
next	1.1;

1.1
date	2005.02.05.02.36.15;	author tg;	state Exp;
branches
	1.1.7.1;
next	;

1.1.7.1
date	2005.02.05.02.36.15;	author tg;	state Exp;
branches;
next	;


desc
@@


1.14
log
@remove redundancy w/ <sys.mk>
@
text
@0a
# $MirOS: contrib/code/mirmake/dist/scripts/bsd.own.mk.ed,v 1.13 2006/06/15 18:11:37 tg Exp $
.
/^SKEY?=/;/^DEFFLAGS?=/-d
/^OBJECT_FMT=/s/\(OBJECT_FMT=[	 ]*\).*$/\1@@@@obfm@@@@/
/^RTLD_TYPE=/s/\(RTLD_TYPE=[	 ]*\).*$/\1@@@@rtld@@@@/
/^MKSH?=/s/\(MKSH?=[	 ]*\).*$/\1@@@@mksh@@@@/
/nrcon/s//@@@@nroff@@@@/
/^# this used to be in .bsd.prog.mk/;/^# old stuff/d
.;/^$/d
wq
@


1.13
log
@switch to DEBUGLIBS?=No, MALLOC_TYPE?=brk for release
bump os patchlevel

agreed bsiegert@@
@
text
@d2 1
a2 1
# $MirOS: contrib/code/mirmake/dist/scripts/bsd.own.mk.ed,v 1.12 2005/12/17 05:45:31 tg Exp $
a4 1
/^CC?=/d
@


1.12
log
@cope with DEBUGLIBS set to either yes or no
@
text
@d2 1
a2 1
# $MirOS: contrib/code/mirmake/dist/scripts/bsd.own.mk.ed,v 1.11 2005/12/16 21:48:45 tg Exp $
a5 1
/^DEBUGLIBS.=/g/Yes/s//No/
@


1.11
log
@DEBUGLIBS is back, defaulting to Yes (mirbsd) / No (mirmake),
adding -g1 (for now, later maybe -g) to shared+static library
builds to provide meaningful backtraces

XXX might change default for mirmake to Yes as well
@
text
@d2 1
a2 1
# $MirOS: contrib/code/mirmake/dist/scripts/bsd.own.mk.ed,v 1.9 2005/10/21 20:00:14 tg Exp $
d6 1
a6 1
/^DEBUGLIBS.=/s/Yes/No/
@


1.10
log
@no DEBUGLIBS, DEBUGPROGS
@
text
@d6 1
@


1.9
log
@* DEFCOPTS -> _DEFCOPTS
* add them in MirMake, too
@
text
@d2 1
a2 1
# $MirOS: contrib/code/mirmake/dist/scripts/bsd.own.mk.ed,v 1.8 2005/10/06 20:59:44 tg Exp $
a5 2
/^DEBUGLIBS.=/s/Yes/No/
/^DEBUGPROGS.=/s/Yes/No/
@


1.8
log
@for current development, it actually makes sense to enable DEBUGPROGS too
@
text
@d2 1
a2 1
# $MirOS: contrib/code/mirmake/dist/scripts/bsd.own.mk.ed,v 1.7 2005/10/02 18:49:03 tg Exp $
d4 2
a5 1
/^SKEY?=/;/^.ifdef __CRAZY/-1d
@


1.7
log
@default DEBUGLIBS to Yes in MirOS, but not (for now?) MirMake.
@
text
@d2 1
a2 1
# $MirOS: contrib/code/mirmake/dist/scripts/bsd.own.mk.ed,v 1.6 2005/09/12 21:53:26 tg Exp $
d6 1
@


1.6
log
@fix brokenness; require bsd.own.mk,v 1.23
@
text
@d2 1
a2 1
# $MirOS: contrib/code/mirmake/dist/scripts/bsd.own.mk.ed,v 1.5 2005/08/21 12:15:22 tg Exp $
d5 1
@


1.5
log
@devise OBJECT_FMT and RTLD_TYPE better
@
text
@d2 1
a2 8
# $MirOS: contrib/code/mirmake/dist/scripts/bsd.own.mk.ed,v 1.4 2005/08/21 11:28:07 tg Exp $
.
/^CROSS_MODE?=/;/^BINGRP?=/-1d
-i
WARNINGS?=		No
DEBUGLIBS?=		No
BSDSRCDIR?=		/usr/src
BSDOBJDIR?=		/usr/obj
d4 1
@


1.4
log
@replace nroff by @@@@nroff@@@@ (make it variable)
@
text
@d2 1
a2 1
# $MirOS: contrib/code/mirmake/dist/scripts/bsd.own.mk.ed,v 1.3 2005/02/23 21:59:41 tg Exp $
d11 2
@


1.3
log
@need mksh here, too
@
text
@d2 1
a2 1
# $MirOS: contrib/code/mirmake/dist/scripts/bsd.own.mk.ed,v 1.2 2005/02/23 21:29:44 tg Exp $
d12 1
a12 1
/nrcon/s//nroff/
@


1.2
log
@modernise
@
text
@d2 1
a2 1
# $MirOS: contrib/code/mirmake/dist/scripts/bsd.own.mk.ed,v 1.3 2004/11/12 01:40:15 tg Exp $
d11 1
@


1.1
log
@Initial revision
@
text
@d2 1
a2 1
# $MirOS$
d4 1
a4 1
/^# Calculate machine capabilities/;/^BINGRP?=/-1d
d12 2
@


1.1.7.1
log
@All the code in the contributed section
@
text
@@
