head	1.2;
access;
symbols;
locks; strict;
comment	@# @;


1.2
date	2012.02.13.20.02.25;	author bsiegert;	state Exp;
branches;
next	1.1;
commitid	1004F396C2717B1359C;

1.1
date	2011.12.31.12.32.33;	author bsiegert;	state Exp;
branches;
next	;
commitid	1004EFF00C625DCA8A2;


desc
@@


1.2
log
@Remove setpagedevice calls (which are illegal in an EPS) and replace them by
some AWK hackery. Idea from hacking htdocs/images/Makefile.tnflogo @@TNF.
@
text
@# $MirOS: contrib/code/Flyers/img/Makefile,v 1.1 2011/12/31 12:32:33 bsiegert Exp $

PDFFILES=	Flag_of_France.pdf
PDFFILES+=	Flag_of_Germany.pdf
PDFFILES+=	Flag_of_the_United_Kingdom.pdf
PDFFILES+=	bsdaemon.pdf
PDFFILES+=	m-color.pdf

GS?=		gs
AWK?=		awk

AWK_BBOX=	'/^%%BoundingBox:/ { \
			w = $$4 - $$2; h = $$5 - $$3; \
			print "<< /PageSize [", w, h, "] >> setpagedevice"}'

.SUFFIXES: .eps .pdf

all: ${PDFFILES}

clean:
	rm -f ${PDFFILES}

.PHONY: all clean

.eps.pdf:
	${GS} -q -dBATCH -dNOPAUSE -dSAFER -sDEVICE=pdfwrite \
		-sOutputFile=${.TARGET} -c `${AWK} ${AWK_BBOX} ${.ALLSRC}` \
		-f ${.ALLSRC}
@


1.1
log
@The eps versions are now the canonical ones. The pdf images, which have been
created from the eps anyway, have been removed.
@
text
@d1 1
a1 1
# $MirOS$
d9 7
d26 3
a28 1
	ps2pdf $<
@

