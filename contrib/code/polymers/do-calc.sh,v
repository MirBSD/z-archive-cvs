head	1.3;
access;
symbols;
locks; strict;
comment	@# @;


1.3
date	2005.07.07.13.06.35;	author tg;	state Exp;
branches;
next	1.2;
commitid	221442cd28daec8b;

1.2
date	2005.03.20.18.19.13;	author bsiegert;	state Exp;
branches;
next	1.1;

1.1
date	2005.03.20.17.50.20;	author bsiegert;	state Exp;
branches;
next	;


desc
@@


1.3
log
@* some sync with reality
* some sh, ksh -> mksh
* some cleanup
@
text
@#!/bin/mksh
#
# $MirOS: contrib/code/polymers/do-calc.sh,v 1.2 2005/03/20 18:19:13 bsiegert Exp $

RUNS=10000

set -e

mkdir -p results
for i in $(jot -w '%04d' $RUNS 0)
do
	./calc/poly-calc results/$i >> results/end2end
done
sort < results/end2end | awk '
/^[^#]/ {
	++count[$1]
}
END {	OFS="\t"
	for (i in count)
		print i, count[i]
}' - | sort -nbk 1 > results/stats

gnuplot stats.gnuplot > $RUNS.ps
ps2pdf $RUNS.ps
@


1.2
log
@Make number of runs configurable, output a .pdf graph
@
text
@d1 1
a1 1
#!/bin/sh
d3 1
a3 1
# $MirOS: contrib/code/polymers/do-calc.sh,v 1.1 2005/03/20 17:50:20 bsiegert Exp $
@


1.1
log
@Add a shell script to do the actual calculations and find the results
@
text
@d3 4
a6 1
# $MirOS$
d10 1
a10 1
for i in $(jot -w '%03d' 1000 0)
d21 4
a24 1
}' - > results/stats
@

