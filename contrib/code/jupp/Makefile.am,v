head	1.22;
access;
symbols
	joe-3_1jupp38:1.22
	joe-3_1jupp37:1.22
	joe-3_1jupp36:1.21
	joe-3_1jupp35:1.18
	joe-3_1jupp34:1.18
	joe-3_1jupp33:1.18
	joe-3_1jupp32:1.18
	joe-3_1jupp31:1.16
	joe-3_1jupp30:1.16
	joe-3_1jupp29:1.15
	joe-3_1jupp28:1.8
	joe-3_1jupp27:1.8
	joe-3_1jupp26:1.8
	joe-3_1jupp25:1.8
	joe-3_1jupp24:1.8
	joe-3_1jupp23:1.8
	joe-3_1jupp22:1.8
	joe-3_1jupp21:1.8
	joe-3_1jupp20:1.8
	joe-3_1jupp19:1.8
	joe-3_1jupp18:1.7
	joe-3_1jupp17:1.7
	joe-3_1jupp16:1.7
	joe-3_1jupp15:1.7
	joe-3_1jupp14:1.7
	joe-3_1jupp12:1.7
	joe-3_1jupp11:1.5
	joe-3_1jupp10:1.3
	joe-3_1jupp9:1.3
	joe-3_1jupp8:1.2
	joe-3_1jupp7:1.2
	joe-3_1jupp6:1.2
	joe-3_1jupp5:1.2
	joe-3_1jupp4:1.2
	joe-3_1:1.1.201.1
	tg:1.1.201;
locks; strict;
comment	@# @;


1.22
date	2018.06.28.02.03.45;	author tg;	state Exp;
branches;
next	1.21;
commitid	1005B344213432DCA50;

1.21
date	2018.03.15.23.07.46;	author tg;	state Exp;
branches;
next	1.20;
commitid	1005AAAFCDB3ECDEF05;

1.20
date	2018.03.15.22.51.30;	author tg;	state Exp;
branches;
next	1.19;
commitid	1005AAAF90562749F3D;

1.19
date	2018.03.15.22.47.59;	author tg;	state Exp;
branches;
next	1.18;
commitid	1005AAAF8233681A885;

1.18
date	2017.12.03.01.11.48;	author tg;	state Exp;
branches;
next	1.17;
commitid	1005A234F65657C7FBC;

1.17
date	2017.12.02.04.02.42;	author tg;	state Exp;
branches;
next	1.16;
commitid	1005A2225FD679D5363;

1.16
date	2017.01.11.21.48.57;	author tg;	state Exp;
branches;
next	1.15;
commitid	1005876A846752BE184;

1.15
date	2016.10.30.02.21.05;	author tg;	state Exp;
branches;
next	1.14;
commitid	1005815591B3B82348E;

1.14
date	2016.10.30.00.00.18;	author tg;	state Exp;
branches;
next	1.12;
commitid	100581538233896543D;

1.12
date	2016.10.29.23.51.23;	author tg;	state Exp;
branches;
next	1.11;
commitid	1005815360D5C4C4383;

1.11
date	2016.10.29.23.44.43;	author tg;	state Exp;
branches;
next	1.10;
commitid	1005815347F236258ED;

1.10
date	2016.10.08.17.44.17;	author tg;	state Exp;
branches;
next	1.9;
commitid	10057F9303837FBF229;

1.9
date	2016.10.07.10.57.06;	author tg;	state Exp;
branches;
next	1.8;
commitid	10057F77F8568C4A6DC;

1.8
date	2012.06.07.22.16.07;	author tg;	state Exp;
branches;
next	1.7;
commitid	1004FD12822341B4DF9;

1.7
date	2009.10.18.16.23.59;	author tg;	state Exp;
branches;
next	1.6;
commitid	1004ADB412D672DD7F2;

1.6
date	2009.10.18.14.17.33;	author tg;	state Exp;
branches;
next	1.5;
commitid	1004ADB237E67C2F65E;

1.5
date	2009.08.02.15.42.43;	author tg;	state Exp;
branches;
next	1.4;
commitid	1004A75B4057A005DC1;

1.4
date	2009.07.30.20.15.58;	author tg;	state Exp;
branches;
next	1.3;
commitid	1004A71FF847A92ABE0;

1.3
date	2008.05.13.13.08.20;	author tg;	state Exp;
branches;
next	1.2;
commitid	100482992BC01EE89A1;

1.2
date	2005.02.05.02.42.20;	author tg;	state Exp;
branches;
next	1.1;

1.1
date	2005.02.05.00.37.17;	author tg;	state Exp;
branches
	1.1.201.1;
next	;

1.1.201.1
date	2005.02.05.00.37.17;	author tg;	state Exp;
branches;
next	;


desc
@@


1.22
log
@update EXTRA_DIST (by try-and-diff)
@
text
@# $MirOS: contrib/code/jupp/Makefile.am,v 1.21 2018/03/15 23:07:46 tg Exp $

AUTOMAKE_OPTIONS = foreign

EXTRA_DIST = \
	HINTS INFO LIST Make-w32.sh autogen.sh bw-lgen.inc dir.c \
	docs/help-system.html jmacsrc.in joe.1.in joe.txt joerc.in \
	jpicorc.in jstarrc.in jupprc popen.inc rjoerc.in setup.inf \
	strlfun.inc

JOE_ALIASES = jmacs jpico jstar jupp rjoe
JOE_RCFILES = jmacsrc joerc jpicorc jstarrc jupprc rjoerc
JOE_RC_EDIT = sed \
		-e 's@@''jrcbefore''@@$(jrcbefore)g' \
		-e 's@@''jrcafter''@@$(jrcafter)g' \
		-e 's@@''SPELL''@@$(SPELL)g' \
		<'$?' >$@@~ && mv -f $@@~ $@@

jmacsrc: jmacsrc.in
	$(JOE_RC_EDIT)

joerc: joerc.in
	$(JOE_RC_EDIT)

jpicorc: jpicorc.in
	$(JOE_RC_EDIT)

jstarrc: jstarrc.in
	$(JOE_RC_EDIT)

rjoerc: rjoerc.in
	$(JOE_RC_EDIT)

INCLUDES = -DJOERC="\"$(sysconf_joedir)/\""

sysconfjoesubdir = @@sysconfjoesubdir@@
sysconf_joedir = $(sysconfdir)$(sysconfjoesubdir)
sysconf_joe_DATA = $(JOE_RCFILES)

sysconf_syntaxdir = $(sysconf_joedir)/syntax
sysconf_syntax_DATA = \
	syntax/asm.jsf syntax/c.jsf syntax/conf.jsf syntax/csh.jsf \
	syntax/diff.jsf syntax/fortran.jsf syntax/html.jsf \
	syntax/java.jsf syntax/lisp.jsf syntax/mail.jsf syntax/mason.jsf \
	syntax/pascal.jsf syntax/perl.jsf syntax/php.jsf \
	syntax/python.jsf syntax/sh.jsf syntax/tcl.jsf syntax/tex.jsf \
	syntax/verilog.jsf syntax/vhdl.jsf syntax/xml.jsf

sysconf_charmapsdir = $(sysconf_joedir)/charmaps
sysconf_charmaps_DATA = charmaps/klingon

man_MANS = joe.1
noinst_HEADERS = \
	b.h blocks.h builtin.h bw.h charmap.h cmd.h config.h hash.h \
	help.h i18n.h kbd.h macro.h main.h menu.h path.h poshist.h pw.h \
	queue.h qw.h rc.h regex.h scrn.h syntax.h tab.h termcap.h tty.h \
	tw.h types.h ublock.h uedit.h uerror.h ufile.h uformat.h \
	uisrch.h umath.h undo.h usearch.h ushell.h utag.h utf8.h utils.h \
	va.h vfile.h vs.h w.h

bin_PROGRAMS = joe
if WANT_TERMIDX
bin_PROGRAMS += termidx
endif

joe_SOURCES = \
	b.c blocks.c builtin.c builtins.c bw.c charmap.c cmd.c compat.c \
	hash.c help.c i18n.c kbd.c macro.c main.c menu.c path.c \
	poshist.c pw.c queue.c qw.c rc.c regex.c scrn.c selinux.c \
	syntax.c tab.c termcap.c tty.c tw.c ublock.c uedit.c uerror.c \
	ufile.c uformat.c uisrch.c umath.c undo.c usearch.c ushell.c \
	utag.c utf8.c utils.c va.c vfile.c vs.c w.c win32.c

termidx_SOURCES = termidx.c

man_joeinitfile=@@joeinitfile@@
man_joeresides=@@joeresides@@
man_joeinitcopy=@@joeinitcopy@@
joe.1: joe.1.in
	sed \
	    -e 's!@@''joeinitfile''@@!$(man_joeinitfile)!g' \
	    -e 's!@@''joeresides''@@!$(man_joeresides)!g' \
	    -e 's!@@''joeinitcopy''@@!$(man_joeinitcopy)!g' \
	    <'$?' >$@@~
	mv -f $@@~ $@@

install-exec-hook:
	cd $(DESTDIR)$(bindir) && for i in $(JOE_ALIASES); do \
		rm -f $$i; \
		$(LN_S) joe $$i; \
	done

install-man: install-man1-symlinks
install-man1-symlinks: install-man1
	cd $(DESTDIR)$(man1dir) && for i in $(JOE_ALIASES); do \
		rm -f $$i.1; \
		$(LN_S) joe.1 $$i.1; \
	done

uninstall-local:
	for i in $(JOE_ALIASES); do \
		rm -f $(DESTDIR)$(bindir)/$$i $(DESTDIR)$(man1dir)/$$i.1; \
	done

CLEANFILES = $(JOE_RCFILES) joe.1

distclean-local:
	rm -f *~
	rm -f stamp-h.in charmaps/klingon syntax/asm.jsf syntax/c.jsf syntax/conf.jsf syntax/csh.jsf syntax/diff.jsf syntax/fortran.jsf syntax/html.jsf syntax/java.jsf syntax/lisp.jsf syntax/mail.jsf syntax/mason.jsf syntax/pascal.jsf syntax/perl.jsf syntax/php.jsf syntax/python.jsf syntax/sh.jsf syntax/tcl.jsf syntax/tex.jsf syntax/verilog.jsf syntax/vhdl.jsf syntax/xml.jsf

.PHONY: termcap
@


1.21
log
@clean up after ourselves
@
text
@d1 1
a1 1
# $MirOS: contrib/code/jupp/Makefile.am,v 1.17 2017/12/02 04:02:42 tg Exp $
d6 4
a9 10
	COPYING HINTS INFO LIST NEWS README README.cvs TODO \
	charmaps/klingon.in dir.c docs/help-system.html jmacsrc.in \
	joe.1.in joerc.in jpicorc.in jstarrc.in jupprc rjoerc.in \
	syntax/asm.jsf.in syntax/c.jsf.in syntax/conf.jsf.in \
	syntax/csh.jsf.in syntax/diff.jsf.in syntax/fortran.jsf.in \
	syntax/html.jsf.in syntax/java.jsf.in syntax/lisp.jsf.in \
	syntax/mail.jsf.in syntax/mason.jsf.in syntax/pascal.jsf.in \
	syntax/perl.jsf.in syntax/php.jsf.in syntax/python.jsf.in \
	syntax/sh.jsf.in syntax/tcl.jsf.in syntax/tex.jsf.in \
	syntax/verilog.jsf.in syntax/vhdl.jsf.in syntax/xml.jsf.in
@


1.20
log
@oh, do shut up, autofools
@
text
@d111 2
@


1.19
log
@(try to) fix substitution fuckup

cf. https://www.gnu.org/software/autoconf/manual/autoconf-2.63/html_node/Installation-Directory-Variables.html
@
text
@d23 1
d26 1
a26 1
	$(JOE_RC_EDIT) <'$?' >$@@~ && mv -f $@@~ $@@
d29 1
a29 1
	$(JOE_RC_EDIT) <'$?' >$@@~ && mv -f $@@~ $@@
d32 1
a32 1
	$(JOE_RC_EDIT) <'$?' >$@@~ && mv -f $@@~ $@@
d35 1
a35 1
	$(JOE_RC_EDIT) <'$?' >$@@~ && mv -f $@@~ $@@
d38 1
a38 1
	$(JOE_RC_EDIT) <'$?' >$@@~ && mv -f $@@~ $@@
@


1.18
log
@move extra arguments off the cc(1) command line
@
text
@d18 22
d43 1
a43 1
sysconf_joe_DATA = jmacsrc joerc jpicorc jstarrc jupprc rjoerc
d89 1
a89 1
	    <$? >$@@~
@


1.17
log
@sort
@
text
@d1 1
a1 1
# $MirOS: contrib/code/jupp/Makefile.am,v 1.11 2016/10/29 23:44:43 tg Exp $
a48 8
if JUPP_WIN32RELOC
joe_WIN32_DEFS = -DJUPP_WIN32RELOC=1 -UJOERC
else
joe_WIN32_DEFS = -DJUPP_WIN32RELOC=0 -DJOERC="\"$(sysconf_joedir)/\""
endif

INCLUDES = $(joe_WIN32_DEFS)

@


1.16
log
@consolidate anything using <windows.h> into one .c file existing precisely for that purpose
@
text
@d6 3
a8 3
	COPYING HINTS INFO LIST NEWS README README.cvs TODO dir.c \
	win32.c jmacsrc.in joe.1.in joerc.in jpicorc.in jstarrc.in \
	jupprc rjoerc.in charmaps/klingon.in docs/help-system.html \
d36 7
a42 6
noinst_HEADERS = b.h blocks.h bw.h cmd.h config.h hash.h help.h kbd.h \
	macro.h main.h menu.h path.h poshist.h pw.h queue.h qw.h rc.h regex.h \
	scrn.h tab.h termcap.h tty.h tw.h types.h ublock.h uedit.h uerror.h \
	ufile.h uformat.h uisrch.h umath.h undo.h usearch.h ushell.h utag.h \
	utils.h va.h vfile.h vs.h w.h utf8.h syntax.h i18n.h charmap.h builtin.h

@


1.15
log
@BSD make wants $>, GNU make wants $<, so $? it is (huh‽)
@
text
@a48 1
joe_WIN32_SRCS = win32.c
a50 1
joe_WIN32_SRCS = # nothing
a55 2
# joe_LDADD = @@REQRD_LIBS@@

d62 1
a62 1
	utag.c utf8.c utils.c va.c vfile.c vs.c w.c $(joe_WIN32_SRCS)
@


1.14
log
@bugfix for out-of-tree builds
@
text
@d78 1
a78 1
	    <$> >$@@~
@


1.12
log
@generating the manpage is make’s job now
@
text
@d78 1
a78 1
	    <joe.1.in >$@@~
@


1.11
log
@first cut at win32 self-relocation
@
text
@d1 1
a1 1
# $MirOS: contrib/code/jupp/Makefile.am,v 1.7 2009/10/18 16:23:59 tg Exp $
d70 11
@


1.10
log
@use autoconf to DTRT, bump to ~pre1, prepare things yet to come
@
text
@d5 11
a15 8
EXTRA_DIST = COPYING INFO LIST NEWS README README.cvs TODO docs/help-system.html \
	joerc.in jmacsrc.in jstarrc.in rjoerc.in jpicorc.in jupprc \
	joe.1.in dir.c syntax/c.jsf.in syntax/perl.jsf.in syntax/verilog.jsf.in \
	syntax/conf.jsf.in syntax/python.jsf.in syntax/php.jsf.in syntax/sh.jsf.in \
	syntax/pascal.jsf.in syntax/html.jsf.in syntax/vhdl.jsf.in syntax/fortran.jsf.in \
	syntax/java.jsf.in syntax/xml.jsf.in syntax/tcl.jsf.in charmaps/klingon.in docs HINTS \
	syntax/lisp.jsf.in syntax/csh.jsf.in syntax/mail.jsf.in syntax/mason.jsf.in \
	syntax/diff.jsf.in syntax/asm.jsf.in syntax/tex.jsf.in
d21 1
a21 1
sysconf_joe_DATA = joerc jmacsrc jstarrc rjoerc jpicorc jupprc
d24 7
a30 6
sysconf_syntax_DATA = syntax/c.jsf syntax/perl.jsf syntax/verilog.jsf \
	syntax/conf.jsf syntax/python.jsf syntax/php.jsf syntax/sh.jsf \
	syntax/mail.jsf syntax/pascal.jsf syntax/html.jsf syntax/vhdl.jsf \
	syntax/fortran.jsf syntax/java.jsf syntax/xml.jsf syntax/tcl.jsf \
	syntax/lisp.jsf syntax/csh.jsf syntax/mason.jsf syntax/diff.jsf \
	syntax/asm.jsf syntax/tex.jsf
d48 9
a56 1
INCLUDES = -DJOERC="\"$(sysconf_joedir)/\""
d60 7
a66 5
joe_SOURCES = b.c blocks.c bw.c cmd.c hash.c help.c kbd.c macro.c main.c menu.c \
	path.c poshist.c pw.c queue.c qw.c rc.c regex.c scrn.c tab.c termcap.c \
	tty.c tw.c ublock.c uedit.c uerror.c ufile.c uformat.c uisrch.c umath.c \
	undo.c usearch.c ushell.c utag.c va.c vfile.c vs.c w.c utils.c syntax.c \
	utf8.c selinux.c i18n.c charmap.c builtin.c builtins.c compat.c
@


1.9
log
@add syntax file for minimal Teχ; mostly mature

(modulo syntax highlighting addressing octets, not characters)
@
text
@d16 1
a16 1
sysconfjoesubdir = /joe
@


1.8
log
@• switch strlfun.c to symlinked strlfun.inc; add symlinked popen.inc
• new compat.c including the *.inc files if needed and providing ctime for klibc
@
text
@d12 1
a12 1
	syntax/diff.jsf.in syntax/asm.jsf.in
d26 1
a26 1
	syntax/asm.jsf
d76 1
a76 1
	rm -f stamp-h.in charmaps/klingon syntax/asm.jsf syntax/c.jsf syntax/conf.jsf syntax/csh.jsf syntax/diff.jsf syntax/fortran.jsf syntax/html.jsf syntax/java.jsf syntax/lisp.jsf syntax/mail.jsf syntax/mason.jsf syntax/pascal.jsf syntax/perl.jsf syntax/php.jsf syntax/python.jsf syntax/sh.jsf syntax/tcl.jsf syntax/verilog.jsf syntax/vhdl.jsf syntax/xml.jsf
@


1.7
log
@new sysconfjoesubdir for overriding the /joe part in /etc/joe/jupprc &c.
@
text
@d1 1
a1 1
# $MirOS: contrib/code/jupp/Makefile.am,v 1.6 2009/10/18 14:17:33 tg Exp $
d52 1
a52 1
	utf8.c selinux.c i18n.c charmap.c strlfun.c builtin.c builtins.c
@


1.6
log
@add built-in (minimal) jupprc, for stand-alone things
backported from joe 3.7 (Debian)
@
text
@d1 1
a1 1
# $MirOS: contrib/code/jupp/Makefile.am,v 1.5 2009/08/02 15:42:43 tg Exp $
d16 2
a17 1
sysconf_joedir = $(sysconfdir)/joe
@


1.5
log
@install manpage symlinks automatically
@
text
@d1 1
a1 1
# $MirOS: contrib/code/jupp/Makefile.am,v 1.4 2009/07/30 20:15:58 tg Exp $
d35 1
a35 1
	utils.h va.h vfile.h vs.h w.h utf8.h syntax.h i18n.h charmap.h
d51 1
a51 1
	utf8.c selinux.c i18n.c charmap.c strlfun.c
@


1.4
log
@(untested) allow disabling building and installing the termidx binary
@
text
@d1 1
a1 1
# $MirOS: contrib/code/jupp/Makefile.am,v 1.3 2008/05/13 13:08:20 tg Exp $
d14 2
d56 11
a66 2
	rm -f $(DESTDIR)$(bindir)/jmacs $(DESTDIR)$(bindir)/jstar $(DESTDIR)$(bindir)/rjoe $(DESTDIR)$(bindir)/jpico $(DESTDIR)$(bindir)/jupp
	for i in jmacs jstar rjoe jpico jupp ; do $(LN_S) joe $(DESTDIR)$(bindir)/$$i ; done
d69 3
a71 1
	rm -f $(DESTDIR)$(bindir)/jmacs $(DESTDIR)$(bindir)/jstar $(DESTDIR)$(bindir)/rjoe $(DESTDIR)$(bindir)/jpico $(DESTDIR)$(bindir)/jupp
@


1.3
log
@prepare for joe-3.1jupp9:
* sync NEWS
* bump vsn in configure.ac
* tag all files with RCS ID
* sync licence template
@
text
@d1 1
a1 1
# $MirOS$
d36 5
a40 1
bin_PROGRAMS = joe termidx
@


1.2
log
@Update the non-generated files to joe-3.1jupp2
@
text
@d1 2
@


1.1
log
@Initial revision
@
text
@d4 1
a4 1
	joerc.in jmacsrc.in jstarrc.in rjoerc.in jpicorc.in \
d13 1
a13 1
sysconf_joe_DATA = joerc jmacsrc jstarrc rjoerc jpicorc
d43 1
a43 1
	utf8.c selinux.c i18n.c charmap.c
d48 2
a49 2
	rm -f $(DESTDIR)$(bindir)/jmacs $(DESTDIR)$(bindir)/jstar $(DESTDIR)$(bindir)/rjoe $(DESTDIR)$(bindir)/jpico
	for i in jmacs jstar rjoe jpico ; do $(LN_S) joe $(DESTDIR)$(bindir)/$$i ; done
d52 1
a52 1
	rm -f $(DESTDIR)$(bindir)/jmacs $(DESTDIR)$(bindir)/jstar $(DESTDIR)$(bindir)/rjoe $(DESTDIR)$(bindir)/jpico
d56 1
@


1.1.201.1
log
@JOE's Own Editor 3.1
@
text
@@
