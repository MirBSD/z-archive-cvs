head	1.12;
access;
symbols
	joe-3_1jupp38:1.12
	joe-3_1jupp37:1.12
	joe-3_1jupp36:1.12
	joe-3_1jupp35:1.12
	joe-3_1jupp34:1.12
	joe-3_1jupp33:1.12
	joe-3_1jupp32:1.11
	joe-3_1jupp31:1.8
	joe-3_1jupp30:1.6
	joe-3_1jupp29:1.6
	joe-3_1jupp28:1.6
	joe-3_1jupp27:1.5
	joe-3_1jupp26:1.3
	joe-3_1jupp25:1.3
	joe-3_1jupp24:1.2
	joe-3_1jupp23:1.2
	joe-3_1jupp22:1.2
	joe-3_1jupp21:1.2
	joe-3_1jupp20:1.2
	joe-3_1jupp19:1.2
	joe-3_1jupp18:1.2
	joe-3_1jupp17:1.2
	joe-3_1jupp16:1.2
	joe-3_1jupp15:1.2
	joe-3_1jupp14:1.2
	joe-3_1jupp12:1.2
	joe-3_1jupp11:1.2
	joe-3_1jupp10:1.2
	joe-3_1jupp9:1.2
	joe-3_1jupp8:1.1.201.1
	joe-3_1jupp7:1.1.201.1
	joe-3_1jupp6:1.1.201.1
	joe-3_1jupp5:1.1.201.1
	joe-3_1jupp4:1.1.201.1
	joe-3_1:1.1.201.1
	tg:1.1.201;
locks; strict;
comment	@ * @;


1.12
date	2018.01.08.02.01.20;	author tg;	state Exp;
branches;
next	1.11;
commitid	1005A52D0FA22192115;

1.11
date	2017.12.06.21.16.57;	author tg;	state Exp;
branches;
next	1.10;
commitid	1005A285E5918D423C7;

1.10
date	2017.12.02.17.00.48;	author tg;	state Exp;
branches;
next	1.9;
commitid	1005A22DC570063953B;

1.9
date	2017.12.02.02.07.28;	author tg;	state Exp;
branches;
next	1.8;
commitid	1005A220AD65C90E687;

1.8
date	2017.07.08.16.23.26;	author tg;	state Exp;
branches;
next	1.7;
commitid	10059610714037A3711;

1.7
date	2017.03.19.19.30.22;	author tg;	state Exp;
branches;
next	1.6;
commitid	10058CEDC5E02E09C16;

1.6
date	2014.07.25.21.41.49;	author tg;	state Exp;
branches;
next	1.5;
commitid	10053D2CF304714B2CF;

1.5
date	2014.06.26.17.42.54;	author tg;	state Exp;
branches;
next	1.4;
commitid	10053AC5BB0521FC7B9;

1.4
date	2013.12.01.00.19.08;	author tg;	state Exp;
branches;
next	1.3;
commitid	100529A80461C27C26A;

1.3
date	2013.05.31.23.27.18;	author tg;	state Exp;
branches;
next	1.2;
commitid	10051A931CB73794C1D;

1.2
date	2008.05.13.13.08.22;	author tg;	state Exp;
branches;
next	1.1;
commitid	100482992BC01EE89A1;

1.1
date	2005.02.05.00.37.17;	author tg;	state Exp;
branches
	1.1.201.1;
next	;

1.1.201.1
date	2005.02.05.00.37.17;	author tg;	state Exp;
branches;
next	;


desc
@@


1.12
log
@get rid of extra joe_wcwidth parameter by inlining its only remaining use
@
text
@#ifndef _Ii18n
#define _Ii18n 1

#ifdef EXTERN
__IDSTRING(rcsid_i18n_h, "$MirOS: contrib/code/jupp/i18n.h,v 1.11 2017/12/06 21:16:57 tg Exp $");
#endif

#ifdef TEST_I18N
int joe_iswupper(struct charmap *,int c);
int joe_iswlower(struct charmap *,int c);
#endif

/* the following two include _ */
int joe_iswalpha(struct charmap *,int c);
int joe_iswalnum(struct charmap *,int c);

int joe_iswdigit(struct charmap *,int c);
int joe_iswspace(struct charmap *,int c);
#ifdef TEST_I18N
int joe_iswcntrl(struct charmap *,int c);
#endif
int joe_iswpunct(struct charmap *,int c);
#ifdef TEST_I18N
int joe_iswgraph(struct charmap *,int c);
#endif
int joe_iswprint(struct charmap *,int c);
#ifdef TEST_I18N
int joe_iswxdigit(struct charmap *,int c);
int joe_iswblank(struct charmap *,int c);
#endif

int joe_wcwidth(unsigned int c);
/* Looking for wswidth? Take a look at scrn.c/txtwidth() */

int joe_towupper(struct charmap *,int c);
int joe_towlower(struct charmap *,int c);

extern unsigned char unictrlbuf[11];
int unictrl(unsigned int c);

#endif
@


1.11
log
@begin overhaul for antique/header compat:
• PARAMS begone
• libc4 ustat definition: resolve inline
• ignore HAVE_*_H for headers mksh includes unconditionally
@
text
@d5 1
a5 1
__IDSTRING(rcsid_i18n_h, "$MirOS: contrib/code/jupp/i18n.h,v 1.10 2017/12/02 17:00:48 tg Exp $");
d32 1
a32 1
int joe_wcwidth(int wide, unsigned int c);
@


1.10
log
@fix string name collision by prefixing the idstrings in not-.c files
@
text
@d5 1
a5 1
__IDSTRING(rcsid_i18n_h, "$MirOS: contrib/code/jupp/i18n.h,v 1.9 2017/12/02 02:07:28 tg Exp $");
d9 2
a10 2
int joe_iswupper PARAMS((struct charmap *,int c));
int joe_iswlower PARAMS((struct charmap *,int c));
d14 2
a15 2
int joe_iswalpha PARAMS((struct charmap *,int c));
int joe_iswalnum PARAMS((struct charmap *,int c));
d17 2
a18 2
int joe_iswdigit PARAMS((struct charmap *,int c));
int joe_iswspace PARAMS((struct charmap *,int c));
d20 1
a20 1
int joe_iswcntrl PARAMS((struct charmap *,int c));
d22 1
a22 1
int joe_iswpunct PARAMS((struct charmap *,int c));
d24 1
a24 1
int joe_iswgraph PARAMS((struct charmap *,int c));
d26 1
a26 1
int joe_iswprint PARAMS((struct charmap *,int c));
d28 2
a29 2
int joe_iswxdigit PARAMS((struct charmap *,int c));
int joe_iswblank PARAMS((struct charmap *,int c));
d32 1
a32 1
int joe_wcwidth PARAMS((int wide, unsigned int c));
d35 2
a36 2
int joe_towupper PARAMS((struct charmap *,int c));
int joe_towlower PARAMS((struct charmap *,int c));
d39 1
a39 1
int unictrl PARAMS((unsigned int c));
@


1.9
log
@overhaul the way includes work; give jupp proper RCS IDs

(after all, empty source files are UB; win32.c is likely)
@
text
@d5 1
a5 1
__RCSID("$MirOS$");
@


1.8
log
@convert only once
@
text
@a0 2
/* $MirOS: contrib/code/jupp/i18n.h,v 1.5 2014/06/26 17:42:54 tg Exp $ */

d4 3
a6 2
#include "config.h"
#include "types.h"
@


1.7
log
@drop unused categorisations (~15K in the binary)
@
text
@d39 1
@


1.6
log
@make NELEM more widely available
@
text
@d9 1
d12 1
d20 1
d22 1
d24 1
d26 1
d28 1
d31 1
@


1.5
log
@move NELEM out of i18n.c
@
text
@d1 1
a1 1
/* $MirOS: contrib/code/jupp/i18n.h,v 1.4 2013/12/01 00:19:08 tg Exp $ */
a8 3
/* from mksh */
#define NELEM(a)	(sizeof(a) / sizeof((a)[0]))

@


1.4
log
@Finally! Convert jupp’s i18n code to something better
and update the nōn-wcwidth parts as well… since they
were… at best(!)… Unicode 3.0.0

This also makes them const (saves more RAM, yay!) and
uses more sane algorithms for tolower/toupper (static
initialisation beats initialisation on first use, for
things can be even more .rodata then!).
@
text
@d1 1
a1 1
/* $MirOS: contrib/code/jupp/i18n.h,v 1.3 2013/05/31 23:27:18 tg Exp $ */
d9 3
@


1.3
log
@Replace wcwidth code by mine based on Unicode 6.2.0
@
text
@d1 1
a1 1
/* $MirOS: contrib/code/jupp/i18n.h,v 1.2 2008/05/13 13:08:22 tg Exp $ */
d12 2
a13 3
int joe_iswalpha PARAMS((struct charmap *,int c));	/* or _ */
int joe_iswalpha_ PARAMS((struct charmap *,int c));

a14 1
int joe_iswalnum_ PARAMS((struct charmap *,int c));
d18 1
a18 1
int joe_iswctrl PARAMS((struct charmap *,int c));
@


1.2
log
@prepare for joe-3.1jupp9:
* sync NEWS
* bump vsn in configure.ac
* tag all files with RCS ID
* sync licence template
@
text
@d1 1
a1 1
/* $MirOS$ */
d27 1
a27 1
int joe_wcwidth PARAMS((int wide,int c));
d33 1
a33 1
int unictrl PARAMS((int c));
@


1.1
log
@Initial revision
@
text
@d1 2
@


1.1.201.1
log
@JOE's Own Editor 3.1
@
text
@@
