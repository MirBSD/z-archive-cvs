head	1.7;
access;
symbols
	joe-3_1jupp38:1.7
	joe-3_1jupp37:1.7
	joe-3_1jupp36:1.7
	joe-3_1jupp35:1.7
	joe-3_1jupp34:1.7
	joe-3_1jupp33:1.7
	joe-3_1jupp32:1.7
	joe-3_1jupp31:1.6
	joe-3_1jupp30:1.6
	joe-3_1jupp29:1.6
	joe-3_1jupp28:1.6
	joe-3_1jupp27:1.6
	joe-3_1jupp26:1.6
	joe-3_1jupp25:1.6
	joe-3_1jupp24:1.5
	joe-3_1jupp23:1.5
	joe-3_1jupp22:1.5
	joe-3_1jupp21:1.4
	joe-3_1jupp20:1.4
	joe-3_1jupp19:1.4
	joe-3_1jupp18:1.4
	joe-3_1jupp17:1.4
	joe-3_1jupp16:1.3
	joe-3_1jupp15:1.3
	joe-3_1jupp14:1.3
	joe-3_1jupp12:1.2
	joe-3_1jupp11:1.2
	joe-3_1jupp10:1.2
	joe-3_1jupp9:1.2
	joe-3_1jupp8:1.1.201.1
	joe-3_1jupp7:1.1.201.1
	joe-3_1jupp6:1.1.201.1
	joe-3_1jupp5:1.1.201.1
	joe-3_1jupp4:1.1.201.1
	joe-3_1:1.1.201.1
	tg:1.1.201;
locks; strict;
comment	@# @;


1.7
date	2017.12.06.23.17.37;	author tg;	state Exp;
branches;
next	1.6;
commitid	1005A287AA407E73F9C;

1.6
date	2013.02.15.19.38.47;	author tg;	state Exp;
branches;
next	1.5;
commitid	100511E8EDC1D99746C;

1.5
date	2012.09.02.14.46.51;	author tg;	state Exp;
branches;
next	1.4;
commitid	100504371717CC33E24;

1.4
date	2011.07.27.18.13.14;	author tg;	state Exp;
branches;
next	1.3;
commitid	1004E30554754D46F9B;

1.3
date	2009.12.12.19.56.16;	author tg;	state Exp;
branches;
next	1.2;
commitid	1004B23F5737F225A20;

1.2
date	2008.05.13.16.17.44;	author tg;	state Exp;
branches;
next	1.1;
commitid	1004829BF321E5AE4B0;

1.1
date	2005.02.05.00.37.28;	author tg;	state Exp;
branches
	1.1.201.1;
next	;

1.1.201.1
date	2005.02.05.00.37.28;	author tg;	state Exp;
branches;
next	;


desc
@@


1.7
log
@whitespace at EOL annoys me
@
text
@# $MirOS: contrib/code/jupp/syntax/diff.jsf.in,v 1.6 2013/02/15 19:38:47 tg Exp $
#-
# JOE syntax highlight file for diff/patch files
#
# 2007-05-11 :
#
# This file is just udiff.jsf, ndiff.jsf and cdiff.jsf merged together
# into one file, to handle cases where A) it's difficult to tell what
# type of diff might be inside the file to highlight and B) the file to
# highlight may contain hunks of different types of diffs (unlikely).
#
#   Dirk Schenkewitz <Dirk.Schenkewitz (AT) gmx.de>
#


# Always reparse from beginning
-


# Color definitions
=Idle
=Garbage	bold black
=DiffCmd	blue
=FileOld	bold red
=FileNew	bold green
=HunkHead	bold blue
=HunkMid	bold blue
=DelLine	red
=AddLine	green
=ChgLine	magenta
=CtxLine


:reset Idle
	*		garbage		recolor=-1
	"\n"		reset
	"d"		garbage		buffer	recolor=-1 # may be a "diff" command
	"-"		udiff_o1			   # may start a unified diff hunk
	"*"		cdiff_o1			   # may start a context diff hunk
	"0-9"		ndiff_r0	mark	recolor=-1 # may start a "normal" diff hunk

:garbage Garbage
	*		garbage		strings
	"diff"		diff_cmd	recolor=-3
done
	"\n"		reset

:diff_cmd DiffCmd
	*		diff_cmd
	"\n"		reset

#----------------------------------------------

# unified diffs:

:udiff_o1 Idle
	*		garbage		recolor=-2	buffer
	"-"		udiff_o2

:udiff_o2 Idle
	*		garbage		recolor=-3	buffer
	"-"		udiff_o3

:udiff_o3 Idle
	*		garbage		recolor=-4	buffer
	" "		udiff_o4

:udiff_o4 Idle
	*		udiff_oldf	recolor=-5
	" "		garbage		recolor=-5	buffer

:udiff_n0 Idle
	*		garbage		recolor=-1	buffer
	"+"		udiff_n1

:udiff_n1 Idle
	*		garbage		recolor=-2	buffer
	"+"		udiff_n2

:udiff_n2 Idle
	*		garbage		recolor=-3	buffer
	"+"		udiff_n3

:udiff_n3 Idle
	*		garbage		recolor=-4	buffer
	" "		udiff_newf	recolor=-4

:udiff_oldf FileOld
	*		udiff_oldf
	"\n"		udiff_n0

:udiff_newf FileNew
	*		udiff_newf
	"\n"		udiff_prehunk1

:udiff_prehunk1 Idle
	*		garbage
	"@@"		udiff_prehunk2
	"\n"		reset

:udiff_prehunk2 Idle
	*		garbage		recolor=-1
	"@@"		udiff_prehunk3
	"\n"		reset

:udiff_prehunk3 Idle
	*		garbage		recolor=-1
	" "		udiff_hunkhead	recolor=-3
	"\n"		reset

:udiff_hunkhead HunkHead
	*		udiff_hunkhead
	"\n"		udiff_hunkbody

:udiff_hunkbody Idle
	*		reset		noeat
	"d"		garbage		recolor=-1	buffer
	"-"		udiff_minus1
	"+"		udiff_add	recolor=-1
	" "		udiff_ctx	recolor=-1
	"@@"		udiff_prehunk2

:udiff_minus1 Idle
	*		udiff_del	noeat recolor=-2
	"-"		udiff_minus2

:udiff_minus2 Idle
	*		udiff_del	noeat recolor=-3
	"-"		udiff_minus3

:udiff_minus3 Idle
	*		udiff_del	noeat recolor=-4
	" "		udiff_minus4

:udiff_minus4 Idle
	*		udiff_oldf	recolor=-5
	"\n"		udiff_hunkbody
	" "		udiff_del	recolor=-5

:udiff_del DelLine
	*		udiff_del
	"\n"		udiff_hunkbody

:udiff_add AddLine
	*		udiff_add
	"\n"		udiff_hunkbody

:udiff_ctx CtxLine
	*		udiff_ctx
	"\n"		udiff_hunkbody

#----------------------------------------------

# "normal" diffs:

:ndiff_r0 Idle
	*		garbage	noeat	recolormark
	"0-9"		ndiff_r0
	","		ndiff_r1
	"adc"		ndiff_r2
	"\n"		reset	markend

:ndiff_r1 Idle
	*		garbage	recolormark
	"0-9"		ndiff_r1
	"adc"		ndiff_r2
	"\n"		reset	markend

:ndiff_r2 Idle
	*		garbage noeat recolormark
	"0-9"		ndiff_r2
	","		ndiff_r3
	"\n"		ndiff_re noeat recolormark

:ndiff_r3 Idle
	*		garbage noeat recolormark
	"0-9"		ndiff_r3
	"\n"		ndiff_re noeat recolormark

:ndiff_re HunkHead
	"\n"		ndiff_hunk0

:ndiff_hunk0 HunkHead
	*		reset noeat
	"<"		ndiff_o1
	">"		ndiff_n1
	"\\"		ndiff_t1


:ndiff_hunk1 HunkHead
	*		reset noeat
	"<"		ndiff_o1
	">"		ndiff_n1
	"-"		ndiff_m1	recolor=-1
	"\\"		ndiff_t1


:ndiff_t1 Idle
	*		garbage		recolor=-3
	"\n"		reset
	" "		ndiff_txt	recolor=-3

:ndiff_o1 Idle
	*		garbage		recolor=-3
	"\n"		reset
	" "		ndiff_del	recolor=-3

:ndiff_n1 Idle
	*		garbage		recolor=-3
	"\n"		reset
	" "		ndiff_add	recolor=-3

:ndiff_txt CtxLine
	*		ndiff_txt
	"\n"		ndiff_hunk1

:ndiff_del DelLine
	*		ndiff_del
	"\n"		ndiff_hunk1

:ndiff_add AddLine
	*		ndiff_add
	"\n"		ndiff_hunk1


:ndiff_m1 Idle
	*		garbage		recolor=-2
	"-"		ndiff_m2
	"\n"		reset		recolor=-2

:ndiff_m2 Idle
	*		garbage		recolor=-3
	"-"		ndiff_m3	recolor=-3

:ndiff_m3 HunkMid
	*		garbage		recolor=-4
	"\n"		ndiff_hunk0

#----------------------------------------------

# context diffs:

:cdiff_o1 Idle
	*		garbage		recolor=-2	buffer
	"*"		cdiff_o2

:cdiff_o2 Idle
	*		garbage		recolor=-3	buffer
	"*"		cdiff_o3

:cdiff_o3 Idle
	*		garbage		recolor=-4	buffer
	" "		cdiff_o4

:cdiff_o4 Idle
	*		cdiff_oldf	recolor=-5
	" "		garbage		recolor=-5	buffer

:cdiff_oldf FileOld
	*		cdiff_oldf
	"\n"		cdiff_n0

:cdiff_n0 Idle
	*		garbage		recolor=-1	buffer
	"-"		cdiff_n1

:cdiff_n1 Idle
	*		garbage		recolor=-2	buffer
	"-"		cdiff_n2

:cdiff_n2 Idle
	*		garbage		recolor=-3	buffer
	"-"		cdiff_n3

:cdiff_n3 Idle
	*		garbage		recolor=-4	buffer
	" "		cdiff_newf	recolor=-4

:cdiff_newf FileNew
	*		cdiff_newf
	"\n"		cdiff_prehunk0

:cdiff_prehunk0 Idle
	*		manystars	buffer

:manystars Idle
	*		garbage		noeat strings
	"***************" cdiff_prehunk1
done
	"*"		manystars


:cdiff_prehunk1 HunkHead
	*		cdiff_ho0

:cdiff_ho0 Idle
	*		garbage		recolor=-1	buffer
	"*"		cdiff_ho1

:cdiff_ho1 Idle
	*		garbage		recolor=-2	buffer
	"*"		cdiff_ho2

:cdiff_ho2 Idle
	*		garbage		recolor=-3	buffer
	"*"		cdiff_ho3

:cdiff_ho3 Idle
	*		garbage		recolor=-4	buffer
	" "		cdiff_ho4	recolor=-4	mark

:cdiff_ho4 HunkHead
	*		garbage		recolormark	buffer
	"0-9,"		cdiff_ho4
	" "		cdiff_ho5	recolormark	buffer
	"\n"		reset	markend

:cdiff_ho5 HunkHead
	*		garbage		recolor=-1	buffer
	"*"		cdiff_ho6

:cdiff_ho6 Idle
	*		garbage		recolor=-2	buffer
	"*"		cdiff_ho7

:cdiff_ho7 Idle
	*		garbage		recolor=-3	buffer
	"*"		cdiff_ho8

:cdiff_ho8 Idle
	*		garbage		recolor=-4	buffer
	"*"		cdiff_ho9	recolor=-4

:cdiff_ho9 HunkHead
	*		garbage		recolor=-5	buffer
	"\n"		cdiff_hunk


:cdiff_hn0 Idle
	*		garbage		recolor=-1	buffer
	"-"		cdiff_hn1

:cdiff_hn1 Idle
	*		garbage		recolor=-2	buffer
	"-"		cdiff_hn2

:cdiff_hn2 Idle
	*		garbage		recolor=-3	buffer
	"-"		cdiff_hn3

:cdiff_hn3 Idle
	*		garbage		recolor=-4	buffer
	" "		cdiff_hn4	recolor=-4	mark

:cdiff_hn4 HunkHead
	*		garbage		recolormark	buffer
	"0-9,"		cdiff_hn4
	" "		cdiff_hn5	recolormark	buffer
	"\n"		reset	markend

:cdiff_hn5 HunkHead
	*		garbage		recolor=-1	buffer
	"-"		cdiff_hn6

:cdiff_hn6 Idle
	*		garbage		recolor=-2	buffer
	"-"		cdiff_hn7

:cdiff_hn7 Idle
	*		garbage		recolor=-3	buffer
	"-"		cdiff_hn8

:cdiff_hn8 Idle
	*		garbage		recolor=-4	buffer
	"-"		cdiff_hn9	recolor=-4

:cdiff_hn9 HunkHead
	*		garbage		recolor=-5	buffer
	"\n"		cdiff_hunk



:cdiff_hunk Idle
	*		garbage		recolor=-1	buffer
	" "		cdiff_h_c0
	"+"		cdiff_h_p0
	"!"		cdiff_h_x0
	"-"		cdiff_h_m0
	"*"		manystars	buffer

:cdiff_h_c0 Idle
	*		garbage		recolor=-2	buffer
	" "		cdiff_h_c1	recolor=-2
	"\n"		reset

:cdiff_h_c1 CtxLine
	*		cdiff_h_c1
	"\n"		cdiff_hunk

:cdiff_h_p0 Idle
	*		garbage		recolor=-2	buffer
	" "		cdiff_h_p1	recolor=-2
	"\n"		reset

:cdiff_h_p1 AddLine
	*		cdiff_h_p1
	"\n"		cdiff_hunk

:cdiff_h_x0 Idle
	*		garbage		recolor=-2	buffer
	" "		cdiff_h_x1	recolor=-2
	"\n"		reset

:cdiff_h_x1 ChgLine
	*		cdiff_h_x1
	"\n"		cdiff_hunk

:cdiff_h_m0 Idle
	*		garbage		recolor=-2	buffer
	" "		cdiff_h_m1	recolor=-2
	"-"		cdiff_hn2	recolor=-2
	"\n"		reset

:cdiff_h_m1 DelLine
	*		cdiff_h_m1
	"\n"		cdiff_hunk
@


1.6
log
@better colouring of diffs; better support for CVS rdiff and git diff
@
text
@d1 1
a1 1
# $MirOS: contrib/code/jupp/syntax/diff.jsf.in,v 1.5 2012/09/02 14:46:51 tg Exp $
d62 1
a62 1
	"-"		udiff_o3	
d82 1
a82 1
	"+"		udiff_n3	
d249 1
a249 1
	"*"		cdiff_o3	
d273 1
a273 1
	"-"		cdiff_n3	
d306 1
a306 1
	"*"		cdiff_ho3	
d328 1
a328 1
	"*"		cdiff_ho8	
d349 1
a349 1
	"-"		cdiff_hn3	
d371 1
a371 1
	"-"		cdiff_hn8	
@


1.5
log
@improve syntax highlighting further and release
@
text
@d1 1
a1 1
# $MirOS: contrib/code/jupp/syntax/diff.jsf.in,v 1.4 2011/07/27 18:13:14 tg Exp $
d22 1
a22 1
=Garbage	dim white
@


1.4
log
@improve diff recognition (CVS diff -up) and context for losing sync
@
text
@d1 1
a1 1
# $MirOS$
a10 2
# Of course it can be used to replace the 3 abovementioned files
# completely. If you want that, you need to edit ftyperc accordingly.
d15 2
a16 1
# Context scaling: whole file
@


1.3
log
@update diff.jsf
@
text
@d1 2
d17 3
@


1.2
log
@RCS IDs to the remaining few (non-autogen'd) files
@
text
@a0 2
# $MirOS$
#-
d2 12
a13 1
# 2004-05-11 Tom Marshall <tommy@@home.tig-grr.com>
a14 2
# Start from beginning of file when sync is lost
-
d18 3
d22 2
a23 2
=FileOld	bold red
=DiffStuff	magenta
d26 3
a28 1
=Unchanged
d31 10
a40 9
	*		goo
	"-"		preudiff	buffer
	"*"		precdiff	buffer
	"0-9"		ndiff		recolor=-1

# Unified diff?
:preudiff Idle
	*		goo		strings
	"---"		udiffold	recolor=-3
d42 13
a54 1
	"-"		preudiff
d56 142
a197 6
# Context diff?
:precdiff Idle
	*		goo		strings
	"***"		cdiffbegin	recolor=-3
done
	"*"		precdiff
d199 2
a200 2
:goo Idle
	*		goo
d202 1
d204 2
a205 5
:udiff Idle
	*		reset
	"-"		udiffold	recolor=-1
	"+"		udiffnew	recolor=-1
	"@@"		udiffhunkbegin	recolor=-1
d207 35
d243 3
a245 3
:udiffold FileOld
	*		udiffold
	"\n"		udiff
d247 3
a249 3
:udiffnew FileNew
	*		udiffnew
	"\n"		udiff
d251 3
a253 3
:udiffhunkbegin DiffStuff
	*		udiffhunkbegin
	"\n"		udiffhunk
d255 3
a257 6
:udiffhunk Idle
	*		reset
	"-"		udiffoldordel	recolor=-1
	"+"		udiffadd	recolor=-1
	" "		udiffctx	recolor=-1
	"@@"		udiffhunkbegin	recolor=-1
d259 3
a261 3
:udiffoldordel Idle
	*		udiffdel	recolor=-2
	"-"		udiffold	recolor=-2
d263 3
a265 3
:udiffdel DelLine
	*		udiffdel
	"\n"		udiffhunk
d267 152
a418 3
:udiffadd AddLine
	*		udiffadd
	"\n"		udiffhunk
d420 3
a422 3
:udiffctx Unchanged
	*		udiffctx
	"\n"		udiffhunk
@


1.1
log
@Initial revision
@
text
@d1 2
@


1.1.201.1
log
@JOE's Own Editor 3.1
@
text
@@
