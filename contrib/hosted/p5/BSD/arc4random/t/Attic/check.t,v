head	1.3;
access;
symbols
	BSD__arc4random-1_40:1.2
	BSD__arc4random-1_30:1.1;
locks; strict;
comment	@# @;


1.3
date	2009.05.17.13.00.59;	author tg;	state dead;
branches;
next	1.2;
commitid	1004A100A8147CADED8;

1.2
date	2008.12.11.17.37.57;	author tg;	state Exp;
branches;
next	1.1;
commitid	1004941500B32285280;

1.1
date	2008.07.20.15.08.38;	author tg;	state Exp;
branches;
next	;
commitid	100488355032A2AF712;


desc
@@


1.3
log
@move mircvs://contrib/hosted/p5/BSD/arc4random/
  to mircvs://contrib/hosted/tg/code/BSD::arc4random/
and remove the entire mircvs://contrib/hosted/p5/ hierarchy
@
text
@# $MirOS: contrib/hosted/p5/BSD/arc4random/t/check.t,v 1.2 2008/12/11 17:37:57 tg Exp $

print "1..12\n";

use BSD::arc4random qw(:all);

my $enta = $RANDOM;
my $entb = $RANDOM;

# $RANDOM must output numerics
print "not " unless $enta =~ /^[0-9]+$/;
print "ok 1\n";

print "not " unless $entb =~ /^[0-9]+$/;
print "ok 2\n";

# $RANDOM output must be inside [0; 32767]
print "not " if (($enta < 0) || ($enta > 32767));
print "ok 3\n";

print "not " if (($entb < 0) || ($entb > 32767));
print "ok 4\n";

# $RANDOM output should differ each time
print "not " if ($enta == $entb);
print "ok 5\n";

# Check exported variables
my $v = ${BSD::arc4random::VERSION};
my $k = BSD::arc4random::have_kintf();
print "not " unless (($v =~ /^[0-9]+.[0-9]+$/) && (($k == 0) || ($k == 1)));
print "ok 6\n";
print STDERR "DIAG: BSD::arc4random $v with";
print STDERR "out" if $k == 0;
print STDERR " kernel interface\n";

# test storing to the tied variable
$RANDOM = 123;
$enta = $RANDOM;
$RANDOM = 456;
$entb = $RANDOM;
print "not " unless $enta =~ /^[0-9]+$/;
print "ok 7\n";
print "not " unless $entb =~ /^[0-9]+$/;
print "ok 8\n";
print "not " if (($enta < 0) || ($enta > 32767));
print "ok 9\n";
print "not " if (($entb < 0) || ($entb > 32767));
print "ok 10\n";
print "not " if ($enta == $entb);
print "ok 11\n";
print "not " if (($enta == 123) && ($entb == 456));
print "ok 12\n";
@


1.2
log
@improve
@
text
@d1 1
a1 1
# $MirOS: contrib/hosted/p5/BSD/arc4random/t/check.t,v 1.1 2008/07/20 15:08:38 tg Exp $
@


1.1
log
@Vutral requested a test suite to quell CPAN warning eMails
@
text
@d1 1
a1 1
# $MirOS$
d3 1
a3 1
print "1..5\n";
d27 27
@

