head	1.7;
access;
symbols
	ca-bundle-20170309:1.6
	ca-bundle-20140329:1.5
	ca-bundle-20120530:1.5
	ca-bundle_20110214:1.2.0.2;
locks; strict;
comment	@# @;


1.7
date	2017.07.31.17.44.56;	author tg;	state dead;
branches;
next	1.6;
commitid	100597F6CAF754E3CF3;

1.6
date	2017.03.09.15.45.35;	author tg;	state Exp;
branches;
next	1.5;
commitid	10058C178B92006A59C;

1.5
date	2012.05.30.19.50.46;	author tg;	state Exp;
branches;
next	1.4;
commitid	1004FC67A2937823E87;

1.4
date	2012.05.30.19.42.00;	author tg;	state Exp;
branches;
next	1.3;
commitid	1004FC6780B05ACF8E9;

1.3
date	2011.09.06.20.18.40;	author tg;	state Exp;
branches;
next	1.2;
commitid	1004E66803860B3D4BE;

1.2
date	2009.11.23.14.21.29;	author tg;	state Exp;
branches;
next	1.1;
commitid	1004B0A9A797B2E490E;

1.1
date	2009.11.22.22.08.45;	author tg;	state Exp;
branches;
next	;
commitid	1004B09B67E4C994FE3;


desc
@@


1.7
log
@stop tracking this in CVS
@
text
@#!/bin/sh
# $MirOS: contrib/hosted/tg/deb/ca-bundle/debian/ca-bundle.postrm,v 1.6 2017/03/09 15:45:35 tg Exp $

set -e

# This maintainer script can be called the following ways:
#
# * postrm "remove"
# * postrm "purge"
# * old-postrm "upgrade" $new_version
# * disappearers-postrm "disappear" $overwriter $o_version
# The package's files have been removed or replaced; only Essential pak-
# kages may be available; skip gracefully actions requiring Depends.
#
# * new-postrm "failed-upgrade" $old_version
# * new-postrm "failed-upgrade" $old_version $new_version # 1.18.5, stretch
# Called when 'old-postrm "upgrade"' fails; the new package is unpacked,
# Essential packages and Pre-Depends are available; the latter have been
# configured and never removed but may be Unpacked or Half-Configured.
#
# * new-postrm "abort-install" [$old_version]
# * new-postrm "abort-install" $old_version $new_version # 1.18.5, stretch
# * new-postrm "abort-upgrade" $old_version
# * new-postrm "abort-upgrade" $old_version $new_version # 1.18.5, stretch
# Called when preinst fails; package is not unpacked. Essential packages
# and (unpacked or Half-Configured) Pre-Depends are available.

case $1 in
remove)
	find /etc/ssl/certs -type l -print | while read f; do
		test -f "$f" || rm -f "$f"
	done
	;;

purge)
	rm -rf /etc/ca-certificates /etc/java/cacerts-gcj \
	    /etc/ssl/certs/ca-certificates.crt* /etc/ssl/certs/java
	test -d /etc/java && rmdir --ignore-fail-on-non-empty /etc/java
	test -d /etc/ssl/certs && \
	    rmdir --ignore-fail-on-non-empty /etc/ssl/certs
	test -d /etc/ssl && rmdir --ignore-fail-on-non-empty /etc/ssl
	;;

upgrade|disappear|failed-upgrade|abort-install|abort-upgrade)
	;;

*)
	echo >&2 "postrm called with unknown subcommand '$1'"
	exit 1
	;;
esac

# dh_installdeb will replace this with shell code automatically
# generated by other debhelper scripts.

#DEBHELPER#

exit 0
@


1.6
log
@update
@
text
@d2 1
a2 1
# $MirOS: contrib/hosted/tg/deb/ca-bundle/debian/ca-bundle.postrm,v 1.4 2012/05/30 19:42:00 tg Exp $
@


1.5
log
@other misc. packaging improvements
@
text
@d16 1
d22 1
d24 1
@


1.4
log
@merge rest of tarent packaging improvements: gcj, conflicts,
move the update-ca-certificates script back to /usr/sbin
@
text
@d2 1
a2 1
# $MirOS: contrib/hosted/tg/deb/ca-bundle/debian/ca-bundle.postrm,v 1.3 2011/09/06 20:18:40 tg Exp $
d35 1
@


1.3
log
@Fix maintainer scripts and drop dh_installdirs
@
text
@d2 1
a2 1
# $MirOS: contrib/hosted/tg/deb/jupp/debian/jupp.postrm,v 1.2 2011/09/06 20:07:39 tg Exp $
d33 2
a34 1
	rm -rf /etc/ssl/certs/ca-certificates.crt* /etc/ssl/certs/java
@


1.2
log
@upgrade and tweak
@
text
@d2 1
a2 1
# $MirOS$
d6 19
d31 1
d34 3
a36 2
	[ -d /etc/ssl/certs ] && rmdir --ignore-fail-on-non-empty /etc/ssl/certs
	[ -d /etc/ssl ] && rmdir --ignore-fail-on-non-empty /etc/ssl
d38 2
a39 1
upgrade|failed-upgrade|abort-install|abort-upgrade|disappear)
d41 1
d43 1
a43 1
	echo "postrm called with unknown argument '$1'" >&2
@


1.1
log
@dump almost all of the MirDebian “WTF” Repository in here
for further improvements, backups, collaboration possibilities, etc.
CVS: ----------------------------------------------------------------------
CVS: ATTENTION: read-only mode selected!
CVS: Enter Log.  Lines beginning with `CVS:' are removed automatically
CVS:
CVS: Committing in .
CVS:
CVS: Added Files:
CVS: 	ca-bundle/bsd/certdata.txt ca-bundle/bsd/keystore.jks
CVS: 	ca-bundle/bsd/ksslcalist ca-bundle/bsd/ssl.certs.shar
CVS: 	ca-bundle/debian/ca-bundle.install
CVS: 	ca-bundle/debian/ca-bundle.links
CVS: 	ca-bundle/debian/ca-bundle.manpages
CVS: 	ca-bundle/debian/ca-bundle.postinst
CVS: 	ca-bundle/debian/ca-bundle.postrm ca-bundle/debian/changelog
CVS: 	ca-bundle/debian/compat ca-bundle/debian/control
CVS: 	ca-bundle/debian/copyright ca-bundle/debian/rules
CVS: 	ca-bundle/debian/source.lintian-overrides
CVS: 	ca-bundle/debian/lintian/ca-bundle
CVS: 	ca-bundle/sbin/update-ca-certificates
CVS: 	ca-bundle/sbin/update-ca-certificates.8
CVS: 	mbsd-bug/debian/NOTE.crtstuff mbsd-bug/debian/NOTE.sysroot
CVS: 	mbsd-bug/debian/PKG.install
CVS: 	mbsd-bug/debian/PKG.lintian-overrides
CVS: 	mbsd-bug/debian/changelog mbsd-bug/debian/compat
CVS: 	mbsd-bug/debian/control mbsd-bug/debian/copyright
CVS: 	mbsd-bug/debian/mirdefs.h mbsd-bug/debian/rules
CVS: 	mbsd-bug/debian/source.lintian-overrides
CVS: 	mircpio/debian/changelog mircpio/debian/compat
CVS: 	mircpio/debian/control mircpio/debian/copyright
CVS: 	mircpio/debian/install mircpio/debian/manpages
CVS: 	mircpio/debian/rules mircpio/debian/watch
CVS: 	mircpio/debian/diffs/extern.h.diff mirmake/debian/changelog
CVS: 	mirmake/debian/compat mirmake/debian/control
CVS: 	mirmake/debian/copyright mirmake/debian/instnames.ed
CVS: 	mirmake/debian/mirmake.install mirmake/debian/mirmake.manpages
CVS: 	mirmake/debian/rules mirmake/debian/watch
CVS: 	openntpd/debian/changelog openntpd/debian/compat
CVS: 	openntpd/debian/control openntpd/debian/copyright
CVS: 	openntpd/debian/ntp.conf openntpd/debian/ntp.cron.daily
CVS: 	openntpd/debian/ntp.default openntpd/debian/ntp.dhcp
CVS: 	openntpd/debian/ntp.init openntpd/debian/ntpdate.default
CVS: 	openntpd/debian/ntpdate.dhcp openntpd/debian/ntpdate.if-up
CVS: 	openntpd/debian/openntpd.default openntpd/debian/openntpd.docs
CVS: 	openntpd/debian/openntpd.init
CVS: 	openntpd/debian/openntpd.postinst
CVS: 	openntpd/debian/openntpd.postrm openntpd/debian/openntpd.prerm
CVS: 	openntpd/debian/rules openntpd/debian/source.lintian-overrides
CVS: 	openntpd/debian/watch openntpd/debian/patches/00list
CVS: 	openntpd/debian/patches/01-config.dpatch
CVS: 	openntpd/debian/patches/02-reconnect.dpatch
CVS: 	openntpd/debian/patches/03-ipv4only.patch
CVS: 	openntpd/debian/patches/04-backslash.patch
CVS: 	openntpd/debian/patches/05-mirtropy.dpatch
CVS: 	openntpd/debian/patches/06-libbsd.dpatch
CVS: 	openntpd/debian/patches/07-fixsympas.dpatch
CVS: 	openntpd/debian/patches/openntpd-3.9p1-linux-adjtimex.diff
CVS: 	openntpd/debian/script/openntpd php-perl/debian/changelog
CVS: 	php-perl/debian/changelog.xsl php-perl/debian/compat
CVS: 	php-perl/debian/control php-perl/debian/copyright
CVS: 	php-perl/debian/docs php-perl/debian/pecl
CVS: 	php-perl/debian/perl.ini php-perl/debian/php5-perl.dirs
CVS: 	php-perl/debian/rules php-perl/debian/watch
CVS: 	wtf-debian-keyring/debian/changelog
CVS: 	wtf-debian-keyring/debian/control
CVS: 	wtf-debian-keyring/debian/copyright
CVS: 	wtf-debian-keyring/debian/postinst
CVS: 	wtf-debian-keyring/debian/prerm
CVS: 	wtf-debian-keyring/debian/rules
CVS: 	wtf-debian-keyring/keyrings/wtf-debian-keyring.gpg
CVS: 	wtf-debian-keyring/keyrings/wtf-debian-removed-keys.gpg
CVS: ----------------------------------------------------------------------
@
text
@d2 1
@

