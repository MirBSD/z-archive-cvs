head	1.6;
access;
symbols
	FWCF_1_06:1.6
	FWCF_1_05:1.6
	FWCF_1_04:1.6
	FWCF_1_03:1.6
	FWCF_1_01:1.6
	FWCF_1_00:1.6;
locks; strict;
comment	@ * @;


1.6
date	2006.09.26.10.25.03;	author tg;	state Exp;
branches;
next	1.5;
commitid	1004518FFF55AB578D0;

1.5
date	2006.09.16.07.35.37;	author tg;	state Exp;
branches;
next	1.4;
commitid	100450BA94D3353BC7D;

1.4
date	2006.09.16.03.52.04;	author tg;	state Exp;
branches;
next	1.3;
commitid	100450B74F3168B15F9;

1.3
date	2006.09.16.03.16.01;	author tg;	state Exp;
branches;
next	1.2;
commitid	100450B6C640AA56E5D;

1.2
date	2006.09.16.02.46.35;	author tg;	state Exp;
branches;
next	1.1;
commitid	100450B65865C735468;

1.1
date	2006.09.15.21.11.23;	author tg;	state Exp;
branches;
next	;
commitid	100450B16F309C2883E;


desc
@@


1.6
log
@* fix missing includes
* cast a little more, for systems other than MirOS #9-current
* spelling
* build fwcf.helper correctly without libz
@
text
@/* $MirOS: contrib/hosted/fwcf/fts_subs.h,v 1.5 2006/09/16 07:35:37 tg Exp $ */

/*
 * This file is part of the FreeWRT project. FreeWRT is copyrighted
 * material, please see the LICENCE file in the top-level directory
 * or at http://www.freewrt.org/licence for details.
 */

#ifndef FTS_SUBS_H
#define FTS_SUBS_H

struct FTSF_ENTRY {
	char pathname[MAXPATHLEN];
	struct stat *statp;
	enum {
		FTSF_DIR,
		FTSF_FILE,
		FTSF_SYMLINK,
		FTSF_OTHER
	} etype;
};
#ifndef PACK_H
typedef struct FTSF_ENTRY ftsf_entry;
#endif

#ifndef FTSF_INTERNALS
extern const char ftsf_prefix[];
#endif

__BEGIN_DECLS
void ftsf_start(const char *);
/* returns -1 on error, 0 on empty, 1 on okay */
int ftsf_next(ftsf_entry *);
void ftsf_debugent(ftsf_entry *);
__END_DECLS

#endif
@


1.5
log
@split the code into smaller units to reduce final executables' sizes
@
text
@d1 1
a1 1
/* $MirOS: contrib/hosted/fwcf/fts_subs.h,v 1.4 2006/09/16 03:52:04 tg Exp $ */
d6 1
a6 1
 * or at http://www.freewrt.org/license for details.
@


1.4
log
@be c++ friendly
@
text
@d1 1
a1 1
/* $MirOS: contrib/hosted/fwcf/fts_subs.h,v 1.3 2006/09/16 03:16:01 tg Exp $ */
d12 1
a12 1
typedef struct {
d21 4
a24 1
} ftsf_entry;
@


1.3
log
@wrong prototype.

NO MATTER what (almost) every C beginner's book and (human) tutor says,
contrary to popular belief, ARRAYS ARE NOT POINTERS and vice versa.
@
text
@d1 1
a1 1
/* $MirOS: contrib/hosted/fwcf/fts_subs.h,v 1.2 2006/09/16 02:46:35 tg Exp $ */
d27 1
d32 1
@


1.2
log
@separate the fts prefix from the pathname within
@
text
@d1 1
a1 1
/* $MirOS: contrib/hosted/fwcf/fts_subs.h,v 1.1 2006/09/15 21:11:23 tg Exp $ */
d24 1
a24 1
extern const char *ftsf_prefix;
@


1.1
log
@begin operating on file tree traversal, not finished yet
mkfwcf.c will only be enhanced by the compression functions
later, it's almost finished
@
text
@d1 1
a1 1
/* $MirOS$ */
d23 4
@

