head	1.5;
access;
symbols;
locks; strict;
comment	@# @;


1.5
date	2008.05.07.22.48.39;	author tg;	state Exp;
branches;
next	1.4;
commitid	100482231C374D9CA0B;

1.4
date	2008.03.09.17.23.27;	author tg;	state Exp;
branches;
next	1.3;
commitid	10047D41CAA7E715397;

1.3
date	2007.04.13.19.27.21;	author bsiegert;	state Exp;
branches;
next	1.2;
commitid	100461FD9A0761875DF;

1.2
date	2006.09.14.00.12.43;	author tg;	state Exp;
branches;
next	1.1;
commitid	10045089C0E234154C3;

1.1
date	2005.03.18.15.51.06;	author tg;	state Exp;
branches
	1.1.7.1;
next	;

1.1.7.1
date	2005.03.18.15.51.06;	author tg;	state Exp;
branches;
next	;


desc
@@


1.5
log
@â€¢ replace MODGNU_CONFIG_GUESS_DIRS with MODGNU_RECURSE_DIRS
â€¢ always place ${WRKSRC} itself at the end of MODGNU_RECURSE_DIRS due to
  recursion issues inside of autoconf itself
â€¢ if MODGNU_RECURSE_DIRS=${WRKSRC} stood in the Makefile, nuke it (default)
â€¢ remove dead reference to MODGNU_TWIDDLE_DIRS
@
text
@# $MirOS: ports/print/lyx/Makefile,v 1.4 2008/03/09 17:23:27 tg Exp $
# $OpenBSD: Makefile,v 1.32 2004/04/25 15:34:08 sturm Exp $

COMMENT=	graphical frontend for LaTeX (nearly WYSIWYG)

DISTNAME=	lyx-1.3.4
CATEGORIES=	print

HOMEPAGE=	http://www.lyx.org/

MASTER_SITES=	ftp://ftp.lyx.org/pub/lyx/stable/ \
		ftp://ftp.sdsc.edu/pub/other/lyx/stable/ \
		ftp://ftp.lip6.fr/pub/lyx/stable/ \
		ftp://ftp.chg.ru/pub/TeX/lyx/stable/


# In XForms flavour: quasi-GPL (linked to closed source library)
# In Qt flavour: GPL (this should be preferred for CD distribution)
# see http://www.lyx.org/about/license.php3 for additional info
PERMIT_PACKAGE_CDROM=	Yes
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes

MODULES=	devel/gettext

BUILD_DEPENDS+=	:teTeX_base-*:print/teTeX/base
RUN_DEPENDS+=	:teTeX_base-*:print/teTeX/base \
		:ispell-*:textproc/ispell
USE_GMAKE=	Yes

FLAVOURS=	qt xforms
FLAVOUR?=	qt

.if ${FLAVOUR:L} == "qt"
USE_CXX=	Yes
MODULES+=	x11/qt3
MODQT_MT=	Yes
CONFIGURE_ARGS=	--with-frontend=qt ${MODQT_CONFIGURE_ARGS}
CONFIGURE_ENV=	LIBS=-pthread
# A hack until LyX developers apply the patch to qt.m4 to respect $MOC and $UIC
CONFIGURE_ENV+=	ac_moc1=${MODQT_MOC} ac_uic=${MODQT_UIC}
.elif ${FLAVOUR:L} == "xforms"
LIB_DEPENDS+=	forms.1::x11/xforms
.else
ERRORS+= "Fatal: Conflicting flavour: ${FLAVOUR}"
.endif

CONFIGURE_STYLE=	gnu
MODGNU_RECURSE_DIRS=	${WRKSRC}/config

CONFIGURE_ARGS+=--with-extra-lib=${LOCALBASE}/lib \
		--with-extra-inc="${LOCALBASE}/include \
		${LOCALBASE}/include/X11" \
		--without-latex-config

# Necessary because of compilation error.  See:
# http://www.boost.org/libs/graph/doc/trouble_shooting.html
CXXFLAGS+=	-ftemplate-depth-30

NO_REGRESS=	Yes

INSTALL_TARGET=	install-strip

.include <bsd.port.mk>
@


1.4
log
@bulk convert FLAVOR to FLAVOUR; nuke unused file; convert to $Mdocdate
@
text
@d1 1
a1 1
# $MirOS: ports/print/lyx/Makefile,v 1.3 2007/04/13 19:27:21 bsiegert Exp $
d49 2
a50 2
CONFIGURE_STYLE=		gnu
MODGNU_CONFIG_GUESS_DIRS= ${WRKSRC}/config
@


1.3
log
@USE_CXX (dependency)
@
text
@d1 1
a1 1
# $MirOS$
d17 2
a18 2
# In XForms flavor: quasi-GPL (linked to closed source library)
# In Qt flavor: GPL (this should be preferred for CD distribution)
d32 2
a33 2
FLAVORS=	qt xforms
FLAVOR?=	qt
d35 1
a35 1
.if ${FLAVOR:L} == "qt"
d43 1
a43 1
.elif ${FLAVOR:L} == "xforms"
d46 1
a46 1
ERRORS+= "Fatal: Conflicting flavor: ${FLAVOR}"
@


1.2
log
@clean up COMMENT and HOMEPAGE; regenerate INDEX (2761, 169 marked as broken, probably many many more) ­ edited by script with manual postprocessing
@
text
@d1 1
d4 1
a4 1
COMMENT=			graphical frontend for LaTeX (nearly WYSIWYG)
d25 1
a25 1
MODULES=		devel/gettext
d36 1
@


1.1
log
@Initial revision
@
text
@d3 1
a3 1
COMMENT=	"graphical frontend for LaTeX (nearly WYSIWYG)"
@


1.1.7.1
log
@Import the MirPorts Framework, many files moved or renamed though, no KDE/QT
@
text
@@
