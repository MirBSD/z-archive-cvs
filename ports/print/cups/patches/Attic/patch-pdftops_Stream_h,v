head	1.2;
access;
symbols;
locks; strict;
comment	@# @;


1.2
date	2008.10.28.20.31.11;	author bsiegert;	state dead;
branches;
next	1.1;
commitid	1004907762122C91584;

1.1
date	2007.12.13.19.48.51;	author bsiegert;	state Exp;
branches;
next	;
commitid	10047618CBB00010118;


desc
@@


1.2
log
@SECURITY: Update cups to 1.3.9-0. This release fixes several security
bugs.

As this updates cups from 1.2 to 1.3, read the release notes when updating,
please.
@
text
@$MirOS: ports/print/cups/patches/patch-pdftops_Stream_h,v 1.1 2007/12/13 19:48:51 bsiegert Exp $
--- pdftops/Stream.h.orig	2007-12-11 23:12:02.000000000 +0100
+++ pdftops/Stream.h	2007-12-11 23:12:16.000000000 +0100
@@@@ -519,13 +519,15 @@@@ private:
   int row;			// current row
   int inputBuf;			// input buffer
   int inputBits;		// number of bits in input buffer
-  short *refLine;		// reference line changing elements
-  int b1;			// index into refLine
-  short *codingLine;		// coding line changing elements
-  int a0;			// index into codingLine
+  int *codingLine;		// coding line changing elements
+  int *refLine;			// reference line changing elements
+  int a0i;			// index into codingLine
+  GBool err;			// error on current line
   int outputBits;		// remaining ouput bits
   int buf;			// character buffer
 
+  void addPixels(int a1, int black);
+  void addPixelsNeg(int a1, int black);
   short getTwoDimCode();
   short getWhiteCode();
   short getBlackCode();
@


1.1
log
@SECURITY: Plug the biggest holes in cups _again_. This time:
CVE-2007-4352, CVE-2007-5392, and CVE-2007-5393.

These can in principle allow an attacker to exploit your server by printing
a prepared PDF file on your network printer.
@
text
@d1 1
a1 1
$MirOS$
@

