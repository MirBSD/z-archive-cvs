head	1.6;
access;
symbols;
locks; strict;
comment	@# @;


1.6
date	2009.06.22.11.01.01;	author tg;	state dead;
branches;
next	1.5;
commitid	1004A3F6468778B5F85;

1.5
date	2006.09.14.00.12.41;	author tg;	state Exp;
branches;
next	1.4;
commitid	10045089C0E234154C3;

1.4
date	2005.12.16.10.44.31;	author tg;	state Exp;
branches;
next	1.3;
commitid	10043A29A82192CF6ED;

1.3
date	2005.08.21.11.49.58;	author tg;	state Exp;
branches;
next	1.2;
commitid	3af74308676450c3;

1.2
date	2005.07.07.21.25.30;	author bsiegert;	state Exp;
branches;
next	1.1;
commitid	66bc42cd9a7ea714;

1.1
date	2005.03.18.15.51.03;	author tg;	state Exp;
branches
	1.1.7.1;
next	;

1.1.7.1
date	2005.03.18.15.51.03;	author tg;	state Exp;
branches;
next	;


desc
@@


1.6
log
@Switch gentium-font to DFSG free (slightly) Debian based package,
with a @@pkgcfl of course; add ttf-sil-gentium-basic
@
text
@# $MirOS: ports/print/gentium-font/Makefile,v 1.5 2006/09/14 00:12:41 tg Exp $

COMMENT=			freeware font with many latin/greek/cyrillic glyphs
CATEGORIES=		print graphics textproc productivity x11
V=			102
DISTNAME=		Gentium_${V}_W
PKGNAME=		gentium-${V}-0
HOMEPAGE=		http://scripts.sil.org/cms/scripts/page.php?site_id=nrsi&cat_id=FontDownloadsGentium
RESPONSIBLE=		Thorsten Glaser <tg@@mirbsd.de>

# OFL
PERMIT_DISTFILES_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_PACKAGE_FTP=	"modified package, would have to change font name"
PERMIT_PACKAGE_CDROM=	"modified package, would have to change font name"

# Backup only
MASTER_SITES=		${_MASTER_SITE_MIRBSD}

EXTRACT_SUFX=		.zip
FETCH_NAME=		${ALLFILES:S@@^@@${FULLDISTDIR}/@@}
WRKDIST=		${WRKDIR}/Gentium${V}

FONTDIR=		${PREFIX}/lib/X11/fonts/gentium
DOCS=			FONTLOG.txt FONTLOG.txt \
			GENTIUM-FAQ.txt FAQ.txt \
			OFL.txt OFL.txt
FONTS=			GenAI${V}.TTF GenAI${V}.ttf \
			GenAR${V}.TTF GenAR${V}.ttf \
			GenI${V}.TTF GenI${V}.ttf \
			GenR${V}.TTF GenR${V}.ttf

SUBST_VARS+=		V
USE_X11=		Yes
NO_BUILD=		Yes
NO_REGRESS=		Yes

do-fetch:
	@@( mkdir -p ${FETCH_NAME:H}; cd ${FETCH_NAME:H}; \
	   f=${FETCH_NAME:S@@^${FULLDISTDIR}/@@@@}; if test ! -e $$f; then \
		${ECHO_MSG} ">> $$f doesn't seem to exist on this system."; \
		${_CDROM_OVERRIDE}; site=http://scripts.sil.org/; \
		${ECHO_MSG} ">> Attempting to fetch $$f from $${site}."; \
		if /usr/bin/ftp -Vmo $$f \
		    'xhttp://scripts.sil.org/cms/scripts/render_download.php?site_id=nrsi&format=file&media_id=${DISTNAME}&_sc=1'; then \
			exit 0; \
		fi; exit 1; \
	fi; ) || (cd ${.CURDIR} && exec ${MAKE} ${ALLFILES:S@@^@@${FULLDISTDIR}/@@})

do-install:
	${INSTALL_DATA_DIR} ${FONTDIR}
.for _o _n in ${DOCS} ${FONTS}
	${INSTALL_DATA} ${WRKSRC}/${_o} ${FONTDIR}/${_n}
.endfor
	cd ${FONTDIR} && ${X11BASE}/bin/mkfontscale -x txt .
	cp ${FONTDIR}/fonts.scale ${FONTDIR}/fonts.dir
	fc-cache ${FONTDIR}

.include <bsd.port.mk>
@


1.5
log
@clean up COMMENT and HOMEPAGE; regenerate INDEX (2761, 169 marked as broken, probably many many more) ­ edited by script with manual postprocessing
@
text
@d1 1
a1 1
# $MirOS: ports/print/gentium-font/Makefile,v 1.4 2005/12/16 10:44:31 tg Exp $
@


1.4
log
@long awaited update to 1.02
sadly we still cannot distribute the binary package,
pending answer on an eMail to SIL, resp. Victor Gaultney
@
text
@d1 1
a1 1
# $MirOS: ports/print/gentium-font/Makefile,v 1.3 2005/08/21 11:49:58 tg Exp $
d3 1
a3 1
COMMENT=		"freeware font with many latin/greek/cyrillic glyphs"
@


1.3
log
@_DOMAIN_DU_JOUR dies
@
text
@d1 1
a1 1
# $MirOS: ports/print/gentium-font/Makefile,v 1.2 2005/07/07 21:25:30 bsiegert Exp $
d3 7
a9 7
COMMENT=	"freeware font with many latin and greek glyphs"
CATEGORIES=	print graphics textproc productivity x11
V=		101
DISTNAME=	Gentium_${V}_W
PKGNAME=	gentium-${V}-0
HOMEPAGE=	http://scripts.sil.org/cms/scripts/page.php?site_id=nrsi&cat_id=FontDownloadsGentium
RESPONSIBLE=	Thorsten Glaser <tg@@66h.42h.de>
d11 1
a11 1
# They call it "copyrighted freeware"
d13 24
a36 15
PERMIT_DISTFILES_CDROM=	"must not bundle"
PERMIT_PACKAGE_FTP=	Yes
PERMIT_PACKAGE_CDROM=	"must distribute unmodified package"

EXTRACT_SUFX=	.zip
FETCH_NAME=	${ALLFILES:S@@^@@${FULLDISTDIR}/@@}
WRKDIST=	${WRKDIR}/Gentium${V}

FONTDIR=	${PREFIX}/lib/X11/fonts/gentium
DOCS=		Gentium${V}ReadMe.txt.fmt ReadMe.txt
FONTS=		GenAI${V}.TTF GenAI${V}.ttf GenAR${V}.TTF GenAR${V}.ttf \
		GenI${V}.TTF GenI${V}.ttf GenR${V}.TTF GenR${V}.ttf

SUBST_VARS+=	V
NO_REGRESS=	Yes
d45 1
a45 1
		    'http://scripts.sil.org/cms/scripts/render_download.php?site_id=nrsi&format=file&media_id=${DISTNAME}&_sc=1'; then \
d48 1
a48 12
	fi; )

do-build:
.for _o _n in ${DOCS}
	(i=0; cd ${WRKSRC} && print '/^----/+1,$$p\nq' \
	    | ed -s ${_o:S/.fmt$//} | while read x; do print -r -- "$$x"; \
		if [[ $$i = 0 ]]; then \
			[[ $$x = VERSION\ DETAILS* ]] && i=1; \
		else	[[ $$x = Version\ * ]] && print; \
		fi; done | fmt -psw66 >${_o} \
	    && ed -s ${_o} <${FILESDIR}/${_n}.ed)
.endfor
@


1.2
log
@Semi-automatic update of the remaining ports to the new patchlevel format.

Please correct mistakes if you find them :).
@
text
@d1 1
a1 1
# $MirOS$
d9 1
a9 1
RESPONSIBLE=	Thorsten Glaser <tg@@${_DOMAIN_DU_JOUR}>
@


1.1
log
@Initial revision
@
text
@d7 1
a7 1
PKGNAME=	gentium-${V}
@


1.1.7.1
log
@Import the MirPorts Framework, many files moved or renamed though, no KDE/QT
@
text
@@
