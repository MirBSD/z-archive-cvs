head	1.7;
access;
symbols;
locks; strict;
comment	@# @;


1.7
date	2008.10.30.20.29.20;	author bsiegert;	state Exp;
branches;
next	1.6;
commitid	100490A17554984BBA6;

1.6
date	2007.02.22.22.57.52;	author tg;	state Exp;
branches;
next	1.5;
commitid	10045DE1FF10F590776;

1.5
date	2006.10.06.14.44.42;	author tg;	state Exp;
branches;
next	1.4;
commitid	10045266BE740F7743A;

1.4
date	2006.09.14.00.10.34;	author tg;	state Exp;
branches;
next	1.3;
commitid	10045089C0E234154C3;

1.3
date	2006.02.09.09.36.01;	author tg;	state Exp;
branches;
next	1.2;
commitid	10043EB0C94610EDE76;

1.2
date	2005.12.15.18.50.23;	author tg;	state Exp;
branches;
next	1.1;
commitid	10043A1BAF221E457CF;

1.1
date	2005.03.18.15.49.34;	author tg;	state Exp;
branches
	1.1.7.1;
next	;

1.1.7.1
date	2005.03.18.15.49.34;	author tg;	state Exp;
branches;
next	;


desc
@@


1.7
log
@SECURITY: Update fetchmail to 6.3.8, with two security patches.

The fetchmail developers chose to distribute the patches in the WORST
way possible: embedding it, along with the description, in a PGP clearsigned
text file, which mangles "-" lines to "- -". Then they tell you to remove
these by hand. Oh, and the patches do not apply without -l (because of
mangled whitespace). Of course, one of these needs -p0 and the other one
-p1. Sigh.
@
text
@# $MirOS: ports/mailnews/fetchmail/Makefile,v 1.6 2007/02/22 22:57:52 tg Exp $
# $OpenBSD: Makefile,v 1.104 2005/10/27 21:58:51 bernd Exp $

COMMENT=		mail retrieval utility for POP2, POP3, IMAP, and more
DISTNAME=		fetchmail-6.3.8
CATEGORIES=		mailnews
MASTER_SITES=		http://download.berlios.de/fetchmail/ \
			http://download2.berlios.de/fetchmail/
EXTRACT_SUFX=		.tar.bz2
HOMEPAGE=		http://fetchmail.berlios.de/

# GPL
PERMIT_PACKAGE_CDROM=	Yes
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes

CONFIGURE_STYLE=	autoconf
AUTOCONF_NEW=		Yes
CONFIGURE_ARGS+=	--disable-nls \
			--enable-NTLM \
			--without-kerberos \
			--with-ssl
.if ${OStype} == "OpenBSD"
CONFIGURE_ARGS+=	--with-kerberos5
.else
CONFIGURE_ARGS+=	--without-kerberos5
.endif
CONFIGURE_ENV+=		am_cv_pathless_PYTHON=none

NO_REGRESS=		Yes

DOCS=			COPYING FAQ FEATURES NEWS NOTES OLDNEWS README \
			README.SSL TODO design-notes.html \
			esrs-design-notes.html fetchmail-FAQ.html \
			fetchmail-FAQ.pdf fetchmail-features.html

post-build:
	sed -e 's#@@PREFIX@@#${LOCALBASE}#g' <${FILESDIR}/fetchmailconf \
	    >${WRKBUILD}/fetchmailconf

post-install:
	${INSTALL_DATA_DIR} ${PREFIX}/share/doc/fetchmail
	cd ${WRKSRC} && ${INSTALL_DATA} ${DOCS} ${PREFIX}/share/doc/fetchmail/
	cd ${PREFIX}/man/man1 && \
	    mv fetchmail.1 fetchmail.tbl && \
	    ln -s fetchmail.tbl fetchmailconf.tbl
	${INSTALL_SCRIPT} ${WRKBUILD}/fetchmailconf ${PREFIX}/bin/
	${INSTALL_SCRIPT} ${WRKSRC}/fetchmailconf.py ${PREFIX}/libexec/

.include <bsd.port.mk>
@


1.6
log
@remove redundancy
@
text
@d1 1
a1 1
# $MirOS: ports/mailnews/fetchmail/Makefile,v 1.5 2006/10/06 14:44:42 tg Exp $
d5 2
a6 2
DISTNAME=		fetchmail-6.3.4
CATEGORIES=		mail
@


1.5
log
@this is one of the ports I should definitively update more often... shame on me
@
text
@d1 1
a1 1
# $MirOS: ports/mailnews/fetchmail/Makefile,v 1.4 2006/09/14 00:10:34 tg Exp $
d20 1
a20 2
CONFIGURE_ARGS+=	--disable-dependency-tracking \
			--disable-nls \
@


1.4
log
@clean up COMMENT and HOMEPAGE; regenerate INDEX (2761, 169 marked as broken, probably many many more) ­ edited by script with manual postprocessing
@
text
@d1 1
a1 1
# $MirOS: ports/mailnews/fetchmail/Makefile,v 1.3 2006/02/09 09:36:01 tg Exp $
d4 2
a5 3
COMMENT=			mail retrieval utility for POP2, POP3, IMAP, and more

DISTNAME=		fetchmail-6.2.5.2
d7 3
a9 1
MASTER_SITES=		http://download.berlios.de/fetchmail/
d18 7
a24 3
CONFIGURE_STYLE=	gnu
CONFIGURE_ARGS+=	--disable-nls --enable-inet6 --with-ssl \
			--without-kerberos --enable-NTLM
d30 1
d34 8
a41 8
DOCS=	FAQ NOTES FEATURES README COPYING fetchmail-FAQ.html \
	fetchmail-features.html design-notes.html todo.html

pre-patch:
	@@sed -e "s|@@PREFIX@@|${LOCALBASE}|" \
	  ${FILESDIR}/fetchmailconf > ${WRKDIR}/fetchmailconf
	@@tbl ${WRKSRC}/fetchmail.man > ${WRKSRC}/fetchmail.tbl && \
	  cp -f ${WRKSRC}/fetchmail.tbl ${WRKSRC}/fetchmail.man
d45 6
a50 5
	@@cd ${PREFIX}/man/man1 && ln -sf fetchmail.1 fetchmailconf.1
	cd ${WRKSRC} && ${INSTALL_DATA} ${DOCS} ${PREFIX}/share/doc/fetchmail
	${INSTALL_SCRIPT} ${WRKSRC}/fetchmailconf \
	  ${PREFIX}/libexec/fetchmailconf.bin
	${INSTALL_SCRIPT} ${WRKDIR}/fetchmailconf ${PREFIX}/bin
@


1.3
log
@remove SEPARATE_BUILD for once and for good, I'm fed up with
all the trouble it can cause - ports which need it (e.g. the
GCC SC doesnt "support" building gcc with srcdir=objdir) can
set stuff like WRKBUILD themselves.
@
text
@d1 1
a1 1
# $MirOS: ports/mailnews/fetchmail/Makefile,v 1.2 2005/12/15 18:50:23 tg Exp $
d4 1
a4 1
COMMENT=		"mail retrieval utility for POP2, POP3, IMAP, and more"
@


1.2
log
@* Security update to 6.2.5.2
* Move to BerliOS

From OpenBSD
@
text
@d1 1
a1 1
# $MirOS: ports/mailnews/fetchmail/Makefile,v 1.1.7.1 2005/03/18 15:49:34 tg Exp $
a16 1
SEPARATE_BUILD=		concurrent
@


1.1
log
@Initial revision
@
text
@d1 2
a2 2
# $MirOS$
# $OpenBSD: Makefile,v 1.98 2003/10/15 23:08:49 fgsch Exp $
d4 1
a4 8
COMMENT=	"mail retrieval utility for POP2, POP3, IMAP and more"

DISTNAME=	fetchmail-6.2.5
CATEGORIES=	mail
MASTER_SITES=	http://catb.org/~esr/fetchmail/ \
		ftp://ftp.ccil.org/pub/esr/fetchmail/ 

HOMEPAGE=	http://catb.org/~esr/fetchmail/
d6 4
d11 1
d17 9
a25 6
SEPARATE_BUILD=	concurrent
CONFIGURE_STYLE= gnu
CONFIGURE_ARGS=	--disable-nls --enable-inet6 --with-ssl \
		--without-kerberos --without-kerberos5 --enable-NTLM
CONFIGURE_ENV=	CPPFLAGS="-I${LOCALBASE}/include" \
		LDFLAGS="$(LDFLAGS) -L${LOCALBASE}/lib"
d27 1
a27 1
NO_REGRESS=	Yes
@


1.1.7.1
log
@Import the MirPorts Framework, many files moved or renamed though, no KDE/QT
@
text
@@
