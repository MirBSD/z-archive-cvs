head	1.31;
access;
symbols;
locks; strict;
comment	@# @;


1.31
date	2017.08.07.20.16.09;	author tg;	state Exp;
branches;
next	1.30;
commitid	1005988C69344442E37;

1.30
date	2015.07.19.12.25.43;	author tg;	state Exp;
branches;
next	1.29;
commitid	10055AB97502B6E820F;

1.29
date	2015.07.18.23.38.44;	author tg;	state Exp;
branches;
next	1.28;
commitid	10055AAE46E74CA36A1;

1.28
date	2012.10.18.17.11.53;	author tg;	state Exp;
branches;
next	1.27;
commitid	100508039930C37C90B;

1.27
date	2009.08.16.16.27.26;	author tg;	state Exp;
branches;
next	1.26;
commitid	1004A882F1F72B43308;

1.26
date	2008.12.09.13.18.34;	author tg;	state Exp;
branches;
next	1.25;
commitid	100493E703A222CF6AF;

1.25
date	2008.12.09.13.05.05;	author tg;	state Exp;
branches;
next	1.24;
commitid	100493E6CF600A01519;

1.24
date	2008.10.04.19.03.17;	author tg;	state Exp;
branches;
next	1.23;
commitid	10048E7BD9A0842B398;

1.23
date	2008.03.09.17.23.07;	author tg;	state Exp;
branches;
next	1.22;
commitid	10047D41CAA7E715397;

1.22
date	2006.09.20.22.24.50;	author tg;	state Exp;
branches;
next	1.21;
commitid	1004511BFAD3427E1F6;

1.21
date	2006.09.14.00.10.45;	author tg;	state Exp;
branches;
next	1.20;
commitid	10045089C0E234154C3;

1.20
date	2006.05.08.16.00.41;	author tg;	state Exp;
branches;
next	1.19;
commitid	100445F6B1228A832C9;

1.19
date	2006.03.19.18.37.24;	author tg;	state Exp;
branches;
next	1.18;
commitid	100441DA4CE6108BCF9;

1.18
date	2005.12.16.14.54.33;	author tg;	state Exp;
branches;
next	1.17;
commitid	10043A2D50E343AFA90;

1.17
date	2005.12.15.14.26.16;	author tg;	state Exp;
branches;
next	1.16;
commitid	10043A17D1C7A9F8A2E;

1.16
date	2005.12.15.14.24.17;	author tg;	state Exp;
branches;
next	1.15;
commitid	10043A17C743029E031;

1.15
date	2005.10.07.20.02.38;	author tg;	state Exp;
branches;
next	1.14;
commitid	6a484346d46d376b;

1.14
date	2005.10.07.20.00.38;	author tg;	state Exp;
branches;
next	1.13;
commitid	5fec4346d3f6a395;

1.13
date	2005.10.07.19.50.23;	author tg;	state Exp;
branches;
next	1.12;
commitid	72494346d18e450a;

1.12
date	2005.10.07.19.47.06;	author tg;	state Exp;
branches;
next	1.11;
commitid	af14346d0bc25e8;

1.11
date	2005.10.07.19.43.07;	author tg;	state Exp;
branches;
next	1.10;
commitid	4d104346cfdbb276;

1.10
date	2005.10.07.19.40.54;	author tg;	state Exp;
branches;
next	1.9;
commitid	42794346cf206d2b;

1.9
date	2005.10.01.19.06.54;	author tg;	state Exp;
branches;
next	1.8;
commitid	6632433ede5bacd8;

1.8
date	2005.10.01.19.00.16;	author tg;	state Exp;
branches;
next	1.7;
commitid	537d433edcbb0f8b;

1.7
date	2005.08.21.11.49.13;	author tg;	state Exp;
branches;
next	1.6;
commitid	3af74308676450c3;

1.6
date	2005.07.07.21.23.06;	author bsiegert;	state Exp;
branches;
next	1.5;
commitid	66bc42cd9a7ea714;

1.5
date	2005.05.06.17.35.31;	author tg;	state Exp;
branches;
next	1.4;
commitid	484e427baaf066b6;

1.4
date	2005.05.04.23.37.38;	author tg;	state Exp;
branches;
next	1.3;
commitid	754a42795cc6ddd3;

1.3
date	2005.04.26.05.44.30;	author tg;	state Exp;
branches;
next	1.2;

1.2
date	2005.04.19.12.24.34;	author tg;	state Exp;
branches;
next	1.1;

1.1
date	2005.03.18.15.49.47;	author tg;	state Exp;
branches
	1.1.7.1;
next	;

1.1.7.1
date	2005.03.18.15.49.47;	author tg;	state Exp;
branches;
next	;


desc
@@


1.31
log
@filesystem
@
text
@# $MirOS: ports/mailnews/pine/Makefile,v 1.30 2015/07/19 12:25:43 tg Exp $
# $OpenBSD: Makefile,v 1.56 2003/10/05 21:42:29 jakob Exp $

ONLY_FOR_PLATFORM=	OpenBSD:*:* MirBSD:*:*

COMMENT=		program for Internet News and eMail
COMMENT-cclient=	University of Washington c-client mail access routines
COMMENT-daemon=		University of Washington IMAP4rev1/POP2/POP3 mail servers
COMMENT-mailutil=	University of Washington IMAP4rev1/POP2/POP3 mail utility
COMMENT-pico=		small text editor
COMMENT-pilot=		filesystem browser
CATEGORIES=		devel editors mail net news sysutils
VERSION=		4.64
PICO_VERSION=		4.10
PILOT_VERSION=		2.0
IMAP_VERSION=		2004.357
CCLIENT_PATCHLEV=	9
#PINE_PATCHLEV=		9	# must be the highest
PINE_PATCHLEV?=		${CCLIENT_PATCHLEV}
PICOLOT_PATCHLEV=	3
DISTNAME=		pine${VERSION}
PKGNAME=		pine-${VERSION}-${PINE_PATCHLEV}
PKGNAME-cclient=	c-client-${VERSION}-${CCLIENT_PATCHLEV}
PKGNAME-daemon=		imap-uw-${IMAP_VERSION}-${CCLIENT_PATCHLEV}
PKGNAME-mailutil=	mailutil-uw-${IMAP_VERSION}-${CCLIENT_PATCHLEV}
FULLPKGNAME-pico=	pico-${PICO_VERSION}-${PICOLOT_PATCHLEV}
FULLPKGNAME-pilot=	pilot-${PILOT_VERSION}-${PICOLOT_PATCHLEV}
MASTER_SITES=		ftp://ftp.cac.washington.edu/pine/old/ \
			ftp://ftp.sunet.se/pub/unix/mail/pine/old/ \
			ftp://ftp.cac.washington.edu/pine/ \
			ftp://ftp.sunet.se/pub/unix/mail/pine/
EXTRACT_SUFX=		.tar.Z
HOMEPAGE=		http://www.washington.edu/pine/
RESPONSIBLE=		Thorsten Glaser <tg@@mirbsd.org>

# Free, but cannot distribute with non-opensource on same media.
# Modified versions must be marked as such.
PERMIT_PACKAGE_CDROM=	"restricts mere aggregation"
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	"restricts mere aggregation"
PERMIT_DISTFILES_FTP=	Yes

NO_REGRESS=		Yes

FLAVOURS=		ldap plaintext
FLAVOUR?=

.include <mirports.sys.mk>

MULTI_PACKAGES=		-cclient -daemon -mailutil -pico -pilot
SUBPACKAGE?=

PINE_BUILD_FLAGS=	CC=${_PASS_CC:T:Q} EXTRACFLAGS=${CFLAGS:Q} \
			LOCALBASE="${LOCALBASE}" PICFLAG="${PICFLAG}"
.if defined(NO_SHARED_LIBS) && ${NO_SHARED_LIBS:L} == "yes"
PINE_BUILD_FLAGS+=	NO_SHARED_LIBS=yes
.endif

.if ${FLAVOUR:L:Mldap}
PINE_BUILD_FLAGS+=	LDAPLIBS="-L${LOCALBASE}/lib -lldap -llber" \
			LDAPCFLAGS="-DENABLE_LDAP -I${LOCALBASE}/include"
.  if ${SUBPACKAGE} != "-pico" && ${SUBPACKAGE} != "-pilot"
LIB_DEPENDS+=		ldap.2:openldap-client-2.*:databases/openldap
.  endif
.endif

.if ${FLAVOUR:L:Mplaintext}
PINE_BUILD_FLAGS+=	SSLTYPE="unix"
.else
PINE_BUILD_FLAGS+=	SSLTYPE="unix.nopwd"
.endif

IMAP_DOCFILES=		../CPYRIGHT FAQ.html FAQ.txt RELNOTES Y2K bugs.txt \
			calendar.txt commndmt.txt drivers.txt formats.txt \
			imaprc.txt internal.txt locking.txt md5.txt naming.txt

LIB_HEADERS=		c-client.h env.h env_unix.h flstring.h fs.h ftl.h \
			imap4r1.h linkage.c linkage.h mail.h misc.h nl.h \
			nntp.h osdep.h rfc822.h smtp.h tcp.h utf8.h

ATSED=			-e 's!@@SHELL@@!${SHELL}!g' \
			-e 's!@@PREFIX@@!${TRUEPREFIX}!g' \
			-e 's!@@ETC@@!${SYSCONFDIR}!g'
ATSED_DEPS=		build imap/Makefile imap/src/imapd/Makefile \
			imap/src/osdep/unix/Makefile \
			imap/src/osdep/unix/Makefile.md5 \
			imap/src/osdep/unix/env_unix.h \
			pine/osdep/os-bso.h pine/pine.hlp
ATSED_FILES=		doc/pine.1 imap/src/tmail/tmail.1

post-extract:
	@@cp ${FILESDIR}/ckp_bso.c ${WRKSRC}/imap/src/osdep/unix/

do-build:
.for _i in pine.smime.init pine.smime dot.pinerc.pgp.sample
	sed ${ATSED} <${FILESDIR}/${_i} >${WRKBUILD}/${_i}
.endfor
	sed ${ATSED} ${WRKSRC}/doc/tech-notes.txt \
	    >${WRKBUILD}/doc/tech-notes.txt.new
.for _i in ${ATSED_DEPS}
	cd ${WRKSRC} && mv ${_i} ${_i}.bak && sed ${ATSED} <${_i}.bak >${_i}
.endfor
	@@cd ${WRKSRC} && chmod a+x build && exec ${SETENV} ${MAKE_ENV} \
	    ./build ${PINE_BUILD_FLAGS} bso

do-install:
.for _i in ${ATSED_FILES}
	cd ${WRKSRC} && mv ${_i} ${_i}.bak && sed ${ATSED} <${_i}.bak >${_i}
.endfor
	${INSTALL_DATA_DIR} ${PREFIX}/share/doc/pine
	${INSTALL_DATA_DIR} ${PREFIX}/share/doc/imap-uw
	${INSTALL_DATA_DIR} ${PREFIX}/include/c-client
	cd ${WRKSRC}/bin; ${INSTALL_PROGRAM} pico pilot pine \
	    rpdump rpload ${PREFIX}/bin/
	cd ${WRKSRC}/doc; ${INSTALL_MAN} pico.1 pilot.1 pine.1 \
	    rpdump.1 rpload.1 ${PREFIX}/man/man1/
	${INSTALL_PROGRAM} ${WRKSRC}/imap/dmail/dmail ${PREFIX}/libexec
	${INSTALL_PROGRAM} ${WRKSRC}/imap/imapd/imapd ${PREFIX}/libexec
	${INSTALL_PROGRAM} ${WRKSRC}/imap/ipopd/ipop2d ${PREFIX}/libexec
	${INSTALL_PROGRAM} ${WRKSRC}/imap/ipopd/ipop3d ${PREFIX}/libexec
	${INSTALL_PROGRAM} ${WRKSRC}/imap/mailutil/mailutil ${PREFIX}/bin
	${INSTALL_PROGRAM} ${WRKSRC}/imap/mlock/mlock ${PREFIX}/libexec
	${INSTALL_PROGRAM} ${WRKSRC}/imap/tmail/tmail ${PREFIX}/libexec
	${INSTALL_MAN} ${WRKSRC}/imap/src/dmail/dmail.1 ${PREFIX}/man/man1
	${INSTALL_MAN} ${WRKSRC}/imap/src/imapd/imapd.8 \
	    ${PREFIX}/man/man8/imapd.8
	${INSTALL_MAN} ${WRKSRC}/imap/src/ipopd/ipopd.8 \
	    ${PREFIX}/man/man8/ipop2d.8
	cd ${PREFIX}/man/man8 && ln ipop2d.8 ipop3d.8
	${INSTALL_MAN} ${WRKSRC}/imap/src/mailutil/mailutil.1 ${PREFIX}/man/man1
	${INSTALL_MAN} ${WRKSRC}/imap/src/tmail/tmail.1 ${PREFIX}/man/man1
.for _i in pgpencrypt pgpdecode pgpsign mbxfix
	${INSTALL_SCRIPT} ${FILESDIR}/${_i} ${PREFIX}/bin/
.endfor
.for _i in pine.smime.init pine.smime
	${INSTALL_SCRIPT} ${WRKBUILD}/${_i} ${PREFIX}/bin/
.endfor
	${INSTALL_DATA} ${WRKBUILD}/dot.pinerc.pgp.sample \
	    ${PREFIX}/share/doc/pine/
	${INSTALL_DATA} ${WRKBUILD}/doc/tech-notes.txt.new \
	    ${PREFIX}/share/doc/pine/tech-notes.txt
	${INSTALL_DATA} ${WRKSRC}/doc/brochure.txt ${WRKSRC}/CPYRIGHT \
	    ${PREFIX}/share/doc/pine/
	cd ${WRKSRC}/imap/docs; ${INSTALL_DATA} ${IMAP_DOCFILES} \
	    ${PREFIX}/share/doc/imap-uw/
	cd ${WRKSRC}/imap/c-client; ${INSTALL_DATA} ${LIB_HEADERS} \
	    ${PREFIX}/include/c-client/
	${INSTALL_DATA} ${WRKSRC}/imap/c-client/c-client.a \
	    ${PREFIX}/lib/libc-client.a
	${INSTALL_DATA} ${WRKSRC}/imap/c-client/c-client_pic.a \
	    ${PREFIX}/lib/libc-client_pic.a

.include <bsd.port.mk>
@


1.30
log
@revert the now no longer needed patches from yesternight, MirSSL copes now
@
text
@d1 1
a1 1
# $MirOS: ports/mailnews/pine/Makefile,v 1.29 2015/07/18 23:38:44 tg Exp $
d11 1
a11 1
COMMENT-pilot=		file system browser
@


1.29
log
@teach pine proper SSL plus honouring ${LDSTATIC}
@
text
@d1 1
a1 1
# $MirOS: ports/mailnews/pine/Makefile,v 1.28 2012/10/18 17:11:53 tg Exp $
d17 2
a18 2
CCLIENT_PATCHLEV=	8
#PINE_PATCHLEV=		8	# must be the highest
@


1.28
log
@add PIC c-client static library
@
text
@d1 1
a1 1
# $MirOS: ports/mailnews/pine/Makefile,v 1.27 2009/08/16 16:27:26 tg Exp $
d17 2
a18 3
PINE_PATCHLEV=		7	# must be the highest
CCLIENT_PATCHLEV=	7
PICOLOT_PATCHLEV=	2
d20 1
@


1.27
log
@change
‚Ä¢ _PASS_CC back from „Äåmpcc„Äç to „Äå${WRKDIR}/bin/mpcc„Äç (note that the
  former „Äå${WRKDIR:Q}/bin/mpcc„Äç was wrong)
‚Ä¢ all uses of _PASS_CC to either
  ‚Ä£ ${_PASS_CC:T:Q} (when passing, e.g. for libtool ‚Äì this is for use
    when ${WRKDIR}/bin is in $$PATH)
  ‚Ä£ ${_PASS_CC:Q} (when invoking, e.g. in post-build targets ‚Äì only
    these I saw when mechanically doing this; Benny wants to fix the
    remaining ones; I should‚Äôve introduced no more breakage than was)
‚Ä¢ _PASS_CXX/mpcxx just the same

agreed bsiegert@@
@
text
@d1 1
a1 1
# $MirOS: ports/mailnews/pine/Makefile,v 1.26 2008/12/09 13:18:34 tg Exp $
d18 1
a18 1
CCLIENT_PATCHLEV=	6
d150 2
@


1.26
log
@fix environment needed for compilation
@
text
@d1 1
a1 1
# $MirOS: ports/mailnews/pine/Makefile,v 1.25 2008/12/09 13:05:05 tg Exp $
d53 1
a53 1
PINE_BUILD_FLAGS=	CC=${_PASS_CC:Q} EXTRACFLAGS="${CFLAGS}" \
@


1.25
log
@backport fix from uw-imapd 2007d for the SECURTYY bug
outlined at http://www.washington.edu/alpine/tmailbug.html
@
text
@d1 1
a1 1
# $MirOS: ports/mailnews/pine/Makefile,v 1.24 2008/10/04 19:03:17 tg Exp $
d103 2
a104 1
	@@cd ${WRKSRC}; chmod a+x build; ./build ${PINE_BUILD_FLAGS} bso
@


1.24
log
@mass conversion from
‚Ä¢ ${CC}
‚Ä¢ "${CC}"
‚Ä¢ '${CC}'
‚Ä¢ ${CC:Q}
to ${_PASS_CC:Q} (or without :Q if it‚Äôs executed, not assigned), and
same for CXX‚Ä¶ most of these are VERY UGLY, prone to break with ccache
and maybe even without‚Ä¶
@
text
@d1 1
a1 1
# $MirOS: ports/mailnews/pine/Makefile,v 1.23 2008/03/09 17:23:07 tg Exp $
d18 1
a18 1
CCLIENT_PATCHLEV=	5
d34 1
a34 1
RESPONSIBLE=		Thorsten Glaser <tg@@mirbsd.de>
@


1.23
log
@bulk convert FLAVOR to FLAVOUR; nuke unused file; convert to $Mdocdate
@
text
@d1 1
a1 1
# $MirOS: ports/mailnews/pine/Makefile,v 1.22 2006/09/20 22:24:50 tg Exp $
d53 1
a53 1
PINE_BUILD_FLAGS=	CC="${CC}" EXTRACFLAGS="${CFLAGS}" \
@


1.22
log
@catch signal 5 too, idea from original lynx "oldlynx" sample script, thanks TD
while here, update licences where I can
@
text
@d1 1
a1 1
# $MirOS: ports/mailnews/pine/Makefile,v 1.21 2006/09/14 00:10:45 tg Exp $
d45 2
a46 2
FLAVORS=		ldap plaintext
FLAVOR?=
d59 1
a59 1
.if ${FLAVOR:L:Mldap}
d67 1
a67 1
.if ${FLAVOR:L:Mplaintext}
@


1.21
log
@clean up COMMENT and HOMEPAGE; regenerate INDEX (2761, 169 marked as broken, probably many many more) ≠ edited by script with manual postprocessing
@
text
@d1 1
a1 1
# $MirOS: ports/mailnews/pine/Makefile,v 1.20 2006/05/08 16:00:41 tg Exp $
d6 6
a11 6
COMMENT=			program for Internet News and eMail
COMMENT-cclient=			University of Washington c-client mail access routines
COMMENT-daemon=			University of Washington IMAP4rev1/POP2/POP3 mail servers
COMMENT-mailutil=			University of Washington IMAP4rev1/POP2/POP3 mail utility
COMMENT-pico=			small text editor
COMMENT-pilot=			file system browser
d17 1
a17 1
PINE_PATCHLEV=		6	# must be the highest
@


1.20
log
@Apply the "show attachÈment file name" patch From: Bert Driehuis <driehuis@@playbeing.org>
Message-ID: <20060130020144.Y20171@@c1518.nl.compuware.com>
@
text
@d1 1
a1 1
# $MirOS: ports/mailnews/pine/Makefile,v 1.19 2006/03/19 18:37:24 tg Exp $
d6 6
a11 6
COMMENT=		"program for Internet News and eMail"
COMMENT-cclient=	"University of Washington c-client mail access routines"
COMMENT-daemon=		"University of Washington IMAP4rev1/POP2/POP3 mail servers"
COMMENT-mailutil=	"University of Washington IMAP4rev1/POP2/POP3 mail utility"
COMMENT-pico=		"small text editor"
COMMENT-pilot=		"file system browser"
@


1.19
log
@* honour SYSCONFDIR more, fix evil of before (this build system suxxx)
* don't leak hostname build information (time seems to be ok to me),
  bad Marco S Hyman!
* bump patchlevel
@
text
@d1 1
a1 1
# $MirOS: ports/mailnews/pine/Makefile,v 1.18 2005/12/16 14:54:33 tg Exp $
d17 1
d20 1
d22 1
a22 1
PKGNAME=		pine-${VERSION}-${CCLIENT_PATCHLEV}
@


1.18
log
@Place SSL server certs in SYSCONFDIR/ssl not SYSCONFDIR/ssl/certs

To verify certificates, the OpenSSL default store is used, which
is (on MirOS) /etc/ssl/certs (not SYSCONFDIR); I think it's okay.

Bump patchlevel.
@
text
@d1 1
a1 1
# $MirOS: ports/mailnews/pine/Makefile,v 1.17 2005/12/15 14:26:16 tg Exp $
d17 1
a17 1
CCLIENT_PATCHLEV=	4
d82 5
a86 2
ATSED_DEPS=		imap/src/osdep/unix/env_unix.h pine/osdep/os-bso.h \
			pine/pine.hlp
d101 1
a101 1
	@@cd ${WRKSRC}; ./build ${PINE_BUILD_FLAGS} bso
@


1.17
log
@fix typo
@
text
@d1 1
a1 1
# $MirOS: ports/mailnews/pine/Makefile,v 1.16 2005/12/15 14:24:17 tg Exp $
d17 1
a17 1
CCLIENT_PATCHLEV=	3
@


1.16
log
@* remove remnants of libc-client.so
* honour SYSCONFDIR, LOCALBASE, TRUEPREFIX
* certificate now in SYSCONFDIR/ssl/*.pem instead
* bump versions on all packages
@
text
@d1 1
a1 1
# $MirOS: ports/mailnews/pine/Makefile,v 1.15 2005/10/07 20:02:38 tg Exp $
d24 1
a24 1
FULLPKGNAME-pico=	pico-${PICO_VERSION}-${PICOLOT_PATCHLEV)
@


1.15
log
@we now no longer need a LIB_DEPENDS on -cclient
@
text
@d1 1
a1 1
# $MirOS: ports/mailnews/pine/Makefile,v 1.14 2005/10/07 20:00:38 tg Exp $
a5 4
.if ${SYSCONFDIR} != "/etc"
BROKEN=			does not honour a different SYSCONFDIR
.endif

d17 2
a18 1
CCLIENT_PATCHLEV=	2
d24 2
a25 2
FULLPKGNAME-pico=	pico-${PICO_VERSION}-1
FULLPKGNAME-pilot=	pilot-${PILOT_VERSION}-1
d32 1
a32 1
RESPONSIBLE=		Thorsten Glaser <tg@@66h.42h.de>
d79 7
d91 6
a96 2
	sed -e 's#@@SHELL@@#${SHELL}#g' -e 's#@@PREFIX@@#${PREFIX}#g' \
	    <${FILESDIR}/${_i} >${WRKBUILD}/${_i}
a97 2
	sed -e 's#!!PREFIX!!#${PREFIX}#g' -e 's#!!ETC!!#${SYSCONFDIR}#g' \
	    ${WRKSRC}/doc/tech-notes.txt >${WRKBUILD}/doc/tech-notes.txt.new
d101 3
@


1.14
log
@oops. *.so.* is no longer
@
text
@d1 1
a1 1
# $MirOS: ports/mailnews/pine/Makefile,v 1.13 2005/10/07 19:50:23 tg Exp $
a73 5
.if defined(PACKAGING) && ${SUBPACKAGE} != "-pico" \
    && ${SUBPACKAGE} != "-pilot" && ${SUBPACKAGE} != "-cclient"
LIB_DEPENDS+=		c-client.6::mailnews/pine,-cclient
.endif

@


1.13
log
@this is broken unless SYSCONFDIR is /etc
@
text
@d1 1
a1 1
# $MirOS: ports/mailnews/pine/Makefile,v 1.12 2005/10/07 19:47:06 tg Exp $
a139 1
	${INSTALL_DATA} ${WRKSRC}/imap/c-client/libc-client.so.* ${PREFIX}/lib/
@


1.12
log
@this port is (as of now) bso-only (OpenBSD, MirOS BSD)
if I get access to a mac long enough, who knows...
@
text
@d1 1
a1 1
# $MirOS: ports/mailnews/pine/Makefile,v 1.11 2005/10/07 19:43:07 tg Exp $
d6 4
@


1.11
log
@replace /usr/local with @@PREFIX@@ too
@
text
@d1 1
a1 1
# $MirOS: ports/mailnews/pine/Makefile,v 1.10 2005/10/07 19:40:54 tg Exp $
d4 2
@


1.10
log
@* update to 4.64 (imapd stays at 2004g, yeah, we already had the
  recent "security fix" ;) and bump patchlevels for components
  with unchanged versions (imapd & co., pilot, pico)
* remove shared libc-client since it's a PITA if unsupported upstream
  and on the Mac
@
text
@d1 1
a1 1
# $MirOS: ports/mailnews/pine/Makefile,v 1.9 2005/10/01 19:06:54 tg Exp $
d85 3
a87 2
.for _i in pine.smime.init pine.smime
	sed -e 's#@@SHELL@@#${SHELL}#g' <${FILESDIR}/${_i} >${WRKBUILD}/${_i}
d122 1
a122 1
	${INSTALL_DATA} ${FILESDIR}/dot.pinerc.pgp.sample \
@


1.9
log
@* replace SHELL and PREFIX
* use WRKBUILD not WRKSRC
@
text
@d1 1
a1 1
# $MirOS: ports/mailnews/pine/Makefile,v 1.8 2005/10/01 19:00:16 tg Exp $
d11 1
a11 1
VERSION=		4.63
d15 1
a15 1
#PL_CCLIENT=		p0
d17 6
a22 6
PKGNAME=		pine-${VERSION}${PL_CCLIENT}-1
PKGNAME-cclient=	c-client-${VERSION}${PL_CCLIENT}-0
PKGNAME-daemon=		imap-uw-${IMAP_VERSION}${PL_CCLIENT}-0
PKGNAME-mailutil=	mailutil-uw-${IMAP_VERSION}${PL_CCLIENT}-0
FULLPKGNAME-pico=	pico-${PICO_VERSION}-0
FULLPKGNAME-pilot=	pilot-${PILOT_VERSION}-0
@


1.8
log
@* replace /bin/ksh with @@SHELL@@ and fix it at build time
* clean up install process while here
* bump patchlevel for subpackages touched
@
text
@d1 1
a1 1
# $MirOS: ports/mailnews/pine/Makefile,v 1.7 2005/08/21 11:49:13 tg Exp $
d86 1
a86 1
	sed -e 's#@@SHELL@@#${SHELL}#g' <${FILESDIR}/${_i} >${WRKSRC}/${_i}
d88 2
d119 1
a119 1
	${INSTALL_SCRIPT} ${WRKSRC}/${_i} ${PREFIX}/bin/
d123 1
a123 3
	@@sed -e 's#!!PREFIX!!#${PREFIX}#g' -e 's#!!ETC!!#${SYSCONFDIR}#g' \
	    ${WRKSRC}/doc/tech-notes.txt >${WRKSRC}/doc/tech-notes.txt.new
	${INSTALL_DATA} ${WRKSRC}/doc/tech-notes.txt.new \
@


1.7
log
@_DOMAIN_DU_JOUR dies
@
text
@d1 1
a1 1
# $MirOS: ports/mailnews/pine/Makefile,v 1.6 2005/07/07 21:23:06 bsiegert Exp $
d17 1
a17 1
PKGNAME=		pine-${VERSION}${PL_CCLIENT}-0
d85 3
d113 6
a118 2
	cd ${FILESDIR}; ${INSTALL_SCRIPT} pgpencrypt pgpdecode pgpsign \
	    pine.smime pine.smime.init mbxfix ${PREFIX}/bin/
@


1.6
log
@Semi-automatic update of the remaining ports to the new patchlevel format.

Please correct mistakes if you find them :).
@
text
@d1 1
a1 1
# $MirOS: ports/mailnews/pine/Makefile,v 1.4 2005/05/04 23:37:38 tg Exp $
d29 1
a29 1
RESPONSIBLE=		Thorsten Glaser <tg@@${_DOMAIN_DU_JOUR}>
@


1.5
log
@fix shlib version
@
text
@d17 6
a22 6
PKGNAME=		pine-${VERSION}${PL_CCLIENT}
PKGNAME-cclient=	c-client-${VERSION}${PL_CCLIENT}
PKGNAME-daemon=		imap-uw-${IMAP_VERSION}${PL_CCLIENT}
PKGNAME-mailutil=	mailutil-uw-${IMAP_VERSION}${PL_CCLIENT}
FULLPKGNAME-pico=	pico-${PICO_VERSION}
FULLPKGNAME-pilot=	pilot-${PILOT_VERSION}
@


1.4
log
@finally update to 4.63
build with -Werror (LP64 clean now it should be)
@
text
@d1 1
a1 1
# $MirOS: ports/mailnews/pine/Makefile,v 1.3 2005/04/26 05:44:30 tg Exp $
d70 1
a70 1
LIB_DEPENDS+=		c-client.5::mailnews/pine,-cclient
@


1.3
log
@* tweak
* add to package
@
text
@d1 1
a1 1
# $MirOS: ports/mailnews/pine/Makefile,v 1.2 2005/04/19 12:24:34 tg Exp $
d11 2
a12 2
VERSION=		4.61
PICO_VERSION=		4.8
d14 2
a15 2
IMAP_VERSION=		2004.352
PL_CCL=			p3
d17 4
a20 5
PKGNAME=		pine-${VERSION}${PL_CCL}
PKGNAME-cclient=	c-client-${VERSION}${PL_CCL}
PKGNAME-daemon=		imap-uw-${IMAP_VERSION}${PL_CCL}
#PKGNAME-mailutil=	mailutil-uw-${IMAP_VERSION}${PL_CCL}
PKGNAME-mailutil=	mailutil-uw-${IMAP_VERSION}p4
d41 1
a41 1
FLAVOR?=	
@


1.2
log
@switch to .tar.Z distfile (uncompress(1)'d, same RMD160)
since the .tar.gz vanished from the vendor's mirrors

reminded bsiegert@@
@
text
@d1 1
a1 1
# $MirOS: ports/mailnews/pine/Makefile,v 1.1.7.1 2005/03/18 15:49:47 tg Exp $
d20 2
a21 1
PKGNAME-mailutil=	mailutil-uw-${IMAP_VERSION}${PL_CCL}
d112 1
a112 1
	    pine.smime pine.smime.init ${PREFIX}/bin
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $MirOS$
d23 3
a25 1
MASTER_SITES=		ftp://ftp.cac.washington.edu/pine/ \
d27 1
@


1.1.7.1
log
@Import the MirPorts Framework, many files moved or renamed though, no KDE/QT
@
text
@@
