head	1.6;
access;
symbols;
locks; strict;
comment	@# @;


1.6
date	2008.11.08.23.04.10;	author tg;	state Exp;
branches;
next	1.5;
commitid	10049161AC72620EAF0;

1.5
date	2008.05.07.22.48.44;	author tg;	state Exp;
branches;
next	1.4;
commitid	100482231C374D9CA0B;

1.4
date	2008.03.09.17.23.36;	author tg;	state Exp;
branches;
next	1.3;
commitid	10047D41CAA7E715397;

1.3
date	2006.09.14.00.14.30;	author tg;	state Exp;
branches;
next	1.2;
commitid	10045089C0E234154C3;

1.2
date	2005.09.01.20.59.17;	author tg;	state Exp;
branches;
next	1.1;
commitid	6d0943176bb40134;

1.1
date	2005.09.01.20.55.49;	author tg;	state Exp;
branches
	1.1.1.1;
next	;
commitid	524b43176aead1a0;

1.1.1.1
date	2005.09.01.20.55.49;	author tg;	state Exp;
branches;
next	;
commitid	524b43176aead1a0;


desc
@@


1.6
log
@more mass conversions, including ancient eMail addresses
@
text
@# $MirOS: ports/voip/linphone/Makefile,v 1.5 2008/05/07 22:48:44 tg Exp $

COMMENT=			SIP telephony (VoIP) client
CATEGORIES=		comms net voip
_V=			0.12.2
DISTNAME=		linphone-${_V}
HOMEPAGE=		http://www.linphone.org/?lang=us
MASTER_SITES=		http://simon.morlat.free.fr/download/${_V}/source/
RESPONSIBLE=		Thorsten Glaser <tg@@mirbsd.org>

# GNU GPL
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
PERMIT_PACKAGE_CDROM=	Yes
PERMIT_PACKAGE_FTP=	Yes

FLAVOURS=		gnome mmx
.if ${MACHINE} == "i386"
FLAVOUR?=		mmx
.else
FLAVOUR?=
.endif

.if ${FLAVOUR:L:Mgnome}
ERRORS+=		"Not yet."
.endif

MODULES=		devel/gettext
LIB_DEPENDS+=		ogg.5::audio/libogg \
			fsmtl.9,osip.9::voip/libosip \
			gmodule-2.0.0.0,gobject-2.0.0.0,gthread-2.0.0.0::devel/glib

CONFIGURE_STYLE=	autoconf no-autoheader
AUTOCONF_NEW=		Yes
MODGNU_RECURSE_DIRS=	${WRKSRC}/speex ${WRKSRC}/oRTP ${WRKSRC}/osipua ${WRKSRC}
CONFIGURE_ARGS+=	--enable-glib \
			--disable-gnome_ui \
			--disable-alsa \
			--disable-ipv6 \
			--disable-truespeech \
			--disable-video \
			--with-osip=${LOCALBASE} \
			--with-speex=embedded \
			${CONFIGURE_SHARED}
USE_GMAKE=		Yes

.if !${FLAVOUR:L:Mmmx}
CONFIGURE_ARGS+=	--disable-mmx
.endif

.include <mirports.sys.mk>
CFLAGS+=		-pthread
LDFLAGS+=		-pthread

post-extract:
	@@rm -f ${WRKSRC}/ffmpeg/{,libavcodec/}Makefile.orig

post-install:
	@@mv ${PREFIX}/share/man/man1/* ${PREFIX}/man/man1/
	@@rm -rf ${PREFIX}/share/man

.include <bsd.port.mk>
@


1.5
log
@â€¢ replace MODGNU_CONFIG_GUESS_DIRS with MODGNU_RECURSE_DIRS
â€¢ always place ${WRKSRC} itself at the end of MODGNU_RECURSE_DIRS due to
  recursion issues inside of autoconf itself
â€¢ if MODGNU_RECURSE_DIRS=${WRKSRC} stood in the Makefile, nuke it (default)
â€¢ remove dead reference to MODGNU_TWIDDLE_DIRS
@
text
@d1 1
a1 1
# $MirOS: ports/voip/linphone/Makefile,v 1.4 2008/03/09 17:23:36 tg Exp $
d9 1
a9 1
RESPONSIBLE=		Thorsten Glaser <tg@@66h.42h.de>
@


1.4
log
@bulk convert FLAVOR to FLAVOUR; nuke unused file; convert to $Mdocdate
@
text
@d1 1
a1 1
# $MirOS: ports/voip/linphone/Makefile,v 1.3 2006/09/14 00:14:30 tg Exp $
d35 1
a35 2
MODGNU_CONFIG_GUESS_DIRS= ${WRKSRC} ${WRKSRC}/speex \
			  ${WRKSRC}/oRTP ${WRKSRC}/osipua
@


1.3
log
@clean up COMMENT and HOMEPAGE; regenerate INDEX (2761, 169 marked as broken, probably many many more) ­ edited by script with manual postprocessing
@
text
@d1 1
a1 1
# $MirOS: ports/voip/linphone/Makefile,v 1.2 2005/09/01 20:59:17 tg Exp $
d17 1
a17 1
FLAVORS=		gnome mmx
d19 1
a19 1
FLAVOR?=		mmx
d21 1
a21 1
FLAVOR?=
d24 1
a24 1
.if ${FLAVOR:L:Mgnome}
d48 1
a48 1
.if !${FLAVOR:L:Mmmx}
@


1.2
log
@usual post-move changes
@
text
@d1 1
a1 1
# $MirOS: ports/voip/linphone/Makefile,v 1.1.1.1 2005/09/01 20:55:49 tg Exp $
d3 1
a3 1
COMMENT=		"SIP telephony (VoIP) client"
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $MirOS: ports/comms/linphone/Makefile,v 1.2 2005/03/20 16:46:22 bsiegert Exp $
d4 1
a4 1
CATEGORIES=		comms net
d9 1
a9 1
RESPONSIBLE=		Thorsten Glaser <tg@@${_DOMAIN_DU_JOUR}>
d30 1
a30 1
			fsmtl.9,osip.9::comms/libosip \
@


1.1.1.1
log
@move linphone port from comms to voip
@
text
@@
