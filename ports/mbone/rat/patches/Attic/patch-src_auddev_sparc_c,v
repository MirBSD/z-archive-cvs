head	1.2;
access;
symbols;
locks; strict;
comment	@# @;


1.2
date	2007.04.03.19.44.30;	author tg;	state dead;
branches;
next	1.1;
commitid	1004612AC977E789195;

1.1
date	2005.03.18.15.50.15;	author tg;	state Exp;
branches
	1.1.7.1;
next	;

1.1.7.1
date	2005.03.18.15.50.15;	author tg;	state Exp;
branches;
next	;


desc
@@


1.2
log
@• remove ports that are simply broken, don't work, for too long, with no
  update or update-willing person in sight, kde stuff, web2.0 stuff that
  we don't want in ports (just stuff it into /var/www yourself, it isn't
  that difficult, right?), stuff for which no new version exists/will be
  and some obsd cruft; adjust dependencies
• no BUILD_DEPENDS+=RUN_DEPENDS or vice versa any more, *ever*
• fix some other stuff partially

ok bsiegert@@
@
text
@$OpenBSD: patch-src_auddev_sparc_c,v 1.1 2001/03/17 17:23:27 wilfried Exp $
--- src/auddev_sparc.c.orig	Mon Mar  1 18:23:49 1999
+++ src/auddev_sparc.c	Fri Mar 16 20:49:24 2001
@@@@ -45,11 +45,19 @@@@
 
 #include "assert.h"
 #include "bat_include.h"
-#ifdef SunOS
+#if defined(SunOS) || defined(__OpenBSD__)
 
+#if defined(SunOS)
 #include <multimedia/audio_hdr.h>
+#else
+#include <sys/types.h>
+#include <sys/ioctl.h>
+#include <sys/audioio.h>
+#endif
 
+#if !defined(__OpenBSD__)
 typedef Audio_hdr* audio_header_pointer;
+#endif
 
 static audio_info_t	dev_info;
 static int 		mulaw_device = FALSE;	/* TRUE if the hardware can only do 8bit mulaw sampling */
@@@@ -69,7 +77,9 @@@@ audio_open(audio_format format)
 	if (audio_fd > 0) {
 		AUDIO_INITINFO(&dev_info);
 		dev_info.monitor_gain       = 0;
+#if !defined(__OpenBSD__)
 		dev_info.output_muted       = 0; /* 0==not muted */
+#endif
 		dev_info.play.sample_rate   = format.sample_rate;
 		dev_info.record.sample_rate = format.sample_rate;
 		dev_info.play.channels      = format.num_channels;
@@@@ -157,7 +167,7 @@@@ audio_close(int audio_fd)
 void
 audio_drain(int audio_fd)
 {
-	ioctl(audio_fd, I_FLUSH, (caddr_t)FLUSHR);
+	ioctl(audio_fd, AUDIO_FLUSH, NULL);
 }
 
 /* Gain and volume values are in the range 0 - MAX_AMP */
@


1.1
log
@Initial revision
@
text
@@


1.1.7.1
log
@Import the MirPorts Framework, many files moved or renamed though, no KDE/QT
@
text
@@
