head	1.6;
access;
symbols;
locks; strict;
comment	@# @;


1.6
date	2008.03.09.17.22.50;	author tg;	state Exp;
branches;
next	1.5;
commitid	10047D41CAA7E715397;

1.5
date	2007.03.31.22.02.00;	author tg;	state Exp;
branches;
next	1.4;
commitid	100460EDA5B5AAA6E31;

1.4
date	2006.09.14.00.09.53;	author tg;	state Exp;
branches;
next	1.3;
commitid	10045089C0E234154C3;

1.3
date	2006.08.26.23.34.12;	author tg;	state Exp;
branches;
next	1.2;
commitid	10044F0D836486F5483;

1.2
date	2006.02.09.11.11.46;	author tg;	state Exp;
branches;
next	1.1;
commitid	10043EB23217A35557B;

1.1
date	2005.08.20.13.27.33;	author bsiegert;	state Exp;
branches;
next	;
commitid	364743072f8b798d;


desc
@@


1.6
log
@bulk convert FLAVOR to FLAVOUR; nuke unused file; convert to $Mdocdate
@
text
@# $MirOS: ports/graphics/glitz/Makefile,v 1.5 2007/03/31 22:02:00 tg Exp $

COMMENT=			OpenGL image compositing library

DISTNAME=		glitz-0.4.3
CATEGORIES=		graphics

HOMEPAGE=		http://www.freedesktop.org/Software/glitz

# LGPL
PERMIT_PACKAGE_CDROM=	Yes
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM= Yes
PERMIT_DISTFILES_FTP=	Yes

MASTER_SITES=		http://cairographics.org/snapshots/

USE_X11=		Yes
MODULES+=		devel/pkgconfig

CONFIGURE_STYLE=	autoconf
AUTOCONF_NEW=		Yes

.include <mirports.sys.mk>

.if ${MACHINE_OS} == "Darwin"
PSEUDO_FLAVOURS=		agl
FLAVOUR?=		agl
.endif

.include <bsd.port.mk>
@


1.5
log
@fix broken dependencies, <bsd.own.mk> inclusion; break other packages
@
text
@d1 1
a1 1
# $MirOS: ports/graphics/glitz/Makefile,v 1.4 2006/09/14 00:09:53 tg Exp $
d27 2
a28 2
PSEUDO_FLAVORS=		agl
FLAVOR?=		agl
@


1.4
log
@clean up COMMENT and HOMEPAGE; regenerate INDEX (2761, 169 marked as broken, probably many many more) ­ edited by script with manual postprocessing
@
text
@d1 1
a1 1
# $MirOS: ports/graphics/glitz/Makefile,v 1.3 2006/08/26 23:34:12 tg Exp $
d24 1
a24 1
.include <bsd.own.mk>
@


1.3
log
@OStype vs MACHINE_OS confusion, try to clean up the mess:

We use MACHINE_OS to distinguish between different OSes, i.e.
 BSD Darwin Interix Linux

Within these, there are OStype per MACHINE_OS, e.g.
 BSD -> MirBSD OpenBSD
 Darwin -> Darwin
 Interix -> Interix MirInterix
 Linux -> Debian

These are only the OStype""s seen until now,
so please use what semantically fits, e.g. on
Interix and MirInterix, you don't have IPv6,
but on MirInterix you won't need an explicit
texinfo dependency since it's in the base system.
Be aware that OStype can be user defined though!
@
text
@d1 1
a1 1
# $MirOS: ports/graphics/glitz/Makefile,v 1.2 2006/02/09 11:11:46 tg Exp $
d3 1
a3 1
COMMENT=		"OpenGL image compositing library"
@


1.2
log
@Fix a few abuses:
| CONFIGURE_ENV=	CPPFLAGS="-I${LOCALBASE}/include/libpng \
|			    -I${LOCALBASE}/include -I${X11BASE}/include" \
| 			LDFLAGS="-L${LOCALBASE}/lib -L${X11BASE}/lib" \
|			PKGCONFIG_PATH=...

* use Benny's pkgconfig module
  - fixes PKGCONFIG_PATH in all places
  - adds explicit dependencies on pkgconfig where needed
* use a new png module
  - also cought a few implicit dependencies
* use a new freetype1 module in two places (more to come?)
* CPPFLAGS, LDFLAGS are in CONFIGURE_ENV anyway, so correctly
  add to them as CPPFLAGS+=<tab>foo instead
* use EXTRA_{M,X,F}AKE_FLAGS
* CC is given anyway, too
* add MAKEINFO= to gnu style

Still doesn't catch all OpenBSD abuses, but most of them.

Brokenness analysis:
* Automatically done
  - CFLAGS+=CPPFLAGS
  - CXXFLAGS+=CPPFLAGS
  - CPPFLAGS+=-I${LOCALBASE}/include
  - LDFLAGS+=-L${LOCALBASE}/lib
  - CONFIGURE_ENV, MAKE_FLAGS+=
    + LDFLAGS=LDFLAGS
    + CPPFLAGS you get the idea
    + CFLAGS
    + CXXFLAGS
    + CC
    + CXX (if USE_CXX)
* Done if USE_X11=Yes
  - CPPFLAGS+=X11BASE/include
  - LDFLAGS+=X11BASE/lib

Tell me if there are problems, but first try adding
an EXTRA_ before MAKE_FLAGS and FAKE_FLAGS.
Remember EXTRA_XAKE_FLAGS get added to both.
@
text
@d1 1
a1 1
# $MirOS: ports/graphics/glitz/Makefile,v 1.1 2005/08/20 13:27:33 bsiegert Exp $
d26 1
a26 1
.if ${OStype} == "Darwin"
@


1.1
log
@Add ports for glitz and libpixman. These are dependencies for cairo, which
will be added soon.

Original OpenBSD ports by Eric Faurot <eric.faurot at gmail.com>
@
text
@d1 1
a1 1
# $MirOS$
d19 1
a23 2
BUILD_DEPENDS+=		::devel/pkgconfig

@

