head	1.5;
access;
symbols;
locks; strict;
comment	@# @;


1.5
date	2008.10.14.19.36.42;	author tg;	state Exp;
branches;
next	1.4;
commitid	10048F4F4E13B9CE5DF;

1.4
date	2008.03.09.17.22.53;	author tg;	state Exp;
branches;
next	1.3;
commitid	10047D41CAA7E715397;

1.3
date	2006.09.14.00.10.05;	author tg;	state Exp;
branches;
next	1.2;
commitid	10045089C0E234154C3;

1.2
date	2005.07.07.21.22.00;	author bsiegert;	state Exp;
branches;
next	1.1;
commitid	66bc42cd9a7ea714;

1.1
date	2005.03.18.15.47.09;	author tg;	state Exp;
branches
	1.1.7.1;
next	;

1.1.7.1
date	2005.03.18.15.47.09;	author tg;	state Exp;
branches;
next	;


desc
@@


1.5
log
@fix distfile fetchability
@
text
@# $OpenBSD: Makefile,v 1.6 2002/12/18 22:45:12 rohee Exp $

COMMENT=			3D image rendering package

PKGNAME=			povray-3.1g-0
CATEGORIES=			graphics

HOMEPAGE=			http://www.povray.org


PERMIT_PACKAGE_CDROM=		Perhaps we qualify for commercial distribution
PERMIT_PACKAGE_FTP=		Yes
PERMIT_DISTFILES_CDROM=		Our CDs are not too expensive, see povlegal.doc but I think we should ask them anyway
PERMIT_DISTFILES_FTP=		Yes

MASTER_SITES=			ftp://mirror.nucba.ac.jp/mirror/povray/Old-Versions/Official-3.1g/Unix/ \
				ftp://ftp.povray.org/pub/povray/Old-Versions/Official-3.1g/Unix/

DISTFILES=			povuni_s.tgz povuni_d.tgz
EXTRACT_SUFX=			.tgz
DIST_SUBDIR=			povray-3.1g

LIB_DEPENDS=			png.2.::graphics/png

FLAVOURS=			no_x11
FLAVOUR?=

MAKE_FILE=			makefile
WRKDIST=			${WRKDIR}/povray31/source/unix

.if !${FLAVOUR:L:Mno_x11}
ALL_TARGET=                     newxwin
USE_X11=			Yes
.endif
ALL_TARGET+=			newunix

post-patch:
	@@perl -i -p -e "s#/usr/local/lib#${PREFIX}/share#" ${WRKDIR}/povray31/povray.ini

NO_REGRESS=			Yes

do-install:
	${INSTALL_PROGRAM} ${WRKDIST}/povray ${PREFIX}/bin
.if !${FLAVOUR:L:Mno_x11}
	${INSTALL_PROGRAM} ${WRKDIST}/x-povray ${PREFIX}/bin
.endif
	${INSTALL_MAN} ${WRKDIST}/povray.1 ${PREFIX}/man/man1
	${INSTALL_DATA_DIR} ${PREFIX}/share/povray31
	cp -R ${WRKDIR}/povray31/allscene ${WRKDIR}/povray31/include \
		${WRKDIR}/povray31/scenes ${PREFIX}/share/povray31
	chown -R ${SHAREOWN}:${SHAREGRP} ${PREFIX}/share/povray31
	find ${PREFIX}/share/povray31 -type d | xargs chmod ${DIRMODE}
	find ${PREFIX}/share/povray31 -type f | xargs chmod ${SHAREMODE}
	${INSTALL_DATA} ${WRKDIR}/povray31/allscene.ini \
		${WRKDIR}/povray31/allscene.sh ${WRKDIR}/povray31/pngflc.ini \
		${WRKDIR}/povray31/pngfli.ini ${WRKDIR}/povray31/povray.ini \
		${WRKDIR}/povray31/rerunpov.sh ${WRKDIR}/povray31/res.ini \
		${WRKDIR}/povray31/res120.ini ${WRKDIR}/povray31/res1k.ini \
		${WRKDIR}/povray31/res320.ini ${WRKDIR}/povray31/res640.ini \
		${WRKDIR}/povray31/res800.ini ${WRKDIR}/povray31/runpov.sh \
		${WRKDIR}/povray31/shapes.pov ${WRKDIR}/povray31/slow.ini \
		${WRKDIR}/povray31/tgaflc.ini ${WRKDIR}/povray31/tgafli.ini \
		${WRKDIR}/povray31/xpovicon.xpm ${WRKDIR}/povray31/zipflc.ini \
		${WRKDIR}/povray31/zipfli.ini ${PREFIX}/share/povray31
	${INSTALL_DATA_DIR} ${PREFIX}/share/doc/povray31
	${INSTALL_DATA} ${WRKDIR}/povray31/README.unix \
		${WRKDIR}/povray31/betanews.txt ${WRKDIR}/povray31/gamma.gif \
		${WRKDIR}/povray31/gamma.gif.txt \
		${WRKDIR}/povray31/povlegal.doc \
		${WRKDIR}/povray31/povuser.txt \
		${WRKDIR}/povray31/povwhere.get\
		${WRKDIR}/povray31/revision.doc ${PREFIX}/share/doc/povray31

.include <bsd.port.mk>
@


1.4
log
@bulk convert FLAVOR to FLAVOUR; nuke unused file; convert to $Mdocdate
@
text
@d21 1
a21 1
DIST_SUBDIR=			${PKGNAME}
@


1.3
log
@clean up COMMENT and HOMEPAGE; regenerate INDEX (2761, 169 marked as broken, probably many many more) ­ edited by script with manual postprocessing
@
text
@d25 2
a26 2
FLAVORS=			no_x11
FLAVOR?=
d31 1
a31 1
.if !${FLAVOR:L:Mno_x11}
d44 1
a44 1
.if !${FLAVOR:L:Mno_x11}
@


1.2
log
@Semi-automatic update of the remaining ports to the new patchlevel format.

Please correct mistakes if you find them :).
@
text
@d3 1
a3 1
COMMENT=			"3D image rendering package"
@


1.1
log
@Initial revision
@
text
@d5 1
a5 1
PKGNAME=			povray-3.1g
@


1.1.7.1
log
@Import the MirPorts Framework, many files moved or renamed though, no KDE/QT
@
text
@@
