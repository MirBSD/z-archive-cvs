head	1.13;
access;
symbols
	bsiegert-experimental:1.13.0.2
	bsiegert-experimental_BASE:1.13;
locks; strict;
comment	@# @;


1.13
date	2008.12.07.17.09.27;	author bsiegert;	state Exp;
branches
	1.13.2.1;
next	1.12;
commitid	100493C032B7B64D7E2;

1.12
date	2008.03.15.20.27.21;	author bsiegert;	state Exp;
branches;
next	1.11;
commitid	10047DC311D57FDD955;

1.11
date	2007.02.22.22.57.51;	author tg;	state Exp;
branches;
next	1.10;
commitid	10045DE1FF10F590776;

1.10
date	2007.01.06.16.30.18;	author bsiegert;	state Exp;
branches;
next	1.9;
commitid	100459FCCFA1C8EC44A;

1.9
date	2006.11.03.22.55.27;	author tg;	state Exp;
branches;
next	1.8;
commitid	100454BC8F075F0EAD4;

1.8
date	2006.11.02.01.55.37;	author tg;	state Exp;
branches;
next	1.7;
commitid	1004549501176B5FBE6;

1.7
date	2006.09.14.00.09.48;	author tg;	state Exp;
branches;
next	1.6;
commitid	10045089C0E234154C3;

1.6
date	2006.08.26.23.34.11;	author tg;	state Exp;
branches;
next	1.5;
commitid	10044F0D836486F5483;

1.5
date	2006.02.09.11.11.43;	author tg;	state Exp;
branches;
next	1.4;
commitid	10043EB23217A35557B;

1.4
date	2005.12.16.02.49.54;	author tg;	state Exp;
branches;
next	1.3;
commitid	10043A22B2F16D4A4F0;

1.3
date	2005.10.07.22.02.59;	author bsiegert;	state Exp;
branches;
next	1.2;
commitid	5bbf4346f080d28c;

1.2
date	2005.09.22.13.55.56;	author bsiegert;	state Exp;
branches;
next	1.1;
commitid	37164332b768c582;

1.1
date	2005.09.06.18.53.52;	author bsiegert;	state Exp;
branches;
next	;
commitid	5d70431de5aad0c3;

1.13.2.1
date	2009.07.18.15.42.38;	author bsiegert;	state Exp;
branches;
next	;
commitid	1004A61ED715C27362C;


desc
@@


1.13
log
@Update cairo to 1.6.4, lurking in my tree since 20080825 *sigh*.
@
text
@# $MirOS: ports/graphics/cairo/Makefile,v 1.12 2008/03/15 20:27:21 bsiegert Exp $

COMMENT=		vector graphics library

DISTNAME=		cairo-1.6.4
DASH_VER=		0
CATEGORIES=		graphics

RESPONSIBLE=		Benny Siegert <bsiegert@@gmx.de>

HOMEPAGE=		http://cairographics.org/introduction

# LGPL/MPL
PERMIT_PACKAGE_CDROM=	Yes
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM= Yes
PERMIT_DISTFILES_FTP=	Yes

MASTER_SITES=		http://cairographics.org/releases/

#LIB_DEPENDS+=		glitz::graphics/glitz
LIB_DEPENDS+=		pixman-1:pixman->=0.10:graphics/pixman
MODULES+=		devel/pkgconfig
MODULES+=		graphics/png

USE_X11=		Yes

CONFIGURE_STYLE=	autoconf
AUTOCONF_NEW=		Yes

CONFIGURE_ARGS+=	${CONFIGURE_SHARED}
CONFIGURE_ARGS+=	--enable-static
CONFIGURE_ARGS+=	--enable-pdf=yes
# enabling those introduces a circular dependency
CONFIGURE_ARGS+=	--enable-svg=no

.include <bsd.port.mk>
@


1.13.2.1
log
@Update to 1.8.8, also experimental
@
text
@d1 1
a1 1
# $MirOS: ports/graphics/cairo/Makefile,v 1.13 2008/12/07 17:09:27 bsiegert Exp $
d5 1
a5 1
DISTNAME=		cairo-1.8.8
d28 1
a28 2
CONFIGURE_STYLE=	autogen
AUTOMAKE_VERSION=	1.9
d34 2
a35 4
CONFIGURE_ARGS+=	--enable-svg=yes

pre-patch:
	rm -f ${WRKSRC}/build/lt*
@


1.12
log
@isspace() needs ctype.h, don't know why this did not show up before.
Bump patchlevel.
@
text
@d1 1
a1 1
# $MirOS: ports/graphics/cairo/Makefile,v 1.11 2007/02/22 22:57:51 tg Exp $
d5 2
a6 2
DISTNAME=		cairo-1.2.6
DASH_VER=		1
d22 1
a36 6
.include <mirports.sys.mk>

.if ${MACHINE_OS} == "Darwin"
CONFIGURE_ARGS+=	--enable-atsui=yes
.endif

@


1.11
log
@remove redundancy
@
text
@d1 1
a1 1
# $MirOS: ports/graphics/cairo/Makefile,v 1.10 2007/01/06 16:30:18 bsiegert Exp $
d6 1
a6 1
PKGNAME=		${DISTNAME}-0
@


1.10
log
@Here is what I have been doing during 23c3:

Update the rest of Gtk+ and dependencies to their current version. Tested on Mac
OS X (during the congress) and MirOS/i386 (23c3 edition).

Some notes:
- cairo does not have the svg backend enabled as our librsvg port needs Gtk+,
  which needs cairo.
- Gtk+ builds a CUPS printing backend when CUPS is available, I should make this
  a flavour.
- tg@@, please resurrect glib 2.12 as I am useless with CVS merging.
@
text
@d1 1
a1 1
# $MirOS: ports/graphics/cairo/Makefile,v 1.9 2006/11/03 22:55:27 tg Exp $
a31 2
CONFIGURE_ARGS+=	--disable-dependency-tracking
CONFIGURE_ARGS+=	--disable-libtool-lock
@


1.9
log
@graphics/png is a MODULE
@
text
@d1 1
a1 1
# $MirOS: ports/graphics/cairo/Makefile,v 1.8 2006/11/02 01:55:37 tg Exp $
d5 2
a6 2
DISTNAME=		cairo-1.0.0
PKGNAME=		${DISTNAME}-2
a20 1
#LIB_DEPENDS+=		pixman::graphics/libpixman
d30 7
a36 4
CONFIGURE_ARGS=		--enable-static \
			--disable-dependency-tracking \
			--disable-libtool-lock \
			${CONFIGURE_SHARED}
d41 1
a41 1
#CONFIGURE_ARGS+=	--disable-freetype
@


1.8
log
@speed up build here too and wait for bsiegert@@ to update them
XXX glib might need --enable-included-printf
XXX as I trust our printf more than theirs, especially
XXX in terms of -Wformat ;-)
@
text
@d1 1
a1 1
# $MirOS: ports/graphics/cairo/Makefile,v 1.7 2006/09/14 00:09:48 tg Exp $
a20 1
LIB_DEPENDS+=		png::graphics/png
d24 1
@


1.7
log
@clean up COMMENT and HOMEPAGE; regenerate INDEX (2761, 169 marked as broken, probably many many more) ­ edited by script with manual postprocessing
@
text
@d1 1
a1 1
# $MirOS: ports/graphics/cairo/Makefile,v 1.6 2006/08/26 23:34:11 tg Exp $
d3 1
a3 1
COMMENT=			vector graphics library
d32 2
@


1.6
log
@OStype vs MACHINE_OS confusion, try to clean up the mess:

We use MACHINE_OS to distinguish between different OSes, i.e.
 BSD Darwin Interix Linux

Within these, there are OStype per MACHINE_OS, e.g.
 BSD -> MirBSD OpenBSD
 Darwin -> Darwin
 Interix -> Interix MirInterix
 Linux -> Debian

These are only the OStype""s seen until now,
so please use what semantically fits, e.g. on
Interix and MirInterix, you don't have IPv6,
but on MirInterix you won't need an explicit
texinfo dependency since it's in the base system.
Be aware that OStype can be user defined though!
@
text
@d1 1
a1 1
# $MirOS: ports/graphics/cairo/Makefile,v 1.5 2006/02/09 11:11:43 tg Exp $
d3 1
a3 1
COMMENT=		"vector graphics library"
@


1.5
log
@Fix a few abuses:
| CONFIGURE_ENV=	CPPFLAGS="-I${LOCALBASE}/include/libpng \
|			    -I${LOCALBASE}/include -I${X11BASE}/include" \
| 			LDFLAGS="-L${LOCALBASE}/lib -L${X11BASE}/lib" \
|			PKGCONFIG_PATH=...

* use Benny's pkgconfig module
  - fixes PKGCONFIG_PATH in all places
  - adds explicit dependencies on pkgconfig where needed
* use a new png module
  - also cought a few implicit dependencies
* use a new freetype1 module in two places (more to come?)
* CPPFLAGS, LDFLAGS are in CONFIGURE_ENV anyway, so correctly
  add to them as CPPFLAGS+=<tab>foo instead
* use EXTRA_{M,X,F}AKE_FLAGS
* CC is given anyway, too
* add MAKEINFO= to gnu style

Still doesn't catch all OpenBSD abuses, but most of them.

Brokenness analysis:
* Automatically done
  - CFLAGS+=CPPFLAGS
  - CXXFLAGS+=CPPFLAGS
  - CPPFLAGS+=-I${LOCALBASE}/include
  - LDFLAGS+=-L${LOCALBASE}/lib
  - CONFIGURE_ENV, MAKE_FLAGS+=
    + LDFLAGS=LDFLAGS
    + CPPFLAGS you get the idea
    + CFLAGS
    + CXXFLAGS
    + CC
    + CXX (if USE_CXX)
* Done if USE_X11=Yes
  - CPPFLAGS+=X11BASE/include
  - LDFLAGS+=X11BASE/lib

Tell me if there are problems, but first try adding
an EXTRA_ before MAKE_FLAGS and FAKE_FLAGS.
Remember EXTRA_XAKE_FLAGS get added to both.
@
text
@d1 1
a1 1
# $MirOS: ports/graphics/cairo/Makefile,v 1.4 2005/12/16 02:49:54 tg Exp $
d36 1
a36 1
.if ${OStype} == "Darwin"
@


1.4
log
@sorry bsiegert@@ I was only reading the herrb-hopf paper and wondered
if we already support OpenGL here... but I couldn't let them pass
* use a more cvs diff friendly way to add LIB_DEPENDS later
* more importantly, <mirports.sys.mk> not <bsd.own.mk>, really, I mean it.
@
text
@d1 1
a1 1
# $MirOS: ports/graphics/cairo/Makefile,v 1.3 2005/10/07 22:02:59 bsiegert Exp $
a20 1
BUILD_DEPENDS+=		:pkgconfig-*:devel/pkgconfig
d24 1
a29 1
CONFIGURE_ENV=  	PKG_CONFIG_PATH="${X11BASE}/lib/pkgconfig"
@


1.3
log
@Fix upstream bugs in the configure, for good this time. Bump patchlevel
again. Two more bugs to file.
@
text
@d1 1
a1 1
# $MirOS: ports/graphics/cairo/Makefile,v 1.2 2005/09/22 13:55:56 bsiegert Exp $
d22 3
a24 3
LIB_DEPENDS=		png::graphics/png # \
#			pixman::graphics/libpixman \
#			glitz::graphics/glitz
d35 1
a35 1
.include <bsd.own.mk>
@


1.2
log
@Unbreak cairo on MirOS. The configure script checks X include paths only
after probing (without success, of course) for X11/extensions/Xrender.h.
Thus, reverse the order and add X_CFLAGS to CPPFLAGS. Will be submitted
upstream. Also fix home-brewed libpng detection.

Make myself responsible. Bump patchlevel.
@
text
@d1 1
a1 1
# $MirOS: ports/graphics/cairo/Makefile,v 1.1 2005/09/06 18:53:52 bsiegert Exp $
d6 1
a6 1
PKGNAME=		${DISTNAME}-1
@


1.1
log
@Add a port for cairo-1.0.0-0. Does NOT work under Mac OS 10.3 at the moment.
Tested only under Mac OS 10.4.
@
text
@d1 1
a1 1
# $MirOS$
d6 1
d9 2
d32 3
@

