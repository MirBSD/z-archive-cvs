head	1.5;
access;
symbols;
locks; strict;
comment	@# @;


1.5
date	2008.03.09.19.16.00;	author tg;	state Exp;
branches;
next	1.4;
commitid	10047D437336B26509B;

1.4
date	2007.04.01.11.43.47;	author bsiegert;	state Exp;
branches;
next	1.3;
commitid	100460F9ACE3B8FEF23;

1.3
date	2006.09.14.00.10.10;	author tg;	state Exp;
branches;
next	1.2;
commitid	10045089C0E234154C3;

1.2
date	2005.07.07.21.22.06;	author bsiegert;	state Exp;
branches;
next	1.1;
commitid	66bc42cd9a7ea714;

1.1
date	2005.03.18.15.47.14;	author tg;	state Exp;
branches
	1.1.7.1;
next	;

1.1.7.1
date	2005.03.18.15.47.14;	author tg;	state Exp;
branches;
next	;


desc
@@


1.5
log
@by request of bsiegert@@, make all imake-using ports as only for MirOS and
OpenBSD, since they use the -DPorts logic of OpenBSD.cf/MirBSD.cf

since imake.port.mk would be too late, this means touching â€™em all

XXX these openbsd derived ports Makefiles surely look ugly
@
text
@# $MirOS: ports/graphics/xanim/Makefile,v 1.4 2007/04/01 11:43:47 bsiegert Exp $
# $OpenBSD: Makefile,v 1.19 2003/04/23 08:30:05 sturm Exp $

ONLY_FOR_PLATFORM=	MirBSD:*:* OpenBSD:*:*

COMMENT=	X11 animation player with support for lots of formats

DISTNAME=xanim-2.80.1
PKGNAME=${DISTNAME}-1
WRKDIST=${WRKDIR}/xanim2801
CATEGORIES= graphics x11


DIST_SUBDIR=xanim
MASTER_SITES=http://smurfland.cit.buffalo.edu/xanim/files/
MASTER_SITES0=ftp://ftp.ut.ee/pub/graphics/xanim/modules/

# License: NOFEE
PERMIT_PACKAGE_CDROM=	No Fee
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_FTP=	Yes
PERMIT_DISTFILES_CDROM=	No Fee

BASEDISTFILE=xanim2801.tar.gz
DISTFILES=${BASEDISTFILE}
PATCH_LIST=patch-*

SUP_i386 = xa1.0_cyuv_linuxELF.o.Z:0 \
xa2.0_cvid_linuxELF.o.Z:0 \
xa2.0_iv32_linuxELF.o.Z:0

SUP_m68k = xa1.0_cyuv_netbsd68k.o.Z:0 \
xa2.0_cvid_netbsd68k.o.Z:0 \
xa2.0_iv32_netbsd68k.o.Z:0

# some architectures support more codecs
.if (${MACHINE_ARCH} == i386)
SUPFILES= ${SUP_i386}
PATCH_LIST+=i386-patch
.endif

.if (${MACHINE_ARCH} == m68k)
SUPFILES= ${SUP_m68k}
PATCH_LIST+=m68k-patch
.endif

SUPDISTFILES=${SUP_i386} ${SUP_m68k}

.if defined(SUPFILES)
DISTFILES   += ${SUPFILES}
EXTRACT_ONLY=${BASEDISTFILE}
post-extract:
	@@${ECHO_MSG} "===>  Adding ${MACHINE_ARCH} specific object files"
	@@for i in ${SUPFILES:S/:0$//}; do \
		j=`basename $$i`; \
		cp ${FULLDISTDIR}/$$i ${WRKSRC} && uncompress ${WRKSRC}/$$j; \
	done
.endif

post-configure:
	ln ${WRKSRC}/docs/xanim.man ${WRKSRC}

USE_X11=		Yes
CONFIGURE_STYLE=	imake
DOCDIR=${PREFIX}/share/doc/xanim

NO_REGRESS=	Yes

post-install:
	${INSTALL_DATA_DIR} ${DOCDIR}
	for file in ${WRKSRC}/docs/*; \
	do \
		[ $$file == ${WRKSRC}/docs/xanim.man ] || ${INSTALL_DATA} $$file ${DOCDIR}; \
	done


.include <bsd.port.mk>
@


1.4
log
@All those need USE_X11
@
text
@d1 1
a1 1
# $MirOS$
d4 2
@


1.3
log
@clean up COMMENT and HOMEPAGE; regenerate INDEX (2761, 169 marked as broken, probably many many more) ­ edited by script with manual postprocessing
@
text
@d1 1
d4 1
a4 1
COMMENT=			X11 animation player with support for lots of formats
d61 1
@


1.2
log
@Semi-automatic update of the remaining ports to the new patchlevel format.

Please correct mistakes if you find them :).
@
text
@d3 1
a3 1
COMMENT=	"X11 animation player with support for lots of formats"
@


1.1
log
@Initial revision
@
text
@d6 1
a6 1
PKGNAME=${DISTNAME}p0
@


1.1.7.1
log
@Import the MirPorts Framework, many files moved or renamed though, no KDE/QT
@
text
@@
