head	1.2;
access;
symbols;
locks; strict;
comment	@# @;


1.2
date	2009.08.16.17.17.45;	author tg;	state Exp;
branches;
next	1.1;
commitid	1004A883C9B4C196B76;

1.1
date	2006.10.07.00.12.59;	author tg;	state Exp;
branches;
next	;
commitid	1004526F0E646DFD9A1;


desc
@@


1.2
log
@change all V to VSN (ok bsiegert@@) and some DASH_VER while here
@
text
@# $MirOS: ports/japanese/jmdict/jmdict/Makefile,v 1.1 2006/10/07 00:12:59 tg Exp $

COMMENT=		console japanese-english dictionary
CATEGORIES=		japanese
VSN=			0.3
DISTNAME=		jmdict-${VSN}
PKGNAME=		jmdict-${VSN}-${DASH_VER}
EXTRACT_SUFX=		.tar.bz2
HOMEPAGE=		http://mandrill.fuxx0r.net/jmdict.php

# GPL
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
PERMIT_PACKAGE_CDROM=	Yes
PERMIT_PACKAGE_FTP=	Yes

MASTER_SITES=		http://mandrill.fuxx0r.net/files/

LIB_DEPENDS+=		sqlite::databases/sqlite2
RUN_DEPENDS+=		:jmdict-datfile-*:japanese/jmdict/datfile

USE_CXX=		Yes
MAKE_FILE=		${.CURDIR}/jd.mk
NO_REGRESS=		Yes
CPPFLAGS+=		-DJMDICT_SQL_PATH=\"${LOCALBASE}/share/jmdict-datfile/\"

post-extract:
	cd ${WRKSRC} && for a in *.cpp; do mv $$a $${a%pp}c; done
	cd ${WRKSRC} && mv sqlite.h sqlitexx.h

.include <bsd.port.mk>
@


1.1
log
@add a working port of the jmdict command line utility
NB: creating the sqlite version of the dictionary took more than one hour;
    that's why it's a separate port, which can be depended on by gjdict too
@
text
@d1 1
a1 1
# $MirOS$
d5 3
a7 3
V=			0.3
DISTNAME=		jmdict-$V
PKGNAME=		jmdict-$V-0
@

