head	1.6;
access;
symbols;
locks; strict;
comment	@# @;


1.6
date	2010.11.25.12.43.36;	author bsiegert;	state Exp;
branches;
next	1.5;
commitid	1004CEE59D359B170C8;

1.5
date	2008.03.09.17.22.59;	author tg;	state Exp;
branches;
next	1.4;
commitid	10047D41CAA7E715397;

1.4
date	2007.04.12.20.20.41;	author bsiegert;	state Exp;
branches;
next	1.3;
commitid	100461E94AE5730E83F;

1.3
date	2006.09.14.00.10.16;	author tg;	state Exp;
branches;
next	1.2;
commitid	10045089C0E234154C3;

1.2
date	2005.07.07.21.22.17;	author bsiegert;	state Exp;
branches;
next	1.1;
commitid	66bc42cd9a7ea714;

1.1
date	2005.03.18.15.47.23;	author tg;	state Exp;
branches
	1.1.7.1;
next	;

1.1.7.1
date	2005.03.18.15.47.23;	author tg;	state Exp;
branches;
next	;


desc
@@


1.6
log
@Break _all_ packages that depends on other broken packages. Mostly
the following:

* mysql
* Wnn
* fltk
* sablotron
@
text
@# $MirOS: ports/japanese/onew/Makefile,v 1.5 2008/03/09 17:22:59 tg Exp $
# $OpenBSD: Makefile,v 1.9 2003/08/04 13:11:48 espie Exp $

COMMENT=			library for Japanese Input Method Wnn4

COMMENT-wnn4=			library for Japanese Input Method Wnn4
COMMENT-canna=			library for Japanese Input Method canna
COMMENT-wnn4-canna=		library for Japanese Input Method canna or wnn4
FULLPKGNAME=		ja-onew${FLAVOUR_EXT}-2.2.10-0

DISTNAME=	jvim2.0r+onew2.2.10
CATEGORIES=	japanese

MASTER_SITES=	ftp://ftp.lab.kdd.co.jp/Japan/onew/ \
		ftp://ftp.leo.chubu.ac.jp/pub/editor/jvim/


PERMIT_PACKAGE_CDROM=	Yes
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes

FLAVOURS=wnn4 canna
FLAVOUR?=canna
.if empty(FLAVOUR)
ERRORS+=	"Fatal: You must choose a converter"
.endif

.if ${FLAVOUR:L:Mwnn4}
BROKEN=			depends on Wnn, which is broken
BUILD_DEPENDS=	::japanese/Wnn
USE_X11=	Yes
USE_CXX=	Yes # depends on groff, which uses CXX
.endif

.if ${FLAVOUR:L:Mcanna}
PERMIT_PACKAGE_CDROM=	"Canna prevents it"
LIB_DEPENDS+=	canna.1::japanese/canna
USE_X11=	Yes
.endif

WRKDIST=	${WRKDIR}/onew
ALL_TARGET=	

ONEW_CONF=	${FILESDIR}/ONEW_CONF-for${FLAVOUR_EXT}
LIB_NAME=	libonew${FLAVOUR_EXT}.a
PORT_DOCDIR=	${PREFIX}/share/doc/ja-onew${FLAVOUR_EXT}

post-patch:
	ln -s ${ONEW_CONF} ${WRKSRC}/ONEW_CONF

MAKE_FLAGS=LOCALBASE=${LOCALBASE} CFLAGS='${CFLAGS}'
SUBST_VARS=FLAVOUR_EXT

NO_REGRESS=	Yes

do-install:
	${INSTALL_DATA} ${WRKSRC}/libonew.a ${PREFIX}/lib/${LIB_NAME}
	${INSTALL_DATA_DIR} ${PORT_DOCDIR}
	${INSTALL_DATA} ${WRKSRC}/README.ONEW ${PORT_DOCDIR}

.include <bsd.port.mk>
@


1.5
log
@bulk convert FLAVOR to FLAVOUR; nuke unused file; convert to $Mdocdate
@
text
@d1 1
a1 1
# $MirOS: ports/japanese/onew/Makefile,v 1.4 2007/04/12 20:20:41 bsiegert Exp $
d30 1
@


1.4
log
@USE_CXX (dependency)
@
text
@d1 1
a1 1
# $MirOS$
d9 1
a9 1
FULLPKGNAME=		ja-onew${FLAVOR_EXT}-2.2.10-0
d23 3
a25 3
FLAVORS=wnn4 canna
FLAVOR?=canna
.if empty(FLAVOR)
d29 1
a29 1
.if ${FLAVOR:L:Mwnn4}
d35 1
a35 1
.if ${FLAVOR:L:Mcanna}
d44 3
a46 3
ONEW_CONF=	${FILESDIR}/ONEW_CONF-for${FLAVOR_EXT}
LIB_NAME=	libonew${FLAVOR_EXT}.a
PORT_DOCDIR=	${PREFIX}/share/doc/ja-onew${FLAVOR_EXT}
d52 1
a52 1
SUBST_VARS=FLAVOR_EXT
@


1.3
log
@clean up COMMENT and HOMEPAGE; regenerate INDEX (2761, 169 marked as broken, probably many many more) ­ edited by script with manual postprocessing
@
text
@d1 1
d8 1
a8 1
COMMENT-wnn4-canna=			library for Japanese Input Method canna or wnn4
d32 1
@


1.2
log
@Semi-automatic update of the remaining ports to the new patchlevel format.

Please correct mistakes if you find them :).
@
text
@d3 1
a3 1
COMMENT=	"library for Japanese Input Method Wnn4"
d5 3
a7 3
COMMENT-wnn4= 		"library for Japanese Input Method Wnn4"
COMMENT-canna=		"library for Japanese Input Method canna"
COMMENT-wnn4-canna=	"library for Japanese Input Method canna or wnn4"
@


1.1
log
@Initial revision
@
text
@d8 1
a8 1
FULLPKGNAME=		ja-onew${FLAVOR_EXT}-2.2.10
@


1.1.7.1
log
@Import the MirPorts Framework, many files moved or renamed though, no KDE/QT
@
text
@@
