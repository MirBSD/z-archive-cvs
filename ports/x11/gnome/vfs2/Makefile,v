head	1.13;
access;
symbols;
locks; strict;
comment	@# @;


1.13
date	2017.08.07.20.16.30;	author tg;	state Exp;
branches;
next	1.12;
commitid	1005988C69344442E37;

1.12
date	2008.06.08.20.30.08;	author bsiegert;	state Exp;
branches;
next	1.11;
commitid	100484C414754D4F4FB;

1.11
date	2007.07.14.21.25.11;	author bsiegert;	state Exp;
branches;
next	1.10;
commitid	10046993F0024720353;

1.10
date	2007.06.20.19.57.03;	author bsiegert;	state Exp;
branches;
next	1.9;
commitid	1004679862B7F2631F9;

1.9
date	2007.04.18.20.05.09;	author bsiegert;	state Exp;
branches;
next	1.8;
commitid	100462679987ECF9520;

1.8
date	2006.09.14.00.15.23;	author tg;	state Exp;
branches;
next	1.7;
commitid	10045089C0E234154C3;

1.7
date	2005.12.29.18.38.33;	author bsiegert;	state Exp;
branches;
next	1.6;
commitid	10043B42D0A1CB50C14;

1.6
date	2005.12.29.17.07.44;	author bsiegert;	state Exp;
branches;
next	1.5;
commitid	10043B417B571799545;

1.5
date	2005.12.28.18.48.54;	author bsiegert;	state Exp;
branches;
next	1.4;
commitid	10043B2DE1448C59182;

1.4
date	2005.10.15.17.23.48;	author bsiegert;	state Exp;
branches;
next	1.3;
commitid	3f6c43513b104dc0;

1.3
date	2005.07.07.21.28.50;	author bsiegert;	state Exp;
branches;
next	1.2;
commitid	66bc42cd9a7ea714;

1.2
date	2005.03.25.23.13.51;	author bsiegert;	state Exp;
branches;
next	1.1;

1.1
date	2005.03.18.16.00.35;	author tg;	state Exp;
branches
	1.1.7.1;
next	;

1.1.7.1
date	2005.03.18.16.00.35;	author tg;	state Exp;
branches;
next	;


desc
@@


1.13
log
@filesystem
@
text
@# $MirOS: ports/x11/gnome/vfs2/Makefile,v 1.12 2008/06/08 20:30:08 bsiegert Exp $
# $OpenBSD: Makefile,v 1.14 2004/12/15 13:57:57 alek Exp $

COMMENT=		GNOME virtual filesystem

VERSION=		2.18.1
DASH_VER=		2
DISTNAME=		gnome-vfs-${VERSION}
CATEGORIES=		devel x11/gnome
HOMEPAGE=		http://www.gnome.org/


MASTER_SITES=		${MASTER_SITE_GNOME:=sources/gnome-vfs/2.18/}

MODULES=		devel/gettext devel/pkgconfig

LIB_DEPENDS=		bonobo-2,bonobo-activation::x11/gnome/libbonobo \
			bz2::archivers/bzip2 \
			cdda_paranoia,cdda_interface::audio/cdparanoia \
			gconf-2:gconf2->=2.18.0.1-1:devel/gconf \
			fam::sysutils/fam \
			dbus-1::sysutils/dbus \
			dbus-glib-1::sysutils/dbus-glib

BUILD_DEPENDS=		:p5-XML-Parser-*:textproc/p5-XML-Parser \
			:gnome-mime-data->=2.0.0:x11/gnome/mime-data \
			:intltool-*:textproc/intltool \
			:gnome-common-*:x11/gnome/common
RUN_DEPENDS=		:gnome-mime-data->=2.0.0:x11/gnome/mime-data \
			:shared-mime-info-*:misc/shared-mime-info

# GPL
PERMIT_PACKAGE_CDROM=	Yes
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes

.include <mirports.sys.mk>

USE_X11=		Yes
USE_CXX=		Yes # fam, shared-mime-info
USE_GMAKE=		Yes
CONFIGURE_STYLE=	autogen old
AUTOCONF_NEW=		Yes
AUTOMAKE_VERSION=	1.9
LDFLAGS+=		-pthread
CONFIGURE_ARGS+= 	${CONFIGURE_SHARED}
CONFIGURE_ARGS+=	--sysconfdir="${SYSCONFDIR}/gnome"
CONFIGURE_ARGS+=	--disable-gtk-doc
CONFIGURE_ARGS+=	--with-gconf-schema-file-dir=${LOCALBASE}/share/schemas/gnome-vfs2
CONFIGURE_ARGS+=	--disable-ipv6
CONFIGURE_ARGS+=	--enable-cdda

post-configure:
	print "H\n%s#@@INTLTOOL_LIBDIR@@#${PREFIX}/lib#\nwq" | ed ${WRKSRC}/intltool-merge

post-install:
	@@${INSTALL_DATA_DIR} ${PREFIX}/share/examples/gnome-vfs2; \
	cp -Rp ${WRKINST}/${SYSCONFDIR}/gnome/* ${PREFIX}/share/examples/gnome-vfs2/

.include <bsd.port.mk>
@


1.12
log
@Remove those fucking gtk-doc files from plist, sometimes they are not built
(?)

last one today
@
text
@d1 1
a1 1
# $MirOS: ports/x11/gnome/vfs2/Makefile,v 1.11 2007/07/14 21:25:11 bsiegert Exp $
d4 1
a4 1
COMMENT=		GNOME Virtual File System
@


1.11
log
@IMPORTANT BUGFIX for gconf: correct default.path file, don't leave @@prefix@@
in there after installing.

gnome-vfs: Depend at least on the new version of gconf, bump patchlevel.
@
text
@d1 1
a1 1
# $MirOS: ports/x11/gnome/vfs2/Makefile,v 1.10 2007/06/20 19:57:03 bsiegert Exp $
d7 1
a7 1
DASH_VER=		1
@


1.10
log
@GNOME update, the first part.

Actually, it is libbonoboui that is not compatible with the new Gtk+. But
I have to update some stuff along with it, so what the heck, I am doing a
little bit more.

Attention on update: gconf now uses PREFIX/db/gconf instead of /var/db and
.etc/gconf instead of .gconf.
@
text
@d1 1
a1 1
# $MirOS: ports/x11/gnome/vfs2/Makefile,v 1.9 2007/04/18 20:05:09 bsiegert Exp $
d7 1
d20 1
a20 1
			gconf-2::devel/gconf \
@


1.9
log
@Wow. I should have checked the GNOME stuff earlier. All this is obviously
my mistake. A lot of USE_CXX and even USE_X11 missing.

Correct some minor things while here. libgtkghtml, yelp, zenity: convert
to MirLibtool (untested). Some of the stuff here is still gnome 2.4, omg.
@
text
@d1 1
a1 1
# $MirOS: ports/x11/gnome/vfs2/Makefile,v 1.8 2006/09/14 00:15:23 tg Exp $
d6 1
a6 1
VERSION=		2.12.2
a7 1
PKGNAME=		${DISTNAME}-1
d12 1
a12 1
MASTER_SITES=		${MASTER_SITE_GNOME:=sources/gnome-vfs/2.12/}
d20 3
a22 1
			fam::sysutils/fam
d53 3
@


1.8
log
@clean up COMMENT and HOMEPAGE; regenerate INDEX (2761, 169 marked as broken, probably many many more) ­ edited by script with manual postprocessing
@
text
@d1 1
a1 1
# $MirOS: ports/x11/gnome/vfs2/Makefile,v 1.7 2005/12/29 18:38:33 bsiegert Exp $
d4 1
a4 1
COMMENT=			GNOME Virtual File System
d36 2
d39 1
@


1.7
log
@Move gtk-doc.m4 to the gnome-common port (first part). Rationale: more than
one GNOME port needs this and I won't to a gtk-doc port as we disable this
feature anyway.
@
text
@d1 1
a1 1
# $MirOS: ports/x11/gnome/vfs2/Makefile,v 1.6 2005/12/29 17:07:44 bsiegert Exp $
d4 1
a4 1
COMMENT=		"GNOME Virtual File System"
@


1.6
log
@Use autogen.sh and regenerate everything so that MirLibtool is correctly
used. Thus, make sure that the shared lib is actually built. Bump
patchlevel.
@
text
@d1 1
a1 1
# $MirOS: ports/x11/gnome/vfs2/Makefile,v 1.5 2005/12/28 18:48:54 bsiegert Exp $
a48 3
pre-patch:
	cp ${FILESDIR}/gtk-doc.m4 ${WRKSRC}

@


1.5
log
@Update to 2.12.2, gtk-doc stuff has vanished for some reason
@
text
@d1 1
a1 1
# $MirOS: ports/x11/gnome/vfs2/Makefile,v 1.4 2005/10/15 17:23:48 bsiegert Exp $
d8 1
a8 1
PKGNAME=		${DISTNAME}-0
d24 3
a26 1
			:gnome-mime-data->=2.0.0:x11/gnome/mime-data
d38 1
a38 1
CONFIGURE_STYLE=	autoconf old
d40 1
d49 3
@


1.4
log
@Update gnome-vfs to 2.12.1.1-0, hope I got it right...
@
text
@d1 1
a1 1
# $MirOS: ports/x11/gnome/vfs2/Makefile,v 1.3 2005/07/07 21:28:50 bsiegert Exp $
d6 1
a6 1
VERSION=		2.12.1.1
d15 1
a15 1
MODULES=		devel/gettext
d23 1
a23 2
BUILD_DEPENDS=		:pkgconfig-*:devel/pkgconfig \
			:p5-XML-Parser-*:textproc/p5-XML-Parser \
@


1.3
log
@Semi-automatic update of the remaining ports to the new patchlevel format.

Please correct mistakes if you find them :).
@
text
@d1 1
a1 1
# $MirOS$
d6 1
a6 1
VERSION=		2.8.3
d8 1
a8 1
PKGNAME=		gnome-vfs2-${VERSION}-0
d13 1
a13 1
MASTER_SITES=		${MASTER_SITE_GNOME:=sources/gnome-vfs/2.8/}
d20 2
a21 1
			gconf-2::devel/gconf
d45 1
@


1.2
log
@Mass-update dependencies to cope with port renames. Mostly done in the train
home from Strasbourg.
@
text
@d8 1
a8 1
PKGNAME=		gnome-vfs2-${VERSION}
@


1.1
log
@Initial revision
@
text
@d20 1
a20 1
			gconf-2::devel/gconf2
@


1.1.7.1
log
@Import the MirPorts Framework, many files moved or renamed though, no KDE/QT
@
text
@@
