head	1.7;
access;
symbols;
locks; strict;
comment	@# @;


1.7
date	2008.03.09.17.23.42;	author tg;	state Exp;
branches;
next	1.6;
commitid	10047D41CAA7E715397;

1.6
date	2007.05.07.19.42.28;	author bsiegert;	state Exp;
branches;
next	1.5;
commitid	100463F81147C925B7C;

1.5
date	2006.09.14.00.15.13;	author tg;	state Exp;
branches;
next	1.4;
commitid	10045089C0E234154C3;

1.4
date	2006.02.09.09.36.22;	author tg;	state Exp;
branches;
next	1.3;
commitid	10043EB0C94610EDE76;

1.3
date	2005.07.07.21.28.43;	author bsiegert;	state Exp;
branches;
next	1.2;
commitid	66bc42cd9a7ea714;

1.2
date	2005.03.30.18.13.55;	author bsiegert;	state Exp;
branches;
next	1.1;

1.1
date	2005.03.18.16.00.19;	author tg;	state Exp;
branches
	1.1.7.1;
next	;

1.1.7.1
date	2005.03.18.16.00.19;	author tg;	state Exp;
branches;
next	;


desc
@@


1.7
log
@bulk convert FLAVOR to FLAVOUR; nuke unused file; convert to $Mdocdate
@
text
@# $MirOS: ports/x11/fvwm2/Makefile,v 1.6 2007/05/07 19:42:28 bsiegert Exp $
# $OpenBSD: Makefile,v 1.31 2004/02/04 07:39:19 sturm Exp $

COMMENT=		multiple virtual desktop window manager, with icons
COMMENT-fvicons=	multiple virtual desktop window manager icons
COMMENT-fvwm2=		multiple virtual desktop window manager, without icons

VERSION=	2.4.16
DISTNAME=	fvwm-${VERSION}
PKGNAME=	fvwm2+fvicons-${VERSION}-0
FULLPKGNAME-fvicons=fvicons-${VERSION}-0
PKGNAME-fvwm2=	fvwm2-${VERSION}-0
CATEGORIES=     x11

DISTFILES=	${DISTNAME}${EXTRACT_SUFX} fvwm_icons.tgz:0

HOMEPAGE=	http://www.fvwm.org/


# GPL/BSD-like (badly worded)
PERMIT_PACKAGE_CDROM=	Yes
PERMIT_PACKAGE_FTP=	Yes 
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes 

MASTER_SITES=	ftp://ftp.fvwm.org/pub/fvwm/version-2/
MASTER_SITES0=	http://www.fvwm.org/generated/icon_download/

LIB_DEPENDS=	gtk.1.2:gtk+-*:x11/gtk+1 \
		gdk_imlib.19.:imlib-*:graphics/imlib

MULTI_PACKAGES=	-fvwm2 -fvicons
SUBPACKAGE?=

FLAVOURS=	rplay debug i18n
FLAVOUR?=

.if ${FLAVOUR:L:Mrplay} && !${SUBPACKAGE} == "-fvicons"
LIB_DEPENDS+=	rplay.0.:rplay-*:audio/rplay
CONFIGURE_ARGS+= --with-rplay-includes="${LOCALBASE}/include" \
		 --with-rplay-library="${LOCALBASE}/lib"
.else
CONFIGURE_ARGS+= --without-rplay
.endif

.if ${FLAVOUR:L:Mdebug}
CONFIGURE_ARGS+= --enable-debug-msgs
.endif

.if ${FLAVOUR:L:Mi18n}
# the multibyte character support is experimental
CONFIGURE_ARGS+= --enable-multibyte
.else
CONFIGURE_ARGS+= --disable-multibyte
.endif

.if defined(PACKAGING) && ${SUBPACKAGE} == "-fvicons"
PKG_ARCH=	*
.endif

SUBST_VARS=	VERSION

USE_X11=	Yes
USE_CXX=	Yes # depends on libungif, which uses CXX

CONFIGURE_STYLE= gnu
CONFIGURE_ARGS+= --enable-extras \
		 --without-gnome

post-install:
	${INSTALL_DATA_DIR} ${PREFIX}/share/pixmaps/fvwm
	${INSTALL_DATA} ${WRKDIR}/fvwm_icons/*.xpm ${PREFIX}/share/pixmaps/fvwm/
	${INSTALL_DATA} ${WRKSRC}/sample.fvwmrc/system.fvwm2rc ${PREFIX}/share/fvwm
	
.include <bsd.port.mk>
@


1.6
log
@USE_CXX because of dependency, mostly libungif, blackbox, and fnlib
@
text
@d1 1
a1 1
# $MirOS: ports/x11/fvwm2/Makefile,v 1.5 2006/09/14 00:15:13 tg Exp $
d35 2
a36 2
FLAVORS=	rplay debug i18n
FLAVOR?=
d38 1
a38 1
.if ${FLAVOR:L:Mrplay} && !${SUBPACKAGE} == "-fvicons"
d46 1
a46 1
.if ${FLAVOR:L:Mdebug}
d50 1
a50 1
.if ${FLAVOR:L:Mi18n}
@


1.5
log
@clean up COMMENT and HOMEPAGE; regenerate INDEX (2761, 169 marked as broken, probably many many more) ­ edited by script with manual postprocessing
@
text
@d1 1
a1 1
# $MirOS: ports/x11/fvwm2/Makefile,v 1.4 2006/02/09 09:36:22 tg Exp $
d4 3
a6 3
COMMENT=			multiple virtual desktop window manager, with icons
COMMENT-fvicons=			multiple virtual desktop window manager icons
COMMENT-fvwm2=			multiple virtual desktop window manager, without icons
d64 1
@


1.4
log
@remove SEPARATE_BUILD for once and for good, I'm fed up with
all the trouble it can cause - ports which need it (e.g. the
GCC SC doesnt "support" building gcc with srcdir=objdir) can
set stuff like WRKBUILD themselves.
@
text
@d1 1
a1 1
# $MirOS: ports/x11/fvwm2/Makefile,v 1.3 2005/07/07 21:28:43 bsiegert Exp $
d4 3
a6 3
COMMENT=	"multiple virtual desktop window manager, with icons"
COMMENT-fvicons="multiple virtual desktop window manager icons"
COMMENT-fvwm2=	"multiple virtual desktop window manager, without icons"
@


1.3
log
@Semi-automatic update of the remaining ports to the new patchlevel format.

Please correct mistakes if you find them :).
@
text
@d1 1
a1 1
# $MirOS$
a64 1
SEPARATE_BUILD= concurrent
@


1.2
log
@Covert gtk+ -> gtk+1 dependencies
@
text
@d10 3
a12 3
PKGNAME=	fvwm2+fvicons-${VERSION}
FULLPKGNAME-fvicons=fvicons-${VERSION}
PKGNAME-fvwm2=	fvwm2-${VERSION}
@


1.1
log
@Initial revision
@
text
@d1 1
d29 1
a29 1
LIB_DEPENDS=	gtk.1.2:gtk+-*:x11/gtk+ \
@


1.1.7.1
log
@Import the MirPorts Framework, many files moved or renamed though, no KDE/QT
@
text
@@
