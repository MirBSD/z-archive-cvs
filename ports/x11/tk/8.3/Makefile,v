head	1.4;
access;
symbols;
locks; strict;
comment	@# @;


1.4
date	2006.09.14.00.15.39;	author tg;	state Exp;
branches;
next	1.3;
commitid	10045089C0E234154C3;

1.3
date	2006.02.09.09.36.25;	author tg;	state Exp;
branches;
next	1.2;
commitid	10043EB0C94610EDE76;

1.2
date	2005.07.07.21.29.21;	author bsiegert;	state Exp;
branches;
next	1.1;
commitid	66bc42cd9a7ea714;

1.1
date	2005.03.18.16.00.54;	author tg;	state Exp;
branches
	1.1.7.1;
next	;

1.1.7.1
date	2005.03.18.16.00.54;	author tg;	state Exp;
branches;
next	;


desc
@@


1.4
log
@clean up COMMENT and HOMEPAGE; regenerate INDEX (2761, 169 marked as broken, probably many many more) ­ edited by script with manual postprocessing
@
text
@# $OpenBSD: Makefile,v 1.18 2004/03/13 15:48:54 sturm Exp $

COMMENT=			graphical toolkit for Tcl

VERSION=	8.3.5

DISTNAME=	tk${VERSION}-src
PKGNAME=	tk-${VERSION}-0
CATEGORIES=	x11 x11/tk
MASTER_SITES=	${MASTER_SITE_TCLTK:=tcl8_3/}

HOMEPAGE=	http://dev.scriptics.com/software/tcltk/


# BSD-like
PERMIT_PACKAGE_CDROM=	Yes
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes

LIB_DEPENDS=    tcl83.1.3:tcl-${VERSION}:lang/tcl/8.3

MAKE_FLAGS=	CFLAGS="${CFLAGS}"
FAKE_FLAGS=	INSTALL="install -c" INSTALL_ROOT="${WRKINST}" \
		BASE_INCLUDE_DIR='$$(prefix)/include/tk$$(VERSION)' \
		INCLUDE_INSTALL_DIR='$$(INSTALL_ROOT)$$(BASE_INCLUDE_DIR)' \
		GENERIC_INCLUDE_INSTALL_DIR='$$(BASE_INCLUDE_DIR)/generic' \
		UNIX_INCLUDE_INSTALL_DIR='$$(BASE_INCLUDE_DIR)/unix' \
		MAN_INSTALL_DIR='$${INSTALL_ROOT}$$(TK_LIBRARY)/man'

USE_X11=	Yes
CONFIGURE_STYLE= gnu
CONFIGURE_ARGS+= ${CONFIGURE_SHARED}
CONFIGURE_ARGS+= --enable-static --with-tcl="${LOCALBASE}/lib/tcl8.3"
CONFIGURE_ENV=  PORTSDIR="${PORTSDIR}"

WRKDIST=	${WRKDIR}/tk${VERSION}/unix

REGRESS_TARGET=test
REGRESS_DEPENDS=::lang/tcl/8.3:regress
REGRESS_FLAGS=TCL_BIN_DIR=`cd ${PORTSDIR}/lang/tcl/8.3 && ${MAKE} show=WRKBUILD`
# This regression test wants an X11 display
REGRESS_FLAGS+=DISPLAY=${DISPLAY} XAUTHORITY=${XAUTHORITY}
REGRESS_IS_INTERACTIVE=Yes

post-install:
	@@strip ${PREFIX}/bin/wish8.3

.include <bsd.port.mk>
@


1.3
log
@remove SEPARATE_BUILD for once and for good, I'm fed up with
all the trouble it can cause - ports which need it (e.g. the
GCC SC doesnt "support" building gcc with srcdir=objdir) can
set stuff like WRKBUILD themselves.
@
text
@d3 1
a3 1
COMMENT=	"graphical toolkit for Tcl"
@


1.2
log
@Semi-automatic update of the remaining ports to the new patchlevel format.

Please correct mistakes if you find them :).
@
text
@a30 1
SEPARATE_BUILD=	concurrent
@


1.1
log
@Initial revision
@
text
@d8 1
a8 1
PKGNAME=	tk-${VERSION}
@


1.1.7.1
log
@Import the MirPorts Framework, many files moved or renamed though, no KDE/QT
@
text
@@
