head	1.1;
access;
symbols;
locks; strict;
comment	@# @;


1.1
date	2009.05.11.12.55.43;	author bsiegert;	state Exp;
branches;
next	;
commitid	1004A08203A3C3C8C67;


desc
@@


1.1
log
@New port for slim, a simple login manager for X. From OpenBSD, but Makefile
rewritten in bsd.prog.mk. DESCR:

SLiM is a Desktop-independent graphical login manager for X11,
derived from Login.app.
It aims to be light and simple, although completely configurable
through themes and an option file. It is suitable for machines on
which remote login functionalities are not needed.
@
text
@# $MirOS$

NAME=		slim
VERSION=	1.3.1

PROG=		${NAME}
SRCS=		jpeg.c png.c main.cpp image.cpp numlock.cpp cfg.cpp \
		switchuser.cpp app.cpp panel.cpp

CPPFLAGS+=	-DPACKAGE=\"${NAME}\" -DVERSION=\"${VERSION}\" \
		-DPKGDATADIR=\"${PREFIX}/share/slim\" \
		-DSYSCONFDIR=\"${SYSCONFDIR}\" -DNEEDS_BASENAME \
		-I. -I${X11BASE:Q}/include -I${X11BASE:Q}/include/freetype2 \
		-I${PREFIX:Q}/include
LDFLAGS+=	-L${X11BASE:Q}/lib -L${PREFIX}/lib \
		-lXft -lX11 -lfreetype -lXrender -lfontconfig -lpng -lz \
		-lm -lXmu -lpng -ljpeg

afterinstall: install-theme
	install -d -m 755 ${PREFIX:Q}/share/examples/slim
	install -m 644 slim.conf ${PREFIX:Q}/share/examples/slim

install-theme:
	install -d -m 755 themes/default \
		 $(PREFIX)/share/slim/themes/default
	install -m 644 themes/default/slim.theme \
		 $(PREFIX)/share/slim/themes/default/slim.theme
	install -m 644 themes/default/panel.png \
		 $(PREFIX)/share/slim/themes/default/panel.png
	install -m 644 themes/default/background.jpg \
		 $(PREFIX)/share/slim/themes/default/background.jpg

.include <bsd.prog.mk>
@
