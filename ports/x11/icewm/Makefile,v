head	1.6;
access;
symbols;
locks; strict;
comment	@# @;


1.6
date	2006.12.26.15.26.44;	author tg;	state Exp;
branches;
next	1.5;
commitid	10045913F212F8660C1;

1.5
date	2006.12.16.22.42.02;	author bsiegert;	state Exp;
branches;
next	1.4;
commitid	100458475D026A5FE70;

1.4
date	2006.10.01.02.13.05;	author tg;	state Exp;
branches;
next	1.3;
commitid	100451F244326DAACB2;

1.3
date	2006.09.14.00.15.26;	author tg;	state Exp;
branches;
next	1.2;
commitid	10045089C0E234154C3;

1.2
date	2005.03.27.20.42.17;	author tg;	state Exp;
branches;
next	1.1;

1.1
date	2005.03.18.16.00.38;	author tg;	state Exp;
branches
	1.1.7.1;
next	;

1.1.7.1
date	2005.03.18.16.00.38;	author tg;	state Exp;
branches;
next	;


desc
@@


1.6
log
@* frozen-bubble is written consistently with dash
* activate colour-blind mode by default, to please Ventilator from symlink.ch
* remove XTerm (non-unicode) from toolbar, it's still in menu tho
@
text
@# $MirOS: ports/x11/icewm/Makefile,v 1.5 2006/12/16 22:42:02 bsiegert Exp $
# $OpenBSD: Makefile,v 1.16 2004/05/25 16:36:35 naddy Exp $

COMMENT=		small, fast window manager with themes
DISTNAME=		icewm-1.2.28
DASH_VER=		2
CATEGORIES=     	x11
HOMEPAGE=		http://www.icewm.org/

# LGPL
PERMIT_PACKAGE_CDROM=	Yes
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes

MASTER_SITES=           ${MASTER_SITE_SOURCEFORGE:=icewm/}

LIB_DEPENDS=		Imlib::graphics/imlib

USE_CXX=		Yes
USE_X11=		Yes
NO_REGRESS=		Yes
CONFIGURE_STYLE= 	autoconf
AUTOCONF_NEW=		Yes
CONFIGURE_ARGS=		--with-imlib=${PREFIX}/bin \
			--with-docdir=${PREFIX}/share/doc \
			--with-libdir=${PREFIX}/share/icewm \
			--with-cfgdir=${SYSCONFDIR}/icewm \
			--disable-nls \
			--disable-i18n \
			--enable-gradients
INSTALL_TARGET=		install install-man

post-install:
	${INSTALL_DATA} ${FILESDIR}/*.xpm ${PREFIX}/share/icewm/taskbar/
	cd ${PREFIX}/share/icewm/taskbar && \
	    mv start.xpm icewm.xpm && \
	    ln -s bsd-daemon.xpm start.xpm
	for file in share/doc/icewm/icewm-7.html man/man1/icewm.1; do \
		chmod u+w ${PREFIX}/$$file; \
		print '%g#%%SYSCONFDIR%%#s##${SYSCONFDIR}#g\n%g#%%PREFIX%%#s##${TRUEPREFIX}#g\nwq' | \
		    ed -s ${PREFIX}/$$file; \
		chmod ${DOCMODE} ${PREFIX}/$$file; \
	done
	echo 'Theme="metal2/default.theme"' > ${PREFIX}/share/icewm/theme

.include <bsd.port.mk>
@


1.5
log
@Use metal2 as default theme. Add some menu entries: dillo, mc, irssi,
Frozen Bubble (important!), audacious. Use uxterm for Ctrl-Alt-t.
Bump patchlevel.

"we need a preconfigured icewm for the 23c3 live cd" tg@@
@
text
@d1 1
a1 1
# $MirOS: ports/x11/icewm/Makefile,v 1.4 2006/10/01 02:13:05 tg Exp $
d6 1
a6 1
PKGNAME=		${DISTNAME}-1
@


1.4
log
@update to latest
@
text
@d1 1
a1 1
# $MirOS: ports/x11/icewm/Makefile,v 1.3 2006/09/14 00:15:26 tg Exp $
d6 1
d18 1
a18 1
LIB_DEPENDS=		Imlib.19::graphics/imlib
d45 1
@


1.3
log
@clean up COMMENT and HOMEPAGE; regenerate INDEX (2761, 169 marked as broken, probably many many more) ­ edited by script with manual postprocessing
@
text
@d1 1
a1 1
# $MirOS: ports/x11/icewm/Makefile,v 1.2 2005/03/27 20:42:17 tg Exp $
d4 2
a5 2
COMMENT=			small, fast window manager
DISTNAME=		icewm-1.2.20
d31 1
a33 3
	@@perl -pi -e 's:%%SYSCONFDIR%%:${SYSCONFDIR}:g;' \
		-e 's:%%PREFIX%%:${TRUEPREFIX}:g;' \
		${PREFIX}/share/doc/icewm/icewm-7.html
d35 9
@


1.2
log
@update to 1.2.20; add politically correct taskbar icon

still dumps core on me, libstdc++ problem
@
text
@d1 1
a1 1
# $MirOS: ports/x11/icewm/Makefile,v 1.1.7.1 2005/03/18 16:00:38 tg Exp $
d4 1
a4 1
COMMENT=		"small, fast window manager"
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $MirOS$
d5 1
a5 1
DISTNAME=		icewm-1.2.14
d22 2
a23 1
CONFIGURE_STYLE= 	gnu
d28 1
a29 1
			--enable-shaped-decorations \
d36 1
@


1.1.7.1
log
@Import the MirPorts Framework, many files moved or renamed though, no KDE/QT
@
text
@@
