head	1.5;
access;
symbols;
locks; strict;
comment	@# @;


1.5
date	2015.03.20.20.26.06;	author tg;	state Exp;
branches;
next	1.4;
commitid	100550C82760DC7F382;

1.4
date	2015.03.03.22.58.16;	author tg;	state Exp;
branches;
next	1.3;
commitid	10054F63CA15BFA22FE;

1.3
date	2013.07.18.19.08.15;	author tg;	state Exp;
branches;
next	1.2;
commitid	10051E83D374E67AB24;

1.2
date	2013.05.31.15.28.11;	author tg;	state Exp;
branches;
next	1.1;
commitid	10051A8C1A453383149;

1.1
date	2013.05.29.20.44.58;	author tg;	state Exp;
branches;
next	;
commitid	10051A668D657080911;


desc
@@


1.5
log
@update; requested by upstream
@
text
@# $MirOS: ports/x11/envypn-font/Makefile,v 1.4 2015/03/03 22:58:16 tg Exp $

COMMENT=		Readable terminal font inspired by Envy Code R
VSN=			1.6.2
DISTNAME=		envypn-font-${VSN}
CATEGORIES=		x11
HOMEPAGE=		http://ywstd.fr/me/#envypn

# MirOS
PERMIT_PACKAGE_CDROM=	Yes
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes

MASTER_SITES=		http://files.ywstd.fr/p/envypn-font/MirBSD/
DISTFILES=		envypn-font-MirBSD-${VSN}${EXTRACT_SUFX}

NO_REGRESS=		Yes
USE_X11=		Yes

FONTDIR=		${PREFIX}/lib/X11/fonts/envypn

do-build:
	# this could look nicer with set -o pipefail (mksh R46+)
.for _f in envypn7x13 envypn7x13e envypn7x15 envypn7x15e
	cd ${WRKBUILD:Q} && \
	    ${MKSH} ${PORTSDIR}/infrastructure/scripts/bdfctool -d \
	    <${WRKSRC:Q}/${_f}.bdfc >${_f}.bdf
	cd ${WRKBUILD:Q} && bdftopcf -t ${_f}.bdf >${_f}.pcf
	cd ${WRKBUILD:Q} && ${GZIP_CMD} ${_f}.pcf
.endfor
	cd ${WRKSRC:Q} && sed s,@@PREFIX@@,${PREFIX:Q},g <README >README.i

do-install:
	${INSTALL_DATA_DIR} ${PREFIX:Q}/share/doc/envypn-font ${FONTDIR:Q}
	${INSTALL_DATA} ${WRKSRC:Q}/README.i \
	    ${PREFIX:Q}/share/doc/envypn-font/README
	cd ${WRKSRC:Q} && ${INSTALL_DATA} fonts.alias *.pcf.gz ${FONTDIR:Q}/
	cd ${FONTDIR:Q} && ${X11BASE:Q}/bin/mkfontdir

.include <bsd.port.mk>
@


1.4
log
@twitter is a weird medium to request an update to MASTER_SITES…
@
text
@d1 1
a1 1
# $MirOS: ports/x11/envypn-font/Makefile,v 1.3 2013/07/18 19:08:15 tg Exp $
d4 1
a4 1
VSN=			1.6
d7 1
a7 1
HOMEPAGE=		http://tetedulinuxien.fr/qui-suis-je/
@


1.3
log
@bump version (GPL → MirOS, mostly)
@
text
@d1 1
a1 1
# $MirOS: ports/x11/envypn-font/Makefile,v 1.2 2013/05/31 15:28:11 tg Exp $
d15 1
a15 1
MASTER_SITES=		http://linuxien.legtux.org/projects/envypn-font/
@


1.2
log
@update
@
text
@d1 1
a1 1
# $MirOS: ports/x11/envypn-font/Makefile,v 1.1 2013/05/29 20:44:58 tg Exp $
d4 2
a5 2
VSN=			1.5.2
DISTNAME=		envypn-font-1.5.2
d9 1
a9 1
# GPL
@


1.1
log
@add a new font as requested by Ypnose (its author) on IRC
@
text
@d1 1
a1 1
# $MirOS: ports/x11/terminus-font/Makefile,v 1.5 2009/06/22 12:07:34 tg Exp $
d4 2
a5 1
DISTNAME=		envypn-font-1.5.1
d16 1
d24 7
a30 2
.for _f in envypn7x13.pcf envypn7x13e.pcf envypn7x15.pcf envypn7x15e.pcf
	cd ${WRKSRC:Q} && ${GZIP_CMD} <${_f} >${_f}.gz
@

