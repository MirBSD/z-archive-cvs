head	1.8;
access;
symbols;
locks; strict;
comment	@# @;


1.8
date	2006.03.24.13.41.55;	author tg;	state dead;
branches;
next	1.7;
commitid	1004423F73104F18FC9;

1.7
date	2005.07.07.21.29.17;	author bsiegert;	state Exp;
branches;
next	1.6;
commitid	66bc42cd9a7ea714;

1.6
date	2005.06.24.15.20.38;	author tg;	state Exp;
branches;
next	1.5;
commitid	183542bc24d8a938;

1.5
date	2005.05.20.01.10.22;	author tg;	state Exp;
branches;
next	1.4;
commitid	10f3428d3913c1ec;

1.4
date	2005.05.20.01.07.56;	author tg;	state Exp;
branches;
next	1.3;
commitid	38cb428d3853d81e;

1.3
date	2005.04.11.15.57.53;	author tg;	state Exp;
branches;
next	1.2;

1.2
date	2005.04.10.21.51.59;	author tg;	state Exp;
branches;
next	1.1;

1.1
date	2005.03.18.16.00.51;	author tg;	state Exp;
branches
	1.1.7.1;
next	;

1.1.7.1
date	2005.03.18.16.00.51;	author tg;	state Exp;
branches;
next	;


desc
@@


1.8
log
@move x11/realplayer-linux to multimedia
@
text
@# $MirOS: ports/x11/realplayer-linux/Makefile,v 1.7 2005/07/07 21:29:17 bsiegert Exp $

ONLY_FOR_PLATFORM=	OpenBSD:*:i386 MirBSD:*:i386
EMUL=			linux

COMMENT=		Real Networks streaming audio/video client
DISTNAME=		rp8_linux20_libc6_i386_cs2
PKGNAME=		realplayer-linux-8.0.1-3
CATEGORIES=		audio graphics x11 multimedia
DISTFILES=		rp8_linux20_libc6_i386_cs2_rpm \
			rv9_libc6_i386_cs2.tgz
HOMEPAGE=		http://www.real.com/products/player/

PERMIT_PACKAGE_CDROM=	"commercial, redistribution not permitted"
PERMIT_PACKAGE_FTP=	"commercial, redistribution not permitted"
PERMIT_DISTFILES_CDROM=	"commercial, redistribution not permitted"
PERMIT_DISTFILES_FTP=	"commercial, redistribution not permitted"

RUN_DEPENDS=		:redhat_base->=6.2:emulators/redhat/base
BUILD_DEPENDS=		::converters/rpm2cpio

NO_BUILD=		Yes
NO_REGRESS=		Yes

RPDIR=			${PREFIX}/lib/RealPlayer
WRKSRC=			${WRKDIR}/usr/lib/RealPlayer8

do-fetch:
	@@cd ${DISTDIR}; x=1; for f in ${DISTFILES}; do \
		test -f $$f || x=0; \
	done; if [ $$x = 0 ]; then \
		echo "" ; \
		echo " You must fetch the distfile for this port manually" ; \
		echo " after agreeing to the license at:" ; \
		echo "" ; \
		echo "   http://forms.real.com/real/player/blackjack.html" ; \
		echo "" ; \
		echo " Choose 'RealPlayer 8 for Linux 2.x (i386) RPM' and" ; \
		echo " place the downloaded file into ${DISTDIR}" ; \
		echo " Note you must change \"cs1\" to \"cs2\" in the URL!" ; \
		echo " You also need RV9 Codec packs for Unix RealPlayer 8" ; \
		echo "" ; \
		exit 1 ; \
	fi

# the chmod hackery here is so 'make clean' works as it should
do-extract:
	@@cd ${WRKDIR}; for f in ${DISTFILES}; do \
		if [[ $$f = *rpm ]]; then \
			${LOCALBASE}/bin/rpm2cpio ${DISTDIR}/$$f; \
		else \
			gzip -dc ${DISTDIR}/$$f; \
		fi | ${TAR} xf -; \
	done
	@@chmod -R u=rwX,go=rX ${WRKSRC}

do-install:
	${INSTALL_DATA_DIR} ${RPDIR}
.for _f in mimeinstall.sh realplay rpnp.so
	${INSTALL_SCRIPT} ${WRKSRC}/${_f} ${RPDIR}/
.endfor
.for _f in LICENSE Mailcap Mime.types app.kdelnk audiosig.rm firstrun.rm \
    raclass.zip realplay.desktop rp7.xpm rp7doc.png rp7doc.xpm rp7mini.xpm
	${INSTALL_DATA} ${WRKSRC}/${_f} ${RPDIR}/
.endfor
.for _f in Codecs Common Plugins
	${INSTALL_DATA_DIR} ${RPDIR}/${_f}
	${INSTALL_SCRIPT} ${WRKSRC}/${_f}/*.so* ${RPDIR}/${_f}/
.endfor
	${INSTALL_SCRIPT} ${WRKDIR}/rv9/codecs/{drv4,rv40}.so.6.0 \
	    ${RPDIR}/Codecs/
	${INSTALL_DATA_DIR} ${RPDIR}/Plugins/ExtResources
	${INSTALL_SCRIPT} ${WRKSRC}/Plugins/ExtResources/* \
		${RPDIR}/Plugins/ExtResources/
	cd ${PREFIX}/bin; ln -sf ..${RPDIR:S!${PREFIX}!!}/realplay .
	${INSTALL_DATA_DIR} ${PREFIX}/share/doc/RealPlayer8/realplay/pics
	${INSTALL_DATA} ${WRKSRC}/Help/readme ${WRKSRC}/Help/realplay.htm \
	    ${PREFIX}/share/doc/RealPlayer8/
	${INSTALL_DATA} ${WRKSRC}/Help/realplay/*.htm \
	    ${PREFIX}/share/doc/RealPlayer8/realplay/
	${INSTALL_DATA} ${WRKSRC}/Help/realplay/pics/* \
	    ${PREFIX}/share/doc/RealPlayer8/realplay/pics/

.include <bsd.port.mk>
@


1.7
log
@Semi-automatic update of the remaining ports to the new patchlevel format.

Please correct mistakes if you find them :).
@
text
@d1 1
a1 1
# $MirOS: ports/x11/realplayer-linux/Makefile,v 1.5 2005/05/20 01:10:22 tg Exp $
@


1.6
log
@firstrun.rm my arse
@
text
@d8 1
a8 1
PKGNAME=		realplayer-linux-8.0.1p3
@


1.5
log
@oops
@
text
@d1 1
a1 1
# $MirOS: ports/x11/realplayer-linux/Makefile,v 1.4 2005/05/20 01:07:56 tg Exp $
d8 1
a8 1
PKGNAME=		realplayer-linux-8.0.1p2
@


1.4
log
@* fix distfile location and checksum
* update with rv9 codec pack
* better, faster installation
* actually do a fake install here, too
@
text
@d1 1
a1 1
# $MirOS: ports/x11/realplayer-linux/Makefile,v 1.3 2005/04/11 15:57:53 tg Exp $
d75 1
a75 1
	cd ${PREFIX}/bin; ln -sf ../${RPDIR:S!${PREFIX}!!}realplay .
@


1.3
log
@the port part of platform refinal
@
text
@d1 1
a1 1
# $MirOS: ports/x11/realplayer-linux/Makefile,v 1.2 2005/04/10 21:51:59 tg Exp $
d6 1
d8 5
a12 2
PKGNAME=		realplayer-linux-8.0.1p1
CATEGORIES=		audio graphics x11
d19 2
a20 7
COMMENT=		Real Networks streaming audio/video client
HOMEPAGE=		http://www.real.com/products/player/
EXTRACT_SUFX=		_rpm


RUN_DEPENDS=		:redhat_base->=6.2:emulators/redhat/base62
BUILD_DEPENDS=		::misc/rpm
a22 1
NO_FAKE=		Yes
a23 1
INSTALL_STRIP=
d29 3
a31 1
	@@if [ ! -f ${DISTDIR}/${DISTFILES} ]; then \
d36 1
a36 1
		echo "   http://forms.real.com/real/player/unix/unix.html" ; \
d38 1
a38 1
		echo " Choose the 'Linux 2.x (libc6 i386) RPM' version and" ; \
d40 2
d46 1
a46 1
# the find hackery here is so 'make clean' works as it should
d48 8
a55 4
	@@cd ${WRKDIR}; \
		${LOCALBASE}/bin/rpm2cpio ${DISTDIR}/${DISTFILES} | tar -xf -
	@@find ${WRKSRC} -type d -exec ${CHMOD} 755 {} ';'
	@@find ${WRKSRC} -type f -exec ${CHMOD} 644 {} ';'
d58 3
a60 6
	@@mkdir -p ${RPDIR}
.for f in mimeinstall.sh pluginstall.sh postinstall.sh
	@@${INSTALL_SCRIPT} ${WRKSRC}/${f} ${RPDIR}
.endfor
.for f in realplay rpnp.so
	@@${INSTALL_PROGRAM} ${WRKSRC}/${f} ${RPDIR}
d62 3
a64 4
.for f in LICENSE Mailcap Mime.types README app.kdelnk audiosig.rm \
	firstrun.rm mime.kdelnk raclass.zip \
	realplay.desktop rp7.xpm rp7doc.png rp7doc.xpm rp7mini.xpm
	@@${INSTALL_DATA} ${WRKSRC}/${f} ${RPDIR}
d66 3
a68 3
.for d in Codecs Common Plugins
	@@mkdir -p ${RPDIR}/${d}
	@@${INSTALL_PROGRAM} ${WRKSRC}/${d}/*.so* ${RPDIR}/${d}
d70 4
a73 3

	@@mkdir -p ${RPDIR}/Plugins/ExtResources
	@@${INSTALL_PROGRAM} ${WRKSRC}/Plugins/ExtResources/* \
d75 8
a82 18

	@@mkdir -p ${PREFIX}/bin; cd ${PREFIX}/bin; ln -sf \
		../lib/RealPlayer/realplay realplay

.if exists(${LOCALBASE}/netscape/plugins)
	@@ln -sf ${RPDIR}/raclass.zip ${LOCALBASE}/netscape/plugins
	@@ln -sf ${RPDIR}/rpnp.so ${LOCALBASE}/netscape/plugins
.endif

	@@mkdir -p ${PREFIX}/share/doc/RealPlayer8
	@@${INSTALL_DATA} ${WRKSRC}/Help/readme ${WRKSRC}/Help/realplay.htm \
		${PREFIX}/share/doc/RealPlayer8/
	@@mkdir -p ${PREFIX}/share/doc/RealPlayer8/realplay
	@@${INSTALL_DATA} ${WRKSRC}/Help/realplay/*.htm \
		${PREFIX}/share/doc/RealPlayer8/realplay
	@@mkdir -p ${PREFIX}/share/doc/RealPlayer8/realplay/pics
	@@${INSTALL_DATA} ${WRKSRC}/Help/realplay/pics/* \
		${PREFIX}/share/doc/RealPlayer8/realplay/pics
@


1.2
log
@NOPIC_PLATFORMS, LP64_PLATFORMS and general change of
{NOT,ONLY}_FOR_{ARCH{,E,ES},OS} to {NOT,ONLY}_FOR_PLATFORM

some fallout maybe, I hope not
@
text
@d1 1
a1 1
# $MirOS: ports/x11/realplayer-linux/Makefile,v 1.1.7.1 2005/03/18 16:00:51 tg Exp $
d3 1
a3 1
ONLY_FOR_PLATFORM=	OpenBSD:i386 MirBSD:i386
@


1.1
log
@Initial revision
@
text
@d1 4
a4 1
# $MirOS$
a9 3
ONLY_FOR_ARCHS= 	i386
EMUL=			linux

@


1.1.7.1
log
@Import the MirPorts Framework, many files moved or renamed though, no KDE/QT
@
text
@@
