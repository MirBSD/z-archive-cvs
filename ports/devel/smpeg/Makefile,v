head	1.13;
access;
symbols;
locks; strict;
comment	@# @;


1.13
date	2009.02.01.11.14.56;	author tg;	state Exp;
branches;
next	1.12;
commitid	100498584414A5B3D77;

1.12
date	2007.08.25.14.20.01;	author tg;	state Exp;
branches;
next	1.11;
commitid	10046D03A730A886DEE;

1.11
date	2007.02.22.22.57.50;	author tg;	state Exp;
branches;
next	1.10;
commitid	10045DE1FF10F590776;

1.10
date	2006.11.03.20.20.57;	author tg;	state Exp;
branches;
next	1.9;
commitid	100454BA4AB5949CDD1;

1.9
date	2006.09.14.00.08.56;	author tg;	state Exp;
branches;
next	1.8;
commitid	10045089C0E234154C3;

1.8
date	2006.03.23.23.09.40;	author tg;	state Exp;
branches;
next	1.7;
commitid	10044232AB715F36623;

1.7
date	2006.02.09.09.35.50;	author tg;	state Exp;
branches;
next	1.6;
commitid	10043EB0C94610EDE76;

1.6
date	2005.12.28.16.37.59;	author tg;	state Exp;
branches;
next	1.5;
commitid	10043B2BF1E324176AE;

1.5
date	2005.07.29.00.14.02;	author tg;	state Exp;
branches;
next	1.4;
commitid	6dfd42e974dadcc7;

1.4
date	2005.06.24.16.50.41;	author tg;	state Exp;
branches;
next	1.3;
commitid	159d42bc39f75873;

1.3
date	2005.06.24.16.45.02;	author tg;	state Exp;
branches;
next	1.2;
commitid	c342bc38a481b2;

1.2
date	2005.03.30.18.13.21;	author bsiegert;	state Exp;
branches;
next	1.1;

1.1
date	2005.03.18.15.45.33;	author tg;	state Exp;
branches
	1.1.7.1;
next	;

1.1.7.1
date	2005.03.18.15.45.33;	author tg;	state Exp;
branches;
next	;


desc
@@


1.13
log
@fix compilation when GTK+ is not installed
@
text
@# $MirOS: ports/devel/smpeg/Makefile,v 1.12 2007/08/25 14:20:01 tg Exp $
# $OpenBSD: Makefile,v 1.16 2003/12/29 13:45:30 espie Exp $

COMMENT=		mpeg video player library with sound support
DISTNAME=		smpeg-0.4.4
DASH_VER=		3
CATEGORIES=		devel graphics
HOMEPAGE=       	http://www.lokigames.com/development/smpeg.php3

# LGPL
PERMIT_PACKAGE_CDROM=   Yes
PERMIT_PACKAGE_FTP=     Yes
PERMIT_DISTFILES_CDROM= Yes
PERMIT_DISTFILES_FTP=   Yes

MASTER_SITES=		ftp://ftp.lokigames.com/pub/open-source/smpeg/ \
			ftp://sunsite.auc.dk/pub/os/linux/loki/open-source/smpeg/ \
			ftp://snuffleupagus.animearchive.org/loki/open-source/smpeg/

LIB_DEPENDS+=		SDL::devel/sdl
USE_X11=		Yes
USE_CXX=		Yes

CONFIGURE_STYLE=	autogen no-autoheader
CONFIGURE_ARGS+=	${CONFIGURE_SHARED} \
			--disable-gtk-player

post-extract:
	-rm -f ${WRKSRC}/aclocal.m4

post-install:
	${INSTALL_MAN} ${FILESDIR}/smpeg.3 ${PREFIX}/man/man3/

.include <bsd.port.mk>
@


1.12
log
@remove aclocal.m4 before running aclocal-2.13, fixes build
cought by bsiegert@@ the autotools-guru

XXX post-release: do this in autogen.sh, always (at least for 2.13)
@
text
@d1 1
a1 1
# $MirOS: ports/devel/smpeg/Makefile,v 1.11 2007/02/22 22:57:50 tg Exp $
d6 1
a6 1
PKGNAME=		${DISTNAME}-3
@


1.11
log
@remove redundancy
@
text
@d1 1
a1 1
# $MirOS: ports/devel/smpeg/Makefile,v 1.10 2006/11/03 20:20:57 tg Exp $
d16 3
a18 3
MASTER_SITES=	ftp://ftp.lokigames.com/pub/open-source/smpeg/ \
		ftp://sunsite.auc.dk/pub/os/linux/loki/open-source/smpeg/ \
		ftp://snuffleupagus.animearchive.org/loki/open-source/smpeg/
d28 3
@


1.10
log
@reduce dependencies - disable the gtk+ player
use the OpenGL and X11 players instead
speed up build too
@
text
@d1 1
a1 1
# $MirOS: ports/devel/smpeg/Makefile,v 1.9 2006/09/14 00:08:56 tg Exp $
a25 1
			--disable-libtool-lock \
@


1.9
log
@clean up COMMENT and HOMEPAGE; regenerate INDEX (2761, 169 marked as broken, probably many many more) ­ edited by script with manual postprocessing
@
text
@d1 1
a1 1
# $MirOS: ports/devel/smpeg/Makefile,v 1.8 2006/03/23 23:09:40 tg Exp $
d4 1
a4 1
COMMENT=			mpeg video player library with sound support
d6 1
a6 1
PKGNAME=		${DISTNAME}-2
d10 1
d20 1
a20 2
LIB_DEPENDS=		gtk,gdk::x11/gtk+1 \
			SDL::devel/sdl
d26 2
a27 1
			--disable-opengl-player
@


1.8
log
@* convert to autogen (latest automake handles asm (.S) correctly)
* regen plist
@
text
@d1 1
a1 1
# $MirOS: ports/devel/smpeg/Makefile,v 1.7 2006/02/09 09:35:50 tg Exp $
d4 1
a4 1
COMMENT=		"mpeg video player library with sound support"
@


1.7
log
@remove SEPARATE_BUILD for once and for good, I'm fed up with
all the trouble it can cause - ports which need it (e.g. the
GCC SC doesnt "support" building gcc with srcdir=objdir) can
set stuff like WRKBUILD themselves.
@
text
@d1 1
a1 1
# $MirOS: ports/devel/smpeg/Makefile,v 1.6 2005/12/28 16:37:59 tg Exp $
d6 1
a6 1
PKGNAME=		${DISTNAME}-1
d24 1
a24 1
CONFIGURE_STYLE=	autoconf no-autoheader
@


1.6
log
@sweep through the files:
* update to latest version
* update homepage and master sites
* fix indentation
* remove dependencies on GNU gettext
* convert to pkgconfig module
* properly escape autoconf macros
* fix build
* regenerate PLISTs
* bump package versions where needed
@
text
@d1 1
a1 1
# $MirOS: ports/devel/smpeg/Makefile,v 1.5 2005/07/29 00:14:02 tg Exp $
a23 1
SEPARATE_BUILD=		concurrent
@


1.5
log
@hack around shlib versions not matching any more
XXX revisit
@
text
@d1 1
a1 1
# $MirOS: ports/devel/smpeg/Makefile,v 1.4 2005/06/24 16:50:41 tg Exp $
d4 5
a8 5
COMMENT=	"mpeg video player library with sound support"
VERSION=	0.4.4
DISTNAME=	smpeg-${VERSION}
CATEGORIES=	devel graphics
HOMEPAGE=       http://www.lokigames.com/development/smpeg.php3
d19 4
a22 5
LIB_DEPENDS=	gtk,gdk::x11/gtk+1 \
		SDL::devel/sdl

USE_X11=	Yes
USE_CXX=	Yes
d30 1
a30 1
	${INSTALL_MAN} ${FILESDIR}/smpeg.3 ${PREFIX}/man/man3
@


1.4
log
@blahfoo
@
text
@d1 1
a1 1
# $MirOS: ports/devel/smpeg/Makefile,v 1.3 2005/06/24 16:45:02 tg Exp $
d19 1
a19 1
LIB_DEPENDS=	gtk.1.2,gdk.1.2::x11/gtk+1 \
@


1.3
log
@GRAUGH! mirlibfool!
@
text
@d1 1
a1 1
# $MirOS: ports/devel/smpeg/Makefile,v 1.2 2005/03/30 18:13:21 bsiegert Exp $
d25 4
a28 4
SEPARATE_BUILD=	concurrent
CONFIGURE_STYLE= autoconf no-autoheader
CONFIGURE_ARGS+= ${CONFIGURE_SHARED} \
		 --disable-opengl-player
@


1.2
log
@Covert gtk+ -> gtk+1 dependencies
@
text
@d1 1
a1 1
# $MirOS$
a26 1
CONFIGURE_ENV+=	 LDFLAGS="-L${X11BASE}/lib"
@


1.1
log
@Initial revision
@
text
@d19 1
a19 1
LIB_DEPENDS=	gtk.1.2,gdk.1.2::x11/gtk+ \
@


1.1.7.1
log
@Import the MirPorts Framework, many files moved or renamed though, no KDE/QT
@
text
@@
