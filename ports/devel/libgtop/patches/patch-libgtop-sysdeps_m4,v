head	1.2;
access;
symbols;
locks; strict;
comment	@# @;


1.2
date	2007.06.26.21.23.30;	author bsiegert;	state Exp;
branches;
next	1.1;
commitid	1004681833C769527EE;

1.1
date	2005.03.18.15.44.51;	author tg;	state Exp;
branches
	1.1.7.1;
next	;

1.1.7.1
date	2005.03.18.15.44.51;	author tg;	state Exp;
branches;
next	;


desc
@@


1.2
log
@Update to 2.14.6, the exact same version as in OpenBSD ports. It was from
there that I took the patches, except that they didn't work. So it was
still not trivial.

This port is a nightmare. It is full of system dependencies. Just one look
at the patch filenames should tell you enough. It actually defines _KERNEL
in some places to get things like struct msginfo. Its server is sgid kmem.
@
text
@$MirOS: ports/devel/libgtop/patches/patch-libgtop-sysdeps_m4,v 1.1.7.1 2005/03/18 15:44:51 tg Exp $
--- libgtop-sysdeps.m4.orig	Tue Jan  2 23:50:08 2007
+++ libgtop-sysdeps.m4	Tue Jun 26 22:57:29 2007
@@@@ -67,7 +67,7 @@@@ AC_DEFUN([GNOME_LIBGTOP_SYSDEPS],[
 	  libgtop_have_sysinfo=yes
 	  libgtop_need_server=no
 	  ;;
-	freebsd*|netbsd*|openbsd*|bsdi*|kfreebsd*)
+	freebsd*|netbsd*|openbsd*|bsdi*|kfreebsd*|mirbsd*)
 	  libgtop_sysdeps_dir=freebsd
 	  libgtop_use_machine_h=yes
 	  libgtop_need_server=yes
@@@@ -150,7 +150,7 @@@@ AC_DEFUN([GNOME_LIBGTOP_SYSDEPS],[
 #include <net/netisr.h>
 #include <net/route.h>
 
-#if defined(__FreeBSD__) || defined(__NetBSD__) || defined(__FreeBSD_kernel__)
+#if defined(__FreeBSD__) || defined(__NetBSD__) || defined(__FreeBSD_kernel__) || defined(__OpenBSD__)
 #include <net/if_sppp.h>
 #else
 #include <i4b/sppp/if_sppp.h>
@@@@ -176,7 +176,7 @@@@ AC_DEFUN([GNOME_LIBGTOP_SYSDEPS],[
 #include <net/netisr.h>
 #include <net/route.h>
 
-#if defined(__FreeBSD__) || defined(__NetBSD__) || defined(__FreeBSD_kernel__)
+#if defined(__FreeBSD__) || defined(__NetBSD__) || defined(__FreeBSD_kernel__) || defined(__OpenBSD__)
 #include <net/if_sppp.h>
 #else
 #include <i4b/sppp/if_sppp.h>
@@@@ -203,6 +203,7 @@@@ AC_DEFUN([GNOME_LIBGTOP_SYSDEPS],[
 	    msginfo_needs=
 	    for def in nothing KERNEL _KERNEL; do
 	      AC_COMPILE_IFELSE([#define $def
+#include <sys/types.h>
 #include <sys/ipc.h>
 #include <sys/msg.h>
 #include <stdio.h>
@


1.1
log
@Initial revision
@
text
@d1 5
a5 5
$MirOS$
--- libgtop-sysdeps.m4.orig	2005-03-01 18:01:05.000000000 +0100
+++ libgtop-sysdeps.m4	2005-03-01 18:01:36.000000000 +0100
@@@@ -121,7 +121,7 @@@@ AC_DEFUN([GNOME_LIBGTOP_SYSDEPS],[
 	  fi
d8 2
a9 2
-	freebsd*|netbsd*|openbsd*|bsdi*)
+	freebsd*|netbsd*|openbsd*|mirbsd*|bsdi*)
d13 26
@


1.1.7.1
log
@Import the MirPorts Framework, many files moved or renamed though, no KDE/QT
@
text
@@
