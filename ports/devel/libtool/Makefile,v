head	1.16;
access;
symbols;
locks; strict;
comment	@# @;


1.16
date	2009.12.31.18.34.52;	author tg;	state Exp;
branches;
next	1.15;
commitid	1004B3CEED26E96ECC6;

1.15
date	2008.12.07.18.57.51;	author tg;	state Exp;
branches;
next	1.14;
commitid	100493C1C934A10FB73;

1.14
date	2008.10.27.21.08.59;	author tg;	state Exp;
branches;
next	1.13;
commitid	10049062DC113874F62;

1.13
date	2008.10.05.20.26.11;	author tg;	state Exp;
branches;
next	1.12;
commitid	10048E922E1365708BF;

1.12
date	2008.05.03.22.21.04;	author tg;	state Exp;
branches;
next	1.11;
commitid	100481CE5476CC00DAC;

1.11
date	2008.03.14.19.15.49;	author tg;	state Exp;
branches;
next	1.10;
commitid	10047DACEF71FD7205D;

1.10
date	2008.03.09.17.22.31;	author tg;	state Exp;
branches;
next	1.9;
commitid	10047D41CAA7E715397;

1.9
date	2007.05.07.21.56.24;	author tg;	state Exp;
branches;
next	1.8;
commitid	100463FA081721864CB;

1.8
date	2006.09.14.00.08.24;	author tg;	state Exp;
branches;
next	1.7;
commitid	10045089C0E234154C3;

1.7
date	2006.06.30.21.14.24;	author tg;	state Exp;
branches;
next	1.6;
commitid	10044A5944302E77924;

1.6
date	2006.06.12.20.17.49;	author tg;	state Exp;
branches;
next	1.5;
commitid	100448DCBE006EEAA35;

1.5
date	2006.06.12.19.33.11;	author tg;	state Exp;
branches;
next	1.4;
commitid	100448DC17C57E1A88F;

1.4
date	2006.03.27.21.07.11;	author tg;	state Exp;
branches;
next	1.3;
commitid	1004428540654A278E1;

1.3
date	2005.12.20.22.15.46;	author tg;	state Exp;
branches;
next	1.2;
commitid	10043A882A42EFA6F28;

1.2
date	2005.12.16.14.52.20;	author tg;	state Exp;
branches;
next	1.1;
commitid	10043A2D4AD11B8FC32;

1.1
date	2005.12.16.11.56.51;	author tg;	state Exp;
branches;
next	;
commitid	10043A2AB8838A30ABC;


desc
@@


1.16
log
@Backport upstreamâ€™s SECURITY fix for CVE-2009-3736 from
http://git.savannah.gnu.org/cgit/libtool.git/commit/?h=branch-1-5&id=29b48580df75f0c5baa2962548a4c101ec7ed7ec
@
text
@# $MirOS: ports/devel/libtool/Makefile,v 1.15 2008/12/07 18:57:51 tg Exp $

COMMENT=		complete GNU libtool with MirLibtool patches added
CATEGORIES=		devel
DASH_VER=		3
MCZ_FETCH=		Yes
CVS_DISTREPO=		:pserver:anonymous@@cvs.sv.gnu.org:/sources/libtool
CVS_DISTDATE=		2008/05/03
CVS_DISTTAGS=		branch-1-5
CVS_DISTMODS=		libtool
_DATE=			${CVS_DISTDATE:C![/:]!!g:Q:S!\\ !!}
PKGNAME=		libtool-1.5.27a.${_DATE}-${DASH_VER}
HOMEPAGE=		http://www.gnu.org/software/libtool/

# GNU GPLv2
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
PERMIT_PACKAGE_CDROM=	Yes
PERMIT_PACKAGE_FTP=	Yes

CONFIGURE_STYLE=	autogen
AUTOGEN=		${WRKSRC}/bootstrap
CONFIGURE_ARGS+=	${CONFIGURE_SHARED}
AUTOCONF_NEW=		Yes
AUTOMAKE_VERSION=	1.9

CONFIGURE_ARGS+=	CC=${_ORIG_CC:Q} CXX=${_ORIG_CXX:Q}

FLAVOURS=		no_cxx
FLAVOUR?=

.if !${FLAVOUR:Mno_cxx}
USE_CXX=		Yes
REGRESS_TARGET=		check
.else
NO_REGRESS=		Yes
.endif

post-configure:
	rm -f ${WRKSRC}/{,libltdl/}ltmain.sh
	cp ${PORTSDIR}/infrastructure/db/ltmain.sh ${WRKSRC}/
	cp ${PORTSDIR}/infrastructure/db/ltmain.sh ${WRKSRC}/libltdl/

regress-v: ${_BUILD_COOKIE}
	cd ${.CURDIR} && exec ${MAKE} \
	    regress REGRESS_TARGET="VERBOSE=x check" 2>&1 | tee $@@

.include <bsd.port.mk>
@


1.15
log
@switch all CVS_DISTF (and svn) to MCZ_FETCH=Yes except these
which already were or these which are broken anyway (net/bind)
to make them IS_INTERACTIVE=No and thus suitable for bulk builds

agreed bsiegert@@
@
text
@d1 1
a1 1
# $MirOS: ports/devel/libtool/Makefile,v 1.14 2008/10/27 21:08:59 tg Exp $
d5 1
a5 1
DASH_VER=		2
@


1.14
log
@pass ${_ORIG_CC} to the libtool, in order to make it more usable
outside of MirPorts or with different compilers, since it seems
to be only used as CCLD to actually create the solibs

example: /usr/src/lib/libz $ make LTMIRMAKE=Yes # now works
@
text
@d1 1
a1 1
# $MirOS: ports/devel/libtool/Makefile,v 1.13 2008/10/05 20:26:11 tg Exp $
d6 1
@


1.13
log
@work around evil libfool recording CC used to build
XXX evil hack, but WFM with LTMIRMAKEâ€¦ letâ€™s see if it helps apr too
@
text
@d1 1
a1 1
# $MirOS: ports/devel/libtool/Makefile,v 1.12 2008/05/03 22:21:04 tg Exp $
d5 1
a5 1
DASH_VER=		1
d26 2
@


1.12
log
@â€¢ synchronise GNUSYSTEM_AUX_DIR content
â€¢ update libtool/libltdl port, only one testsuite failure left (as usual)
@
text
@d1 1
a1 1
# $MirOS: ports/devel/libtool/Makefile,v 1.11 2008/03/14 19:15:49 tg Exp $
d5 1
@


1.11
log
@support MidnightBSD
@
text
@d1 1
a1 1
# $MirOS: ports/devel/libtool/Makefile,v 1.10 2008/03/09 17:22:31 tg Exp $
d6 1
a6 1
CVS_DISTDATE=		2006/06/30
a8 1
DASH_VER=		3
d10 1
a10 1
PKGNAME=		libtool-1.5.23a.${_DATE}-${DASH_VER}
@


1.10
log
@bulk convert FLAVOR to FLAVOUR; nuke unused file; convert to $Mdocdate
@
text
@d1 1
a1 1
# $MirOS: ports/devel/libtool/Makefile,v 1.9 2007/05/07 21:56:24 tg Exp $
d9 1
a9 1
DASH_VER=		2
@


1.9
log
@add a no_cxx flavour, make USE_CXX=yes default for passing regression
tests; actually using ${PREFIX}/bin/libtool; and diffs pkgsrc<->mirports
@
text
@d1 1
a1 1
# $MirOS: ports/devel/libtool/Makefile,v 1.8 2006/09/14 00:08:24 tg Exp $
d26 2
a27 2
FLAVORS=		no_cxx
FLAVOR?=
d29 1
a29 1
.if !${FLAVOR:Mno_cxx}
@


1.8
log
@clean up COMMENT and HOMEPAGE; regenerate INDEX (2761, 169 marked as broken, probably many many more) ­ edited by script with manual postprocessing
@
text
@d1 1
a1 1
# $MirOS: ports/devel/libtool/Makefile,v 1.7 2006/06/30 21:14:24 tg Exp $
d3 1
a3 1
COMMENT=			complete GNU libtool with MirLibtool patches added
d9 3
a11 1
PKGNAME=		libtool-1.5.23a.${CVS_DISTDATE:C![/:]!!g:Q:S!\\ !!}-1
d26 4
a29 2
#XXX hack
.ifdef LT_HAVE_CXX
@


1.7
log
@auto-update
@
text
@d1 1
a1 1
# $MirOS: ports/devel/libtool/Makefile,v 1.6 2006/06/12 20:17:49 tg Exp $
d3 1
a3 1
COMMENT=		"complete GNU libtool with MirLibtool patches added"
@


1.6
log
@* add MirLibtool extensions, bump level
* run regression tests, 1 fails (plus C++), any idea?

=== Running link-order.test
mkdir linkorder.dir/src/.libs
 mgcc -O2 -pipe -Os -Wstrict-aliasing -Wformat -fno-align-functions -fno-align-labels -falign-loops=4 -falign-jumps=4 -march=i486 -mpush-args -mpreferred-stack-boundary=2 -fhonour-copts -isystem /usr/mpkg/share/mmake -include /usr/mpkg/share/mmake/mirmake.h -isystem /usr/ports/devel/libtool -idirafter /usr/mpkg/include -c linkorder.dir/src/c.c  -fPIC -DPIC -o linkorder.dir/src/.libs/c.o
 mgcc -O2 -pipe -Os -Wstrict-aliasing -Wformat -fno-align-functions -fno-align-labels -falign-loops=4 -falign-jumps=4 -march=i486 -mpush-args -mpreferred-stack-boundary=2 -fhonour-copts -isystem /usr/mpkg/share/mmake -include /usr/mpkg/share/mmake/mirmake.h -isystem /usr/ports/devel/libtool -idirafter /usr/mpkg/include -c linkorder.dir/src/c.c -o linkorder.dir/src/c.o >/dev/null 2>&1
mgcc -shared  -fPIC -DPIC  linkorder.dir/src/.libs/c.o  -L/usr/mpkg/lib  -march=i486 -mpush-args -mpreferred-stack-boundary=2 -o linkorder.dir/src/.libs/libcee.so.0.0
ar cru linkorder.dir/src/.libs/libcee.a  linkorder.dir/src/c.o
creating linkorder.dir/src/libcee.la
(cd linkorder.dir/src/.libs && rm -f libcee.la && ln -s ../libcee.la libcee.la)
cp linkorder.dir/src/.libs/libcee.so.0.0 /usr/ports/devel/libtool/w-libtool-1.5.23a.20060612-1/libtool/tests/linkorder.dir/old/lib/libcee.so.0.0
cp linkorder.dir/src/.libs/libcee.lai /usr/ports/devel/libtool/w-libtool-1.5.23a.20060612-1/libtool/tests/linkorder.dir/old/lib/libcee.la
cp linkorder.dir/src/.libs/libcee.a /usr/ports/devel/libtool/w-libtool-1.5.23a.20060612-1/libtool/tests/linkorder.dir/old/lib/libcee.a
chmod 644 /usr/ports/devel/libtool/w-libtool-1.5.23a.20060612-1/libtool/tests/linkorder.dir/old/lib/libcee.a
PATH="$PATH:/sbin" ldconfig -m /usr/ports/devel/libtool/w-libtool-1.5.23a.20060612-1/libtool/tests/linkorder.dir/old/lib
ldconfig: /var/run/ld.so.hints.FKkzj24027: Permission denied
mkdir linkorder.dir/src/.libs
 mgcc -O2 -pipe -Os -Wstrict-aliasing -Wformat -fno-align-functions -fno-align-labels -falign-loops=4 -falign-jumps=4 -march=i486 -mpush-args -mpreferred-stack-boundary=2 -fhonour-copts -isystem /usr/mpkg/share/mmake -include /usr/mpkg/share/mmake/mirmake.h -isystem /usr/ports/devel/libtool -idirafter /usr/mpkg/include -c linkorder.dir/src/a_old.c  -fPIC -DPIC -o linkorder.dir/src/.libs/a.o
 mgcc -O2 -pipe -Os -Wstrict-aliasing -Wformat -fno-align-functions -fno-align-labels -falign-loops=4 -falign-jumps=4 -march=i486 -mpush-args -mpreferred-stack-boundary=2 -fhonour-copts -isystem /usr/mpkg/share/mmake -include /usr/mpkg/share/mmake/mirmake.h -isystem /usr/ports/devel/libtool -idirafter /usr/mpkg/include -c linkorder.dir/src/a_old.c -o linkorder.dir/src/a.o >/dev/null 2>&1
 mgcc -O2 -pipe -Os -Wstrict-aliasing -Wformat -fno-align-functions -fno-align-labels -falign-loops=4 -falign-jumps=4 -march=i486 -mpush-args -mpreferred-stack-boundary=2 -fhonour-copts -isystem /usr/mpkg/share/mmake -include /usr/mpkg/share/mmake/mirmake.h -isystem /usr/ports/devel/libtool -idirafter /usr/mpkg/include -c linkorder.dir/src/b_old.c  -fPIC -DPIC -o linkorder.dir/src/.libs/b.o
 mgcc -O2 -pipe -Os -Wstrict-aliasing -Wformat -fno-align-functions -fno-align-labels -falign-loops=4 -falign-jumps=4 -march=i486 -mpush-args -mpreferred-stack-boundary=2 -fhonour-copts -isystem /usr/mpkg/share/mmake -include /usr/mpkg/share/mmake/mirmake.h -isystem /usr/ports/devel/libtool -idirafter /usr/mpkg/include -c linkorder.dir/src/b_old.c -o linkorder.dir/src/b.o >/dev/null 2>&1
mgcc -shared  -fPIC -DPIC  linkorder.dir/src/.libs/b.o  -L/usr/mpkg/lib -L/usr/ports/devel/libtool/w-libtool-1.5.23a.20060612-1/libtool/tests/linkorder.dir/old/lib -lcee  -march=i486 -mpush-args -mpreferred-stack-boundary=2 -o linkorder.dir/src/.libs/libb.so.0.0
ar cru linkorder.dir/src/.libs/libb.a  linkorder.dir/src/b.o
creating linkorder.dir/src/libb.la
(cd linkorder.dir/src/.libs && rm -f libb.la && ln -s ../libb.la libb.la)
mgcc -shared  -fPIC -DPIC  linkorder.dir/src/.libs/a.o  -Llinkorder.dir/src/.libs -lb -L/usr/mpkg/lib -L/usr/ports/devel/libtool/w-libtool-1.5.23a.20060612-1/libtool/tests/linkorder.dir/old/lib -lcee  -march=i486 -mpush-args -mpreferred-stack-boundary=2 -o linkorder.dir/src/.libs/liba.so.0.0
ar cru linkorder.dir/src/.libs/liba.a  linkorder.dir/src/a.o
creating linkorder.dir/src/liba.la
(cd linkorder.dir/src/.libs && rm -f liba.la && ln -s ../liba.la liba.la)
cp linkorder.dir/src/.libs/libb.so.0.0 /usr/ports/devel/libtool/w-libtool-1.5.23a.20060612-1/libtool/tests/linkorder.dir/old/lib/libb.so.0.0
cp linkorder.dir/src/.libs/libb.lai /usr/ports/devel/libtool/w-libtool-1.5.23a.20060612-1/libtool/tests/linkorder.dir/old/lib/libb.la
cp linkorder.dir/src/.libs/libb.a /usr/ports/devel/libtool/w-libtool-1.5.23a.20060612-1/libtool/tests/linkorder.dir/old/lib/libb.a
chmod 644 /usr/ports/devel/libtool/w-libtool-1.5.23a.20060612-1/libtool/tests/linkorder.dir/old/lib/libb.a
PATH="$PATH:/sbin" ldconfig -m /usr/ports/devel/libtool/w-libtool-1.5.23a.20060612-1/libtool/tests/linkorder.dir/old/lib
ldconfig: /var/run/ld.so.hints.FRtmx19201: Permission denied
(cd /usr/ports/devel/libtool/w-libtool-1.5.23a.20060612-1/libtool/tests; /bin/sh ../libtool  --mode=relink mgcc -O2 -pipe -Os -Wstrict-aliasing -Wformat -fno-align-functions -fno-align-labels -falign-loops=4 -falign-jumps=4 -march=i486 -mpush-args -mpreferred-stack-boundary=2 -fhonour-copts -isystem /usr/mpkg/share/mmake -include /usr/mpkg/share/mmake/mirmake.h -isystem /usr/ports/devel/libtool -idirafter /usr/mpkg/include -o linkorder.dir/src/liba.la linkorder.dir/src/a.lo linkorder.dir/src/libb.la -L/usr/ports/devel/libtool/w-libtool-1.5.23a.20060612-1/libtool/tests/linkorder.dir/old/lib -lcee -rpath /usr/ports/devel/libtool/w-libtool-1.5.23a.20060612-1/libtool/tests/linkorder.dir/old/lib )
mgcc -shared  -fPIC -DPIC  linkorder.dir/src/.libs/a.o  -L/usr/ports/devel/libtool/w-libtool-1.5.23a.20060612-1/libtool/tests/linkorder.dir/old/lib -lb -L/usr/mpkg/lib -lcee  -march=i486 -mpush-args -mpreferred-stack-boundary=2 -o linkorder.dir/src/.libs/liba.so.0.0
cp linkorder.dir/src/.libs/liba.so.0.0T /usr/ports/devel/libtool/w-libtool-1.5.23a.20060612-1/libtool/tests/linkorder.dir/old/lib/liba.so.0.0
cp linkorder.dir/src/.libs/liba.lai /usr/ports/devel/libtool/w-libtool-1.5.23a.20060612-1/libtool/tests/linkorder.dir/old/lib/liba.la
cp linkorder.dir/src/.libs/liba.a /usr/ports/devel/libtool/w-libtool-1.5.23a.20060612-1/libtool/tests/linkorder.dir/old/lib/liba.a
chmod 644 /usr/ports/devel/libtool/w-libtool-1.5.23a.20060612-1/libtool/tests/linkorder.dir/old/lib/liba.a
PATH="$PATH:/sbin" ldconfig -m /usr/ports/devel/libtool/w-libtool-1.5.23a.20060612-1/libtool/tests/linkorder.dir/old/lib
libtool: install: warning: relinking 'linkorder.dir/src/liba.la'
ldconfig: /var/run/ld.so.hints.fJcUH19822: Permission denied
mkdir linkorder.dir/src/.libs
 mgcc -O2 -pipe -Os -Wstrict-aliasing -Wformat -fno-align-functions -fno-align-labels -falign-loops=4 -falign-jumps=4 -march=i486 -mpush-args -mpreferred-stack-boundary=2 -fhonour-copts -isystem /usr/mpkg/share/mmake -include /usr/mpkg/share/mmake/mirmake.h -isystem /usr/ports/devel/libtool -idirafter /usr/mpkg/include -c linkorder.dir/src/a_new.c  -fPIC -DPIC -o linkorder.dir/src/.libs/a.o
 mgcc -O2 -pipe -Os -Wstrict-aliasing -Wformat -fno-align-functions -fno-align-labels -falign-loops=4 -falign-jumps=4 -march=i486 -mpush-args -mpreferred-stack-boundary=2 -fhonour-copts -isystem /usr/mpkg/share/mmake -include /usr/mpkg/share/mmake/mirmake.h -isystem /usr/ports/devel/libtool -idirafter /usr/mpkg/include -c linkorder.dir/src/a_new.c -o linkorder.dir/src/a.o >/dev/null 2>&1
 mgcc -O2 -pipe -Os -Wstrict-aliasing -Wformat -fno-align-functions -fno-align-labels -falign-loops=4 -falign-jumps=4 -march=i486 -mpush-args -mpreferred-stack-boundary=2 -fhonour-copts -isystem /usr/mpkg/share/mmake -include /usr/mpkg/share/mmake/mirmake.h -isystem /usr/ports/devel/libtool -idirafter /usr/mpkg/include -c linkorder.dir/src/b_new.c  -fPIC -DPIC -o linkorder.dir/src/.libs/b.o
 mgcc -O2 -pipe -Os -Wstrict-aliasing -Wformat -fno-align-functions -fno-align-labels -falign-loops=4 -falign-jumps=4 -march=i486 -mpush-args -mpreferred-stack-boundary=2 -fhonour-copts -isystem /usr/mpkg/share/mmake -include /usr/mpkg/share/mmake/mirmake.h -isystem /usr/ports/devel/libtool -idirafter /usr/mpkg/include -c linkorder.dir/src/b_new.c -o linkorder.dir/src/b.o >/dev/null 2>&1
mgcc -shared  -fPIC -DPIC  linkorder.dir/src/.libs/b.o  -L/usr/mpkg/lib -L/usr/ports/devel/libtool/w-libtool-1.5.23a.20060612-1/libtool/tests/linkorder.dir/old/lib -lcee  -march=i486 -mpush-args -mpreferred-stack-boundary=2 -o linkorder.dir/src/.libs/libb.so.0.0
ar cru linkorder.dir/src/.libs/libb.a  linkorder.dir/src/b.o
creating linkorder.dir/src/libb.la
(cd linkorder.dir/src/.libs && rm -f libb.la && ln -s ../libb.la libb.la)
mgcc -shared  -fPIC -DPIC  linkorder.dir/src/.libs/a.o  -Llinkorder.dir/src/.libs -lb -L/usr/mpkg/lib -L/usr/ports/devel/libtool/w-libtool-1.5.23a.20060612-1/libtool/tests/linkorder.dir/old/lib -lcee  -march=i486 -mpush-args -mpreferred-stack-boundary=2 -o linkorder.dir/src/.libs/liba.so.0.0
ar cru linkorder.dir/src/.libs/liba.a  linkorder.dir/src/a.o
creating linkorder.dir/src/liba.la
(cd linkorder.dir/src/.libs && rm -f liba.la && ln -s ../liba.la liba.la)
cp linkorder.dir/src/.libs/libb.so.0.0 /usr/ports/devel/libtool/w-libtool-1.5.23a.20060612-1/libtool/tests/linkorder.dir/new/lib/libb.so.0.0
cp linkorder.dir/src/.libs/libb.lai /usr/ports/devel/libtool/w-libtool-1.5.23a.20060612-1/libtool/tests/linkorder.dir/new/lib/libb.la
cp linkorder.dir/src/.libs/libb.a /usr/ports/devel/libtool/w-libtool-1.5.23a.20060612-1/libtool/tests/linkorder.dir/new/lib/libb.a
chmod 644 /usr/ports/devel/libtool/w-libtool-1.5.23a.20060612-1/libtool/tests/linkorder.dir/new/lib/libb.a
PATH="$PATH:/sbin" ldconfig -m /usr/ports/devel/libtool/w-libtool-1.5.23a.20060612-1/libtool/tests/linkorder.dir/new/lib
ldconfig: /var/run/ld.so.hints.qMmrQy2747: Permission denied
(cd /usr/ports/devel/libtool/w-libtool-1.5.23a.20060612-1/libtool/tests; /bin/sh ../libtool  --mode=relink mgcc -O2 -pipe -Os -Wstrict-aliasing -Wformat -fno-align-functions -fno-align-labels -falign-loops=4 -falign-jumps=4 -march=i486 -mpush-args -mpreferred-stack-boundary=2 -fhonour-copts -isystem /usr/mpkg/share/mmake -include /usr/mpkg/share/mmake/mirmake.h -isystem /usr/ports/devel/libtool -idirafter /usr/mpkg/include -o linkorder.dir/src/liba.la linkorder.dir/src/a.lo linkorder.dir/src/libb.la -L/usr/ports/devel/libtool/w-libtool-1.5.23a.20060612-1/libtool/tests/linkorder.dir/old/lib -lcee -rpath /usr/ports/devel/libtool/w-libtool-1.5.23a.20060612-1/libtool/tests/linkorder.dir/new/lib )
mgcc -shared  -fPIC -DPIC  linkorder.dir/src/.libs/a.o  -L/usr/ports/devel/libtool/w-libtool-1.5.23a.20060612-1/libtool/tests/linkorder.dir/new/lib -lb -L/usr/mpkg/lib -L/usr/ports/devel/libtool/w-libtool-1.5.23a.20060612-1/libtool/tests/linkorder.dir/old/lib -lcee  -march=i486 -mpush-args -mpreferred-stack-boundary=2 -o linkorder.dir/src/.libs/liba.so.0.0
cp linkorder.dir/src/.libs/liba.so.0.0T /usr/ports/devel/libtool/w-libtool-1.5.23a.20060612-1/libtool/tests/linkorder.dir/new/lib/liba.so.0.0
cp linkorder.dir/src/.libs/liba.lai /usr/ports/devel/libtool/w-libtool-1.5.23a.20060612-1/libtool/tests/linkorder.dir/new/lib/liba.la
cp linkorder.dir/src/.libs/liba.a /usr/ports/devel/libtool/w-libtool-1.5.23a.20060612-1/libtool/tests/linkorder.dir/new/lib/liba.a
chmod 644 /usr/ports/devel/libtool/w-libtool-1.5.23a.20060612-1/libtool/tests/linkorder.dir/new/lib/liba.a
PATH="$PATH:/sbin" ldconfig -m /usr/ports/devel/libtool/w-libtool-1.5.23a.20060612-1/libtool/tests/linkorder.dir/new/lib
libtool: install: warning: relinking 'linkorder.dir/src/liba.la'
ldconfig: /var/run/ld.so.hints.yeWyX18100: Permission denied
libtool: install: warning: relinking 'linkorder.dir/src/liba.la'
./link-order.test: wrong link order
 mgcc -O2 -pipe -Os -Wstrict-aliasing -Wformat -fno-align-functions -fno-align-labels -falign-loops=4 -falign-jumps=4 -march=i486 -mpush-args -mpreferred-stack-boundary=2 -fhonour-copts -isystem /usr/mpkg/share/mmake -include /usr/mpkg/share/mmake/mirmake.h -isystem /usr/ports/devel/libtool -idirafter /usr/mpkg/include -c linkorder.dir/src/main_old.c  -fPIC -DPIC -o linkorder.dir/src/.libs/main_old.o
 mgcc -O2 -pipe -Os -Wstrict-aliasing -Wformat -fno-align-functions -fno-align-labels -falign-loops=4 -falign-jumps=4 -march=i486 -mpush-args -mpreferred-stack-boundary=2 -fhonour-copts -isystem /usr/mpkg/share/mmake -include /usr/mpkg/share/mmake/mirmake.h -isystem /usr/ports/devel/libtool -idirafter /usr/mpkg/include -c linkorder.dir/src/main_old.c -o linkorder.dir/src/main_old.o >/dev/null 2>&1
mgcc -O2 -pipe -Os -Wstrict-aliasing -Wformat -fno-align-functions -fno-align-labels -falign-loops=4 -falign-jumps=4 -march=i486 -mpush-args -mpreferred-stack-boundary=2 -fhonour-copts -isystem /usr/mpkg/share/mmake -include /usr/mpkg/share/mmake/mirmake.h -isystem /usr/ports/devel/libtool -idirafter /usr/mpkg/include -o linkorder.dir/src/main_old linkorder.dir/src/.libs/main_old.o  -L/usr/mpkg/lib -L/usr/ports/devel/libtool/w-libtool-1.5.23a.20060612-1/libtool/tests/linkorder.dir/old/lib -la -lb -lcee    -Wl,-rpath,/usr/ports/devel/libtool/w-libtool-1.5.23a.20060612-1/libtool/tests/linkorder.dir/old/lib -Wl,-rpath,/usr/ports/devel/libtool/w-libtool-1.5.23a.20060612-1/libtool/tests/linkorder.dir/old/lib
 mgcc -O2 -pipe -Os -Wstrict-aliasing -Wformat -fno-align-functions -fno-align-labels -falign-loops=4 -falign-jumps=4 -march=i486 -mpush-args -mpreferred-stack-boundary=2 -fhonour-copts -isystem /usr/mpkg/share/mmake -include /usr/mpkg/share/mmake/mirmake.h -isystem /usr/ports/devel/libtool -idirafter /usr/mpkg/include -c linkorder.dir/src/main_new.c  -fPIC -DPIC -o linkorder.dir/src/.libs/main_new.o
 mgcc -O2 -pipe -Os -Wstrict-aliasing -Wformat -fno-align-functions -fno-align-labels -falign-loops=4 -falign-jumps=4 -march=i486 -mpush-args -mpreferred-stack-boundary=2 -fhonour-copts -isystem /usr/mpkg/share/mmake -include /usr/mpkg/share/mmake/mirmake.h -isystem /usr/ports/devel/libtool -idirafter /usr/mpkg/include -c linkorder.dir/src/main_new.c -o linkorder.dir/src/main_new.o >/dev/null 2>&1
mgcc -O2 -pipe -Os -Wstrict-aliasing -Wformat -fno-align-functions -fno-align-labels -falign-loops=4 -falign-jumps=4 -march=i486 -mpush-args -mpreferred-stack-boundary=2 -fhonour-copts -isystem /usr/mpkg/share/mmake -include /usr/mpkg/share/mmake/mirmake.h -isystem /usr/ports/devel/libtool -idirafter /usr/mpkg/include -o linkorder.dir/src/main_new linkorder.dir/src/.libs/main_new.o  -L/usr/mpkg/lib -L/usr/ports/devel/libtool/w-libtool-1.5.23a.20060612-1/libtool/tests/linkorder.dir/new/lib -la -lb -L/usr/ports/devel/libtool/w-libtool-1.5.23a.20060612-1/libtool/tests/linkorder.dir/old/lib -lcee    -Wl,-rpath,/usr/ports/devel/libtool/w-libtool-1.5.23a.20060612-1/libtool/tests/linkorder.dir/new/lib -Wl,-rpath,/usr/ports/devel/libtool/w-libtool-1.5.23a.20060612-1/libtool/tests/linkorder.dir/old/lib -Wl,-rpath,/usr/ports/devel/libtool/w-libtool-1.5.23a.20060612-1/libtool/tests/linkorder.dir/new/lib -Wl,-rpath,/usr/ports/devel/libtool/w-libtool-1.5.23a.20060612-1/libtool/tests/linkorder.dir/old/lib
FAIL: link-order.test

doesn't look critical tho
@
text
@d1 1
a1 1
# $MirOS: ports/devel/libtool/Makefile,v 1.5 2006/06/12 19:33:11 tg Exp $
d6 1
a6 1
CVS_DISTDATE=		2006/06/12
d25 1
a25 1
.if make(regress)
d27 3
a30 1
REGRESS_TARGET=		check
@


1.5
log
@sync to MirLibtool (GNU) 1.5.23a 2006-06-12
@
text
@d1 1
a1 1
# $MirOS: ports/devel/libtool/Makefile,v 1.4 2006/03/27 21:07:11 tg Exp $
d9 1
a9 1
PKGNAME=		libtool-1.5.23a.${CVS_DISTDATE:C![/:]!!g:Q:S!\\ !!}-0
@


1.4
log
@sync

====================
All 103 tests passed
====================
@
text
@d1 1
a1 1
# $MirOS: ports/devel/libtool/Makefile,v 1.3 2005/12/20 22:15:46 tg Exp $
d6 1
a6 1
CVS_DISTDATE=		2006/03/27 18:00
@


1.3
log
@better update this too d'oh
@
text
@d1 1
a1 1
# $MirOS: ports/devel/libtool/Makefile,v 1.2 2005/12/16 14:52:20 tg Exp $
d6 1
a6 1
CVS_DISTDATE=		2005/12/20
d9 1
a9 1
PKGNAME=		libtool-1.5.23a.${CVS_DISTDATE:S!/!!g}-0
d24 4
@


1.2
log
@commit what I'm currently working on, trying to get regression failures down
@
text
@d1 1
a1 1
# $MirOS: ports/devel/libtool/Makefile,v 1.1 2005/12/16 11:56:51 tg Exp $
d6 1
a6 1
CVS_DISTDATE=		2005/12/16
d9 1
a9 1
PKGNAME=		libtool-1.5.21a.${CVS_DISTDATE:S!/!!g}-0
@


1.1
log
@preliminary GNU libtool port, to replace libltdl port soonish
not finished yet
@
text
@d1 1
a1 1
# $MirOS: ports/devel/libltdl/Makefile,v 1.4 2005/07/07 21:19:12 bsiegert Exp $
d26 8
a33 4
regress-v:
	cd ${.CURDIR} && exec ${MAKE} regress REGRESS_TARGET="VERBOSE=x check"

.PHONY: regress-v
@

