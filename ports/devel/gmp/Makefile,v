head	1.8;
access;
symbols;
locks; strict;
comment	@# @;


1.8
date	2014.05.29.00.29.02;	author tg;	state Exp;
branches;
next	1.7;
commitid	10053867F594749B34B;

1.7
date	2008.11.10.05.15.31;	author tg;	state Exp;
branches;
next	1.6;
commitid	1004917C37B4C612CFA;

1.6
date	2008.08.08.18.26.23;	author tg;	state Exp;
branches;
next	1.5;
commitid	100489C8FC745514D3C;

1.5
date	2008.07.30.15.22.32;	author tg;	state Exp;
branches;
next	1.4;
commitid	10048908711634D2DB6;

1.4
date	2007.02.22.22.57.47;	author tg;	state Exp;
branches;
next	1.3;
commitid	10045DE1FF10F590776;

1.3
date	2006.09.14.00.08.13;	author tg;	state Exp;
branches;
next	1.2;
commitid	10045089C0E234154C3;

1.2
date	2006.01.25.13.54.47;	author tg;	state Exp;
branches;
next	1.1;
commitid	10043D7833044038F88;

1.1
date	2005.03.18.15.44.42;	author tg;	state Exp;
branches
	1.1.7.1;
next	;

1.1.7.1
date	2005.03.18.15.44.42;	author tg;	state Exp;
branches;
next	;


desc
@@


1.8
log
@GCC still needs GMP and MPFR to buildâ€¦ so update (and regress) GMP
@
text
@# $MirOS: ports/devel/gmp/Makefile,v 1.7 2008/11/10 05:15:31 tg Exp $
# $OpenBSD: Makefile,v 1.19 2008/10/26 23:05:41 naddy Exp $

COMMENT=		library for arbitrary precision arithmetic
DISTNAME=		gmp-6.0.0
CATEGORIES=		devel math
HOMEPAGE=		https://gmplib.org/

# GNU LGPLv3 or GNU GPLv2
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
PERMIT_PACKAGE_CDROM=	Yes
PERMIT_PACKAGE_FTP=	Yes

# 6.0.0a only doc changes
DISTFILES=		${DISTNAME}a${EXTRACT_SUFX}

EXTRACT_SUFX=		.tar.xz
MASTER_SITES=		https://gmplib.org/download/gmp/ \
			${MASTER_SITE_GNU:=gmp/}

CONFIGURE_STYLE=	autogen
AUTOCONF_NEW=		Yes
AUTOMAKE_VERSION=	1.9
CONFIGURE_ARGS+=	${CONFIGURE_SHARED} \
			--disable-cxx \
			--without-readline
CC_FOR_BUILD=		${CC} ${CPPFLAGS} ${CFLAGS}
CONFIGURE_ENV+=		CC_FOR_BUILD=${CC_FOR_BUILD:Q}

post-extract:
	-rm -f ${WRKSRC}/doc/*.info{,-*}

.include <bsd.port.mk>
@


1.7
log
@update gmp, externalise mpfr

sorry if this breaks on the Macintosh, Iâ€™ll just fix it there then
@
text
@d1 1
a1 1
# $MirOS$
d5 1
a5 1
DISTNAME=		gmp-4.2.4
d7 1
a7 1
HOMEPAGE=		http://gmplib.org/
d9 1
a9 1
# GNU LGPLv3
d15 5
a19 1
MASTER_SITES=		ftp://ftp.gmplib.org/pub/ \
d22 1
a22 2
USE_CXX=		Yes
CONFIGURE_STYLE=	autoconf
d24 1
d26 1
a26 1
			--enable-cxx \
d28 2
@


1.6
log
@unbreak on Darwin by simply using the C version of the broken files in
question (gas @@GOT not supported on Mach-O Apple as)
@
text
@d1 2
a2 2
# $MirOS: ports/devel/gmp/Makefile,v 1.5 2008/07/30 15:22:32 tg Exp $
# $OpenBSD: Makefile,v 1.11 2004/02/22 22:21:01 naddy Exp $
d5 1
a5 1
DISTNAME=		gmp-4.1.4
d7 1
a7 2
HOMEPAGE=		http://www.swox.com/gmp/
MASTER_SITES=		${MASTER_SITE_GNU:=gmp/}
d9 3
a11 1
# (L)GPL
a13 2
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
d15 4
d22 2
a23 5
			--with-readline=no \
			--enable-mpbsd \
			--enable-mpfr

.include <mirports.sys.mk>
d26 1
a26 4
.if ${OStype} == "Darwin"
	cd ${WRKSRC}/mpn/x86 && rm -f {,*/{,*/}}{dive_1,mode1o}*
.endif
	rm -f ${WRKSRC}/gmp.info*
@


1.5
log
@break gmp on Darwin/i386
cause:
â”‚ gcc -std=gnu99 -c -DHAVE_CONFIG_H -I. -I. -I.. -D__GMP_WITHIN_GMP -I.. -DOPERATION_udiv -isystem /Users/tglaser/.mpkg/share/mmake -include /Users/tglaser/.mpkg/share/mmake/mirmake.h -D__unix__=1 -idirafter /Users/tglaser/.mpkg/include -O2 -pipe tmp-udiv.s -fno-common -DPIC -o .libs/udiv.o
â”‚/usr/include/i386/_types.h:37:no such instruction: ypedef signed char __int8_t'

possible problem: trying to compile an assembly source w/o -D_ASM_SOURCE
@
text
@d1 1
a1 1
# $MirOS: ports/devel/gmp/Makefile,v 1.4 2007/02/22 22:57:47 tg Exp $
a3 2
NOT_FOR_PLATFORM+=	Darwin:*:i386

d23 2
d26 3
@


1.4
log
@remove redundancy
@
text
@d1 1
a1 1
# $MirOS: ports/devel/gmp/Makefile,v 1.3 2006/09/14 00:08:13 tg Exp $
d4 3
a6 1
COMMENT=			library for arbitrary precision arithmetic
@


1.3
log
@clean up COMMENT and HOMEPAGE; regenerate INDEX (2761, 169 marked as broken, probably many many more) ­ edited by script with manual postprocessing
@
text
@d1 1
a1 1
# $MirOS: ports/devel/gmp/Makefile,v 1.2 2006/01/25 13:54:47 tg Exp $
d21 1
a21 4
			--enable-mpfr \
			--enable-fast-install \
			--disable-libtool-lock
CONFIGURE_ENV+=		MAKEINFO="makeinfo --no-split"
@


1.2
log
@unbreak, update and libtoolise gmp; add bsd-mp and mpfr compat too
@
text
@d1 1
a1 1
# $MirOS: ports/devel/gmp/Makefile,v 1.1.7.1 2005/03/18 15:44:42 tg Exp $
d4 1
a4 1
COMMENT=		"library for arbitrary precision arithmetic"
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $MirOS$
a3 2
BROKEN=			broken, someone volunteers?

d5 1
a5 1
DISTNAME=		gmp-4.1.2
d16 8
a23 4
CONFIGURE_STYLE=	gnu
CONFIGURE_ARGS+=	${CONFIGURE_SHARED}
# Don't try to optimize for the local CPU submodel
CONFIGURE_ARGS+=	--build=${MACHINE_ARCH}-unknown-openbsd${OSrev}
d27 1
a27 1
	@@rm -f ${WRKSRC}/gmp.info*
@


1.1.7.1
log
@Import the MirPorts Framework, many files moved or renamed though, no KDE/QT
@
text
@@
