head	1.2;
access;
symbols;
locks; strict;
comment	@# @;


1.2
date	2007.05.28.13.38.48;	author bsiegert;	state Exp;
branches;
next	1.1;
commitid	100465ADAFF412D5F61;

1.1
date	2005.03.18.15.44.30;	author tg;	state Exp;
branches
	1.1.7.1;
next	;

1.1.7.1
date	2005.03.18.15.44.30;	author tg;	state Exp;
branches;
next	;


desc
@@


1.2
log
@Update the Boehm Garbage Collector to version 6.8. Works for me on
MirOS-current (regression test and w3m tested). Patches from the old port
are simply adapted.

patch-include_private_gcconfig_h is VERY IMPORTANT, boehm-gc does not work
when this file is not correctly patched.
@
text
@$MirOS$
$OpenBSD: patch-os_dep_c,v 1.5 2003/10/16 04:11:15 todd Exp $
--- os_dep.c.orig	Sat Apr 22 01:26:24 2006
+++ os_dep.c	Mon May 28 14:57:55 2007
@@@@ -393,6 +393,30 @@@@ static void *tiny_sbrk(ptrdiff_t increme
   }
 #endif
 
+#if defined(OPENBSD)
+  #if defined(__ELF__)
+  ptr_t GC_data_start;
+
+  void GC_init_openbsd_elf()
+  {
+    extern ptr_t GC_find_limit();
+	/* This may need to be environ, without the underscore, for	*/
+	/* some versions.						*/
+    GC_data_start = GC_find_limit((ptr_t)&end, FALSE);
+  }
+  #else
+  ptr_t GC_data_start;
+
+  void GC_init_openbsd_aout()
+  {
+    extern ptr_t GC_find_limit();
+	/* This may need to be environ, without the underscore, for	*/
+	/* some versions.						*/
+    GC_data_start = GC_find_limit((ptr_t)&end, FALSE);
+  }
+  #endif
+#endif
+
 # ifdef OS2
 
 # include <stddef.h>
@


1.1
log
@Initial revision
@
text
@d1 1
d3 3
a5 3
--- os_dep.c.orig	2003-06-13 14:11:00.000000000 -0500
+++ os_dep.c	2003-10-16 02:31:36.000000000 -0500
@@@@ -391,6 +391,30 @@@@ static void *tiny_sbrk(ptrdiff_t increme
@


1.1.7.1
log
@Import the MirPorts Framework, many files moved or renamed though, no KDE/QT
@
text
@@
