head	1.2;
access;
symbols;
locks; strict;
comment	@# @;


1.2
date	2017.01.28.14.16.29;	author tg;	state Exp;
branches;
next	1.1;
commitid	100588CA7D54013BEFF;

1.1
date	2009.11.22.00.16.23;	author tg;	state Exp;
branches;
next	;
commitid	1004B088259208162D8;


desc
@@


1.2
log
@fix yacc expansion mistake
@
text
@$MirOS: ports/devel/autoconf/2.62/patches/patch-lib_autoconf_programs_m4,v 1.1 2009/11/22 00:16:23 tg Exp $
--- lib/autoconf/programs.m4.orig	Sat Apr  5 23:04:25 2008
+++ lib/autoconf/programs.m4	Sat Jan 28 14:14:35 2017
@@@@ -617,7 +617,7 @@@@ rm -rf conftest.one conftest.two conftes
     # value for INSTALL within a source directory, because that will
     # break other packages using the cache if that directory is
     # removed, or if the value is a relative name.
-    INSTALL=$ac_install_sh
+    INSTALL="$SHELL $ac_install_sh"
   fi
 fi
 dnl Do special magic for INSTALL instead of AC_SUBST, to get
@@@@ -917,8 +917,8 @@@@ AN_PROGRAM([bison], [AC_PROG_YACC])
 AC_DEFUN([AC_PROG_YACC],
 [AC_CHECK_PROGS(YACC, 'bison -y' byacc, yacc)dnl
 AC_ARG_VAR(YACC,
-[The `Yet Another C Compiler' implementation to use.  Defaults to the first
-program found out of: `bison -y', `byacc', `yacc'.])dnl
+[The `Yet Another Compiler Compiler' implementation to use.  Defaults to
+the first program found out of: `bison -y', `byacc', `yacc'.])dnl
 AC_ARG_VAR(YFLAGS,
 [The list of arguments that will be passed by default to $YACC.  This script
 will default YFLAGS to the empty string to avoid a default value of `-d' given
@


1.1
log
@merge bsiegert@@’s OpenBSD 2.62 port, my MirBSD 2.61 port, add portability
to GNU m4 (back which was removed by these OpenBSD people), fix things,
and add a few workarounds for bugs in our m4 (which increments the line
number too early, upon first encounter of a newline even if the newline
is pushed back into the input buffer)

this is still not ready for general consumption, but good for testing,
and a candidate for AUTOCONF_NEW default *after* the next full MirBSD
release (or, at the very least, full snapshot, which has been adopted);
although I’d rather like to get a 2.65 (but not tonight…) with our m4
working first and switch there then
@
text
@d1 1
a1 1
$MirOS: ports/devel/autoconf/2.61/patches/patch-lib_autoconf_programs_m4,v 1.1 2007/05/08 20:38:26 tg Exp $
d3 1
a3 1
+++ lib/autoconf/programs.m4	Sat Nov 21 23:28:30 2009
d13 11
@

