head	1.2;
access;
symbols;
locks; strict;
comment	@# @;


1.2
date	2009.11.21.16.44.34;	author tg;	state dead;
branches;
next	1.1;
commitid	1004B0818FA083AE9FC;

1.1
date	2009.08.10.17.24.28;	author tg;	state Exp;
branches;
next	;
commitid	1004A8057CD1310E185;


desc
@@


1.2
log
@• attempt to lay ground for an m4 MODULE
• devel/autoconf/2.63: use it
@
text
@# $MirOS: ports/devel/autoconf/Makefile.inc,v 1.1 2009/08/10 17:24:28 tg Exp $

.ifndef _MIRPORTS_DEVEL_AUTOCONF_MAKEFILE_INC
_MIRPORTS_DEVEL_AUTOCONF_MAKEFILE_INC=1

.include <mirports.sys.mk>

.if ${OStype} == "MirBSD"
.  if ${OSver:R} < 10
_HAVE_NEW_M4=		No
.  elif ${OSver:R} == 10
.    if ${OSver:E} < 170
_HAVE_NEW_M4=		No
.    else
_HAVE_NEW_M4=		Yes
.    endif
.  else
_HAVE_NEW_M4=		Yes
.  endif
.elif ${OStype} == "MidnightBSD"
_HAVE_NEW_M4=		No
.elif ${OStype} == "OpenBSD"
.  if ${OSrev} < 45
_HAVE_NEW_M4=		No
.  else
_HAVE_NEW_M4=		Yes
.  endif
.elif ${OStype} == "Interix"
_HAVE_NEW_M4=		No
.elif ${OStype} == "Darwin"
_HAVE_NEW_M4=		Yes
.else
.  error Unknown OStype '${OStype}'!
.endif

_NEED_NEW_M4?=		No

.if (${_NEED_NEW_M4:L} == "yes") && (${_HAVE_NEW_M4:L} != "yes")
BUILD_DEPENDS+=		:m4-*:lang/m4
M4=			${LOCALBASE}/bin/gm4
.endif

.endif
@


1.1
log
@a non-working experiment to get automüll 2.63 working on MirOS...

cd ../lib/m4sugar && mmake  version.m4
:;{  echo '# This file is part of -*- Autoconf -*-.' &&  echo '# Version of Autoconf.' &&  echo '# Copyright (C) 1999, 2000, 2001, 2002, 2006, 2007' &&  echo '# Free Software Foundation, Inc.' &&  echo  && echo 'm4_define([m4_PACKAGE_NAME],      [GNU Autoconf])' &&  echo 'm4_define([m4_PACKAGE_TARNAME],   [autoconf])' &&  echo 'm4_define([m4_PACKAGE_VERSION],   [2.63-MirPorts-0])' &&  echo 'm4_define([m4_PACKAGE_STRING],    [GNU Autoconf 2.63-MirPorts-0])' &&  echo 'm4_define([m4_PACKAGE_BUGREPORT], [bug-autoconf@@gnu.org])';  } > version.m4-t
mv version.m4-t version.m4
autom4te_perllibdir='..'/lib                                     AUTOM4TE_CFG='../lib/autom4te.cfg'         ../bin/autom4te      -B '..'/lib -B '..'/lib --language M4sh --cache '' --melt ./autoconf.as -o autoconf.in
m4: autoconf.as at line 1: regular expression error: empty (sub)expression.
autom4te: /usr/bin/m4 failed with exit status: 1
*** Error code 1

Stop in /usr/ports/devel/autoconf/2.63/w-autoconf-2.63-0/autoconf-2.63/bin (line 563 of Makefile).
@
text
@d1 1
a1 1
# $MirOS$
@

