head	1.9;
access;
symbols;
locks; strict;
comment	@# @;


1.9
date	2018.11.08.02.24.56;	author tg;	state Exp;
branches;
next	1.8;
commitid	1005BE39E4361E8E050;

1.8
date	2009.11.21.17.24.39;	author tg;	state Exp;
branches;
next	1.7;
commitid	1004B0822572BF91C4C;

1.7
date	2009.11.21.16.52.12;	author tg;	state Exp;
branches;
next	1.6;
commitid	1004B081AC70BF29A67;

1.6
date	2006.11.16.22.07.25;	author tg;	state Exp;
branches;
next	1.5;
commitid	100455CE11A16609189;

1.5
date	2006.09.14.00.08.04;	author tg;	state Exp;
branches;
next	1.4;
commitid	10045089C0E234154C3;

1.4
date	2006.07.01.13.30.18;	author tg;	state Exp;
branches;
next	1.3;
commitid	10044A678E96FAF3696;

1.3
date	2006.07.01.12.57.56;	author tg;	state Exp;
branches;
next	1.2;
commitid	10044A6715D015E9A19;

1.2
date	2006.06.30.21.23.45;	author tg;	state Exp;
branches;
next	1.1;
commitid	10044A5966E7769AE31;

1.1
date	2006.06.29.21.56.01;	author tg;	state Exp;
branches;
next	;
commitid	10044A44C803A3CA073;


desc
@@


1.9
log
@fix scoping mistake causing occasional CPPFLAGS loss

â€¢ 2.13 was not affected (code was correct before porting to 2.5x)
â€¢ 2.60, 2.61 share the same (buggy) code
â€¢ 2.62 has more fancy (but just as broken) code
â€¢ all others donâ€™t carry the fix
@
text
@# $MirOS: ports/devel/autoconf/2.60/Makefile,v 1.7 2009/11/21 16:52:12 tg Exp $

COMMENT=		automatically configure source code on many Un*x platforms
SUFFIX=			-2.60
DASH_VER=		4
DISTNAME=		autoconf${SUFFIX}
CATEGORIES=		devel
MASTER_SITES=		${MASTER_SITE_GNU:=autoconf/}
HOMEPAGE=		http://www.gnu.org/software/autoconf/

# GPL
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
PERMIT_PACKAGE_CDROM=	Yes
PERMIT_PACKAGE_FTP=	Yes

BUILD_DEPENDS=		:help2man-*:devel/help2man
USE_M4=			bsd
MODULES+=		m4
B_R_DEPENDS+=		${MODM4_DEPENDS}

CONFIGURE_STYLE=	gnu
CONFIGURE_ARGS+=	--program-suffix=${SUFFIX} \
			--without-lispdir
CONFIGURE_ENV+=		M4=${M4:Q}
CONFIGURE_ENV+=		AWK=${AWK:Q}
EXTRA_XAKE_FLAGS+=	pkgdatadir=${PREFIX}/share/autoconf${SUFFIX}
EXTRA_FAKE_FLAGS+=	DESTDIR=${WRKINST} lispdir=
SUBST_VARS=		SUFFIX

NO_REGRESS=		Yes

pre-configure:
	print '%g/2\.60/s//&-MirPorts-${DASH_VER}/g\nwq' | ed -s ${WRKSRC}/configure

.include <bsd.port.mk>
@


1.8
log
@these all USE_M4=bsd
(2.62 either needs 'old' or 'new' but Iâ€™m conservative and use 'new'â€¦)
@
text
@d5 1
a5 1
DASH_VER=		3
@


1.7
log
@use m4 MODULE
@
text
@d1 1
a1 1
# $MirOS: ports/devel/autoconf/2.60/Makefile,v 1.6 2006/11/16 22:07:25 tg Exp $
d18 1
@


1.6
log
@when scanning for functions with a broken "char func()" K&R prototype,
prevent inclusion of "mirmake.h", always.

UPDATE THIS!
@
text
@d1 1
a1 1
# $MirOS: ports/devel/autoconf/2.60/Makefile,v 1.5 2006/09/14 00:08:04 tg Exp $
d5 1
a5 1
PL=			3
a6 1
PKGNAME=		${DISTNAME}-${PL}
d18 2
d24 2
a25 1
CONFIGURE_ENV+=		M4=${M4:Q} AWK=${AWK:Q}
d33 1
a33 1
	print '%g/2\.60/s//&-MirPorts-${PL}/g\nwq' | ed -s ${WRKSRC}/configure
@


1.5
log
@clean up COMMENT and HOMEPAGE; regenerate INDEX (2761, 169 marked as broken, probably many many more) ­ edited by script with manual postprocessing
@
text
@d1 1
a1 1
# $MirOS: ports/devel/autoconf/2.60/Makefile,v 1.4 2006/07/01 13:30:18 tg Exp $
d3 1
a3 1
COMMENT=			automatically configure source code on many Un*x platforms
d5 1
a5 1
PL=			2
@


1.4
log
@I seem to have botched - m4_PACKAGE_VERSION used to be x.yy, now
that's provided by m4_PACKAGE_VERSIONNR in mirautoconf.
@
text
@d1 1
a1 1
# $MirOS: ports/devel/autoconf/2.60/Makefile,v 1.3 2006/07/01 12:57:56 tg Exp $
d3 1
a3 1
COMMENT=		automatically configure source code on many Un*x platforms
@


1.3
log
@* brand while here
* always scan $GNUSYSTEM_AUX_DIR
@
text
@d1 1
a1 1
# $MirOS: ports/devel/autoconf/2.60/Makefile,v 1.2 2006/06/30 21:23:45 tg Exp $
d5 1
a5 1
PL=			1
@


1.2
log
@since autoconf 2.60, infodir/mandir seem to have different defaults
@
text
@d1 1
a1 1
# $MirOS: ports/devel/autoconf/2.60/Makefile,v 1.1 2006/06/29 21:56:01 tg Exp $
d5 1
d7 1
d30 3
@


1.1
log
@switch to GNU autoconf 2.60
@
text
@d1 1
a1 1
# $MirOS: ports/devel/autoconf/2.59/Makefile,v 1.4 2006/02/09 11:11:18 tg Exp $
a19 2
			--infodir=${PREFIX}/info \
			--mandir=${PREFIX}/man \
@

