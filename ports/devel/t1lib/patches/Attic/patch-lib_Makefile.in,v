head	1.2;
access;
symbols;
locks; strict;
comment	@# @;


1.2
date	2007.01.25.11.05.54;	author bsiegert;	state dead;
branches;
next	1.1;
commitid	10045B88EBC6CC32572;

1.1
date	2005.03.18.15.45.37;	author tg;	state Exp;
branches
	1.1.7.1;
next	;

1.1.7.1
date	2005.03.18.15.45.37;	author tg;	state Exp;
branches;
next	;


desc
@@


1.2
log
@Fucking CVS ate my log message again *sigh*.

Update t1lib to 5.1.0-0, now with a better build system, USE_X11, and
libtoolised plists. The old distfile has vanished long ago, and is not
even available at OpenBSD's now.

Spotted by Przemek Joswiak, thanks!
@
text
@$MirOS: ports/devel/t1lib/patches/patch-lib_Makefile.in,v 1.1 2005/03/18 15:45:37 tg Exp $
--- lib/Makefile.in.orig	Tue Jun 25 02:15:08 2002
+++ lib/Makefile.in	Tue Aug 10 18:13:06 2004
@@@@ -36,6 +36,8 @@@@ LEX       = @@LEX@@
 LEXLIB    = @@LEXLIB@@
 ALLCFLAGS = $(CFLAGS)
 
+DESTDIR = 
+
 INSTALL         = @@INSTALL@@
 INSTALL_PROGRAM = @@INSTALL_PROGRAM@@
 INSTALL_DATA    = @@INSTALL_DATA@@
@@@@ -130,7 +132,7 @@@@ libt1.la: $(TYPE1_OBJS) $(T1LIB_OBJS)
 	$(LIBTOOL) --mode=link \
 		$(CC) -o $@@ $(TYPE1_OBJS) $(T1LIB_OBJS) \
 	         -version-info @@T1LIB_LT_CURRENT@@:@@T1LIB_LT_REVISION@@:@@T1LIB_LT_AGE@@ \
-		 -rpath $(libdir)
+		 -rpath $(libdir) -lm
 	cp t1lib/t1lib.h .
 
 
@@@@ -160,27 +162,27 @@@@ clean: dummy
 
 
 install: dummy
-	$(MKINSTALLDIRS) $(libdir)
-	$(MKINSTALLDIRS) $(includedir)
-	$(MKINSTALLDIRS) @@T1LIB_DATA_DIR@@
+	$(MKINSTALLDIRS) $(DESTDIR)$(libdir)
+	$(MKINSTALLDIRS) $(DESTDIR)$(includedir)
+	$(MKINSTALLDIRS) $(DESTDIR)@@T1LIB_DATA_DIR@@
 	$(LIBTOOL) --mode=install \
-		$(INSTALL_DATA) $(MAIN_TARGET) $(libdir)
+		$(INSTALL_DATA) $(MAIN_TARGET) $(DESTDIR)$(libdir)
 	$(LIBTOOL) --mode=install \
-		$(INSTALL_DATA) $(MAIN_HEADER) $(includedir)
-	if (test -f @@T1LIB_DATA_DIR@@/t1lib.config) \
+		$(INSTALL_DATA) $(MAIN_HEADER) $(DESTDIR)$(includedir)
+	if (test -f $(DESTDIR)@@T1LIB_DATA_DIR@@/t1lib.config) \
 	then \
 	  echo "Alert: Global configuration file exists, installation skipped!"; \
 	else \
-	  $(LIBTOOL) --mode=install $(INSTALL_DATA) t1lib.config @@T1LIB_DATA_DIR@@; \
+	  $(LIBTOOL) --mode=install $(INSTALL_DATA) t1lib.config $(DESTDIR)@@T1LIB_DATA_DIR@@; \
 	fi;
 
 
 uninstall: dummy
-	-$(LIBTOOL) --mode=uninstall $(RM) $(libdir)/libt1.la
-	-$(LIBTOOL) --mode=uninstall $(RM) $(libdir)/libt1x.la
-	-$(LIBTOOL) --mode=uninstall $(RM) $(includedir)/t1lib.h
-	-$(LIBTOOL) --mode=uninstall $(RM) $(includedir)/t1libx.h
-	-$(LIBTOOL) --mode=uninstall $(RM) @@T1LIB_DATA_DIR@@/t1lib.config
+	-$(LIBTOOL) --mode=uninstall $(RM) $(DESTDIR)$(libdir)/libt1.la
+	-$(LIBTOOL) --mode=uninstall $(RM) $(DESTDIR)$(libdir)/libt1x.la
+	-$(LIBTOOL) --mode=uninstall $(RM) $(DESTDIR)$(includedir)/t1lib.h
+	-$(LIBTOOL) --mode=uninstall $(RM) $(DESTDIR)$(includedir)/t1libx.h
+	-$(LIBTOOL) --mode=uninstall $(RM) $(DESTDIR)@@T1LIB_DATA_DIR@@/t1lib.config
 
 
 dummy:
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
$MirOS$
@


1.1.7.1
log
@Import the MirPorts Framework, many files moved or renamed though, no KDE/QT
@
text
@@
