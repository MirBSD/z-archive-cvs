head	1.5;
access;
symbols;
locks; strict;
comment	@# @;


1.5
date	2008.09.21.18.45.08;	author bsiegert;	state Exp;
branches;
next	1.4;
commitid	10048D696303C2EA26C;

1.4
date	2007.12.27.15.33.10;	author bsiegert;	state Exp;
branches;
next	1.3;
commitid	1004773C5CD00016653;

1.3
date	2006.12.20.15.31.20;	author tg;	state Exp;
branches;
next	1.2;
commitid	100458956E02A39AB3C;

1.2
date	2006.10.11.15.26.40;	author bsiegert;	state Exp;
branches;
next	1.1;
commitid	100452D0CE52C227C51;

1.1
date	2006.10.05.21.11.38;	author bsiegert;	state Exp;
branches;
next	;
commitid	1004525748A3BDBAAD1;


desc
@@


1.5
log
@On Darwin, don't use sendfile, as there is no platform-specific implementation
in the source.
@
text
@#$MirOS: ports/devel/apr/apr/Makefile,v 1.4 2007/12/27 15:33:10 bsiegert Exp $

COMMENT=		Apache portable runtime library
DASH_VER=		0
DISTNAME=		apr-${VERSION}

.include <mirports.sys.mk>

.if ${OStype:L:Mdarwin}
CONFIGURE_ARGS+=	--without-sendfile
.endif

post-install:
	echo 'H\n/^LDFLAGS/s/=.*/=/\nwq' | ed ${PREFIX}/share/build/apr_rules.mk

.include <bsd.port.mk>
@


1.4
log
@Update apr to 0.9.17 and apr-util to 0.9.15. Straightforward, only small
bugfixes.
@
text
@d1 1
a1 1
#$MirOS: ports/devel/apr/apr/Makefile,v 1.3 2006/12/20 15:31:20 tg Exp $
d7 6
@


1.3
log
@sync DASH_VER usage:
* the dash doesn't belong into the DASH_VER variable,
  it's only a decimal integer value
* DASH_VER already defaults to 0 (admittedly new)
* PKGNAME already defaults to ${DISTNAME}-${DASH_VER}
@
text
@d1 1
a1 1
#$MirOS: ports/devel/apr/apr/Makefile,v 1.2 2006/10/11 15:26:40 bsiegert Exp $
d4 1
a4 1
DASH_VER=		1
@


1.2
log
@empty LDFLAGS in the installed apr_rules.mk as it contains a reference to
the spec file in the working directory. Bump patchlevel.

discussed last night with tg@@
@
text
@d1 1
a1 1
#$MirOS: ports/devel/apr/apr/Makefile,v 1.1 2006/10/05 21:11:38 bsiegert Exp $
d4 1
a4 1
DASH_VER=		-1
a5 1
PKGNAME=		apr-${VERSION}${DASH_VER}
@


1.1
log
@Add patches for apr and apr-util 0.9. Starting with subversion 1.4.0, these
are no longer contained in the subversion tarball. We will use the upstream
versions with some bugfixes.

While adding the conflict to subversion-<1.4.0, I triggered a bug in
pkgtools, which is fixed now.

All of this was tested only on Mac OS X but as subversion already ran on
MirOS with these patches, there should be no problem.
@
text
@d1 1
a1 1
#$MirOS: ports/devel/subversion/Makefile,v 1.7 2006/06/04 20:29:35 bsiegert Exp $
d4 1
d8 2
@

