head	1.6;
access;
symbols;
locks; strict;
comment	@# @;


1.6
date	2009.07.28.19.32.58;	author bsiegert;	state Exp;
branches;
next	1.5;
commitid	1004A6F52587EC450E9;

1.5
date	2008.10.02.18.54.48;	author bsiegert;	state Exp;
branches;
next	1.4;
commitid	10048E518FE1C11CC86;

1.4
date	2008.03.09.17.22.29;	author tg;	state Exp;
branches;
next	1.3;
commitid	10047D41CAA7E715397;

1.3
date	2007.12.27.15.33.10;	author bsiegert;	state Exp;
branches;
next	1.2;
commitid	1004773C5CD00016653;

1.2
date	2006.12.20.15.31.21;	author tg;	state Exp;
branches;
next	1.1;
commitid	100458956E02A39AB3C;

1.1
date	2006.10.05.21.11.39;	author bsiegert;	state Exp;
branches;
next	;
commitid	1004525748A3BDBAAD1;


desc
@@


1.6
log
@Update apr to 0.9.18 and apr-util to 0.9.17, security improvements and
bugfixes.
@
text
@# $MirOS: ports/devel/apr/util/Makefile,v 1.5 2008/10/02 18:54:48 bsiegert Exp $

COMMENT=		companion library to APR
VERSION=		0.9.17
DISTNAME=		apr-util-${VERSION}

FLAVOURS=		bsddb
FLAVOUR?=

LIB_DEPENDS+=		xml2::textproc/libxml
LIB_DEPENDS+=		apr::devel/apr/apr
MODULES=		textproc/expat converters/libiconv

.if ${FLAVOUR:L:Mbsddb}
LIB_DEPENDS+=		db.4.2::databases/db
CONFIGURE_ARGS+=	--with-dbm=db42 --with-berkeley-db=${LOCALBASE}
.else
CONFIGURE_ARGS+=	--without-berkeley-db
.endif

CONFIGURE_ARGS+=	--with-iconv=${ICONV_PREFIX}
CONFIGURE_ARGS+=	--with-expat=${EXPAT_PREFIX}
CONFIGURE_ARGS+=	--with-apr=${LOCALBASE}

.include <bsd.port.mk>
@


1.5
log
@Fix detection of Berkeley db for bsddb flavour
@
text
@d1 1
a1 1
# $MirOS: ports/devel/apr/util/Makefile,v 1.4 2008/03/09 17:22:29 tg Exp $
d4 1
a4 1
VERSION=		0.9.15
@


1.4
log
@bulk convert FLAVOR to FLAVOUR; nuke unused file; convert to $Mdocdate
@
text
@d1 1
a1 1
# $MirOS: ports/devel/apr/util/Makefile,v 1.3 2007/12/27 15:33:10 bsiegert Exp $
d16 1
a16 1
CONFIGURE_ARGS+=	--with-dbm=db42 --with-berkeley-db
@


1.3
log
@Update apr to 0.9.17 and apr-util to 0.9.15. Straightforward, only small
bugfixes.
@
text
@d1 1
a1 1
# $MirOS: ports/devel/apr/util/Makefile,v 1.2 2006/12/20 15:31:21 tg Exp $
d7 2
a8 2
FLAVORS=		bsddb
FLAVOR?=
d14 1
a14 1
.if ${FLAVOR:L:Mbsddb}
@


1.2
log
@sync DASH_VER usage:
* the dash doesn't belong into the DASH_VER variable,
  it's only a decimal integer value
* DASH_VER already defaults to 0 (admittedly new)
* PKGNAME already defaults to ${DISTNAME}-${DASH_VER}
@
text
@d1 1
a1 1
# $MirOS: ports/devel/apr/util/Makefile,v 1.1 2006/10/05 21:11:39 bsiegert Exp $
d4 1
@


1.1
log
@Add patches for apr and apr-util 0.9. Starting with subversion 1.4.0, these
are no longer contained in the subversion tarball. We will use the upstream
versions with some bugfixes.

While adding the conflict to subversion-<1.4.0, I triggered a bug in
pkgtools, which is fixed now.

All of this was tested only on Mac OS X but as subversion already ran on
MirOS with these patches, there should be no problem.
@
text
@d1 1
a1 1
# $MirOS: ports/devel/subversion/Makefile,v 1.7 2006/06/04 20:29:35 bsiegert Exp $
a4 1
PKGNAME=		apr-util-${VERSION}${DASH_VER}
@

