head	1.14;
access;
symbols
	MIRBSD_8_BASE:1.5;
locks; strict;
comment	@# @;


1.14
date	2009.10.28.12.23.27;	author tg;	state Exp;
branches;
next	1.13;
commitid	1004AE837D2244B9286;

1.13
date	2007.02.22.22.57.47;	author tg;	state Exp;
branches;
next	1.12;
commitid	10045DE1FF10F590776;

1.12
date	2006.12.20.23.16.16;	author tg;	state Exp;
branches;
next	1.11;
commitid	1004589C4545D84FA44;

1.11
date	2006.11.16.20.09.07;	author tg;	state Exp;
branches;
next	1.10;
commitid	100455CC5553F49F98A;

1.10
date	2006.09.14.00.08.13;	author tg;	state Exp;
branches;
next	1.9;
commitid	10045089C0E234154C3;

1.9
date	2006.08.26.23.33.54;	author tg;	state Exp;
branches;
next	1.8;
commitid	10044F0D836486F5483;

1.8
date	2006.07.17.00.51.09;	author tg;	state Exp;
branches;
next	1.7;
commitid	10044BADEF91064F02F;

1.7
date	2006.06.16.15.33.41;	author tg;	state Exp;
branches;
next	1.6;
commitid	1004492CF4415148FC7;

1.6
date	2006.02.09.09.35.44;	author tg;	state Exp;
branches;
next	1.5;
commitid	10043EB0C94610EDE76;

1.5
date	2005.12.04.20.06.54;	author tg;	state Exp;
branches;
next	1.4;
commitid	48bc43934c5f28e4;

1.4
date	2005.07.07.21.19.04;	author bsiegert;	state Exp;
branches;
next	1.3;
commitid	66bc42cd9a7ea714;

1.3
date	2005.04.20.21.34.53;	author bsiegert;	state Exp;
branches;
next	1.2;

1.2
date	2005.03.25.20.15.35;	author tg;	state Exp;
branches;
next	1.1;

1.1
date	2005.03.18.15.44.42;	author tg;	state Exp;
branches
	1.1.7.1;
next	;

1.1.7.1
date	2005.03.18.15.44.42;	author tg;	state Exp;
branches;
next	;


desc
@@


1.14
log
@add MODGNU_TYPESCAN to skip a warning
@
text
@# $MirOS: ports/devel/gmake/Makefile,v 1.13 2007/02/22 22:57:47 tg Exp $
# $OpenBSD: Makefile,v 1.29 2004/04/06 03:12:19 brad Exp $
#-
# Must not have any dependencies, unless they are listed in CVSROOT/modules.

COMMENT=		GNU implementation of the make utility (enhanced)
DISTNAME=		make-3.81
PKGNAME=		g${DISTNAME}-${DASH_VER}
CATEGORIES=		devel
HOMEPAGE=		http://www.gnu.org/software/make/
MASTER_SITES=		${MASTER_SITE_GNU:=make/}

# GNU GPLv2
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
PERMIT_PACKAGE_CDROM=	Yes
PERMIT_PACKAGE_FTP=	Yes

CONFIGURE_STYLE=	gnu
MODGNU_TYPESCAN=	setvbuf
CONFIGURE_ARGS+=	--program-prefix="g"
CONFIGURE_ARGS+=	--disable-nls
.if ${MACHINE_OS} == "Darwin"
CPPFLAGS+=		-Dstrcmpi=strcasecmp
.endif

post-extract:
	rm -f ${WRKSRC}/doc/make.info*

.include <bsd.port.mk>
@


1.13
log
@remove redundancy
@
text
@d1 1
a1 1
# $MirOS: ports/devel/gmake/Makefile,v 1.12 2006/12/20 23:16:16 tg Exp $
d8 1
a8 1
PKGNAME=		g${DISTNAME}-0
d20 1
@


1.12
log
@speed up build
@
text
@d1 1
a1 1
# $MirOS: ports/devel/gmake/Makefile,v 1.11 2006/11/16 20:09:07 tg Exp $
a20 1
CONFIGURE_ARGS+=	--disable-dependency-tracking
@


1.11
log
@regen and disable support for case insensitive filesystems
"it just doesn't really work, ma"
@
text
@d1 1
a1 1
# $MirOS: ports/devel/gmake/Makefile,v 1.10 2006/09/14 00:08:13 tg Exp $
d21 1
@


1.10
log
@clean up COMMENT and HOMEPAGE; regenerate INDEX (2761, 169 marked as broken, probably many many more) ­ edited by script with manual postprocessing
@
text
@d1 1
a1 1
# $MirOS: ports/devel/gmake/Makefile,v 1.9 2006/08/26 23:33:54 tg Exp $
d4 1
a4 1
# This port must not have dependencies, or list them in CVSROOT/modules.
d6 1
a6 1
COMMENT=			GNU make
a22 1
CONFIGURE_ARGS+=	--enable-case-insensitive-file-system
a24 1
CONFIGURE_ENV+=		MAKEINFO="makeinfo --no-split"
@


1.9
log
@OStype vs MACHINE_OS confusion, try to clean up the mess:

We use MACHINE_OS to distinguish between different OSes, i.e.
 BSD Darwin Interix Linux

Within these, there are OStype per MACHINE_OS, e.g.
 BSD -> MirBSD OpenBSD
 Darwin -> Darwin
 Interix -> Interix MirInterix
 Linux -> Debian

These are only the OStype""s seen until now,
so please use what semantically fits, e.g. on
Interix and MirInterix, you don't have IPv6,
but on MirInterix you won't need an explicit
texinfo dependency since it's in the base system.
Be aware that OStype can be user defined though!
@
text
@d1 1
a1 1
# $MirOS: ports/devel/gmake/Makefile,v 1.8 2006/07/17 00:51:09 tg Exp $
d6 1
a6 1
COMMENT=		GNU make
@


1.8
log
@unbreak on Mac
(yeah, DOS and Windows are the only OSes with case insensitive
 filesystem, my arse, I've bitched about Macs often enough due to that)
@
text
@d1 1
a1 1
# $MirOS: ports/devel/gmake/Makefile,v 1.7 2006/06/16 15:33:41 tg Exp $
d22 1
a22 1
.if ${OStype} == "Darwin"
@


1.7
log
@update to GNU make 3.81
WARNING: this might introduce incompatibilities

also fix time_t-64 bug while here

======================================================================
 Regression PASSED: GNU Make 3.81 (i386-ecce-mirbsd9) built with mgcc
======================================================================
@
text
@d1 1
a1 1
# $MirOS: ports/devel/gmake/Makefile,v 1.6 2006/02/09 09:35:44 tg Exp $
d24 1
@


1.6
log
@remove SEPARATE_BUILD for once and for good, I'm fed up with
all the trouble it can cause - ports which need it (e.g. the
GCC SC doesnt "support" building gcc with srcdir=objdir) can
set stuff like WRKBUILD themselves.
@
text
@d1 1
a1 1
# $MirOS: ports/devel/gmake/Makefile,v 1.5 2005/12/04 20:06:54 tg Exp $
d6 6
a11 6
COMMENT=	"GNU make"
DISTNAME=	make-3.80
PKGNAME=	g${DISTNAME}-1
CATEGORIES=	devel
MASTER_SITES=	${MASTER_SITE_GNU:=make/}
HOMEPAGE=	http://www.gnu.org/software/make/
d14 2
a17 2
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
d19 7
a25 3
CONFIGURE_STYLE=gnu
CONFIGURE_ARGS= --program-prefix="g" --disable-nls
CONFIGURE_ENV+=	MAKEINFO="makeinfo --no-split"
d28 1
a28 10
	@@rm -f ${WRKSRC}/doc/make.info*

post-install:
	@@chmod ${BINMODE} ${PREFIX}/bin/gmake
	@@chown ${BINOWN}:${BINGRP} ${PREFIX}/bin/gmake

# XXX This is the ONE case where we shouldn't be able to cheat on 
# where HOME is coming from, but we can. Looks like gnu-make is bogus...

REGRESS_FLAGS=HOME=/
@


1.5
log
@document that the gmake port must not have dependencies, or, that they
be listed in CVSROOT/modules (to be committed soon)
@
text
@d1 1
a1 1
# $MirOS: ports/devel/gmake/Makefile,v 1.4 2005/07/07 21:19:04 bsiegert Exp $
a18 1
SEPARATE_BUILD=	simple
@


1.4
log
@Semi-automatic update of the remaining ports to the new patchlevel format.

Please correct mistakes if you find them :).
@
text
@d1 1
a1 1
# $MirOS: ports/devel/gmake/Makefile,v 1.3 2005/04/20 21:34:53 bsiegert Exp $
d3 2
@


1.3
log
@Bump patchlevel on all ports where tyler had committed strcpy patches, which
were subsequently removed. A little late, I know.

Agreed tg@@, "note to self: stop breaking ports" tyler@@
@
text
@d1 1
a1 1
# $MirOS: ports/devel/gmake/Makefile,v 1.1.7.1 2005/03/18 15:44:42 tg Exp $
d6 1
a6 1
PKGNAME=	g${DISTNAME}p1
@


1.2
log
@while here, bring up to date w.r.t. esthetic stuff
@
text
@d6 1
a6 1
PKGNAME=	g${DISTNAME}
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $MirOS$
a4 2
NOT_FOR_OS=	Linux

a8 1

d11 1
a11 1

d18 1
a18 1
CONFIGURE_STYLE= gnu
d20 1
a20 4
CONFIGURE_ENV=	CPPFLAGS="-I${LOCALBASE}/include" \
		LDFLAGS="-L${LOCALBASE}/lib" \
		MAKEINFO="makeinfo --no-split"
MODGNU_CONFIG_GUESS_DIRS= ${WRKSRC}/config
@


1.1.7.1
log
@Import the MirPorts Framework, many files moved or renamed though, no KDE/QT
@
text
@@
