head	1.2;
access;
symbols
	start:1.1.1.1 tg:1.1.1;
locks; strict;
comment	@# @;


1.2
date	2009.10.13.17.36.28;	author bsiegert;	state dead;
branches;
next	1.1;
commitid	1004AD4B62575A2DCC0;

1.1
date	2008.08.08.15.53.57;	author tg;	state Exp;
branches
	1.1.1.1;
next	;
commitid	100489C6BDF38E32927;

1.1.1.1
date	2008.08.08.15.53.57;	author tg;	state Exp;
branches;
next	;
commitid	100489C6BDF38E32927;


desc
@@


1.2
log
@libffi-3.0.8

We gain:
- a .pc file,
- an info page,
- the warm and fuzzy feeling of not using a "beta" version that the gcc
  people chose to import at some point and fiddle around with.

Builds on MirOS and Darwin. Regression tests do not work on Darwin, as it
uses dejagnu, which uses Tcl, which is ONLY_FOR_PLATFORM mirbsd. Does not
work on MirOS either. Will test python build next.
@
text
@$MirOS: ports/devel/libffi/patches/patch-Makefile_am,v 1.1 2008/08/08 15:53:57 tg Exp $
--- Makefile.am.orig	Thu Jan  1 00:00:00 1970
+++ Makefile.am	Fri Aug  8 15:14:20 2008
@@@@ -84,7 +84,6 @@@@ MULTIDO = true
 MULTICLEAN = true
 
 toolexeclib_LTLIBRARIES = libffi.la
-noinst_LTLIBRARIES = libffi_convenience.la
 
 
 
@@@@ -107,8 +106,6 @@@@ TARGET_SRC_SH64 =  src/sh64/sysv.S src/s
 
 libffi_la_SOURCES = src/debug.c src/prep_cif.c src/types.c \
 		src/raw_api.c src/java_raw_api.c $(TARGET_SRC_@@TARGET@@)
-libffi_convenience_la_SOURCES = src/debug.c src/prep_cif.c src/types.c \
-		src/raw_api.c src/java_raw_api.c $(TARGET_SRC_@@TARGET@@)
 
 AM_CFLAGS = -Wall -g -fexceptions
 
@@@@ -122,19 +119,19 @@@@ INCLUDES = -I. -I$(top_srcdir)/include -
 	$(LTCOMPILE) -c -o $@@ $<
 
 .s.o:
-	$(LTCOMPILE) -c -o $@@ $<
+	$(LTCOMPILE) -c -o $@@ $< -D_ASM_SOURCE
 
 .S.o:
-	$(LTCOMPILE) -c -o $@@ $<
+	$(LTCOMPILE) -c -o $@@ $< -D_ASM_SOURCE
 
 .c.lo:
 	$(LTCOMPILE) -c -o $@@ $<
 
 .s.lo:
-	$(LTCOMPILE) -c -o $@@ $<
+	$(LTCOMPILE) -c -o $@@ $< -D_ASM_SOURCE
 
 .S.lo:
-	$(LTCOMPILE) -c -o $@@ $<
+	$(LTCOMPILE) -c -o $@@ $< -D_ASM_SOURCE
 
 # Multilib support.
 .PHONY: all-multi mostlyclean-multi clean-multi distclean-multi \
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
$MirOS$
@


1.1.1.1
log
@Add a couple of ports required for the customer whose job I'll now be
handling: the Pawn scripting language (of which E17's Embryo is a fork),
a gtk-server binary port (for quick testing; we'll probably want a na-
tive one in both GTK+1.2 and GTK+2 flavours), and libffi from base-gcj.
@
text
@@
