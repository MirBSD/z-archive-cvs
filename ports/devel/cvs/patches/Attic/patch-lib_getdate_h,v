head	1.2;
access;
symbols;
locks; strict;
comment	@# @;


1.2
date	2012.02.11.19.29.52;	author tg;	state dead;
branches;
next	1.1;
commitid	1004F36C11F02848ED5;

1.1
date	2006.10.02.05.59.16;	author tg;	state Exp;
branches;
next	;
commitid	1004520AAAB453C7791;


desc
@@


1.2
log
@update the CVS package in MirPorts (to match base and Debian)

• since the Debian cvs source package was taken over by this one,
  reverse things and use the Debian *.diff.gz to get our patches
  from ;-) saves tracking things in CVS thrice
• since the Debian cvs binary package contains PDF documentation
  generated from something with our patches, ship it instead of
  the one from the vanilla CVS distfile
• ship cvs-switchroot(1) from Debian, which is just a fancy name
  for mircvs://src/scripts/mnt-cvsroot and has a manpage
• move stuff from PREFIX/share/cvs to PREFIX/share/doc/cvs as is proper
• fix regression testsuite on MirBSD as much as possible (same as base)
@
text
@$MirOS: ports/devel/cvs/patches/patch-lib_getdate_h,v 1.1 2006/10/02 05:59:16 tg Exp $
--- lib/getdate.h.orig	Mon Sep 19 21:11:58 2005
+++ lib/getdate.h	Mon Dec  5 22:12:45 2005
@@@@ -1,6 +1,9 @@@@
+/* $MirOS: ports/devel/cvs/patches/patch-lib_getdate_h,v 1.1 2006/10/02 05:59:16 tg Exp $ */
+
 /* Parse a string into an internal time stamp.
 
-   Copyright (C) 1995, 1997, 1998, 2003, 2004 Free Software Foundation, Inc.
+   Copyright (C) 1995, 1997, 1998, 2003, 2004, 2005
+   Free Software Foundation, Inc.
 
    This program is free software; you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
@@@@ -16,7 +19,22 @@@@
    along with this program; if not, write to the Free Software Foundation,
    Inc., 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301, USA.  */
 
+#ifndef GETDATE_H
+#define GETDATE_H
+
+#if HAVE_CONFIG_H
+# include <config.h>
+#endif
+
 #include <stdbool.h>
+#ifndef IN_RCS
 #include "timespec.h"
+#else
+#include <sys/time.h>
+#include <time.h>
+#define gettime(ts)	clock_gettime(CLOCK_REALTIME,(ts))
+#endif
 
 bool get_date (struct timespec *, char const *, struct timespec const *);
+
+#endif /* GETDATE_H */
@


1.1
log
@add cvs port, compiles fine and warning-free on MirOS-current;
other OSes not tested, older MirOS may have issues (mktime, regex/wctype)
@
text
@d1 1
a1 1
$MirOS$
d5 1
a5 1
+/* $MirOS: src/gnu/usr.bin/cvs/lib/getdate.h,v 1.3 2005/12/05 22:12:45 tg Exp $ */
@

