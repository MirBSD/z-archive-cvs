head	1.12;
access;
symbols;
locks; strict;
comment	@# @;


1.12
date	2008.03.09.17.22.33;	author tg;	state Exp;
branches;
next	1.11;
commitid	10047D41CAA7E715397;

1.11
date	2007.04.03.19.42.11;	author tg;	state Exp;
branches;
next	1.10;
commitid	1004612AC977E789195;

1.10
date	2007.02.22.22.57.49;	author tg;	state Exp;
branches;
next	1.9;
commitid	10045DE1FF10F590776;

1.9
date	2006.11.04.04.24.46;	author tg;	state Exp;
branches;
next	1.8;
commitid	100454C160E3CAD00FB;

1.8
date	2006.11.03.22.01.59;	author tg;	state Exp;
branches;
next	1.7;
commitid	100454BBC6D77883420;

1.7
date	2006.09.14.00.08.53;	author tg;	state Exp;
branches;
next	1.6;
commitid	10045089C0E234154C3;

1.6
date	2006.02.09.09.35.48;	author tg;	state Exp;
branches;
next	1.5;
commitid	10043EB0C94610EDE76;

1.5
date	2005.12.28.16.37.57;	author tg;	state Exp;
branches;
next	1.4;
commitid	10043B2BF1E324176AE;

1.4
date	2005.10.02.12.01.52;	author tg;	state Exp;
branches;
next	1.3;
commitid	2251433fcc03dc8a;

1.3
date	2005.07.07.21.20.24;	author bsiegert;	state Exp;
branches;
next	1.2;
commitid	66bc42cd9a7ea714;

1.2
date	2005.03.25.23.13.59;	author bsiegert;	state Exp;
branches;
next	1.1;

1.1
date	2005.03.18.15.45.26;	author tg;	state Exp;
branches
	1.1.7.1;
next	;

1.1.7.1
date	2005.03.18.15.45.26;	author tg;	state Exp;
branches;
next	;


desc
@@


1.12
log
@bulk convert FLAVOR to FLAVOUR; nuke unused file; convert to $Mdocdate
@
text
@# $MirOS: ports/devel/sdl/Makefile,v 1.11 2007/04/03 19:42:11 tg Exp $
# $OpenBSD: Makefile,v 1.32 2004/04/23 12:09:18 robert Exp $
# Uses pthreads

COMMENT=		cross-platform multimedia library
VERSION=		1.2.9
DISTNAME=		SDL-${VERSION}
PKGNAME=		sdl-${VERSION}-4
CATEGORIES=		devel
HOMEPAGE=		http://www.libsdl.org/

# GNU LGPL
PERMIT_PACKAGE_CDROM=   Yes
PERMIT_PACKAGE_FTP=     Yes
PERMIT_DISTFILES_CDROM= Yes
PERMIT_DISTFILES_FTP=   Yes

MASTER_SITES=		${HOMEPAGE}release/ \
			http://www.devolution.com/~slouken/SDL/release/

.include <mirports.sys.mk>

CONFIGURE_STYLE=	autogen		# and ignore ${WRKSRC}/test for now
AUTOCONF_NEW=		Yes
AUTOMAKE_VERSION=	1.9
CONFIGURE_ENV+=		X11BASE="${X11BASE}"
.if ${MACHINE_OS} == "BSD"
CONFIGURE_ENV+=		ac_cv_header_usb_h=no
.endif
CONFIGURE_ARGS+=	${CONFIGURE_SHARED} \
			--enable-static \
			--disable-oss \
			--disable-alsa \
			--disable-ltdl \
			--enable-dlopen \
			--enable-pthread-sem

FLAVOURS=		sun esd aa no_x11
FLAVOUR?=		sun

.if ${MACHINE_ARCH} == "i386"
BUILD_DEPENDS+=		nasm::lang/nasm
CONFIGURE_ARGS+=	--enable-nasm
.else
CONFIGURE_ARGS+=	--disable-nasm
.endif

.if ${FLAVOUR:L:Msun}
CONFIGURE_ARGS+=	--enable-openbsdaudio
.else
CONFIGURE_ARGS+=	--disable-openbsdaudio
.endif

.if ${FLAVOUR:L:Mesd}
LIB_DEPENDS+=		esd::audio/esound
CONFIGURE_ARGS+=	--enable-esd
.else
CONFIGURE_ARGS+=	--disable-esd
.endif

CONFIGURE_ARGS+=	--disable-arts

.if ${FLAVOUR:L:Maa}
LIB_DEPENDS+=		aa::graphics/aalib
CONFIGURE_ARGS+=	--enable-video-aalib
.else
CONFIGURE_ARGS+=	--disable-video-aalib
.endif

.if ${FLAVOUR:L:Mno_x11}
CONFIGURE_ARGS+=	--without-x \
			--disable-video-x11
.else
USE_X11=		Yes
.endif

NO_REGRESS=		Yes

.include <bsd.port.mk>
@


1.11
log
@â€¢ remove ports that are simply broken, don't work, for too long, with no
  update or update-willing person in sight, kde stuff, web2.0 stuff that
  we don't want in ports (just stuff it into /var/www yourself, it isn't
  that difficult, right?), stuff for which no new version exists/will be
  and some obsd cruft; adjust dependencies
â€¢ no BUILD_DEPENDS+=RUN_DEPENDS or vice versa any more, *ever*
â€¢ fix some other stuff partially

ok bsiegert@@
@
text
@d1 1
a1 1
# $MirOS: ports/devel/sdl/Makefile,v 1.10 2007/02/22 22:57:49 tg Exp $
d38 2
a39 2
FLAVORS=		sun esd aa no_x11
FLAVOR?=		sun
d48 1
a48 1
.if ${FLAVOR:L:Msun}
d54 1
a54 1
.if ${FLAVOR:L:Mesd}
d63 1
a63 1
.if ${FLAVOR:L:Maa}
d70 1
a70 1
.if ${FLAVOR:L:Mno_x11}
@


1.10
log
@remove redundancy
@
text
@d1 1
a1 1
# $MirOS: ports/devel/sdl/Makefile,v 1.9 2006/11/04 04:24:46 tg Exp $
d38 1
a38 1
FLAVORS=		sun esd arts aa no_x11
a60 4
.if ${FLAVOR:L:Marts}
LIB_DEPENDS+=		artsc::x11/kde/arts3
CONFIGURE_ARGS+=	--enable-arts
.else
a61 1
.endif
@


1.9
log
@make this *not* find an eventually installed libusb from ports
because then it will neither pick up that nor libusbhid from BSD base
@
text
@d1 1
a1 1
# $MirOS: ports/devel/sdl/Makefile,v 1.8 2006/11/03 22:01:59 tg Exp $
a31 2
			--disable-dependency-tracking \
			--disable-libtool-lock \
@


1.8
log
@revisit some
@
text
@d1 1
a1 1
# $MirOS: ports/devel/sdl/Makefile,v 1.7 2006/09/14 00:08:53 tg Exp $
d8 1
a8 1
PKGNAME=		sdl-${VERSION}-3
d21 2
d27 3
a33 1
			--disable-joystick \
@


1.7
log
@clean up COMMENT and HOMEPAGE; regenerate INDEX (2761, 169 marked as broken, probably many many more) ­ edited by script with manual postprocessing
@
text
@d1 1
a1 1
# $MirOS: ports/devel/sdl/Makefile,v 1.6 2006/02/09 09:35:48 tg Exp $
d5 1
a5 1
COMMENT=			cross-platform multimedia library
d8 1
a8 1
PKGNAME=		sdl-${VERSION}-1
d26 4
d31 1
@


1.6
log
@remove SEPARATE_BUILD for once and for good, I'm fed up with
all the trouble it can cause - ports which need it (e.g. the
GCC SC doesnt "support" building gcc with srcdir=objdir) can
set stuff like WRKBUILD themselves.
@
text
@d1 1
a1 1
# $MirOS: ports/devel/sdl/Makefile,v 1.5 2005/12/28 16:37:57 tg Exp $
d5 1
a5 1
COMMENT=		"cross-platform multimedia library"
@


1.5
log
@sweep through the files:
* update to latest version
* update homepage and master sites
* fix indentation
* remove dependencies on GNU gettext
* convert to pkgconfig module
* properly escape autoconf macros
* fix build
* regenerate PLISTs
* bump package versions where needed
@
text
@d1 1
a1 1
# $MirOS: ports/devel/sdl/Makefile,v 1.4 2005/10/02 12:01:52 tg Exp $
a20 1
SEPARATE_BUILD=		concurrent
@


1.4
log
@* update to 1.2.9
* libtoolise PLIST
* autogen'ise
* remove useless caca flavour
* remove no_cxx flavour which didn't do anything anyway
@
text
@d1 1
a1 1
# $MirOS: ports/devel/sdl/Makefile,v 1.3 2005/07/07 21:20:24 bsiegert Exp $
d8 1
a8 1
PKGNAME=		sdl-${VERSION}-0
d49 1
a49 1
LIB_DEPENDS+=		esd.2::audio/esound
@


1.3
log
@Semi-automatic update of the remaining ports to the new patchlevel format.

Please correct mistakes if you find them :).
@
text
@d1 1
a1 1
# $MirOS$
d5 6
a10 6
COMMENT=	"cross-platform multimedia library"
VERSION=	1.2.7
DISTNAME=	SDL-${VERSION}
PKGNAME=	${DISTNAME:L}-0
CATEGORIES=	devel
HOMEPAGE=	http://www.libsdl.org/
d18 2
a19 4
MASTER_SITES=	${HOMEPAGE}release/ \
		http://www.devolution.com/~slouken/SDL/release/
MASTER_SITES0=	http://dev.beastie.hu/ \
		http://www.beastie.hu/
d22 1
a22 1
CONFIGURE_STYLE=	autoconf no-autoheader
d24 1
a24 1
MODGNU_CONFIG_GUESS_DIRS= ${WRKSRC} ${WRKSRC}/test
d32 2
a33 2
FLAVORS=	sun esd arts aa caca no_x11 no_cxx
FLAVOR?=	sun no_cxx
d36 2
a37 2
BUILD_DEPENDS=	nasm::lang/nasm
CONFIGURE_ARGS+= --enable-nasm
d39 1
a39 1
CONFIGURE_ARGS+= --disable-nasm
d43 1
a43 1
CONFIGURE_ARGS+= --enable-openbsdaudio
d45 1
a45 1
CONFIGURE_ARGS+= --disable-openbsdaudio
d49 2
a50 2
LIB_DEPENDS+=	esd.2::audio/esound
CONFIGURE_ARGS+= --enable-esd
d52 1
a52 1
CONFIGURE_ARGS+= --disable-esd
d56 2
a57 2
LIB_DEPENDS+=	artsc::x11/kde/arts3
CONFIGURE_ARGS+= --enable-arts
d59 1
a59 1
CONFIGURE_ARGS+= --disable-arts
d63 2
a64 2
LIB_DEPENDS+=	aa::graphics/aalib
CONFIGURE_ARGS+= --enable-video-aalib
d66 1
a66 9
CONFIGURE_ARGS+= --disable-video-aalib
.endif

.if ${FLAVOR:L:Mcaca}
BROKEN=		patch file is broken
PATCH_DIST_STRIP= -p1
PATCHFILES=	patch-libsd1.2.6-libcaca0.9.diff:0
LIB_DEPENDS+=	caca::graphics/libcaca
CONFIGURE_ARGS+= --enable-video-caca
d70 2
a71 7
CONFIGURE_ARGS+= --without-x \
		 --disable-video-x11
.else
USE_X11=	Yes
.endif

.if ${FLAVOR:L:Mno_cxx}
d73 1
a73 1
USE_CXX=	Yes
d76 1
a76 1
NO_REGRESS=	Yes
@


1.2
log
@Mass-update dependencies to cope with port renames. Mostly done in the train
home from Strasbourg.
@
text
@d8 1
a8 1
PKGNAME=	${DISTNAME:L}
@


1.1
log
@Initial revision
@
text
@d38 1
a38 1
BUILD_DEPENDS=	nasm::devel/nasm
@


1.1.7.1
log
@Import the MirPorts Framework, many files moved or renamed though, no KDE/QT
@
text
@@
