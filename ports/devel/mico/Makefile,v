head	1.8;
access;
symbols;
locks; strict;
comment	@# @;


1.8
date	2008.08.20.18.15.33;	author tg;	state Exp;
branches;
next	1.7;
commitid	10048AC5F57415DBF36;

1.7
date	2008.08.12.15.23.51;	author tg;	state Exp;
branches;
next	1.6;
commitid	10048A1AB0F47AF000F;

1.6
date	2008.05.07.22.47.58;	author tg;	state Exp;
branches;
next	1.5;
commitid	100482231C374D9CA0B;

1.5
date	2008.03.09.17.22.31;	author tg;	state Exp;
branches;
next	1.4;
commitid	10047D41CAA7E715397;

1.4
date	2007.04.03.19.42.11;	author tg;	state Exp;
branches;
next	1.3;
commitid	1004612AC977E789195;

1.3
date	2006.09.14.00.08.26;	author tg;	state Exp;
branches;
next	1.2;
commitid	10045089C0E234154C3;

1.2
date	2006.02.09.13.25.13;	author tg;	state Exp;
branches;
next	1.1;
commitid	10043EB42A37BAB7F96;

1.1
date	2005.03.18.15.44.58;	author tg;	state Exp;
branches
	1.1.7.1;
next	;

1.1.7.1
date	2005.03.18.15.44.58;	author tg;	state Exp;
branches;
next	;


desc
@@


1.8
log
@UNTESTED: move mico crap ${PREFIX}/doc to ${PREFIX}/share/doc
@
text
@# $MirOS: ports/devel/mico/Makefile,v 1.7 2008/08/12 15:23:51 tg Exp $
# $OpenBSD: Makefile,v 1.4 2002/10/25 22:37:52 naddy Exp $

COMMENT=		free and complete CORBA-compliant implementation
DISTNAME=		mico-2.3.12
DASH_VER=		1
CATEGORIES=		devel
HOMEPAGE=		http://www.mico.org/
MASTER_SITES=		${HOMEPAGE}

PERMIT_PACKAGE_CDROM=	Yes
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes

USE_CXX=		Yes
USE_GMAKE=		Yes
CONFIGURE_STYLE=	autoconf

FAKE_FLAGS=		prefix=${WRKINST:Q}${PREFIX:Q}
WRKDIST=        	${WRKDIR}/mico
NO_REGRESS=		Yes

FLAVOURS=		gtk tcl
FLAVOUR?=

CONFIGURE_ARGS+=	--with-ssl

.if ${FLAVOUR:L:Mgtk}
.  error PFRAG.gtk probably needed
LIB_DEPENDS+=		gtk.1.2::x11/gtk+
CONFIGURE_ARGS+=	--with-gtk
USE_X11=		Yes
.else
CONFIGURE_ARGS+=	--without-x
.endif

.if ${FLAVOUR:L:Mtcl}
LIB_DEPENDS+=		tcl.8::lang/tcl
CONFIGURE_ARGS+=	--with-tcl
USE_X11=		Yes
.endif

post-install:
	cd ${PREFIX}/doc; pax -rwl -pe . ${PREFIX}/share/doc/
	rm -rf ${PREFIX}/doc

.include <bsd.port.mk>
@


1.7
log
@update and apply security fix
XXX their build system sucks dead whales through straws
@
text
@d1 1
a1 1
# $MirOS$
d6 1
d44 4
@


1.6
log
@â€¢ replace MODGNU_CONFIG_GUESS_DIRS with MODGNU_RECURSE_DIRS
â€¢ always place ${WRKSRC} itself at the end of MODGNU_RECURSE_DIRS due to
  recursion issues inside of autoconf itself
â€¢ if MODGNU_RECURSE_DIRS=${WRKSRC} stood in the Makefile, nuke it (default)
â€¢ remove dead reference to MODGNU_TWIDDLE_DIRS
@
text
@d1 1
d5 1
a5 1
DISTNAME=		mico-2.3.6
d17 1
a17 1
CONFIGURE_STYLE=	gnu
d19 1
a19 3
MODGNU_RECURSE_DIRS=	${WRKSRC}/admin ${WRKSRC}

FAKE_FLAGS=		prefix="${WRKINST}${PREFIX}"
d23 1
a23 1
FLAVOURS=		ssl gtk tcl
a25 1
.if ${FLAVOUR:L:Mssl}
a26 1
.endif
d29 1
d33 2
@


1.5
log
@bulk convert FLAVOR to FLAVOUR; nuke unused file; convert to $Mdocdate
@
text
@d18 1
a18 1
MODGNU_CONFIG_GUESS_DIRS= ${WRKSRC} ${WRKSRC}/admin
@


1.4
log
@â€¢ remove ports that are simply broken, don't work, for too long, with no
  update or update-willing person in sight, kde stuff, web2.0 stuff that
  we don't want in ports (just stuff it into /var/www yourself, it isn't
  that difficult, right?), stuff for which no new version exists/will be
  and some obsd cruft; adjust dependencies
â€¢ no BUILD_DEPENDS+=RUN_DEPENDS or vice versa any more, *ever*
â€¢ fix some other stuff partially

ok bsiegert@@
@
text
@d24 2
a25 2
FLAVORS=		ssl gtk tcl
FLAVOR?=
d27 1
a27 1
.if ${FLAVOR:L:Mssl}
d31 1
a31 1
.if ${FLAVOR:L:Mgtk}
d37 1
a37 1
.if ${FLAVOR:L:Mtcl}
@


1.3
log
@clean up COMMENT and HOMEPAGE; regenerate INDEX (2761, 169 marked as broken, probably many many more) ­ edited by script with manual postprocessing
@
text
@d3 5
a7 8
COMMENT=			free and complete CORBA-compliant implementation

DISTNAME=	mico-2.3.6
CATEGORIES=	devel

HOMEPAGE=	http://www.mico.org/
MASTER_SITES=	${HOMEPAGE}

d24 1
a24 1
FLAVORS=ssl qt gtk tcl
a30 6
.if ${FLAVOR:L:Mqt}
BROKEN=			no QT2 in tree
LIB_DEPENDS+=		qt.2::x11/qt2
CONFIGURE_ARGS+=	--with-qt
.endif

d34 1
d40 1
@


1.2
log
@regenerate INDEX just to show it's still possible
2755 unzels (178 marked as broken)

I expect another 500 or so to be broken in reality, though.
@
text
@d3 1
a3 1
COMMENT=	"free and complete CORBA-compliant implementation"
@


1.1
log
@Initial revision
@
text
@d35 1
@


1.1.7.1
log
@Import the MirPorts Framework, many files moved or renamed though, no KDE/QT
@
text
@@
