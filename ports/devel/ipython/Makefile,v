head	1.3;
access;
symbols;
locks; strict;
comment	@# @;


1.3
date	2010.09.29.20.11.24;	author tg;	state Exp;
branches;
next	1.2;
commitid	1004CA39D8324CE34AD;

1.2
date	2008.08.26.16.35.29;	author tg;	state Exp;
branches;
next	1.1;
commitid	10048B430E27C5CC9C1;

1.1
date	2008.08.12.08.40.09;	author tg;	state Exp;
branches;
next	;
commitid	10048A14C720CFDA07C;


desc
@@


1.3
log
@upgrade
@
text
@# $MirOS: ports/devel/ipython/Makefile,v 1.2 2008/08/26 16:35:29 tg Exp $

COMMENT=		enhanced interactive Python shell
MODPY_EGG_VERSION=	0.10
DISTNAME=		ipython-${MODPY_EGG_VERSION}
CATEGORIES=		devel
HOMEPAGE=		http://ipython.scipy.org/moin/
MODULES=		lang/python

# BSD
PERMIT_PACKAGE_CDROM=	Yes
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes

MASTER_SITES=		http://ipython.scipy.org/dist/${MODPY_EGG_VERSION}/

# The file COPYING is actually missing from the distfile (although
# docs contains license_and_copyright.html), and the Debian guys
# as usual went anal and documented even the files NOT under BSDLâ€¦
SVN_DISTDIR1=		-
SVN_DISTFILE1=		ipython-debian-copyright
SVN_DISTPATH1=		svn://svn.debian.org/python-modules/packages/ipython/tags/0.10-2/debian/copyright
SVN_DISTREV1=		12743

NO_REGRESS=		Yes

post-install:
	mv ${PREFIX}/share/doc/ipython/examples ${PREFIX}/share/examples/ipython
	${INSTALL_DATA} ${WRKSRC}/docs/emacs/ipython.el \
	    ${PREFIX}/share/examples/ipython/
	mv ${PREFIX}/share/doc/ipython/manual/* ${PREFIX}/share/doc/ipython/
	rmdir ${PREFIX}/share/doc/ipython/manual
	${INSTALL_DATA} ${WRKDIR}/${SVN_DISTFILE1}-r${SVN_DISTREV1} \
	    ${PREFIX}/share/doc/ipython/COPYING
	gzip -d ${PREFIX}/share/man/man1/*.gz
	mv ${PREFIX}/share/man/man1/* ${PREFIX}/man/man1/
	find -d ${PREFIX}/share/man -type d | xargs rmdir

.include <bsd.port.mk>
@


1.2
log
@fix homepage (javascript redirection)
@
text
@d1 1
a1 2
# $MirOS: ports/devel/ipython/Makefile,v 1.1 2008/08/12 08:40:09 tg Exp $
# $OpenBSD: Makefile,v 1.10 2008/06/03 23:30:28 wcmaier Exp $
d4 1
a4 1
MODPY_EGG_VERSION=	0.8.4
d16 9
a24 1
MASTER_SITES=		http://ipython.scipy.org/dist/
a27 8
RUN_DEPENDS=		::devel/py-pexpect

DOC_DIR=		${PREFIX}/share/doc/ipython
EXAMPLE_DIR=		${PREFIX}/share/examples/ipython

post-extract:
	@@cd ${WRKSRC}/doc && gunzip *.1.gz

d29 10
a38 6
	${INSTALL_MAN} ${WRKSRC}/doc/*.1 ${PREFIX}/man/man1
	${INSTALL_DATA_DIR} ${DOC_DIR}
	${INSTALL_DATA_DIR} ${EXAMPLE_DIR}
	@@cd ${WRKSRC}/doc/manual && pax -rw . ${DOC_DIR}
	${INSTALL_DATA} ${WRKSRC}/doc/examples/* ${EXAMPLE_DIR}
	${INSTALL_DATA} ${WRKSRC}/doc/ipython.el ${EXAMPLE_DIR}
@


1.1
log
@another mostly unmodified openbsd port
@
text
@d1 1
a1 1
# $MirOS$
d8 1
a8 1
HOMEPAGE=		http://ipython.scipy.org/
@

