head	1.7;
access;
symbols;
locks; strict;
comment	@# @;


1.7
date	2008.08.16.21.48.15;	author tg;	state Exp;
branches;
next	1.6;
commitid	10048A74B325BA2B4D8;

1.6
date	2006.09.14.00.08.04;	author tg;	state Exp;
branches;
next	1.5;
commitid	10045089C0E234154C3;

1.5
date	2006.03.23.22.50.42;	author tg;	state Exp;
branches;
next	1.4;
commitid	1004423264F3CA2B664;

1.4
date	2006.03.06.23.17.45;	author tg;	state Exp;
branches;
next	1.3;
commitid	100440CC30F47B98B2F;

1.3
date	2005.10.03.11.05.17;	author tg;	state Exp;
branches;
next	1.2;
commitid	c524341104e3fe6;

1.2
date	2005.07.07.21.18.55;	author bsiegert;	state Exp;
branches;
next	1.1;
commitid	66bc42cd9a7ea714;

1.1
date	2005.03.18.15.44.28;	author tg;	state Exp;
branches
	1.1.7.1;
next	;

1.1.7.1
date	2005.03.18.15.44.28;	author tg;	state Exp;
branches;
next	;


desc
@@


1.7
log
@modernise (turns out I don't need to patch)
@
text
@# $MirOS: ports/devel/automake/1.4/Makefile,v 1.6 2006/09/14 00:08:04 tg Exp $
# $OpenBSD: Makefile,v 1.27 2002/11/27 07:50:28 ish Exp $

COMMENT=		GNU Standards-compliant Makefile generator
VERSION=		1.4-p6
DASH_VER=		5
DISTNAME=		automake-${VERSION}
MPVERSION=		${VERSION:S/-//}-MirPorts-${DASH_VER}
PKGNAME=		automake-${VERSION:S/-//}-${DASH_VER}
SUFFIX=			-1.4
CATEGORIES=		devel
MASTER_SITES=		${MASTER_SITE_GNU:=automake/}
HOMEPAGE=		http://www.gnu.org/software/automake/

# GNU GPL
PERMIT_PACKAGE_CDROM=	Yes
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes

CONFIGURE_STYLE=	gnu
SUBST_VARS+=		SUFFIX

RUN_DEPENDS=		:metaauto->=0.2:devel/metaauto
REGRESS_DEPENDS=	:gmake-*:devel/gmake

do-regress:
	cd ${WRKBUILD} && exec ${SETENV} ${MAKE_ENV} MAKE=gmake gmake -f \
	    ${MAKE_FILE} ${REGRESS_FLAGS} ${REGRESS_TARGET}

post-build:
.for _f in aclocal automake
	print '%g/@@MPVERSION@@/s//${MPVERSION}/g\nwq' | ed -s ${WRKSRC}/${_f}
.endfor

post-install:
	cd ${PREFIX}/info && mv automake.info automake${SUFFIX}.info
	-rm -f ${PREFIX}/bin/{aclocal,automake}

.include <bsd.port.mk>
@


1.6
log
@clean up COMMENT and HOMEPAGE; regenerate INDEX (2761, 169 marked as broken, probably many many more) ­ edited by script with manual postprocessing
@
text
@d1 1
a1 1
# $MirOS: ports/devel/automake/1.4/Makefile,v 1.5 2006/03/23 22:50:42 tg Exp $
d4 6
a9 4
COMMENT=			GNU Standards-compliant Makefile generator
DISTNAME=		automake-1.4-p6
MPVERSION=		1.4p6-MirPorts-5
PKGNAME=		automake-${MPVERSION:S/-MirPorts-/-/}
@


1.5
log
@add -D_ASM_SOURCE to CCAS-based compiles
@
text
@d1 1
a1 1
# $MirOS: ports/devel/automake/1.4/Makefile,v 1.4 2006/03/06 23:17:45 tg Exp $
d4 1
a4 1
COMMENT=		"GNU Standards-compliant Makefile generator"
@


1.4
log
@* Makefile, patch-aclocal_in, patch-automake_in: branding
* Makefile: bump patchlevel
* patch-libs_am: fix the $(RANLIB) permissions problem
@
text
@d1 1
a1 1
# $MirOS: ports/devel/automake/1.4/Makefile,v 1.3 2005/10/03 11:05:17 tg Exp $
d6 1
a6 1
MPVERSION=		1.4p6-MirPorts-4
@


1.3
log
@* 1.4-p6 => 1.4p6 by suggestion of bsiegert@@ ("version numbers
  do not contain dashes" - I tend to disagree, but I need to
  match our current implementation)
* while here, indent more properly
@
text
@d1 1
a1 1
# $MirOS: ports/devel/automake/1.4/Makefile,v 1.2 2005/07/07 21:18:55 bsiegert Exp $
d6 2
a7 1
PKGNAME=		automake-1.4p6-3
a19 2
MAKE_FLAGS=		MAKEINFO="makeinfo --no-split"
FAKE_FLAGS=		${MAKE_FLAGS} ${DESTDIRNAME}="${WRKINST}"
d29 5
@


1.2
log
@Semi-automatic update of the remaining ports to the new patchlevel format.

Please correct mistakes if you find them :).
@
text
@d1 1
a1 1
# $MirOS$
d4 7
a10 7
COMMENT=	"GNU Standards-compliant Makefile generator"
DISTNAME=	automake-1.4-p6
PKGNAME=	${DISTNAME}-3
SUFFIX=		-1.4
CATEGORIES=	devel
MASTER_SITES=	${MASTER_SITE_GNU:=automake/}
HOMEPAGE=	http://www.gnu.org/software/automake/
d18 4
a21 4
CONFIGURE_STYLE=gnu
MAKE_FLAGS=	MAKEINFO="makeinfo --no-split"
FAKE_FLAGS=	${MAKE_FLAGS} ${DESTDIRNAME}="${WRKINST}"
SUBST_VARS+=	SUFFIX
d23 2
a24 2
RUN_DEPENDS=	:metaauto->=0.2:devel/metaauto
REGRESS_DEPENDS=:gmake-*:devel/gmake
@


1.1
log
@Initial revision
@
text
@d6 1
a6 1
PKGNAME=	${DISTNAME}p3
@


1.1.7.1
log
@Import the MirPorts Framework, many files moved or renamed though, no KDE/QT
@
text
@@
