head	1.19;
access;
symbols;
locks; strict;
comment	@# @;


1.19
date	2019.05.16.20.09.27;	author tg;	state Exp;
branches;
next	1.18;
commitid	1005CDDC38D0C7339EE;

1.18
date	2018.12.20.04.17.33;	author tg;	state Exp;
branches;
next	1.17;
commitid	1005C1B17F220F5AB4F;

1.17
date	2017.07.31.17.43.33;	author tg;	state Exp;
branches;
next	1.16;
commitid	100597F6C5B72E908A3;

1.16
date	2017.03.09.15.06.34;	author tg;	state Exp;
branches;
next	1.15;
commitid	10058C16F8E4CD06BDE;

1.15
date	2016.02.08.19.17.47;	author tg;	state Exp;
branches;
next	1.14;
commitid	10056B8E9EE581D9C16;

1.14
date	2014.03.29.22.58.41;	author tg;	state Exp;
branches;
next	1.13;
commitid	10053374FF50605FFBB;

1.13
date	2013.01.06.01.17.11;	author tg;	state Exp;
branches;
next	1.12;
commitid	10050E8D0A61C032819;

1.12
date	2012.05.30.19.12.07;	author tg;	state Exp;
branches;
next	1.11;
commitid	1004FC670F877FE2A37;

1.11
date	2011.09.03.16.39.09;	author tg;	state Exp;
branches;
next	1.10;
commitid	1004E62583A515487C3;

1.10
date	2011.03.30.10.16.12;	author tg;	state Exp;
branches;
next	1.9;
commitid	1004D930301165450F5;

1.9
date	2010.12.12.16.17.29;	author tg;	state Exp;
branches;
next	1.8;
commitid	1004D04F58606E45CA6;

1.8
date	2010.07.22.15.10.11;	author tg;	state Exp;
branches;
next	1.7;
commitid	1004C485EB7168C4697;

1.7
date	2009.11.15.01.33.37;	author tg;	state Exp;
branches;
next	1.6;
commitid	1004AFF5A875A0BEADD;

1.6
date	2009.05.17.16.10.05;	author tg;	state Exp;
branches;
next	1.5;
commitid	1004A1036D671D8147D;

1.5
date	2008.12.07.18.57.57;	author tg;	state Exp;
branches;
next	1.4;
commitid	100493C1C934A10FB73;

1.4
date	2008.11.14.11.25.11;	author tg;	state Exp;
branches;
next	1.3;
commitid	100491D602E53C64FA7;

1.3
date	2008.08.26.19.16.43;	author tg;	state Exp;
branches;
next	1.2;
commitid	10048B456B146140B04;

1.2
date	2008.04.05.18.12.44;	author tg;	state Exp;
branches;
next	1.1;
commitid	10047F7C12860064856;

1.1
date	2008.02.24.10.53.40;	author tg;	state Exp;
branches;
next	;
commitid	10047C14CC36D827E7E;


desc
@@


1.19
log
@refresh
@
text
@# $MirOS: ports/essentials/ca-certificates/Makefile,v 1.14 2014/03/29 22:58:41 tg Exp $

COMMENT=		X.509v3 Root CA bundle (collection of CA certificates)
CATEGORIES=		essentials security
MCZ_FETCH=		Yes
CVS_DISTREPO=		${_MIROS_ANONCVS}
CVS_DISTDATE=		2019/05/16 20:00
CVS_DISTMODS=		src/etc/ssl.{certs,links}.shar
CVS_DISTFILE=		ca-certificates
RESPONSIBLE=		Thorsten Glaser <tg@@mirbsd.org>
HOMEPAGE=		http://MirBSD.de/

# copyright law not applicable
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
PERMIT_PACKAGE_CDROM=	Yes
PERMIT_PACKAGE_FTP=	Yes

WRKDIST=		${WRKDIR}/src/etc

do-build:
	cd ${WRKSRC:Q} && \
	    rm -rf build && \
	    mkdir -p build && \
	    cd build && \
	    ${MKSH} ../ssl.certs.shar && \
	    cat * >../pkbundle.pem
	cd ${WRKSRC:Q} && \
	    fgrep -h '$$Mir''OS:' ssl.*.shar >-VERSION

do-install:
	${INSTALL_DATA_DIR} ${PREFIX:Q}/share/ca-certificates
	${INSTALL_DATA} ${WRKSRC:Q}/{-VERSION,*.pem,build/*} \
	    ${.CURDIR:Q}/keystore.{gcj,jks} \
	    ${PREFIX:Q}/share/ca-certificates/
	cd ${PREFIX:Q}/share/ca-certificates && \
	    ${MKSH} ${WRKSRC:Q}/ssl.links.shar

.include <bsd.port.mk>
@


1.18
log
@refresh
@
text
@d7 1
a7 1
CVS_DISTDATE=		2018/12/20 04:00
@


1.17
log
@sync
@
text
@d7 1
a7 1
CVS_DISTDATE=		2017/07/31 17:40
@


1.16
log
@sync
@
text
@d7 1
a7 1
CVS_DISTDATE=		2017/03/09 15:00
@


1.15
log
@update (part 2)
@
text
@d7 1
a7 1
CVS_DISTDATE=		2016/02/08 18:00
@


1.14
log
@• regenerate
• use upstream NSS trust values if possible, backported to our version
• remove certdata.c as announced
• note gkeytool-4.4 chokes on one more cert
@
text
@d1 1
a1 1
# $MirOS: ports/essentials/ca-certificates/Makefile,v 1.13 2013/01/06 01:17:11 tg Exp $
d7 1
a7 1
CVS_DISTDATE=		2014/03/29 21:00
@


1.13
log
@bump
@
text
@d1 1
a1 1
# $MirOS: ports/essentials/ca-certificates/Makefile,v 1.12 2012/05/30 19:12:07 tg Exp $
d7 2
a8 2
CVS_DISTDATE=		2013/01/06 01:00
CVS_DISTMODS=		src/etc/ssl.certs.shar
d29 1
a29 1
	    fgrep '$$Mir''OS:' ssl.certs.shar >-VERSION
d36 2
a37 3
	cd ${PREFIX}/share/ca-certificates && while read s d; do \
		ln "$$s" "$$d"; \
	done <${.CURDIR:Q}/certhash.lnk
@


1.12
log
@refresh JKS and NSSCKBI; add GCJ; enact OpenSSL 1.x compat hardlinks;
pimp DESCR
@
text
@d1 1
a1 1
# $MirOS: ports/essentials/ca-certificates/Makefile,v 1.11 2011/09/03 16:39:09 tg Exp $
d7 1
a7 1
CVS_DISTDATE=		2012/05/30 18:00
@


1.11
log
@sync X.509v3 certificate bundles
@
text
@d1 1
a1 1
# $MirOS: ports/essentials/ca-certificates/Makefile,v 1.10 2011/03/30 10:16:12 tg Exp $
d7 1
a7 1
CVS_DISTDATE=		2011/09/03
d22 1
a22 1
	cd ${WRKSRC} && \
d28 1
a28 1
	cd ${WRKSRC} && \
d32 7
a38 4
	${INSTALL_DATA_DIR} ${PREFIX}/share/ca-certificates
	${INSTALL_DATA} ${WRKSRC}/{-VERSION,*.pem,build/*} \
	    ${.CURDIR}/keystore.jks \
	    ${PREFIX}/share/ca-certificates/
@


1.10
log
@part 2 of 4 updating the CA bundle
@
text
@d1 1
a1 1
# $MirOS: ports/essentials/ca-certificates/Makefile,v 1.9 2010/12/12 16:17:29 tg Exp $
d7 1
a7 1
CVS_DISTDATE=		2011/03/30 10:00
@


1.9
log
@update from MirBSD sources, new keytool can do ECC too, sync notes
also put certdata.{txt,c} here for easier access
@
text
@d1 1
a1 1
# $MirOS: ports/essentials/ca-certificates/Makefile,v 1.8 2010/07/22 15:10:11 tg Exp $
d7 1
a7 1
CVS_DISTDATE=		2010/12/12
@


1.8
log
@• update ca-certificates port with latest data
• update nsckbi in both nss (for package nss) and firesomething (for
  package nssckbi); if nss would create a subpackage nssckbi like
  firesomething does at the moment, and firesomething were to depend
  on nss and nssckbi instead of bringing their own¹, things would be
  MUCH better as it takes about 2 minutes per certdata.txt and 3-4
  minutes per certdata.c file to commit this

① maybe just build firesomething with its own nss and nssckbi but
  don’t include it in the binary package, rather use symlinks to
  the mirpackage for nss and nssckbi? or just depend on the extracted
  nss/nssckbi source tree (there’s at least one package that extracts
  jpeg and IIRC png during build in ports, so there’s precedent)

Benny, please consider cleaning up this situation.
@
text
@d1 1
a1 1
# $MirOS: ports/essentials/ca-certificates/Makefile,v 1.7 2009/11/15 01:33:37 tg Exp $
d3 1
a3 1
COMMENT=		X.509 CA certificate collection
d7 1
a7 1
CVS_DISTDATE=		2010/07/22 14:00
@


1.7
log
@update
@
text
@d1 1
a1 1
# $MirOS: ports/essentials/ca-certificates/Makefile,v 1.6 2009/05/17 16:10:05 tg Exp $
d7 1
a7 1
CVS_DISTDATE=		2009/11/15
@


1.6
log
@• sync with MirOS base SSL certificate bunch
• ca-certificates: also provide a bundle PEM file, e.g. for GnuTLSuckers
@
text
@d1 1
a1 1
# $MirOS: ports/essentials/ca-certificates/Makefile,v 1.5 2008/12/07 18:57:57 tg Exp $
d7 1
a7 1
CVS_DISTDATE=		2009/05/17 15:00
@


1.5
log
@switch all CVS_DISTF (and svn) to MCZ_FETCH=Yes except these
which already were or these which are broken anyway (net/bind)
to make them IS_INTERACTIVE=No and thus suitable for bulk builds

agreed bsiegert@@
@
text
@d1 1
a1 1
# $MirOS: ports/essentials/ca-certificates/Makefile,v 1.4 2008/11/14 11:25:11 tg Exp $
d7 1
a7 1
CVS_DISTDATE=		2008/11/14
d23 7
a29 2
	    ${MKSH} ssl.certs.shar && \
	    fgrep '$Mir''OS:' ssl.certs.shar >-VERSION
d33 1
a33 1
	${INSTALL_DATA} ${WRKSRC}/{-VERSION,*.+([0-9])} \
@


1.4
log
@update/sync
@
text
@d1 1
a1 1
# $MirOS: ports/essentials/ca-certificates/Makefile,v 1.3 2008/08/26 19:16:43 tg Exp $
d5 1
@


1.3
log
@update
@
text
@d1 1
a1 1
# $MirOS: ports/essentials/ca-certificates/Makefile,v 1.2 2008/04/05 18:12:44 tg Exp $
d6 1
a6 1
CVS_DISTDATE=		2008/08/26
d9 1
a9 1
RESPONSIBLE=		Thorsten Glaser <tg@@mirbsd.de>
d28 1
@


1.2
log
@update; add VERSION file
@
text
@d1 1
a1 1
# $MirOS: ports/essentials/ca-certificates/Makefile,v 1.1 2008/02/24 10:53:40 tg Exp $
d6 1
a6 1
CVS_DISTDATE=		2008/04/06
@


1.1
log
@new port, requested by bsiegert@@
@
text
@d1 1
a1 1
# $MirOS$
d6 1
a6 1
CVS_DISTDATE=		2008/02/23
d21 3
a23 1
	cd ${WRKSRC} && ${MKSH} ssl.certs.shar
d27 2
a28 1
	${INSTALL_DATA} ${WRKSRC}/*.+([0-9]) ${PREFIX}/share/ca-certificates/
@

