head	1.29;
access;
symbols;
locks; strict;
comment	@# @;


1.29
date	2011.08.18.21.48.20;	author tg;	state Exp;
branches;
next	1.28;
commitid	1004E4D88AC7901FC33;

1.28
date	2009.12.04.20.56.24;	author tg;	state Exp;
branches;
next	1.27;
commitid	1004B197789363AA2FE;

1.27
date	2009.11.22.21.41.54;	author tg;	state Exp;
branches;
next	1.26;
commitid	1004B09B0363926BEEF;

1.26
date	2009.08.29.14.56.56;	author tg;	state Exp;
branches;
next	1.25;
commitid	1004A9941CF0AA43B45;

1.25
date	2009.06.29.19.36.16;	author tg;	state Exp;
branches;
next	1.24;
commitid	1004A4917C152027FF4;

1.24
date	2008.03.14.17.17.26;	author tg;	state Exp;
branches;
next	1.23;
commitid	10047DAB32E4CACA5E7;

1.23
date	2008.03.13.00.31.02;	author tg;	state Exp;
branches;
next	1.22;
commitid	10047D8759858E7F349;

1.22
date	2008.03.09.16.57.32;	author tg;	state Exp;
branches;
next	1.21;
commitid	10047D417091CA9BB3F;

1.21
date	2008.03.09.16.42.42;	author tg;	state Exp;
branches;
next	1.20;
commitid	10047D4138B2CD6605D;

1.20
date	2008.02.10.11.38.43;	author bsiegert;	state Exp;
branches;
next	1.19;
commitid	10047AEE25B00025244;

1.19
date	2006.12.28.02.33.15;	author tg;	state Exp;
branches;
next	1.18;
commitid	10045932CC873429731;

1.18
date	2006.11.07.00.32.03;	author tg;	state Exp;
branches;
next	1.17;
commitid	100454FD40704D12538;

1.17
date	2006.10.13.17.09.20;	author tg;	state Exp;
branches;
next	1.16;
commitid	100452FC7FA2E1D2241;

1.16
date	2006.09.14.00.09.16;	author tg;	state Exp;
branches;
next	1.15;
commitid	10045089C0E234154C3;

1.15
date	2006.08.26.16.51.33;	author tg;	state Exp;
branches;
next	1.14;
commitid	10044F07C1C20DBFE87;

1.14
date	2006.06.23.15.30.14;	author tg;	state Exp;
branches;
next	1.13;
commitid	100449C091C17C986CE;

1.13
date	2006.05.27.19.54.01;	author tg;	state Exp;
branches;
next	1.12;
commitid	1004478AE686EE21B1E;

1.12
date	2006.05.26.22.08.55;	author tg;	state Exp;
branches;
next	1.11;
commitid	10044777C824FD6F425;

1.11
date	2006.01.01.02.46.00;	author tg;	state Exp;
branches;
next	1.10;
commitid	10043B742786BBA895F;

1.10
date	2005.11.16.17.20.24;	author tg;	state Exp;
branches;
next	1.9;
commitid	7cac437b6a60b4c4;

1.9
date	2005.11.16.16.37.36;	author tg;	state Exp;
branches;
next	1.8;
commitid	4af8437b6053f224;

1.8
date	2005.11.10.20.12.33;	author tg;	state Exp;
branches;
next	1.7;
commitid	1fd14373a9c5de5b;

1.7
date	2005.09.12.22.45.37;	author tg;	state Exp;
branches;
next	1.6;
commitid	17fe43260515b9d1;

1.6
date	2005.09.06.16.22.26;	author bsiegert;	state Exp;
branches;
next	1.5;
commitid	5094431dc2497148;

1.5
date	2005.09.02.13.57.08;	author bsiegert;	state Exp;
branches;
next	1.4;
commitid	257043185a42d0f5;

1.4
date	2005.08.21.11.48.47;	author tg;	state Exp;
branches;
next	1.3;
commitid	3af74308676450c3;

1.3
date	2005.05.21.01.57.33;	author tg;	state Exp;
branches;
next	1.2;
commitid	1452428e95920e5c;

1.2
date	2005.04.12.21.10.57;	author tg;	state Exp;
branches;
next	1.1;

1.1
date	2005.04.12.21.07.00;	author tg;	state Exp;
branches;
next	;


desc
@@


1.29
log
@I hÌ²aÌ²tÌ²eÌ² it when /bin/* and /usr/mpkg/bin/* disagree and the latter precedes in $PATHâ€¦
@
text
@# $MirOS: ports/essentials/cksum/Makefile,v 1.28 2009/12/04 20:56:24 tg Exp $

COMMENT=		MirOS cksum(1) with multiple hash algorithms
CATEGORIES=		essentials
DISTNAME=		mircksum-20110818
PKGNAME=		${DISTNAME:S/^mir//}-${DASH_VER}
EXTRACT_SUFX=		.cpio.gz
#HOMEPAGE=		http://www.mirbsd.org/mircksum.htm
RESPONSIBLE=		Thorsten Glaser <tg@@mirbsd.org>
MASTER_SITES=		${_MASTER_SITE_MIRBSD:distfiles/=dist/mir/cksum/}

# BSD, ISC, MirOS
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
PERMIT_PACKAGE_CDROM=	Yes
PERMIT_PACKAGE_FTP=	Yes

.include <mirports.sys.mk>

WRKDIST=		${WRKDIR}/cksum

BUILD_DEPENDS+=		:mirmake->=20091122:devel/mirmake

post-install:
	cd ${PREFIX}/bin && ${MAKE} -f ${WRKSRC}/Makefile algos

.include <bsd.port.mk>

_CIPHERS+=		cksum
@


1.28
log
@donâ€™t conflict with binutils
@
text
@d1 1
a1 1
# $MirOS: ports/essentials/cksum/Makefile,v 1.27 2009/11/22 21:41:54 tg Exp $
d5 1
a5 2
DISTNAME=		mircksum-20091122
DASH_VER=		1
@


1.27
log
@upgrade
@
text
@d1 1
a1 1
# $MirOS: ports/essentials/cksum/Makefile,v 1.26 2009/08/29 14:56:56 tg Exp $
d6 1
@


1.26
log
@update
@
text
@d1 1
a1 1
# $MirOS: ports/essentials/cksum/Makefile,v 1.25 2009/06/29 19:36:16 tg Exp $
d5 3
a7 2
DISTNAME=		cksum-20090829
EXTRACT_SUFX=		.cgz
d22 1
a22 1
BUILD_DEPENDS+=		:mirmake->=20080309:devel/mirmake
@


1.25
log
@update, new cool tool ;)
@
text
@d1 1
a1 1
# $MirOS: ports/essentials/cksum/Makefile,v 1.24 2008/03/14 17:17:26 tg Exp $
d5 1
a5 1
DISTNAME=		cksum-20090629
@


1.24
log
@re-roll the four distfiles, for the .Dd manpage change, sorry
@
text
@d1 1
a1 1
# $MirOS: ports/essentials/cksum/Makefile,v 1.23 2008/03/13 00:31:02 tg Exp $
d5 1
a5 1
DISTNAME=		cksum-20080314
d8 1
a8 1
RESPONSIBLE=		Thorsten Glaser <tg@@mirbsd.de>
d23 3
@


1.23
log
@new cksum mostly due to the manpage change: the manpages used the .Mx macro
which is non-standard _and_ in use by both MirBSD and MidnightBSD

itâ€™s only allowed to use .Mx in a portable MirSubproject if we prepend the
new contrib/samples/portmdoc,v file (which also defines $Mdocdate etc.)
@
text
@d1 1
a1 1
# $MirOS: ports/essentials/cksum/Makefile,v 1.22 2008/03/09 16:57:32 tg Exp $
d5 1
a5 1
DISTNAME=		cksum-20080312
@


1.22
log
@remove commented-out line which is indeed no longer needed

10x gecko2@@
@
text
@d1 1
a1 1
# $MirOS: ports/essentials/cksum/Makefile,v 1.21 2008/03/09 16:42:42 tg Exp $
d5 1
a5 1
DISTNAME=		cksum-20080309
@


1.21
log
@upgrade mirmake and mircksum, part 1 â†’ on MirOS
agreed bsiegert@@
@
text
@d1 1
a1 1
# $MirOS: ports/essentials/cksum/Makefile,v 1.20 2008/02/10 11:38:43 bsiegert Exp $
a19 1
#CPPFLAGS+=		-isystem ${.SYSMK} -D_MIRMAKE_DEFNS
@


1.20
log
@The first committed fix for MirPorts on Darwin/i386 with Mac OS X 10.5
"Leopard": Don't use asm parts for this config, the syntax is incompatible.
Bump patchlevel.
@
text
@d1 1
a1 1
# $MirOS: ports/essentials/cksum/Makefile,v 1.19 2006/12/28 02:33:15 tg Exp $
d5 1
a5 2
DISTNAME=		cksum-20061013
DASH_VER=		1
d7 1
a7 1
#HOMEPAGE=		http://wiki.mirbsd.de/MirCksum
d19 2
a20 2
WRKDIST=		${WRKDIR}/md5
CPPFLAGS+=		-isystem ${.SYSMK} -D_MIRMAKE_DEFNS
d22 1
a22 5
.if ${OBJECT_FMT} == "PE"
MAKE_ENV+=		AFLAGS=-DUNDERSCORES
.endif

BUILD_DEPENDS+=		:mirmake->=20061228:devel/mirmake
@


1.19
log
@tentatively upgrade to new mirmake version, which should
fix the Mac problems, fixes endianness problems, and has
been tested on miros on i386 and (few) mac osx on macppc
but should even continue to work on GNU/Linux...
@
text
@d1 1
a1 1
# $MirOS: ports/essentials/cksum/Makefile,v 1.18 2006/11/07 00:32:03 tg Exp $
d6 1
@


1.18
log
@break this on Darwin because its system headers lack certain macros

NOTE: this breaks Setup.sh on Darwin, too.
@
text
@d1 1
a1 4
# $MirOS: ports/essentials/cksum/Makefile,v 1.17 2006/10/13 17:09:20 tg Exp $

# missing htole64() macros
NOT_FOR_PLATFORM+=	Darwin:*:*
d26 1
a26 1
BUILD_DEPENDS+=		:mirmake->=20061013:devel/mirmake
@


1.17
log
@new cksum package, leads to more distinguished choices
should, however, bring TIGER to everyone
@
text
@d1 4
a4 1
# $MirOS: ports/essentials/cksum/Makefile,v 1.16 2006/09/14 00:09:16 tg Exp $
@


1.16
log
@clean up COMMENT and HOMEPAGE; regenerate INDEX (2761, 169 marked as broken, probably many many more) ­ edited by script with manual postprocessing
@
text
@d1 1
a1 1
# $MirOS: ports/essentials/cksum/Makefile,v 1.15 2006/08/26 16:51:33 tg Exp $
d3 1
a3 1
COMMENT=			MirOS cksum(1)
d5 1
a5 1
DISTNAME=		cksum-20060623
d7 2
a8 2
HOMEPAGE=		http://wiki.mirbsd.de/MirCksum
RESPONSIBLE=		Thorsten Glaser <tg@@66h.42h.de>
d19 1
a19 1
WRKDIST=		${WRKDIR}/cksum
d26 2
@


1.15
log
@experimental: add -lmirmake to LDFLAGS
(pending shared mirmake library)
@
text
@d1 1
a1 1
# $MirOS: ports/essentials/cksum/Makefile,v 1.14 2006/06/23 15:30:14 tg Exp $
d3 1
a3 1
COMMENT=		"MirOS cksum(1)"
@


1.14
log
@upgrade this one too
@
text
@d1 1
a1 5
# $MirOS: ports/essentials/cksum/Makefile,v 1.13 2006/05/27 19:54:01 tg Exp $

.if ${.SYSMK} == "/usr/share/mk"
IGNORE+=		"only works with MirMake"
.endif
a20 1
LDADD+=			-L${.SYSMK} -lmirmake
@


1.13
log
@non-i386 build fix: don't override LDADD
@
text
@d1 1
a1 1
# $MirOS: ports/essentials/cksum/Makefile,v 1.12 2006/05/26 22:08:55 tg Exp $
d9 1
a9 1
DISTNAME=		cksum-20060526
@


1.12
log
@upgrade to newer version, supports suma mi and adler32 mi and md.i386
@
text
@d1 1
a1 1
# $MirOS: ports/essentials/cksum/Makefile,v 1.11 2006/01/01 02:46:00 tg Exp $
d25 1
a25 1
EXTRA_XAKE_FLAGS=	LDADD="-L${.SYSMK} -lmirmake"
@


1.11
log
@switch ERRORS to IGNORE to fix make index
@
text
@d1 1
a1 1
# $MirOS: ports/essentials/cksum/Makefile,v 1.10 2005/11/16 17:20:24 tg Exp $
d9 1
a9 1
DISTNAME=		cksum-20051116
@


1.10
log
@update to new MirCksum, distfile now v4root instead of cpio format
@
text
@d1 1
a1 1
# $MirOS: ports/essentials/cksum/Makefile,v 1.9 2005/11/16 16:37:36 tg Exp $
d4 1
a4 1
ERRORS+=		"This port only works with MirMake"
@


1.9
log
@* include mirmake defns
* fix off_t errors where it's long not long long (Interix)
@
text
@d1 1
a1 1
# $MirOS: ports/essentials/cksum/Makefile,v 1.8 2005/11/10 20:12:33 tg Exp $
d9 2
a10 3
DISTNAME=		mircksum-20050912
PKGNAME=		${DISTNAME}-1
EXTRACT_SUFX=		.cpio.gz
d23 1
a23 1
WRKDIST=		${WRKDIR}/md5
@


1.8
log
@add cksum(1)s
@
text
@d1 1
a1 1
# $MirOS: ports/essentials/cksum/Makefile,v 1.7 2005/09/12 22:45:37 tg Exp $
d10 1
d22 2
d25 1
a25 1
CPPFLAGS+=		-isystem ${.SYSMK}
a27 2
.include <mirports.sys.mk>

@


1.7
log
@* update to 20050912
* asprintf (Interix) is now in libmirmake
* simplify lots
@
text
@d1 1
a1 1
# $MirOS: ports/essentials/cksum/Makefile,v 1.6 2005/09/06 16:22:26 bsiegert Exp $
d32 2
@


1.6
log
@Bump patchlevel after libmirmake change
@
text
@d1 1
a1 1
# $MirOS: ports/essentials/cksum/Makefile,v 1.5 2005/09/02 13:57:08 bsiegert Exp $
d3 3
a5 2
# only works with portable MirMake
NOT_FOR_PLATFORM=	MirBSD:*:* OpenBSD:*:*
d9 1
a9 2
DISTNAME=		mircksum-20050412
PKGNAME=		${DISTNAME}-1
d13 1
a13 1
MASTER_SITES=		${_MASTER_SITE_MIRBSD}
a23 1
EXTRA_FAKE_FLAGS=	BINDIR=${PREFIX}/bin MANDIR=${PREFIX}/man/cat
a30 7
post-extract:
	cp ${FILESDIR}/[!C]* ${WRKSRC}/

do-configure:
	@@cd ${WRKBUILD} && exec ${_SYSTRACE_CMD} ${SETENV} ${MAKE_ENV} \
	    ${MAKE_PROGRAM} ${MAKE_FLAGS} -f ${MAKE_FILE} obj

@


1.5
log
@libmirmake here, too
@
text
@d1 1
a1 1
# $MirOS: ports/essentials/cksum/Makefile,v 1.3 2005/05/21 01:57:33 tg Exp $
d9 1
@


1.4
log
@_DOMAIN_DU_JOUR dies
@
text
@d22 1
a22 1
EXTRA_XAKE_FLAGS=	LDADD="-L${.SYSMK} -lhash"
@


1.3
log
@Da first port (on interix)
XXX asprintf.c - should make libmbcompat
@
text
@d1 1
a1 1
# $MirOS: ports/essentials/cksum/Makefile,v 1.2 2005/04/12 21:10:57 tg Exp $
d11 1
a11 1
RESPONSIBLE=		Thorsten Glaser <tg@@${_DOMAIN_DU_JOUR}>
@


1.2
log
@and of course, I had a typo
@
text
@d1 1
a1 1
# $MirOS: ports/essentials/cksum/Makefile,v 1.1 2005/04/12 21:07:00 tg Exp $
d25 9
@


1.1
log
@My first Mac OSX port

Shortcoming: no sha512 checksums are generated or checked,
and there is (believe me) no way to get them.
Doesn't matter much though, since we check size+md5+sha1+rmd160
and sha2 is not more secure than sha1 anyway, only longer.
@
text
@d1 1
a1 1
# $MirOS: ports/editors/joe/Makefile,v 1.1.7.1 2005/03/18 15:45:43 tg Exp $
d4 1
a4 1
NOT_FOR_OS=		MirBSD:*:* OpenBSD:*:*
@

