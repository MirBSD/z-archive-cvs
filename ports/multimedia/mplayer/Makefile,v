head	1.23;
access;
symbols;
locks; strict;
comment	@# @;


1.23
date	2009.08.16.16.27.36;	author tg;	state Exp;
branches;
next	1.22;
commitid	1004A882F1F72B43308;

1.22
date	2009.05.24.19.52.54;	author tg;	state Exp;
branches;
next	1.21;
commitid	1004A19A5A41DB3423C;

1.21
date	2008.11.08.23.03.53;	author tg;	state Exp;
branches;
next	1.20;
commitid	10049161AC72620EAF0;

1.20
date	2008.10.04.19.03.19;	author tg;	state Exp;
branches;
next	1.19;
commitid	10048E7BD9A0842B398;

1.19
date	2008.03.23.16.17.58;	author tg;	state Exp;
branches;
next	1.18;
commitid	10047E682B355D6F0A0;

1.18
date	2008.03.09.17.23.14;	author tg;	state Exp;
branches;
next	1.17;
commitid	10047D41CAA7E715397;

1.17
date	2007.04.03.19.45.05;	author tg;	state Exp;
branches;
next	1.16;
commitid	1004612AC977E789195;

1.16
date	2007.03.31.22.02.05;	author tg;	state Exp;
branches;
next	1.15;
commitid	100460EDA5B5AAA6E31;

1.15
date	2006.09.14.00.11.28;	author tg;	state Exp;
branches;
next	1.14;
commitid	10045089C0E234154C3;

1.14
date	2006.06.25.02.26.09;	author tg;	state Exp;
branches;
next	1.13;
commitid	100449DF44450BA5BFF;

1.13
date	2006.02.09.11.12.11;	author tg;	state Exp;
branches;
next	1.12;
commitid	10043EB23217A35557B;

1.12
date	2005.12.28.21.02.13;	author tg;	state Exp;
branches;
next	1.11;
commitid	10043B2FD5B73D7608B;

1.11
date	2005.08.21.11.49.33;	author tg;	state Exp;
branches;
next	1.10;
commitid	3af74308676450c3;

1.10
date	2005.07.09.19.29.53;	author tg;	state Exp;
branches;
next	1.9;
commitid	447742d025afc9c0;

1.9
date	2005.07.07.21.23.57;	author bsiegert;	state Exp;
branches;
next	1.8;
commitid	66bc42cd9a7ea714;

1.8
date	2005.05.30.17.09.56;	author tg;	state Exp;
branches;
next	1.7;
commitid	5bb3429b48e0cb79;

1.7
date	2005.05.29.19.27.14;	author tg;	state Exp;
branches;
next	1.6;
commitid	3a03429a17a2d70a;

1.6
date	2005.05.19.21.44.55;	author tg;	state Exp;
branches;
next	1.5;
commitid	2671428d08b09688;

1.5
date	2005.04.29.19.06.04;	author tg;	state Exp;
branches;
next	1.4;

1.4
date	2005.04.20.09.35.08;	author tg;	state Exp;
branches;
next	1.3;

1.3
date	2005.04.11.15.56.15;	author tg;	state Exp;
branches;
next	1.2;

1.2
date	2005.04.10.21.50.32;	author tg;	state Exp;
branches;
next	1.1;

1.1
date	2005.03.18.15.50.49;	author tg;	state Exp;
branches
	1.1.7.1;
next	;

1.1.7.1
date	2005.03.18.15.50.49;	author tg;	state Exp;
branches;
next	;


desc
@@


1.23
log
@change
‚Ä¢ _PASS_CC back from „Äåmpcc„Äç to „Äå${WRKDIR}/bin/mpcc„Äç (note that the
  former „Äå${WRKDIR:Q}/bin/mpcc„Äç was wrong)
‚Ä¢ all uses of _PASS_CC to either
  ‚Ä£ ${_PASS_CC:T:Q} (when passing, e.g. for libtool ‚Äì this is for use
    when ${WRKDIR}/bin is in $$PATH)
  ‚Ä£ ${_PASS_CC:Q} (when invoking, e.g. in post-build targets ‚Äì only
    these I saw when mechanically doing this; Benny wants to fix the
    remaining ones; I should‚Äôve introduced no more breakage than was)
‚Ä¢ _PASS_CXX/mpcxx just the same

agreed bsiegert@@
@
text
@# $MirOS: ports/multimedia/mplayer/Makefile,v 1.22 2009/05/24 19:52:54 tg Exp $
# $OpenBSD: Makefile,v 1.83 2005/05/09 12:24:38 biorn Exp $

# May not be hard to add more.
# <mira> waldi: in mplayer sind mehr LP64 bugs pro KB source drin als in pine
ONLY_FOR_PLATFORM=	*:*:i386 *:*:powerpc OpenBSD:*:arm OpenBSD:*:amd64 #XXX

COMMENT=		Movie player supporting MPEG, DivX, AVI, ASF, MOV & more
DISTNAME=		MPlayer-1.0pre7
DIST_SUBDIR=		mplayer
PKGNAME=		${DISTNAME:L}-4
CATEGORIES=		x11 multimedia
EXTRACT_SUFX=		.tar.bz2
HOMEPAGE=		http://www.mplayerhq.hu/
RESPONSIBLE=		Thorsten Glaser <tg@@mirbsd.org>

# GNU GPLv2
# XXX unsure of GPL-compatibility of _all_ components -tg@@
PERMIT_PACKAGE_CDROM=	"patents"
PERMIT_PACKAGE_FTP=	"different licencing of components"
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes

MASTER_SITES=		http://www2.mplayerhq.hu/MPlayer/releases/
MASTER_SITES+=		http://www.mplayerhq.hu/MPlayer/releases/
MASTER_SITES+=		http://ftp.lug.udel.edu/MPlayer/releases/

.include <mirports.sys.mk>

MODULES=	converters/libiconv graphics/png

LIB_DEPENDS=	jpeg::graphics/jpeg \
		mp3lame::audio/lame,no_x11 \
		theora::multimedia/libtheora \
		cdda_paranoia,cdda_interface:cdparanoia->=3.a9.8:audio/cdparanoia

CONFDIR=	${SYSCONFDIR}/mplayer
SUBST_VARS=	CONFDIR

USE_GMAKE=	Yes
CONFIGURE_STYLE=simple
CONFIGURE_ARGS+=--disable-alsa \
		--disable-runtime-cpudetection \
		--disable-gui \
		--disable-nas \
		--disable-i18n \
		--disable-libdv \
		--disable-smb \
		--enable-select \
		--enable-sunaudio \
		--disable-vidix \
		--enable-vorbis \
		--enable-theora \
		--enable-menu \
		--enable-iconv \
		--disable-vesa \
		--disable-directfb \
		--enable-cdparanoia \
		--prefix=${PREFIX:Q} \
		--cc=${_PASS_CC:T:Q} \
		--confdir=${CONFDIR}
# disable OSS audio if no TV needed
CONFIGURE_ARGS+=--enable-ossaudio \
		--enable-tv-bsdbt848
CONFIGURE_ENV+=	TMPDIR=${WRKBUILD}

CF_INCDIR:=	${LOCALBASE:Q}/include/libpng:${LOCALBASE:Q}/include
CF_LIBDIR:=	${LOCALBASE:Q}/lib

.if ${MACHINE_ARCH:Mi386}
CONFIGURE_ARGS+=--enable-runtime-cpudetection
.endif

.if ${MACHINE_ARCH:Mpowerpc}
CONFIGURE_ARGS+=--disable-altivec
.endif

FLAVOURS=	esd sdl ggi debug mad no_x11 aa \
		no_live no_ungif no_lzo caca
FLAVOUR?=

.if ${MACHINE_ARCH:Marm}
CONFIGURE_ARGS+=--disable-mp3lib
FLAVOUR+=	mad
.endif

.if ${FLAVOUR:L:Mno_lzo}
CONFIGURE_ARGS+=--disable-liblzo
.else
LIB_DEPENDS+=	lzo2:lzo->=2.*:archivers/lzo
CF_INCDIR:=	${LOCALBASE:Q}/include/lzo:${CF_INCDIR}
CONFIGURE_ARGS+=--enable-liblzo
.endif

.if ${FLAVOUR:L:Mno_live}
CONFIGURE_ARGS+=--disable-live
.else
USE_CXX=	Yes
BUILD_DEPENDS+=	livestream::multimedia/livestream
CONFIGURE_ARGS+=--enable-live \
		--with-livelibdir=${PREFIX}/lib/live
.endif

.if ${FLAVOUR:L:Mno_ungif}
CONFIGURE_ARGS+=--disable-gif
.else
USE_CXX=	Yes
LIB_DEPENDS+=	ungif,gif::graphics/libungif
# don't --enable-gif here!
.endif

CONFIGURE_ARGS+=--disable-arts

.if ${FLAVOUR:L:Mesd}
CONFIGURE_ARGS+=--enable-esd
LIB_DEPENDS+=	esd::audio/esound
.else
CONFIGURE_ARGS+=--disable-esd
.endif

.if ${FLAVOUR:L:Mno_x11}
.  if ${FLAVOUR:L:Msdl} || ${FLAVOUR:L:Mggi} || ${FLAVOUR:L:Mmad}
ERRORS+=	"Fatal: nonsense combination of flavours"
.  else
CONFIGURE_ARGS+=--disable-gl \
		--disable-xv \
		--disable-x11 \
		--disable-fontconfig \
		--disable-freetype
.  endif
.else
CONFIGURE_ARGS+=--enable-gl \
		--enable-xv \
		--enable-x11
USE_X11=	Yes
.endif

.if ${FLAVOUR:L:Msdl}
CONFIGURE_ARGS+=--enable-sdl \
		--with-sdl-config=${LOCALBASE}/bin/sdl-config
LIB_DEPENDS+=	SDL:sdl-1.2.4p1,>=1.2.5:devel/sdl
.else
CONFIGURE_ARGS+=--disable-sdl
.endif

.if ${FLAVOUR:L:Mggi}
CONFIGURE_ARGS+=--enable-ggi
LIB_DEPENDS+=	ggi::graphics/ggi
.else
CONFIGURE_ARGS+=--disable-ggi
.endif

.if ${FLAVOUR:L:Mdebug}
CONFIGURE_ARGS+=--enable-debug=3
.endif

.if ${FLAVOUR:L:Mmad}
CONFIGURE_ARGS+=--enable-mad
LIB_DEPENDS+=	mad.2::audio/libmad
.else
CONFIGURE_ARGS+=--disable-mad
.endif

.if ${MACHINE_ARCH:Mi386}
RUN_DEPENDS+=	:win32-codecs-*:multimedia/win32-codecs
CONFIGURE_ARGS+=--with-win32libdir=${LOCALBASE}/lib/codecs \
		--enable-qtx \
		--enable-real \
		--enable-dshow \
		--with-reallibdir=${LOCALBASE}/lib/codecs
.else
CONFIGURE_ARGS+=--disable-win32 \
		--disable-qtx \
		--disable-dshow \
		--disable-real
.endif

.if ${FLAVOUR:L:Maa}
CONFIGURE_ARGS+=--enable-aa
.  if ${FLAVOUR:L:Mno_x11}
LIB_DEPENDS+=	aa::graphics/aalib,no_x11
.  else
LIB_DEPENDS+=	aa::graphics/aalib
.  endif
.else
CONFIGURE_ARGS+=--disable-aa
.endif

.if ${FLAVOUR:L:Mcaca}
CONFIGURE_ARGS+=--enable-caca
.  if ${FLAVOUR:L:Mno_x11}
BUILD_DEPENDS+=	::graphics/libcaca,no_x11
.  else
BUILD_DEPENDS+=	::graphics/libcaca
.  endif
.else
CONFIGURE_ARGS+=--disable-caca
.endif

.if ${USE_CXX:L} != "yes"
EXTRA_XAKE_FLAGS+=	CXX=${_PASS_CXX:T:Q}
.endif

CONFIGURE_ARGS+=	--with-extraincdir=${CF_INCDIR} \
			--with-extralibdir=${CF_LIBDIR}

NO_REGRESS=		Yes

post-install:
	${INSTALL_DATA_DIR} ${PREFIX}/share/doc/mplayer
	${INSTALL_DATA_DIR} ${PREFIX}/share/examples/mplayer
	cd ${WRKDIST}/etc; ${INSTALL_DATA} input.conf menu.conf codecs.conf \
	    ${PREFIX}/share/examples/mplayer/
	${INSTALL_DATA} ${WRKDIST}/etc/example.conf \
	    ${PREFIX}/share/examples/mplayer/mplayer.conf
	${INSTALL_DATA} ${WRKDIST}/DOCS/HTML/en/*.html \
	    ${PREFIX}/share/doc/mplayer/

.include <bsd.port.mk>
@


1.22
log
@fix build: let it find the lzo include files
@
text
@d1 1
a1 1
# $MirOS: ports/multimedia/mplayer/Makefile,v 1.21 2008/11/08 23:03:53 tg Exp $
d60 1
a60 1
		--cc=${_PASS_CC:Q} \
d201 1
a201 1
EXTRA_XAKE_FLAGS+=	CXX=${_PASS_CXX:Q}
@


1.21
log
@more mass conversions, including ancient eMail addresses
@
text
@d1 1
a1 1
# $MirOS: ports/multimedia/mplayer/Makefile,v 1.20 2008/10/04 19:03:19 tg Exp $
a58 2
		--with-extraincdir=${LOCALBASE}/include/libpng:${LOCALBASE}/include \
		--with-extralibdir=${LOCALBASE}/lib \
d67 3
d91 1
a91 1
CPPFLAGS+=	-I${LOCALBASE}/include/lzo
d204 3
@


1.20
log
@mass conversion from
‚Ä¢ ${CC}
‚Ä¢ "${CC}"
‚Ä¢ '${CC}'
‚Ä¢ ${CC:Q}
to ${_PASS_CC:Q} (or without :Q if it‚Äôs executed, not assigned), and
same for CXX‚Ä¶ most of these are VERY UGLY, prone to break with ccache
and maybe even without‚Ä¶
@
text
@d1 1
a1 1
# $MirOS: ports/multimedia/mplayer/Makefile,v 1.19 2008/03/23 16:17:58 tg Exp $
d15 1
a15 1
RESPONSIBLE=		Thorsten Glaser <tg@@66h.42h.de>
@


1.19
log
@fix the man page for nroff _and_ groff
(one long string, one missing space, and macro namespace conflicts)
@
text
@d1 1
a1 1
# $MirOS: ports/multimedia/mplayer/Makefile,v 1.18 2008/03/09 17:23:14 tg Exp $
d62 1
a62 1
		--cc=${CC:Q} \
d200 1
a200 1
EXTRA_XAKE_FLAGS+=	CXX="${CC}"
@


1.18
log
@bulk convert FLAVOR to FLAVOUR; nuke unused file; convert to $Mdocdate
@
text
@d1 1
a1 1
# $MirOS: ports/multimedia/mplayer/Makefile,v 1.17 2007/04/03 19:45:05 tg Exp $
d11 1
a11 1
PKGNAME=		${DISTNAME:L}-3
@


1.17
log
@‚Ä¢ remove ports that are simply broken, don't work, for too long, with no
  update or update-willing person in sight, kde stuff, web2.0 stuff that
  we don't want in ports (just stuff it into /var/www yourself, it isn't
  that difficult, right?), stuff for which no new version exists/will be
  and some obsd cruft; adjust dependencies
‚Ä¢ no BUILD_DEPENDS+=RUN_DEPENDS or vice versa any more, *ever*
‚Ä¢ fix some other stuff partially

ok bsiegert@@
@
text
@d1 1
a1 1
# $MirOS: ports/multimedia/mplayer/Makefile,v 1.16 2007/03/31 22:02:05 tg Exp $
d77 1
a77 1
FLAVORS=	esd sdl ggi debug mad no_x11 aa \
d79 1
a79 1
FLAVOR?=
d83 1
a83 1
FLAVOR+=	mad
d86 1
a86 1
.if ${FLAVOR:L:Mno_lzo}
d94 1
a94 1
.if ${FLAVOR:L:Mno_live}
d103 1
a103 1
.if ${FLAVOR:L:Mno_ungif}
d113 1
a113 1
.if ${FLAVOR:L:Mesd}
d120 3
a122 3
.if ${FLAVOR:L:Mno_x11}
.  if ${FLAVOR:L:Msdl} || ${FLAVOR:L:Mggi} || ${FLAVOR:L:Mmad}
ERRORS+=	"Fatal: nonsense combination of flavors"
d137 1
a137 1
.if ${FLAVOR:L:Msdl}
d145 1
a145 1
.if ${FLAVOR:L:Mggi}
d152 1
a152 1
.if ${FLAVOR:L:Mdebug}
d156 1
a156 1
.if ${FLAVOR:L:Mmad}
d177 1
a177 1
.if ${FLAVOR:L:Maa}
d179 1
a179 1
.  if ${FLAVOR:L:Mno_x11}
d188 1
a188 1
.if ${FLAVOR:L:Mcaca}
d190 1
a190 1
.  if ${FLAVOR:L:Mno_x11}
@


1.16
log
@fix broken dependencies, <bsd.own.mk> inclusion; break other packages
@
text
@d1 1
a1 1
# $MirOS: ports/multimedia/mplayer/Makefile,v 1.15 2006/09/14 00:11:28 tg Exp $
d8 1
a8 1
COMMENT=			Movie player supporting MPEG, DivX, AVI, ASF, MOV & more
d78 1
a78 1
		no_live no_ungif no_lzo caca	# arts
a110 4
.if ${FLAVOR:L:Marts}
CONFIGURE_ARGS+=--enable-arts
LIB_DEPENDS+=	artsc::x11/kde/arts
.else
a111 1
.endif
@


1.15
log
@clean up COMMENT and HOMEPAGE; regenerate INDEX (2761, 169 marked as broken, probably many many more) ≠ edited by script with manual postprocessing
@
text
@d1 1
a1 1
# $MirOS: ports/multimedia/mplayer/Makefile,v 1.14 2006/06/25 02:26:09 tg Exp $
d77 2
a78 2
FLAVORS=	arts esd sdl ggi debug mad no_x11 aa \
		no_live no_ungif no_lzo caca
@


1.14
log
@change macppc to powerpc, from bsiegert@@ and kimnotyze
@
text
@d1 1
a1 1
# $MirOS: ports/multimedia/mplayer/Makefile,v 1.13 2006/02/09 11:12:11 tg Exp $
d8 1
a8 1
COMMENT=		"Movie player supporting MPEG, DivX, AVI, ASF, MOV & more"
@


1.13
log
@Fix a few abuses:
| CONFIGURE_ENV=	CPPFLAGS="-I${LOCALBASE}/include/libpng \
|			    -I${LOCALBASE}/include -I${X11BASE}/include" \
| 			LDFLAGS="-L${LOCALBASE}/lib -L${X11BASE}/lib" \
|			PKGCONFIG_PATH=...

* use Benny's pkgconfig module
  - fixes PKGCONFIG_PATH in all places
  - adds explicit dependencies on pkgconfig where needed
* use a new png module
  - also cought a few implicit dependencies
* use a new freetype1 module in two places (more to come?)
* CPPFLAGS, LDFLAGS are in CONFIGURE_ENV anyway, so correctly
  add to them as CPPFLAGS+=<tab>foo instead
* use EXTRA_{M,X,F}AKE_FLAGS
* CC is given anyway, too
* add MAKEINFO= to gnu style

Still doesn't catch all OpenBSD abuses, but most of them.

Brokenness analysis:
* Automatically done
  - CFLAGS+=CPPFLAGS
  - CXXFLAGS+=CPPFLAGS
  - CPPFLAGS+=-I${LOCALBASE}/include
  - LDFLAGS+=-L${LOCALBASE}/lib
  - CONFIGURE_ENV, MAKE_FLAGS+=
    + LDFLAGS=LDFLAGS
    + CPPFLAGS you get the idea
    + CFLAGS
    + CXXFLAGS
    + CC
    + CXX (if USE_CXX)
* Done if USE_X11=Yes
  - CPPFLAGS+=X11BASE/include
  - LDFLAGS+=X11BASE/lib

Tell me if there are problems, but first try adding
an EXTRA_ before MAKE_FLAGS and FAKE_FLAGS.
Remember EXTRA_XAKE_FLAGS get added to both.
@
text
@d1 1
a1 1
# $MirOS: ports/multimedia/mplayer/Makefile,v 1.12 2005/12/28 21:02:13 tg Exp $
d6 1
a6 1
ONLY_FOR_PLATFORM=	*:*:i386 *:*:macppc OpenBSD:*:arm OpenBSD:*:amd64 #XXX
@


1.12
log
@* sync with openbsd
* unbreak
* add lzo support
* hack lzo2 in
@
text
@d1 1
a1 1
# $MirOS: ports/multimedia/mplayer/Makefile,v 1.11 2005/08/21 11:49:33 tg Exp $
d30 1
a30 1
MODULES=	converters/libiconv
d32 1
a32 2
LIB_DEPENDS=	png::graphics/png \
		jpeg::graphics/jpeg \
@


1.11
log
@_DOMAIN_DU_JOUR dies
@
text
@d1 1
a1 1
# $MirOS: ports/multimedia/mplayer/Makefile,v 1.10 2005/07/09 19:29:53 tg Exp $
d6 1
a6 1
ONLY_FOR_PLATFORM=	*:*:i386 *:*:macppc
d11 1
a11 1
PKGNAME=		${DISTNAME:L}-2
a46 1
		--disable-liblzo \
d62 2
a63 1
		--cc="${CC}" \
d70 4
d79 1
a79 1
		no_live no_ungif caca
d82 13
d186 1
a186 1
LIB_DEPENDS+=	aa.1.3::graphics/aalib,no_x11
d188 1
a188 1
LIB_DEPENDS+=	aa.1.3::graphics/aalib
d197 1
a197 1
LIB_DEPENDS+=	caca.1::graphics/libcaca,no_x11
d199 1
a199 1
LIB_DEPENDS+=	caca.1::graphics/libcaca
@


1.10
log
@untested Theora support for mplayer
From: Vladimir T·mara <vtamara@@informatik.uni-kl.de>

with tweaks
@
text
@d1 1
a1 1
# $MirOS: ports/multimedia/mplayer/Makefile,v 1.9 2005/07/07 21:23:57 bsiegert Exp $
d15 1
a15 1
RESPONSIBLE=		Thorsten Glaser <tg@@${_DOMAIN_DU_JOUR}>
@


1.9
log
@Semi-automatic update of the remaining ports to the new patchlevel format.

Please correct mistakes if you find them :).
@
text
@d1 1
a1 1
# $MirOS: ports/multimedia/mplayer/Makefile,v 1.7 2005/05/29 19:27:14 tg Exp $
d11 1
a11 1
PKGNAME=		${DISTNAME:L}m-1
d35 1
d55 1
@


1.8
log
@yesterday's-change suggests patchlevel-bump
before bsiegert@@ needs to remind me
@
text
@d11 1
a11 1
PKGNAME=		${DISTNAME:L}mp0
@


1.7
log
@fix broken path to codec dir
@
text
@d1 1
a1 1
# $MirOS: ports/multimedia/mplayer/Makefile,v 1.6 2005/05/19 21:44:55 tg Exp $
d11 1
a11 1
PKGNAME=		${DISTNAME:L}
@


1.6
log
@commence the update and convert to @@sample
parts from openbsd

important configure diff: pthread symbols
are defined in libgcc_eh on miros!

todo:
- darwin? (should be easy)
- 64 bit (estimated: adds about 4K lines of unidiff)
@
text
@d1 1
a1 1
# $MirOS: ports/multimedia/mplayer/Makefile,v 1.5 2005/04/29 19:06:04 tg Exp $
d152 1
a152 1
CONFIGURE_ARGS+=--with-win32libdir=${LOCALBASE}/lib/win32 \
d156 1
a156 1
		--with-reallibdir=${LOCALBASE}/lib/win32
@


1.5
log
@unfinished port updates, these two are thus broken
let me recompile my base with the EH updates first
@
text
@d1 2
a2 4
# $MirOS: ports/multimedia/mplayer/Makefile,v 1.4 2005/04/20 09:35:08 tg Exp $
# $OpenBSD: Makefile,v 1.69 2004/05/06 07:27:36 biorn Exp $

BROKEN=			Security problems, Update comming soon
a34 1
		vorbis.0,vorbisfile.1::audio/libvorbis \
d48 2
d72 2
a73 2
FLAVORS=	arts esd sdl ggi debug mad win32 no_x11 aa \
		faad no_live no_ungif mkv caca
a75 8
.if ${FLAVOR:L:Mfaad}
USE_CXX=	Yes
LIB_DEPENDS+=	faad::audio/faad
CONFIGURE_ARGS+=--enable-external-faad
.else
CONFIGURE_ARGS+=--disable-external-faad
.endif

d80 3
a82 2
BUILD_DEPENDS+=	livestream::graphics/livestream
CONFIGURE_ARGS+=--enable-live
a92 8
.if ${FLAVOR:L:Mmkv}
USE_CXX=	Yes
LIB_DEPENDS+=	matroska::graphics/libmatroska
CONFIGURE_ARGS+=--enable-external-matroska
.else
CONFIGURE_ARGS+=--disable-external-matroska
.endif

d113 3
a115 1
		--disable-x11
d150 2
a151 5
.if ${FLAVOR:L:Mwin32}
ONLY_FOR_PLATFORM=	*:*:i386

RUN_DEPENDS+=	:win32-codecs-*:graphics/win32-codecs
BUILD_DEPENDS+=	:win32-codecs-*:graphics/win32-codecs
@


1.4
log
@break until update
@
text
@d1 1
a1 1
# $MirOS: ports/multimedia/mplayer/Makefile,v 1.3 2005/04/11 15:56:15 tg Exp $
d11 1
a11 1
DISTNAME=		MPlayer-1.0pre5try2
d111 1
a111 1
LIB_DEPENDS+=	artsc::x11/kde/arts3
@


1.3
log
@the port part of platform refinal
@
text
@d1 1
a1 1
# $MirOS: ports/multimedia/mplayer/Makefile,v 1.2 2005/04/10 21:50:32 tg Exp $
d4 2
a6 2
ONLY_FOR_PLATFORM=	*:*:amd64 *:*:i386 *:*:macppc

d8 1
a8 1
NOT_FOR_PLATFORM=	${LP64_PLATFORMS}
@


1.2
log
@NOPIC_PLATFORMS, LP64_PLATFORMS and general change of
{NOT,ONLY}_FOR_{ARCH{,E,ES},OS} to {NOT,ONLY}_FOR_PLATFORM

some fallout maybe, I hope not
@
text
@d1 1
a1 1
# $MirOS: ports/multimedia/mplayer/Makefile,v 1.1.7.1 2005/03/18 15:50:49 tg Exp $
d5 1
a5 1
ONLY_FOR_PLATFORM=	*:amd64 *:i386 *:macppc
d165 1
a165 1
ONLY_FOR_PLATFORM=	*:i386
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $MirOS$
d5 1
a5 1
ONLY_FOR_ARCHS=		amd64 i386 macppc
d8 1
a8 1
NOT_FOR_ARCHS=		${LP64_ARCHS}
d165 1
a165 1
ONLY_FOR_ARCHS=	i386
@


1.1.7.1
log
@Import the MirPorts Framework, many files moved or renamed though, no KDE/QT
@
text
@@
