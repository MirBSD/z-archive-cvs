head	1.3;
access;
symbols;
locks; strict;
comment	@# @;


1.3
date	2008.10.16.19.43.47;	author tg;	state Exp;
branches;
next	1.2;
commitid	10048F798F722A050E5;

1.2
date	2008.09.14.16.10.28;	author bsiegert;	state Exp;
branches;
next	1.1;
commitid	10048CD375E05206112;

1.1
date	2008.07.02.18.49.41;	author bsiegert;	state Exp;
branches;
next	;
commitid	100486BCD834E938503;


desc
@@


1.3
log
@many more distfile fixes:
either change stuff to let “mmake checksum” succeed, for example by fixing
MASTER_SITES or DIST_SUBDIR, or by adding the “Size” That Does Matter™ to
the distinfo (so that b0rken downloads are skipped), or by whatever other
means, or mark b0rken stuff as BROKEN for sure. For squid, I removed one
of the upstream patches from the list.

After this, all non-BROKEN (and some BROKEN and NOT_FOR_PLATFORM) distfiles
verify successfully (and thusly link to FTP/ and CDROM/ on the mirror).
@
text
@# $MirOS: ports/aqua/qt4-mac/Makefile,v 1.2 2008/09/14 16:10:28 bsiegert Exp $

COMMENT=		Qt toolkit, Aqua version for Mac OS
COMMENT-docs=		Qt documentation, Aqua version for Mac OS
COMMENT-examples=	Qt examples, Aqua version for Mac OS

ONLY_FOR_PLATFORM=	Darwin:*:*

VERSION=		4.4.1
DISTNAME=		qt-mac-opensource-src-${VERSION}
PKGNAME=		qt-mac-${VERSION}-${DASH_VER}
PKGNAME-docs=		qt-mac-docs-${VERSION}-${DASH_VER}
PKGNAME-examples=	qt-mac-examples-${VERSION}-${DASH_VER}
CATEGORIES=		aqua devel
EXTRACT_SUFX=		.tar.bz2

HOMEPAGE=		http://trolltech.com/products/qt/homepage
MASTER_SITES=		http://ftp.trolltech.com/qt/source/ \
			http://gd.tuwien.ac.at/hci/qt/source/ \
			http://www.qtopia.org.cn/ftp/mirror/ftp.trolltech.com/qt/source/

# QPL
PERMIT_PACKAGE_CDROM=	Yes
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes

MULTI_PACKAGES=		-docs -examples
SUBPACKAGE?=

MODULES+=		graphics/png

USE_X11=		Yes
USE_CXX=		Yes
#USE_GMAKE=		Yes
CONFIGURE_STYLE= 	simple

CONFIGURE_ARGS+=	-prefix ${PREFIX}/qt4
CONFIGURE_ARGS+=	-stl
CONFIGURE_ARGS+=	-no-phonon -no-webkit
CONFIGURE_ARGS+=	-confirm-license
CONFIGURE_ARGS+=	-v # -fast
CONFIGURE_ARGS+=	-I${PREFIX}/include -L${PREFIX}/lib

EXTRA_FAKE_FLAGS=	INSTALL_ROOT=${DESTDIR:Q}

.if defined(PACKAGING) && ${SUBPACKAGE} == "-examples"
LIB_DEPENDS+=		../qt4/lib/QtCore.la:qt-mac->=4.0:aqua/qt4-mac
.endif

post-install:
	find ${PREFIX:Q} -name "*.la" -exec perl -pi -e "s/^old_library='.*'/old_library=''/" \{\} \;

.include <bsd.port.mk>
@


1.2
log
@Update to 4.4.1 (current version), split off -docs and -examples package
@
text
@d1 1
a1 1
# $MirOS: ports/aqua/qt4-mac/Makefile,v 1.1 2008/07/02 18:49:41 bsiegert Exp $
d18 3
a20 1
MASTER_SITES=		http://ftp.trolltech.com/qt/source/
@


1.1
log
@Add a port for qt4-mac-4.3.3-0. Update to current version as well as
integration into MirPorts (i.e. infrastructure/mk/qt4.port.mk) pending.
@
text
@d1 1
a1 1
# $MirOS: ports/x11/libxklavier/Makefile,v 1.4 2007/07/03 19:54:42 bsiegert Exp $
d4 2
d9 1
a9 1
VERSION=		4.3.3
d12 2
d15 1
d18 1
a18 1
MASTER_SITES=		ftp://ftp.trolltech.com/qt/source/
d26 3
d38 1
d40 1
a40 1
CONFIGURE_ARGS+=	-v -fast
d45 4
@

