head	1.4;
access;
symbols;
locks; strict;
comment	@# @;


1.4
date	2010.11.19.16.04.27;	author bsiegert;	state Exp;
branches;
next	1.3;
commitid	1004CE6A00B0FD9A490;

1.3
date	2008.05.07.22.48.31;	author tg;	state Exp;
branches;
next	1.2;
commitid	100482231C374D9CA0B;

1.2
date	2006.09.14.00.10.58;	author tg;	state Exp;
branches;
next	1.1;
commitid	10045089C0E234154C3;

1.1
date	2005.03.18.15.50.09;	author tg;	state Exp;
branches
	1.1.7.1;
next	;

1.1.7.1
date	2005.03.18.15.50.09;	author tg;	state Exp;
branches;
next	;


desc
@@


1.4
log
@not for MirOS, this needs a Fortran compiler. And C++.
@
text
@# $MirOS$
# $OpenBSD: Makefile,v 1.6 2002/12/29 19:43:50 fgsch Exp $

NOT_FOR_PLATFORM= MirBSD:*:* # needs a Fortran compiler

COMMENT=	high-level language for numerical computations
VERSION=	2.0.16
DISTNAME=	octave-${VERSION}
CATEGORIES=    	math

HOMEPAGE=	http://www.che.wisc.edu/octave/


# Licensing:  GPL
PERMIT_PACKAGE_CDROM=	Yes
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes

MASTER_SITES=		${MASTER_SITE_GNU:=octave/}

REGRESS_DEPENDS=::devel/dejagnu

USE_GMAKE=	Yes
USE_CXX=	Yes

CONFIGURE_STYLE=	gnu dest
MODGNU_RECURSE_DIRS=	${WRKSRC}/kpathsea ${WRKSRC}/readline \
			${WRKSRC}/readline/support ${WRKSRC}
CONFIGURE_ARGS=		${CONFIGURE_SHARED} ${GCCARCH}
CONFIGURE_ENV= 		FFLAGS="${FFLAGS}" SOREV="${SHLIB_VER}"

# need shared library version for machines which support shared libraries.
SHLIB_VER=	1.0
GCCARCH=	${MACHINE_ARCH}-unknown-openbsd${OPSYS_VER}
SUBST_VARS=	GCCARCH VERSION SHLIB_VER

pre-build:
	@@rm -f ${WRKSRC}/doc/liboctave/liboctave.info*

# fix ls-R
post-install:
	@@cd ${PREFIX}/share/octave && \
	    sed -e "s,${PREFIX},${TRUEPREFIX}," ls-R > ls-R.new && \
	    mv -f ls-R.new ls-R
	@@cd ${PREFIX}/libexec/octave && \
	    sed -e "s,${PREFIX},${TRUEPREFIX}," ls-R > ls-R.new && \
	    mv -f ls-R.new ls-R

.include <bsd.port.mk>

# if we can use shared libraries, make octave use modules.
.if !defined (NO_SHARED_LIBS)
CONFIGURE_ARGS+=	--enable-lite-kernel
.endif
@


1.3
log
@â€¢ replace MODGNU_CONFIG_GUESS_DIRS with MODGNU_RECURSE_DIRS
â€¢ always place ${WRKSRC} itself at the end of MODGNU_RECURSE_DIRS due to
  recursion issues inside of autoconf itself
â€¢ if MODGNU_RECURSE_DIRS=${WRKSRC} stood in the Makefile, nuke it (default)
â€¢ remove dead reference to MODGNU_TWIDDLE_DIRS
@
text
@d1 1
d4 3
a6 1
COMMENT=			High-level language for numerical computations
d25 1
@


1.2
log
@clean up COMMENT and HOMEPAGE; regenerate INDEX (2761, 169 marked as broken, probably many many more) ­ edited by script with manual postprocessing
@
text
@d24 2
a25 1
MODGNU_CONFIG_GUESS_DIRS= ${WRKSRC} ${WRKSRC}/kpathsea ${WRKSRC}/readline ${WRKSRC}/readline/support
@


1.1
log
@Initial revision
@
text
@d3 1
a3 1
COMMENT=	"High-level language for numerical computations"
@


1.1.7.1
log
@Import the MirPorts Framework, many files moved or renamed though, no KDE/QT
@
text
@@
