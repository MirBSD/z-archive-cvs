head	1.1;
access;
symbols;
locks; strict;
comment	@# @;


1.1
date	2005.10.12.21.00.28;	author bsiegert;	state Exp;
branches;
next	;
commitid	49a7434d791b1183;


desc
@@


1.1
log
@Add a port for fam-2.7.0-0, including native kqueue support.

This port is based on the one from NetBSD pkgsrc, who were also the ones
that implemented kqueue. Thanks a lot, guys! We owe you.
@
text
@$NetBSD: patch-ag,v 1.6 2004/11/19 12:35:22 sketch Exp $

--- src/IMon.c++.orig	2003-01-18 14:18:12.000000000 +0000
+++ src/IMon.c++	2004-11-08 14:00:46.523526000 +0000
@@@@ -25,6 +25,7 @@@@
 #include <assert.h>
 #include <errno.h>
 #include <fcntl.h>
+#include <sys/param.h>
 
 #if HAVE_IMON
 #ifdef __sgi
@@@@ -32,15 +33,18 @@@@
 #else
 #include <linux/imon.h>
 #endif
+#else // HAVE_IMON
+#include "imon-compat.h"
 #endif
 
+#if HAVE_SYS_SYSMACROS_H
 #include <sys/sysmacros.h>
+#endif
 #include <unistd.h>
 
 #include "Interest.h"
 #include "Log.h"
 #include "Scheduler.h"
-#include "alloc.h"
 
 int		   IMon::imonfd = -2;
 IMon::EventHandler IMon::ehandler = NULL;
@
