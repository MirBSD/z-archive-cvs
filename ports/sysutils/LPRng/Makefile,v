head	1.3;
access;
symbols;
locks; strict;
comment	@# @;


1.3
date	2006.09.14.00.13.27;	author tg;	state Exp;
branches;
next	1.2;
commitid	10045089C0E234154C3;

1.2
date	2006.02.02.21.09.41;	author tg;	state Exp;
branches;
next	1.1;
commitid	10043E274FC2C247460;

1.1
date	2005.03.18.15.52.00;	author tg;	state Exp;
branches
	1.1.7.1;
next	;

1.1.7.1
date	2005.03.18.15.52.00;	author tg;	state Exp;
branches;
next	;


desc
@@


1.3
log
@clean up COMMENT and HOMEPAGE; regenerate INDEX (2761, 169 marked as broken, probably many many more) ­ edited by script with manual postprocessing
@
text
@# $MirOS: ports/sysutils/LPRng/Makefile,v 1.2 2006/02/02 21:09:41 tg Exp $
# $OpenBSD: Makefile,v 1.26 2004/01/06 02:25:45 espie Exp $

COMMENT=			enhanced printer spooler
DISTNAME=	LPRng-3.8.21
CATEGORIES=	sysutils print
MASTER_SITES=	ftp://ftp.lprng.com/pub/LPRng/LPRng/ \
		ftp://sunsite.ualberta.ca/pub/Mirror/LPRng/ \
		ftp://ftp.mono.org/pub/LPRng/ 
EXTRACT_SUFX=	.tgz

# GPL / Artistic
PERMIT_PACKAGE_CDROM=	Yes
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes

MODULES=	devel/gettext
LIB_DEPENDS=	gdbm.2::databases/gdbm

CONFIGURE_STYLE=autoconf dest
AUTOCONF_NEW=	Yes
CONFIGURE_ARGS=	--with-sbindir=${PREFIX}/sbin \
		--with-filterdir=${PREFIX}/libexec/filters \
		--with-lpd_conf_path=${CONFDIR}/lpd.conf \
		--with-lpd_perms_path=${CONFDIR}/lpd.perms \
		--with-printcap_path=${SYSCONFDIR}/printcap \
		--with-cppopts=-I${LOCALBASE}/include \
		--with-ldopts=-L${LOCALBASE}/lib \
		--with-libiconv-prefix=${ICONV_PREFIX} \
		--with-libintl-prefix=${LOCALBASE}
CFLAGS+=	-Dlog=mylog
FAKE_FLAGS=	DESTDIR=${WRKINST} POSTINSTALL=NO prefix=${TRUEPREFIX} \
		FILTER_DIR=${TRUEPREFIX}/libexec/filters \
		LPD_PERMS_PATH=${TRUEPREFIX}${CONFDIR}/lpd.perms \
		LPD_CONF_PATH=${TRUEPREFIX}${CONFDIR}/lpd.conf \
		PRINTCAP_PATH=${TRUEPREFIX}${CONFDIR}/printcap
CONFDIR=	${SYSCONFDIR}/LPRng
HTMLFILES=	LPRng-HOWTO.html 
SUBST_VARS=	CONFDIR

# we don't trust LPRng's (pre|post)install scripts
pre-fake:
	mkdir -p ${WRKINST}${CONFDIR}
	cp ${WRKSRC}/lpd.conf ${WRKSRC}/lpd.perms ${WRKSRC}/printcap \
		${WRKINST}${CONFDIR}

post-install:
	${INSTALL_DATA_DIR} ${PREFIX}/share/doc/LPRng
	${INSTALL_DATA_DIR} ${PREFIX}/share/examples/LPRng
	cd ${WRKSRC}/HOWTO && ${INSTALL_DATA} ${HTMLFILES} \
		${PREFIX}/share/doc/LPRng
.for i in lpd.conf lpd.perms printcap
	${INSTALL_DATA} ${WRKINST}${CONFDIR}/$i ${PREFIX}/share/examples/LPRng
.endfor

.include <bsd.port.mk>
@


1.2
log
@can't OpenBSD do a single thing right?
* fix hidden iconv dependencies
* update p5-Text-Iconv to 1.4 (1.2 distfile vanished)

I probably should have bumped the patchlevels... but don't care
@
text
@d1 1
a1 1
# $MirOS: ports/sysutils/LPRng/Makefile,v 1.1.7.1 2005/03/18 15:52:00 tg Exp $
d4 1
a4 1
COMMENT=	"enhanced printer spooler"
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $MirOS$
d30 1
a30 1
		--with-libiconv-prefix=${LOCALBASE} \
@


1.1.7.1
log
@Import the MirPorts Framework, many files moved or renamed though, no KDE/QT
@
text
@@
