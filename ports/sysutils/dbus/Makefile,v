head	1.2;
access;
symbols;
locks; strict;
comment	@# @;


1.2
date	2008.03.09.17.23.33;	author tg;	state Exp;
branches;
next	1.1;
commitid	10047D41CAA7E715397;

1.1
date	2007.06.17.18.15.13;	author bsiegert;	state Exp;
branches;
next	;
commitid	100467579D71823518A;


desc
@@


1.2
log
@bulk convert FLAVOR to FLAVOUR; nuke unused file; convert to $Mdocdate
@
text
@# $MirOS: ports/sysutils/dbus/Makefile,v 1.1 2007/06/17 18:15:13 bsiegert Exp $
# $NetBSD: Makefile,v 1.23 2007/01/17 02:46:59 dmcmahill Exp $
#

COMMENT=		Message bus system
DISTNAME=		dbus-1.0.2
CATEGORIES=		sysutils
MASTER_SITES=		http://dbus.freedesktop.org/releases/dbus/

HOMEPAGE=		http://www.freedesktop.org/Software/dbus

FLAVOUR?=
FLAVOURS=		no_x11

# GPL
PERMIT_PACKAGE_CDROM=	Yes
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes

CONFIGURE_STYLE=	autoconf
AUTOCONF_NEW=		Yes
USE_GMAKE=		Yes
MODULES+=		devel/pkgconfig converters/libiconv

CONFIGURE_ARGS+=	--disable-abstract-sockets
CONFIGURE_ARGS+=	--disable-ansi
CONFIGURE_ARGS+=	--disable-asserts
CONFIGURE_ARGS+=	--disable-console-owner-file
CONFIGURE_ARGS+=	--disable-dnotify
CONFIGURE_ARGS+=	--disable-doxygen-docs
CONFIGURE_ARGS+=	--disable-gcov
CONFIGURE_ARGS+=	--disable-selinux
CONFIGURE_ARGS+=	--disable-tests
CONFIGURE_ARGS+=	--disable-verbose-mode
CONFIGURE_ARGS+=	--disable-xml-docs
CONFIGURE_ARGS+=	--enable-checks
CONFIGURE_ARGS+=	--with-xml=expat
CONFIGURE_ARGS+=	--with-dbus-user=_dbus

.if ${FLAVOUR:Mno_x11}
CONFIGURE_ARGS+=	--without-x
.else
USE_X11=		Yes
.endif

PKG_SYSCONFSUBDIR=	dbus-1
MAKE_DIRS=		${PKG_SYSCONFDIR}/event.d
MAKE_DIRS+=		${PKG_SYSCONFDIR}/system.d

EGDIR=			${PREFIX}/share/examples/dbus
CONF_FILES=		${EGDIR}/session.conf ${PKG_SYSCONFDIR}/session.conf
CONF_FILES+=		${EGDIR}/system.conf ${PKG_SYSCONFDIR}/system.conf
INSTALLATION_DIRS=	${EGDIR}

RCD_SCRIPTS=		dbus

.include <bsd.port.mk>
@


1.1
log
@Add ports for dbus and its glib bindings, taken from NetBSD(TM) pkgsrc.

From DESCR:

D-BUS is a message bus, used for sending messages between applications.
Conceptually, it fits somewhere in between raw sockets and CORBA in terms
of complexity.

D-BUS supports broadcast messages, asynchronous messages (thus decreasing
latency), authentication, and more.  It is designed to be low-overhead;
messages are sent using a binary protocol, not using XML.  D-BUS also
supports a method call mapping for its messages, but it is not required;
this makes using the system quite simple.
@
text
@d1 1
a1 1
# $MirOS$
d12 2
a13 2
FLAVOR?=
FLAVORS=		no_x11
d41 1
a41 1
.if ${FLAVOR:Mno_x11}
@

