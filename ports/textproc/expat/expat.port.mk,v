head	1.6;
access;
symbols;
locks; strict;
comment	@# @;


1.6
date	2008.09.21.20.22.42;	author bsiegert;	state Exp;
branches;
next	1.5;
commitid	10048D6AD041F27885C;

1.5
date	2008.04.12.20.22.14;	author tg;	state Exp;
branches;
next	1.4;
commitid	100480119FC3B66D4A6;

1.4
date	2008.04.07.19.46.56;	author tg;	state Exp;
branches;
next	1.3;
commitid	10047FA7A292EA81FEC;

1.3
date	2008.04.07.18.56.22;	author tg;	state Exp;
branches;
next	1.2;
commitid	10047FA6E673582C6B8;

1.2
date	2006.05.29.21.32.24;	author tg;	state Exp;
branches;
next	1.1;
commitid	100447B687F5D62DD69;

1.1
date	2006.05.29.21.23.29;	author bsiegert;	state Exp;
branches;
next	;
commitid	100447B662D2AEBC4D0;


desc
@@


1.6
log
@On Darwin >= 9 (i.e. Mac OS 10.5 and greater), expat is in /usr, not in
/usr/X11R6.
@
text
@# $MirOS: ports/textproc/expat/expat.port.mk,v 1.5 2008/04/12 20:22:14 tg Exp $
# $OpenBSD: iconv.port.mk,v 1.4 2001/11/27 17:44:04 brad Exp $

# This is equivalent to USE_MOTIF.
# Can be one of 'any', 'base', 'X11', 'port'
USE_EXPAT?=	any

.if ${USE_EXPAT:L} == "any"
.  if ${OStype} == "MirBSD"
.    if ${OSver:R} < 8
USE_EXPAT=	port
.    elif ${OSver:R} == 8
USE_EXPAT=	base
.    else
USE_EXPAT=	base
.    endif
.  elif ${OStype} == "Darwin"
.    if ${OSrev:R} < 9
USE_EXPAT=	X11
.    else
USE_EXPAT=	base
.    endif
.  elif ${OStype} == "OpenBSD"
USE_EXPAT=	X11
.  else
USE_EXPAT=	port
.  endif
.endif

.if ${USE_EXPAT:L} == "port"
LIB_DEPENDS+=	pkgview/expat/lib/expat:expat->=2.0.0-1:textproc/expat
EXPAT_PREFIX=	${LOCALBASE}/pkgview/expat
CPPFLAGS+=	-I${EXPAT_PREFIX:Q}/include
LDFLAGS+=	-Wl,-rpath,${EXPAT_PREFIX:Q}/lib -L${EXPAT_PREFIX:Q}/lib
.elif ${USE_EXPAT:L} == "base"
EXPAT_PREFIX=	/usr
.elif ${USE_EXPAT:L} == "x11"
EXPAT_PREFIX=	${X11BASE}
USE_X11=	Yes		# XXX too late in a MODULES file
.else
.  error USE_EXPAT=${USE_EXPAT:L} invalid
.endif
@


1.5
log
@../ is not right here, actually
interesting find, discovered on stargazer.MidnightBSD.org
@
text
@d1 1
a1 1
# $MirOS: ports/textproc/expat/expat.port.mk,v 1.4 2008/04/07 19:46:56 tg Exp $
d18 1
d20 3
@


1.4
log
@• fix LIB_DEPENDS
• merge RUN_DEPENDS into LIB_DEPENDS (middle part) – bsieger@@ says we can
• add to CPPFLAGS too
@
text
@d1 1
a1 1
# $MirOS: ports/textproc/expat/expat.port.mk,v 1.3 2008/04/07 18:56:22 tg Exp $
d27 1
a27 1
LIB_DEPENDS+=	../pkgview/expat/lib/expat:expat->=2.0.0-1:textproc/expat
@


1.3
log
@spend expat a fake-pkgview
@
text
@d1 1
a1 1
# $MirOS: ports/textproc/expat/expat.port.mk,v 1.2 2006/05/29 21:32:24 tg Exp $
d27 1
a27 1
LIB_DEPENDS+=	expat:expat->=2.0.0-1:textproc/expat
d29 1
@


1.2
log
@typo
@
text
@d1 1
a1 1
# $MirOS: ports/textproc/expat/expat.port.mk,v 1.1 2006/05/29 21:23:29 bsiegert Exp $
d27 3
a29 2
LIB_DEPENDS+=	expat::textproc/expat
EXPAT_PREFIX=	${LOCALBASE}
d34 1
a34 1
USE_X11=	Yes
@


1.1
log
@Oops, I should commit the required expat module too :).

Allows the user to choose how he wants to have expat included. All ports
using expat should be updated to use this, I guess.
@
text
@d1 1
a1 1
# $MirOS: ports/converters/libiconv/libiconv.port.mk,v 1.3 2006/02/01 17:23:35 tg Exp $
d20 1
a20 1
USE_XPAT=	X11
@

