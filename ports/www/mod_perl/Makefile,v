head	1.5;
access;
symbols;
locks; strict;
comment	@# @;


1.5
date	2009.01.20.18.49.20;	author bsiegert;	state Exp;
branches;
next	1.4;
commitid	10049761C185492265B;

1.4
date	2006.09.14.00.14.45;	author tg;	state Exp;
branches;
next	1.3;
commitid	10045089C0E234154C3;

1.3
date	2005.07.07.21.27.47;	author bsiegert;	state Exp;
branches;
next	1.2;
commitid	66bc42cd9a7ea714;

1.2
date	2005.04.10.21.51.38;	author tg;	state Exp;
branches;
next	1.1;

1.1
date	2005.03.18.15.59.45;	author tg;	state Exp;
branches
	1.1.7.1;
next	;

1.1.7.1
date	2005.03.18.15.59.45;	author tg;	state Exp;
branches;
next	;


desc
@@


1.5
log
@Update to 1.30, bring back, fix, etc.
@
text
@# $MirOS: ports/www/mod_perl/Makefile,v 1.4 2006/09/14 00:14:45 tg Exp $
# $OpenBSD: Makefile,v 1.15 2004/04/13 14:37:26 peter Exp $

# This port currently only works with archs supporting dynamic loading
# and has Apache that supports DSOs.
NOT_FOR_PLATFORM=	${NOPIC_PLATFORMS}

COMMENT=	module that embeds a Perl interpreter into Apache
DISTNAME=	mod_perl-1.30
CATEGORIES=	www perl5
MASTER_SITES=	http://perl.apache.org/dist/ \
		${MASTER_SITE_PERL_CPAN:=Apache/}
HOMEPAGE=	http://perl.apache.org/

# Apache
PERMIT_PACKAGE_CDROM=	Yes
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes

SUBST_VARS=	PKGNAME

NO_REGRESS=	Yes

CONFIGURE_STYLE= perl
CONFIGURE_ARGS=	USE_APXS="1" EVERYTHING="1" WITH_APXS="/usr/sbin/apxs"

INSTALL_TARGET=	pure_install doc_install

post-build:
	@@sed -e s#!!PREFIX!!#${PREFIX}#g \
	< ${FILESDIR}/mod_perl-enable > ${WRKBUILD}/mod_perl-enable

post-install:
	${INSTALL_DATA_DIR} ${PREFIX}/share/doc/mod_perl
	${INSTALL_DATA} ${WRKBUILD}/apaci/libperl.so ${PREFIX}/lib/mod_perl.so
	${INSTALL_DATA} ${WRKSRC}/htdocs/manual/mod/* \
		${PREFIX}/share/doc/mod_perl
	${INSTALL_SCRIPT} ${WRKBUILD}/mod_perl-enable ${PREFIX}/sbin

.include <bsd.port.mk>
@


1.4
log
@clean up COMMENT and HOMEPAGE; regenerate INDEX (2761, 169 marked as broken, probably many many more) ­ edited by script with manual postprocessing
@
text
@d1 1
a1 1
# $MirOS: ports/www/mod_perl/Makefile,v 1.3 2005/07/07 21:27:47 bsiegert Exp $
d8 2
a9 2
COMMENT=			module that embeds a Perl interpreter into Apache
DISTNAME=	mod_perl-1.29
@


1.3
log
@Semi-automatic update of the remaining ports to the new patchlevel format.

Please correct mistakes if you find them :).
@
text
@d1 1
a1 1
# $MirOS: ports/www/mod_perl/Makefile,v 1.1.7.1 2005/03/18 15:59:45 tg Exp $
d8 1
a8 1
COMMENT=	"module that embeds a Perl interpreter into Apache"
@


1.2
log
@NOPIC_PLATFORMS, LP64_PLATFORMS and general change of
{NOT,ONLY}_FOR_{ARCH{,E,ES},OS} to {NOT,ONLY}_FOR_PLATFORM

some fallout maybe, I hope not
@
text
@@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $MirOS$
d6 1
a6 1
NOT_FOR_ARCHS=	${NO_SHARED_ARCHS}
@


1.1.7.1
log
@Import the MirPorts Framework, many files moved or renamed though, no KDE/QT
@
text
@@
