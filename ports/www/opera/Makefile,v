head	1.29;
access;
symbols
	tg-opera-9_5x:1.26.0.2;
locks; strict;
comment	@# @;


1.29
date	2011.01.21.17.59.58;	author tg;	state Exp;
branches;
next	1.28;
commitid	1004D39C9A5050B29C1;

1.28
date	2009.05.25.11.03.15;	author tg;	state Exp;
branches;
next	1.27;
commitid	1004A1A7B0B1FA6D13C;

1.27
date	2008.08.27.09.32.04;	author tg;	state Exp;
branches;
next	1.26;
commitid	10048B51E9E53486F6D;

1.26
date	2008.04.04.21.35.52;	author tg;	state Exp;
branches
	1.26.2.1;
next	1.25;
commitid	10047F69F405EEC5692;

1.25
date	2008.02.24.14.21.57;	author tg;	state Exp;
branches;
next	1.24;
commitid	10047C17D476DB67E5D;

1.24
date	2007.10.18.21.22.33;	author tg;	state Exp;
branches;
next	1.23;
commitid	1004717CEB06D8F21F9;

1.23
date	2007.08.16.11.10.44;	author tg;	state Exp;
branches;
next	1.22;
commitid	10046C430CA49CE9907;

1.22
date	2007.07.19.12.02.48;	author tg;	state Exp;
branches;
next	1.21;
commitid	100469F52F83BC3B59E;

1.21
date	2007.05.22.19.56.58;	author tg;	state Exp;
branches;
next	1.20;
commitid	10046534B0E7A1BD262;

1.20
date	2007.04.30.12.47.16;	author tg;	state Exp;
branches;
next	1.19;
commitid	1004635E55178AEC4E1;

1.19
date	2006.12.21.13.36.20;	author tg;	state Exp;
branches;
next	1.18;
commitid	100458A8DE53A6353B0;

1.18
date	2006.12.20.21.39.29;	author tg;	state Exp;
branches;
next	1.17;
commitid	1004589AD455A02A8F2;

1.17
date	2006.09.21.14.37.31;	author tg;	state Exp;
branches;
next	1.16;
commitid	1004512A3C177D618B7;

1.16
date	2006.09.14.00.14.47;	author tg;	state Exp;
branches;
next	1.15;
commitid	10045089C0E234154C3;

1.15
date	2006.08.09.15.00.24;	author tg;	state Exp;
branches;
next	1.14;
commitid	10044D9F89F2078813B;

1.14
date	2006.06.25.06.26.52;	author tg;	state Exp;
branches;
next	1.13;
commitid	100449E2C915D109F2B;

1.13
date	2006.06.24.11.47.55;	author bsiegert;	state Exp;
branches;
next	1.12;
commitid	100449D267668A4E3B6;

1.12
date	2006.06.24.11.44.58;	author bsiegert;	state Exp;
branches;
next	1.11;
commitid	100449D259F1C3FA60F;

1.11
date	2006.06.23.14.27.15;	author tg;	state Exp;
branches;
next	1.10;
commitid	100449BFA425092526F;

1.10
date	2006.06.20.18.20.36;	author tg;	state Exp;
branches;
next	1.9;
commitid	10044983C887EA7A83A;

1.9
date	2006.02.18.13.03.28;	author tg;	state Exp;
branches;
next	1.8;
commitid	10043F71B232FFF12F6;

1.8
date	2006.02.01.20.38.49;	author tg;	state Exp;
branches;
next	1.7;
commitid	10043E11C3B4C8B055B;

1.7
date	2006.01.25.11.28.28;	author tg;	state Exp;
branches;
next	1.6;
commitid	10043D760EA489560FC;

1.6
date	2006.01.18.11.26.17;	author tg;	state Exp;
branches;
next	1.5;
commitid	10043CE25E462AC2283;

1.5
date	2005.12.16.14.42.58;	author tg;	state Exp;
branches;
next	1.4;
commitid	10043A2D22A7A063572;

1.4
date	2005.07.07.21.27.51;	author bsiegert;	state Exp;
branches;
next	1.3;
commitid	66bc42cd9a7ea714;

1.3
date	2005.04.11.15.57.13;	author tg;	state Exp;
branches;
next	1.2;

1.2
date	2005.04.10.21.51.42;	author tg;	state Exp;
branches;
next	1.1;

1.1
date	2005.03.18.15.59.50;	author tg;	state Exp;
branches
	1.1.7.1;
next	;

1.26.2.1
date	2008.06.13.00.38.31;	author tg;	state Exp;
branches;
next	1.26.2.2;
commitid	1004851C17C7C53252E;

1.26.2.2
date	2008.07.09.16.32.30;	author tg;	state Exp;
branches;
next	1.26.2.3;
commitid	1004874E8236F631241;

1.26.2.3
date	2008.10.22.21.06.28;	author tg;	state Exp;
branches;
next	;
commitid	10048FF958F20BF9AA6;

1.1.7.1
date	2005.03.18.15.59.50;	author tg;	state Exp;
branches;
next	;


desc
@@


1.29
log
@unlimit datasile and nofiles before start
@
text
@# $MirOS: ports/www/opera/Makefile,v 1.28 2009/05/25 11:03:15 tg Exp $
# $OpenBSD: Makefile,v 1.31 2005/11/22 21:44:22 sturm Exp $

ONLY_FOR_PLATFORM=	OpenBSD:*:i386 MirBSD:*:i386
EMUL=			linux

COMMENT=		fast and customisable WWW browser
VERS=			9.27
DASH_VER=		3
DISTNAME=		opera-${VERS}-20080331.1-static-qt.i386-en
PKGNAME=		opera-${VERS}-${DASH_VER}
CATEGORIES=		www
HOMEPAGE=		http://www.opera.com/
WRKDIST=		${WRKDIR}/${DISTNAME}-709

# Distribution possible under special agreement;
# sublicencing is, however, not allowed.
PERMIT_PACKAGE_CDROM=	"Commercial software"
PERMIT_PACKAGE_FTP=	"Commercial software"
PERMIT_DISTFILES_CDROM=	"Commercial software"
PERMIT_DISTFILES_FTP=	"Commercial software"

EXTRACT_ONLY=		${DISTNAME}${EXTRACT_SUFX}
DISTFILES=		${EXTRACT_ONLY} \
			lux920final.lng:0 \
			Minimalist%20Native.zip:1
OPERA_SKIN_FILES=	Minimalist%20Native.zip
# http://opera-info.de/forum/board.php?boardid=93
OPERA_LANG_FILES=	lux920final.lng

MASTER_SITES_OPERA=	ftp://ftp.opera.com/pub/opera/ \
			ftp://gd.tuwien.ac.at/infosys/browsers/opera/ \
			ftp://ftp.hu-berlin.de/pub/www/opera/ \
			ftp://sunsite.cnlab-switch.ch/mirror/opera/ \
			ftp://ftp.planetmirror.com/pub/opera/ \
			ftp://ftp.sunet.se/pub/www/clients/Opera/ \
			ftp://ftp.task.gda.pl/pub/opera/ \
			ftp://opera.mirror.stop.hu/opera/ \
			http://www.panix.com/opera/files/ \
			ftp://ftp.rge.com/pub/infosystems/opera/ \
			http://www.rge.com/pub/infosystems/opera/

MASTER_SITES=		${MASTER_SITES_OPERA:=linux/${VERS:S/.0$/00/:S/.//}/final/en/i386/static/}
MASTER_SITES0=		http://files.opera-info.de/philo/lng/
MASTER_SITES1=		http://opera-fansite.de/files/skins/

RUN_DEPENDS=		::emulators/fedora

NO_BUILD=		Yes
NO_REGRESS=		Yes

do-install:
	cd ${WRKBUILD} && ${SHELL} ./install.sh \
	    --prefix=${PREFIX} \
	    --exec_prefix=${PREFIX}/libexec \
	    --plugindir=${PREFIX}/share/opera/plugins
	sed -e 's:@@PREFIX@@:${TRUEPREFIX}:g' \
	    -e 's:@@SHELL@@:${MKSH}:g' \
	    -e 's:@@LOCALBASE@@:${LOCALBASE}:g' \
	    ${FILESDIR}/opera.sh >${PREFIX}/bin/opera
	mv ${PREFIX}/share/doc/opera/* ${PREFIX}/share/opera/
	rmdir ${PREFIX}/share/doc/opera
	for f in ${PREFIX}/share/opera/ini/pluginpath.ini \
	    ${PREFIX}/share/opera/java/opera.policy; do \
		print '%g!${PREFIX}!s!!${TRUEPREFIX}!g\nwq' | \
		    ed -s $$f; \
	done
	print '/^.usr.lib.opera.plugins/s!!${TRUEPREFIX}/share/opera/plugins!\nwq' | \
	    ed -s ${PREFIX}/share/opera/ini/pluginpath.ini
	sed -e 's:@@PREFIX@@:${TRUEPREFIX}:g' ${FILESDIR}/pluginpaths \
	    >>${PREFIX}/share/opera/ini/pluginpath.ini
	cd ${FULLDISTDIR}; cp ${OPERA_LANG_FILES} ${PREFIX}/share/opera/locale/
	cd ${FULLDISTDIR}; cp ${OPERA_SKIN_FILES} ${PREFIX}/share/opera/skin/

.include <bsd.port.mk>
@


1.28
log
@disable core dumps
@
text
@d1 1
a1 1
# $MirOS: ports/www/opera/Makefile,v 1.27 2008/08/27 09:32:04 tg Exp $
d9 1
a9 1
DASH_VER=		2
@


1.27
log
@Create a new package, fedora-libs, from OpenBSDâ€™s fedora_base and
fedora_motif, containing Fedora Core 4 libraries, by suggestion of
the MidnightBSD developers; convert Opera and AcroRead to use it,
tentatively; this fixes plugins in Opera, for instance, and possi-
bly opens the door for the Opera 9.5x upgrade â€“ which MidnightBSD
doesnâ€™t have yet either. While here sprinkle some uname checks for
mnbsd, fix the emulated ldd, and re-enable plugins/java for Opera

NOTE: This is EXPERIMENTAL.
@
text
@d1 1
a1 1
# $MirOS: ports/www/opera/Makefile,v 1.26 2008/04/04 21:35:52 tg Exp $
d9 1
a9 1
DASH_VER=		1
@


1.26
log
@another new version of Opera (9.27), more security fixes, but also fatterâ€¦
@
text
@d1 1
a1 1
# $MirOS: ports/www/opera/Makefile,v 1.25 2008/02/24 14:21:57 tg Exp $
d9 1
d47 1
a47 1
RUN_DEPENDS=		:debian-libs->=3.1-2:emulators/debian
a51 4
DBL_FILES=		${PREFIX}/libexec/opera ${PREFIX}/libexec/works \
			${PREFIX}/share/opera/plugins/operaplugincleaner \
			${PREFIX}/share/opera/plugins/operapluginwrapper

a56 5
	chmod 600 ${PREFIX}/libexec/opera
.for _i in ${DBL_FILES}
	perl -i -pe 's!/lib/ld-linux\.so\.2!/dbl/ld-linux.so.2!' ${_i}
.endfor
	chmod ${BINMODE} ${PREFIX}/libexec/opera
d65 2
a66 2
		print '%g!${PREFIX}!s!!${TRUEPREFIX}!g\nwq' \
		    | ed -s $$f; \
d68 4
a71 2
	print '/^.usr.lib.opera.plugins/s!!${TRUEPREFIX}/share/opera/plugins!\nwq' \
	    | ed -s ${PREFIX}/share/opera/ini/pluginpath.ini
@


1.26.2.1
log
@commit not-quite-working update to Opera 9.50:
Jun 13 00:35:36 odem /bsd: signal 11 received by (opera:18754) UID(2999) EUID(2999), parent (mksh:17794) UID(2999) EUID(2999)

This (happening several times) includes core dumps (unless ulimit -c 0)
and occurs even if not using plugins.
@
text
@d1 1
a1 1
# $MirOS: ports/www/opera/Makefile,v 1.26 2008/04/04 21:35:52 tg Exp $
d8 2
a9 2
VERS=			9.50
DISTNAME=		opera-${VERS}.gcc4-static-qt3.i386
d13 1
a13 1
WRKDIST=		${WRKDIR}/opera-${VERS}-2042.gcc4-static-qt3.i386
d24 1
a24 1
			lux950beta1.lng:0 \
d28 1
a28 1
OPERA_LANG_FILES=	lux950beta1.lng
d51 3
a53 3
DBL_FILES=		${PREFIX}/libexec/opera \
			${PREFIX}/libexec/operaplugincleaner \
			${PREFIX}/libexec/operapluginwrapper
d57 3
a59 4
	    --DESTDIR=${WRKINST:Q} \
	    --prefix=${TRUEPREFIX:Q} \
	    --exec_prefix=${TRUEPREFIX:Q}/libexec \
	    --plugindir=${TRUEPREFIX:Q}/share/opera/plugins
d65 15
a79 4
	rm -rf ${PREFIX}/share/doc/opera
	cd ${FULLDISTDIR} && \
	    cp ${OPERA_LANG_FILES} ${PREFIX}/share/opera/locale/ && \
	    cp ${OPERA_SKIN_FILES} ${PREFIX}/share/opera/skin/
@


1.26.2.2
log
@9.51, security fixes, with help from openbsd

we use gcc2.95 ipv gcc4 version now, let's see if this helps
@
text
@d1 2
a2 2
# $MirOS: ports/www/opera/Makefile,v 1.26.2.1 2008/06/13 00:38:31 tg Exp $
# $OpenBSD: Makefile,v 1.52 2008/07/04 06:32:27 sturm Exp $
d8 2
a9 3
VERS=			9.51
OPERA_BUILD=		2061
DISTNAME=		opera-${VERS}.gcc295-static-qt3.i386
d13 1
a13 1
WRKDIST=		${WRKDIR}/opera-${VERS}-${OPERA_BUILD}.gcc295-static-qt3.i386
a51 1
			${PREFIX}/libexec/works \
a59 4
	    --docdir=${TRUEPREFIX:Q}/share/doc/opera \
	    --mandir=${TRUEPREFIX:Q}/man \
	    --wrapperdir=${TRUEPREFIX:Q}/bin \
	    --sharedir=${TRUEPREFIX:Q}/share/opera \
d61 1
a61 1
	chmod 600 ${DBL_FILES}
d65 2
a66 1
	chmod ${BINMODE} ${DBL_FILES}
@


1.26.2.3
log
@upgrade to Opera 9.61
â€¢ does not exit cleanly, needs SIGABRT most of the time (usually, though,
  SIGKILL works, but not always â€“ Zombies â€“, some rare times SIGTERM or
  SIGINT work)
â€¢ leaves Zombies around running
â€¢ Plugins do not work
â€¢ Javaâ„¢ has improved though it also does not work

operapluginwrapper: [plugin failed ] dlopen(RTLD_NOW | RTLD_GLOBAL) failed on /usr/mpkg/Acrobat5/Browsers/intellinux/nppdf.so
operapluginwrapper: [plugin failed ] With error /usr/mpkg/Acrobat5/Browsers/intellinux/nppdf.so: cannot enable executable stack as shared object requires: Permission denied

I wonder why. Adding a .note.GNU-stack section to the plugin did not help.
@
text
@d1 1
a1 1
# $MirOS: ports/www/opera/Makefile,v 1.26.2.2 2008/07/09 16:32:30 tg Exp $
d4 1
a4 1
ONLY_FOR_PLATFORM=	*BSD:*:i386
d8 3
a10 4
VERS=			9.61
OPERA_BUILD=		2456
OPERA_ARCH=		gcc4-static-qt3.i386
DISTNAME=		opera-${VERS}.${OPERA_ARCH}
d14 1
a14 1
WRKDIST=		${WRKDIR}/opera-${VERS}-${OPERA_BUILD}.${OPERA_ARCH}
d25 1
a25 1
			lux960final.lng:0 \
d27 1
a27 1
OPERA_SKIN_FILES=	Minimalist%20Native.zip Minimalist\ Native.zip
d29 1
a29 1
OPERA_LANG_FILES=	lux960final.lng lux960final.lng
d47 1
a47 1
RUN_DEPENDS=		::emulators/fedora
d52 5
d67 3
a69 9
	print ',g/@@LOCALBASE@@/s'${LOCALBASE:Q}'g\nwq' | \
	    ed -s ${PREFIX}/bin/opera
	print ',g^/usr/locals^/usr/local\(.*\)$$&\\\n'${TRUEPREFIX:Q}'\\1\nwq' | \
	    ed -s ${PREFIX}/share/opera/ini/pluginpath.ini
.for _s _d in ${OPERA_LANG_FILES}
	cp ${FULLDISTDIR}/${_s} ${PREFIX}/share/opera/locale/${_d}
.endfor
.for _s _d in ${OPERA_SKIN_FILES}
	cp ${FULLDISTDIR}/${_s} ${PREFIX}/share/opera/skin/${_d}
d71 4
@


1.25
log
@update opera (security and stability fixes)
@
text
@d1 1
a1 1
# $MirOS: ports/www/opera/Makefile,v 1.24 2007/10/18 21:22:33 tg Exp $
d8 2
a9 2
VERS=			9.26
DISTNAME=		opera-${VERS}-20080215.1-static-qt.i386-en
d13 1
a13 1
WRKDIST=		${WRKDIR}/${DISTNAME}-698
@


1.24
log
@SECURITY upgrade to 9.24
@
text
@d1 1
a1 1
# $MirOS: ports/www/opera/Makefile,v 1.23 2007/08/16 11:10:44 tg Exp $
d8 2
a9 2
VERS=			9.24
DISTNAME=		opera-${VERS}-20071015.1-static-qt.i386-en
d13 1
a13 1
WRKDIST=		${WRKDIR}/${DISTNAME}-671
@


1.23
log
@9.23, 10x bsiegert@@ for noticing
@
text
@d1 1
a1 1
# $MirOS: ports/www/opera/Makefile,v 1.22 2007/07/19 12:02:48 tg Exp $
d8 2
a9 2
VERS=			9.23
DISTNAME=		opera-${VERS}-20070809.1-static-qt.i386-en
d13 1
a13 1
WRKDIST=		${WRKDIR}/${DISTNAME}-660
@


1.22
log
@update to 9.22, noticed by bsiegert@@
@
text
@d1 1
a1 1
# $MirOS: ports/www/opera/Makefile,v 1.21 2007/05/22 19:56:58 tg Exp $
d8 2
a9 2
VERS=			9.22
DISTNAME=		opera-${VERS}-20070716.1-static-qt.i386-en
d13 1
a13 1
WRKDIST=		${WRKDIR}/${DISTNAME}-655
@


1.21
log
@â€¢ minor update to 9.21 (security stuff only affects win32 platform)
â€¢ be more smart
@
text
@d1 1
a1 1
# $MirOS: ports/www/opera/Makefile,v 1.20 2007/04/30 12:47:16 tg Exp $
d8 2
a9 2
VERS=			9.21
DISTNAME=		opera-${VERS}-20070510.1-static-qt.i386-en
d13 1
a13 1
WRKDIST=		${WRKDIR}/${DISTNAME}-641
@


1.20
log
@update opera to 9.20, still can't get plugins to work, have to disable new XSHM
@
text
@d1 1
a1 1
# $MirOS: ports/www/opera/Makefile,v 1.19 2006/12/21 13:36:20 tg Exp $
d8 2
a9 2
VERS=			9.20
DISTNAME=		opera-${VERS}-20070409.1-static-qt.i386-en
d13 1
a13 1
WRKDIST=		${WRKDIR}/${DISTNAME}-638
@


1.19
log
@damnit, left in debugging crap, oeps
@
text
@d1 1
a1 1
# $MirOS: ports/www/opera/Makefile,v 1.17 2006/09/21 14:37:31 tg Exp $
d8 3
a10 3
VERS=			9.10
DISTNAME=		opera-${VERS}-20061214.1-static-qt.i386-en
PKGNAME=		opera-${VERS}-0
d13 1
a13 1
WRKDIST=		${WRKDIR}/${DISTNAME}-521
d24 1
a24 1
			lux910final.lng:0 \
a25 1
OPERA_LANG_FILES=	lux910final.lng
d27 2
@


1.18
log
@* untested update to 9.10
* bundle "Minimalist Native" theme (XXX can it be selected out of the box?)
* bundle .lu third-party language pack (the only language pack
  available for 9.10-Linux; the 9.10-Windows official packs won't
  work with the Linux binary; more to come...)

remaining issues:
* /etc/opera6rc can't be used, thus pkg/MESSAGE stays :(
* no Java support (someone should make 1.3-linux work)
@
text
@d64 4
a67 4
#	sed -e 's:@@PREFIX@@:${TRUEPREFIX}:g' \
#	    -e 's:@@SHELL@@:${MKSH}:g' \
#	    -e 's:@@LOCALBASE@@:${LOCALBASE}:g' \
#	    ${FILESDIR}/opera.sh >${PREFIX}/bin/opera
@


1.17
log
@Opera 90.2 ;)
@
text
@d1 1
a1 1
# $MirOS: ports/www/opera/Makefile,v 1.16 2006/09/14 00:14:47 tg Exp $
d7 3
a9 3
COMMENT=		fast and customizable WWW browser
VERS=			9.02
DISTNAME=		opera-${VERS}-20060919.1-static-qt.i386-en
d13 1
a13 1
WRKDIST=		${WRKDIR}/${DISTNAME}-434
d15 2
d22 7
d42 2
d64 4
a67 4
	sed -e 's:@@PREFIX@@:${TRUEPREFIX}:g' \
	    -e 's:@@SHELL@@:${MKSH}:g' \
	    -e 's:@@LOCALBASE@@:${LOCALBASE}:g' \
	    ${FILESDIR}/opera.sh >${PREFIX}/bin/opera
d77 2
@


1.16
log
@clean up COMMENT and HOMEPAGE; regenerate INDEX (2761, 169 marked as broken, probably many many more) ­ edited by script with manual postprocessing
@
text
@d1 1
a1 1
# $MirOS: ports/www/opera/Makefile,v 1.15 2006/08/09 15:00:24 tg Exp $
d7 3
a9 3
COMMENT=			fast and customizable WWW browser
VERS=			9.01
DISTNAME=		opera-${VERS}-20060728.1-static-qt.i386-en
d13 1
a13 1
WRKDIST=		${WRKDIR}/${DISTNAME}-400
@


1.15
log
@update to 9.01
@
text
@d1 1
a1 1
# $MirOS: ports/www/opera/Makefile,v 1.14 2006/06/25 06:26:52 tg Exp $
d7 1
a7 1
COMMENT=		"fast and customizable WWW browser"
@


1.14
log
@add a few more libs to the debian package, and preload the
resolver in opera (now it works w/o redhat-base installed,
but adding that still freaks the plugins, why? systrace is
not helpful at this point any more...)
@
text
@d1 1
a1 1
# $MirOS: ports/www/opera/Makefile,v 1.13 2006/06/24 11:47:55 bsiegert Exp $
d8 3
a10 3
VERS=			9.0
DISTNAME=		opera-${VERS}-20060616.1-static-qt.i386-en
PKGNAME=		opera-${VERS}-2
d13 1
a13 1
WRKDIST=		${WRKDIR}/${DISTNAME}-344
@


1.13
log
@Correct working directory name, oops
@
text
@d1 1
a1 1
# $MirOS: ports/www/opera/Makefile,v 1.12 2006/06/24 11:44:58 bsiegert Exp $
d10 1
a10 1
PKGNAME=		opera-${VERS}-1
d34 1
a34 1
RUN_DEPENDS=		:debian-libs->=3.1-1:emulators/debian
@


1.12
log
@The distfile has been renamed but the checksums are the same.

This commit is made from showcase.mirbsd.org at FROSCON 2006!

ok tg@@
@
text
@d1 1
a1 1
# $MirOS: ports/www/opera/Makefile,v 1.11 2006/06/23 14:27:15 tg Exp $
d13 1
@


1.11
log
@I originally wanted to make flashplugin work with these changes,
but it doesn't even find libnpp.so, still I commit this because
of the other cleanup changes in this port.
@
text
@d1 1
a1 1
# $MirOS: ports/www/opera/Makefile,v 1.10 2006/06/20 18:20:36 tg Exp $
d9 1
a9 1
DISTNAME=		opera-${VERS}-20060616.1-static-qt.i386-en-344
@


1.10
log
@opera 9.0, wfm
@
text
@d1 1
a1 1
# $MirOS: ports/www/opera/Makefile,v 1.9 2006/02/18 13:03:28 tg Exp $
d10 1
a10 1
PKGNAME=		opera-${VERS}-0
d38 4
d46 1
a46 1
	    --plugindir=${PREFIX}/lib/opera/plugins
d48 3
a50 2
	perl -i -pe 's!/lib/ld-linux\.so\.2!/dbl/ld-linux.so.2!' \
	    ${PREFIX}/libexec/opera
d63 2
@


1.9
log
@http://www.heise.de/newsticker/meldung/69756
Update Opera to 8.52 (SECURITY)
@
text
@d1 1
a1 1
# $MirOS: ports/www/opera/Makefile,v 1.8 2006/02/01 20:38:49 tg Exp $
d8 2
a9 2
VERS=			8.52
DISTNAME=		opera-${VERS}-20060201.1-static-qt.i386-en
d31 1
a31 1
MASTER_SITES=		${MASTER_SITES_OPERA:=linux/${VERS:S/.//}/final/en/i386/static/}
@


1.8
log
@revamp compat_linux(8) support library port structure to allow for
undisturbed coexistence of more than one set of libraries and dyld
and patch the opera binary to call /dbl/ld-linux.so.2 instead
@
text
@d1 1
a1 1
# $MirOS: ports/www/opera/Makefile,v 1.7 2006/01/25 11:28:28 tg Exp $
d8 3
a10 2
DISTNAME=		opera-8.51-20051114.1-static-qt.i386-en
PKGNAME=		opera-8.51-3
d31 1
a31 2
MASTER_SITES=		${MASTER_SITES_OPERA:=linux/851/final/en/i386/}
EXTRACT_SUFX=		.tar.bz2
@


1.7
log
@found a way to get rid of the zombies. sorry, only manually.
@
text
@d1 1
a1 1
# $MirOS: ports/www/opera/Makefile,v 1.6 2006/01/18 11:26:17 tg Exp $
d9 1
a9 1
PKGNAME=		opera-8.51-2
d33 1
a33 1
RUN_DEPENDS=		:debian-libs-*:emulators/debian
d43 4
@


1.6
log
@depend on emulators/debian
(confirmed it works without emulators/redhat)
@
text
@d1 1
a1 1
# $MirOS: ports/www/opera/Makefile,v 1.5 2005/12/16 14:42:58 tg Exp $
d9 1
a9 1
PKGNAME=		opera-8.51-1
@


1.5
log
@Update Opera to 8.51, mostly from OpenBSD, but
* don't hardcode /usr/local, use $PREFIX
* don't write to /etc, it runs without the samples
* fix... etc.

It works, I can even install the Cocoa theme (but I prefer
the Minimalist Native one), but I can't read the menu text
(neither context menus), I only see empty squares.
@
text
@d1 1
a1 1
# $MirOS$
d9 1
a9 1
PKGNAME=		opera-8.51-0
d33 1
a33 1
RUN_DEPENDS=		:redhat_base->=8.0:emulators/redhat/base
d49 5
@


1.4
log
@Semi-automatic update of the remaining ports to the new patchlevel format.

Please correct mistakes if you find them :).
@
text
@d1 2
a2 1
# $OpenBSD: Makefile,v 1.19 2004/05/15 12:56:46 sturm Exp $
d7 5
a11 8
COMMENT=	"fast and customizable WWW browser"

PKGNAME=	opera-7.50-0
DISTNAME=	opera-7.50-20040511.1-static-qt.i386-en
CATEGORIES=	www

HOMEPAGE=	http://www.opera.com/

a21 1
			ftp://opera.docuweb.ca/pub/opera/ \
d30 2
a31 2
MASTER_SITES=	${MASTER_SITES_OPERA:=linux/750/final/en/i386/static/}
EXTRACT_SUFX=	.tar.bz2
d33 1
a33 1
RUN_DEPENDS=	:redhat_base->=8.0:emulators/redhat/base
d35 2
a36 2
NO_BUILD=	Yes
NO_REGRESS=	Yes
d39 1
a39 1
	cd ${WRKBUILD} && ./install.sh \
a42 7
	cd ${PREFIX}/share/doc/opera && \
	    ln -sf ../../opera/help .
	${INSTALL_DATA_DIR} ${PREFIX}/share/examples/opera
	${INSTALL_DATA} ${FILESDIR}/operarc \
	    ${PREFIX}/share/examples/opera/opera6rc
	${INSTALL_DATA} ${FILESDIR}/operarc.fixed \
	    ${PREFIX}/share/examples/opera/opera6rc.fixed
d44 1
d47 2
@


1.3
log
@the port part of platform refinal
@
text
@d8 1
a8 1
PKGNAME=	opera-7.50
@


1.2
log
@NOPIC_PLATFORMS, LP64_PLATFORMS and general change of
{NOT,ONLY}_FOR_{ARCH{,E,ES},OS} to {NOT,ONLY}_FOR_PLATFORM

some fallout maybe, I hope not
@
text
@d3 1
a3 1
ONLY_FOR_PLATFORM=	OpenBSD:i386 MirBSD:i386
@


1.1
log
@Initial revision
@
text
@d3 2
a4 1
ONLY_FOR_ARCHS=	i386
@


1.1.7.1
log
@Import the MirPorts Framework, many files moved or renamed though, no KDE/QT
@
text
@@
