head	1.38;
access;
symbols;
locks; strict;
comment	@# @;


1.38
date	2015.09.29.21.48.10;	author tg;	state Exp;
branches;
next	1.37;
commitid	100560B071331070784;

1.37
date	2012.03.03.18.34.15;	author tg;	state Exp;
branches;
next	1.36;
commitid	1004F5265E717A6953D;

1.36
date	2011.06.21.17.35.52;	author tg;	state Exp;
branches;
next	1.35;
commitid	1004E00D68F5B570B6C;

1.35
date	2011.02.22.20.43.12;	author tg;	state Exp;
branches;
next	1.34;
commitid	1004D641FCA44185310;

1.34
date	2010.12.23.20.25.29;	author tg;	state Exp;
branches;
next	1.33;
commitid	1004D13B24D2C928B1D;

1.33
date	2010.12.19.19.22.18;	author tg;	state Exp;
branches;
next	1.32;
commitid	1004D0E5B7B7150A62A;

1.32
date	2009.12.26.15.18.41;	author tg;	state Exp;
branches;
next	1.31;
commitid	1004B362968009AFB8B;

1.31
date	2009.11.08.19.28.57;	author tg;	state Exp;
branches;
next	1.30;
commitid	1004AF71BC14017A067;

1.30
date	2009.09.27.12.14.19;	author tg;	state Exp;
branches;
next	1.29;
commitid	1004ABF571524E4207F;

1.29
date	2009.09.06.14.17.03;	author tg;	state Exp;
branches;
next	1.28;
commitid	1004AA3C42B64C5CF4B;

1.28
date	2009.08.09.15.46.30;	author tg;	state Exp;
branches;
next	1.27;
commitid	1004A7EEF5D1B24FFAC;

1.27
date	2009.01.18.23.24.53;	author tg;	state Exp;
branches;
next	1.26;
commitid	1004973BA4C5318ADB3;

1.26
date	2009.01.18.20.22.03;	author tg;	state Exp;
branches;
next	1.25;
commitid	10049738F6B6E540B8F;

1.25
date	2008.12.26.13.46.03;	author tg;	state Exp;
branches;
next	1.24;
commitid	1004954E0011D2E1C6B;

1.24
date	2008.12.17.17.01.58;	author tg;	state Exp;
branches;
next	1.23;
commitid	1004949309261B5255A;

1.23
date	2008.12.17.00.24.39;	author tg;	state Exp;
branches;
next	1.22;
commitid	100494846DC07F81A77;

1.22
date	2008.03.12.12.05.25;	author tg;	state Exp;
branches;
next	1.21;
commitid	10047D7C71611335C54;

1.21
date	2008.03.09.18.19.42;	author tg;	state Exp;
branches;
next	1.20;
commitid	10047D42A4E0C2308F6;

1.20
date	2008.03.09.17.23.37;	author tg;	state Exp;
branches;
next	1.19;
commitid	10047D41CAA7E715397;

1.19
date	2007.10.18.21.32.57;	author tg;	state Exp;
branches;
next	1.18;
commitid	1004717D1075A84DF05;

1.18
date	2007.08.13.14.35.38;	author tg;	state Exp;
branches;
next	1.17;
commitid	10046C06C496B574CE5;

1.17
date	2007.08.13.14.22.44;	author tg;	state Exp;
branches;
next	1.16;
commitid	10046C069461C49DE0F;

1.16
date	2007.08.03.12.14.23;	author tg;	state Exp;
branches;
next	1.15;
commitid	10046B31C347E0D3DD2;

1.15
date	2007.05.20.12.06.18;	author tg;	state Exp;
branches;
next	1.14;
commitid	100465039776714DE9B;

1.14
date	2007.05.19.22.44.24;	author tg;	state Exp;
branches;
next	1.13;
commitid	100464F7DD40663E6F1;

1.13
date	2006.11.16.22.25.00;	author tg;	state Exp;
branches;
next	1.12;
commitid	100455CE54316F0495D;

1.12
date	2006.11.10.19.42.25;	author tg;	state Exp;
branches;
next	1.11;
commitid	1004554D6341D71DCEA;

1.11
date	2006.10.27.15.53.21;	author tg;	state Exp;
branches;
next	1.10;
commitid	10045422B7734276E1C;

1.10
date	2006.10.17.20.56.27;	author tg;	state Exp;
branches;
next	1.9;
commitid	1004535438929E2B385;

1.9
date	2006.10.13.19.45.35;	author tg;	state Exp;
branches;
next	1.8;
commitid	100452FECEB3F2E8383;

1.8
date	2006.10.02.23.22.06;	author tg;	state Exp;
branches;
next	1.7;
commitid	10045219F2326ED8D3B;

1.7
date	2006.09.13.19.31.52;	author tg;	state Exp;
branches;
next	1.6;
commitid	10045085CB86D20235A;

1.6
date	2006.08.26.23.35.00;	author tg;	state Exp;
branches;
next	1.5;
commitid	10044F0D836486F5483;

1.5
date	2006.08.26.14.28.18;	author tg;	state Exp;
branches;
next	1.4;
commitid	10044F05A9761B58E6D;

1.4
date	2006.08.16.19.32.26;	author tg;	state Exp;
branches;
next	1.3;
commitid	10044E372D21C46A7EC;

1.3
date	2006.08.14.21.04.06;	author tg;	state Exp;
branches;
next	1.2;
commitid	10044E0E54A523C3AA3;

1.2
date	2006.08.10.22.27.10;	author tg;	state Exp;
branches;
next	1.1;
commitid	10044DBB2CF40EDB22A;

1.1
date	2006.08.10.19.18.23;	author tg;	state Exp;
branches;
next	;
commitid	10044DB868A3904FB65;


desc
@@


1.38
log
@ISC.org is making themselves even more irrelevant: new Lynx homepage
@
text
@# $MirOS: ports/www/lynx/Makefile,v 1.37 2012/03/03 18:34:15 tg Exp $

COMMENT=		standard text-mode world wide web browser
CATEGORIES=		www essentials
VSN=			2.8.8dev.12
DASH_VER=		1		# in sync with dev12-MirOS-0AB0.1 rev.
DISTNAME=		lynx${VSN:C/[a-z]$//}
.if ${VSN} != ${VSN:C/[a-z]$//}
PATCHFILES=		lynx${VSN}.patch.gz:0
.endif
PKGNAME=		lynx-${VSN}-${DASH_VER}
HOMEPAGE=		http://lynx.invisible-island.net/
RESPONSIBLE=		Thorsten Glaser <tg@@mirbsd.org>
MASTER_SITES=		http://invisible-mirror.net/archives/lynx/tarballs/
MASTER_SITES0=		ftp://invisible-island.net/temp/
PATCH_DIST_STRIP=	-p1

# GNU GPLv2
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
PERMIT_PACKAGE_CDROM=	Yes
PERMIT_PACKAGE_FTP=	Yes

.include <mirports.sys.mk>

FLAVOURS=		wide
FLAVOUR?=		wide

WRKDIST=		${WRKDIR}/lynx2-8-8
MAKE_FILE=		makefile
CPPFLAGS+=		-DLYNX_VERSION=\"${VSN}-MirPorts-${DASH_VER}\"
INSTALL_TARGET=		install-full
NO_REGRESS=		Yes

MODULES+=		converters/libiconv
CONFIGURE_STYLE=	autoconf no-autoheader
CONFIGURE_ARGS+=	--enable-echo \
			--enable-vertrace \
			--enable-warnings \
			--disable-nls \
			--disable-full-paths \
			--with-ssl \
			--without-gnutls \
			--without-socks \
			--without-socks5 \
			--without-pkg-config \
			--enable-ipv6 \
			--with-screen=ncursesw \
			--enable-widec \
			--enable-color-style \
			--disable-htmlized-cfg \
			--enable-locale-charset \
			--disable-sessions \
			--disable-session-cache \
			--enable-addrlist-page \
			--enable-cjk \
			--enable-japanese-utf8 \
			--disable-default-colors \
			--enable-kbd-layout \
			--enable-nested-tables \
			--enable-ascii-ctypes \
			--disable-idna \
			--enable-justify-elts \
			--enable-progressbar \
			--disable-scrollbar \
			--enable-charset-choice \
			--enable-internal-links \
			--enable-nsl-fork \
			--enable-underlines \
			--without-bzlib \
			--with-zlib \
			--without-x \
			--disable-rpath-hack
# do not hardcode paths; do not scan for ports stuff
# bzip2 is special and must always be disabled, otherwise
# it tries to handle it internally as if linking with the
# bzlib even if bzip2 isn’t there; setting the bzip2 path
# in lynx.cfg doesn’t have this issue
CONFIGURE_ENV+=		ac_cv_path_TELNET=telnet \
			ac_cv_path_TN3270=tn3270 \
			ac_cv_path_RLOGIN=rlogin \
			ac_cv_path_MV=mv \
			ac_cv_path_GZIP=gzip \
			ac_cv_path_UNCOMPRESS=gunzip \
			ac_cv_path_UNZIP=unzip \
			ac_cv_path_BZIP2= \
			ac_cv_path_TAR=tar \
			ac_cv_path_COMPRESS=compress \
			ac_cv_path_RM=rm \
			ac_cv_path_UUDECODE=uudecode \
			ac_cv_path_ZCAT=zcat \
			ac_cv_path_ZIP=zip \
			ac_cv_path_PKG_CONFIG=none
CONFIGURE_ENV+=		YACC=yacc

.if ${MACHINE_OS} == "Interix"
CONFIGURE_ARGS+=	--disable-ipv6
.endif

.if ${OStype} == "OpenBSD"
CONFIGURE_ARGS+=	--disable-locale-charset
.endif

.if ${FLAVOUR:Mwide}
MODULES+=		devel/libncursesw
.else
CONFIGURE_ARGS+=	--with-screen=ncurses \
			--disable-widec
.endif

post-install:
	${INSTALL_DATA} ${WRKSRC}/AUTHORS ${PREFIX}/share/doc/lynx/lynx_doc/
	${INSTALL_SCRIPT} ${WRKSRC}/samples/oldlynx ${PREFIX}/bin/

.include <bsd.port.mk>

# fix up paths, must come after gnu module
EXTRA_FAKE_FLAGS+=	SYSCONFDIR=${WRKINST:Q}${TRUEPREFIX:Q}/share/examples/lynx
CONFIGURE_ARGS+=	--datadir=${PREFIX:Q}/share/doc/lynx
@


1.37
log
@update port and base to Lynx 2.8.8dev.12
@
text
@d1 1
a1 1
# $MirOS: ports/www/lynx/Makefile,v 1.36 2011/06/21 17:35:52 tg Exp $
d12 1
a12 1
HOMEPAGE=		http://lynx.isc.org/
d14 1
a14 1
MASTER_SITES=		http://lynx.isc.org/current/
@


1.36
log
@add ddg to search engines
@
text
@d1 1
a1 1
# $MirOS: ports/www/lynx/Makefile,v 1.35 2011/02/22 20:43:12 tg Exp $
d5 2
a6 2
VSN=			2.8.8dev.7a
DASH_VER=		2		# in sync with MirOS-0AAE.1 rev.
@


1.35
log
@disabled form fields are not read-only (which implies removed from
form submission, for some reason I don’t know)
From: David Paschal <paschal@@surewest.net>
@
text
@d1 1
a1 1
# $MirOS: ports/www/lynx/Makefile,v 1.34 2010/12/23 20:25:29 tg Exp $
d6 1
a6 1
DASH_VER=		1		# in sync with MirOS-0AAE rev.
@


1.34
log
@sync with base
@
text
@d1 1
a1 1
# $MirOS: ports/www/lynx/Makefile,v 1.33 2010/12/19 19:22:18 tg Exp $
d6 1
a6 1
DASH_VER=		0		# in sync with MirOS-0AAD rev.
@


1.33
log
@fastmerge; break since I can’t get autoconf-2.13 to work and it’s late
@
text
@d1 1
a1 3
# $MirOS: ports/www/lynx/Makefile,v 1.32 2009/12/26 15:18:41 tg Exp $

BROKEN=			update in progress
d5 2
a6 2
VSN=			2.8.8dev.7
DASH_VER=		0		# in sync with MirOS-0A?? rev.
d29 1
a29 1
WRKDIST=		${WRKDIR}/lynx2-8-7
d37 2
a38 1
CONFIGURE_ARGS+=	--enable-vertrace \
d50 1
d53 2
a55 2
			--enable-ascii-ctypes \
			--enable-charset-choice \
a57 1
			--enable-color-style \
d61 3
d66 1
a66 3
			--disable-sessions \
			--disable-session-cache \
			--enable-justify-elts \
d72 2
a73 1
			--without-x
d112 1
@


1.32
log
@adjust MirOS patchlevel
@
text
@d1 3
a3 1
# $MirOS: ports/www/lynx/Makefile,v 1.31 2009/11/08 19:28:57 tg Exp $
d7 2
a8 2
VSN=			2.8.7rel.1
DASH_VER=		3		# in sync with MirOS-0AAB rev.
@


1.31
log
@some rather grave bugfix: after "use locale-dependent charset" was
switched back to disabled, because it disables setting a different
charset without saving the config first (bug?), the default charset
was not properly adjusted to UTF-8 (which would've been the locale
defined one)
@
text
@d1 1
a1 1
# $MirOS: ports/www/lynx/Makefile,v 1.30 2009/09/27 12:14:19 tg Exp $
d6 1
a6 1
DASH_VER=		3		# in sync with MirOS-0AAA rev.
@


1.30
log
@disable the bzip2 external binary, because otherwise lynx tries to
offer bzip2 as accepted content encoding, despite not having been
linked with bzlib, and fails badly
@
text
@d1 1
a1 1
# $MirOS: ports/www/lynx/Makefile,v 1.29 2009/09/06 14:17:03 tg Exp $
d6 1
a6 1
DASH_VER=		2		# in sync with MirOS-0AAA rev.
@


1.29
log
@• apply a hack (needing ncurses support – cid 1004AA3BCA2415FF513 – is a
  nop unless that patch is available) allowing lynx to tell ncurses that
  the user set a non-UTF-8 display character set, and to assume legacy
  charset handling (for non-UTF-8 wscons(4), luit or script -uns)
• same versioning (base/port) as with devel/cvs
@
text
@d1 1
a1 1
# $MirOS: ports/www/lynx/Makefile,v 1.28 2009/08/09 15:46:30 tg Exp $
d6 1
a6 1
DASH_VER=		1		# in sync with MirOS-0AAA rev.
d72 4
d83 1
a83 1
			ac_cv_path_BZIP2=bzip2 \
@


1.28
log
@give us a new lynx
@
text
@d1 1
a1 1
# $MirOS: ports/www/lynx/Makefile,v 1.27 2009/01/18 23:24:53 tg Exp $
d5 5
a9 4
VERSION=		2.8.7rel.1
DISTNAME=		lynx${VERSION:C/[a-z]$//}
.if ${VERSION} != ${VERSION:C/[a-z]$//}
PATCHFILES=		lynx${VERSION}.patch.gz:0
d11 1
a11 1
PKGNAME=		lynx-${VERSION}-${DASH_VER}
d31 1
a31 1
CPPFLAGS+=		-DLYNX_VERSION=\"${VERSION}-MirPorts-${DASH_VER}\"
@


1.27
log
@got a fix for utf-8 from upstream, nice reaction time ;) yay!
@
text
@d1 1
a1 1
# $MirOS: ports/www/lynx/Makefile,v 1.26 2009/01/18 20:22:03 tg Exp $
d5 1
a5 2
VERSION=		2.8.7dev.12
DASH_VER=		1
d51 1
a51 1
			--disable-ascii-ctypes \
@


1.26
log
@update Lynx to 2.8.6dev.12 - UCdomap.c + local diffs
@
text
@d1 1
a1 1
# $MirOS: ports/www/lynx/Makefile,v 1.25 2008/12/26 13:46:03 tg Exp $
d6 1
@


1.25
log
@Debian #509321 and Lynx 2.8.7dev.12:pending patch:
do not crash for certain sites (NULL pointer dereference), diff by myself
@
text
@d1 1
a1 1
# $MirOS: ports/www/lynx/Makefile,v 1.24 2008/12/17 17:01:58 tg Exp $
d5 1
a5 2
VERSION=		2.8.7dev.11a
DASH_VER=		2
a7 1
.  ifdef notdef		# no patchfile exists for 2.8.7dev.11a
a8 1
.  endif
d44 1
d51 1
d86 1
@


1.24
log
@unbreak, cf. Message-ID: <Pine.BSM.4.64L.0812171658310.4380@@herc.mirbsd.org>
@
text
@d1 1
a1 1
# $MirOS: ports/www/lynx/Makefile,v 1.23 2008/12/17 00:24:39 tg Exp $
d6 1
a6 1
DASH_VER=		1
@


1.23
log
@final update to Lynx 2.8.7dev.11a-Mir*
@
text
@d1 1
a1 1
# $MirOS: ports/www/lynx/Makefile,v 1.22 2008/03/12 12:05:25 tg Exp $
d6 1
d43 1
a43 1
			--with-ssl=/usr \
d85 2
a86 1
			ac_cv_path_ZIP=zip
@


1.22
log
@jupp ~= jstar
@
text
@d1 1
a1 1
# $MirOS: ports/www/lynx/Makefile,v 1.21 2008/03/09 18:19:42 tg Exp $
d5 1
a5 2
VERSION=		2.8.7dev.8
DASH_VER=		1
d8 1
d10 1
d13 2
a14 2
HOMEPAGE=		http://lynx.browser.org/
RESPONSIBLE=		Thorsten Glaser <tg@@mirbsd.de>
d19 1
a19 1
# GNU GPL Version 2 or later
d25 2
d46 1
d49 2
a56 2
			--disable-htmlized-cfg \
			--enable-ipv6 \
a57 1
			--enable-locale-charset \
d59 1
d61 2
d90 4
@


1.21
log
@upgrade lynx to 2.8.7dev.8 – much better multibyte editing support
@
text
@d1 1
a1 1
# $MirOS: ports/www/lynx/Makefile,v 1.19 2007/10/18 21:32:57 tg Exp $
d6 1
@


1.20
log
@bulk convert FLAVOR to FLAVOUR; nuke unused file; convert to $Mdocdate
@
text
@d5 1
a5 2
VERSION=		2.8.7dev.7
DASH_VER=		3
@


1.19
log
@do not fake the MSIE user agent any longer
it hurts more than it helps, plug advertising for Mir* instead ☺
@
text
@d1 1
a1 1
# $MirOS: ports/www/lynx/Makefile,v 1.18 2007/08/13 14:35:38 tg Exp $
d24 2
a25 2
FLAVORS=		wide
FLAVOR?=		wide
d84 1
a84 1
.if ${FLAVOR:Mwide}
@


1.18
log
@log ssl callback messages too
@
text
@d1 1
a1 1
# $MirOS: ports/www/lynx/Makefile,v 1.17 2007/08/13 14:22:44 tg Exp $
d6 1
a6 1
DASH_VER=		2
@


1.17
log
@make ssl cert validation back working
@
text
@d1 1
a1 1
# $MirOS: ports/www/lynx/Makefile,v 1.16 2007/08/03 12:14:23 tg Exp $
d6 1
a6 1
DASH_VER=		1
@


1.16
log
@upgrade
@
text
@d1 1
a1 1
# $MirOS: ports/www/lynx/Makefile,v 1.15 2007/05/20 12:06:18 tg Exp $
d6 1
d34 1
a34 1
CONFIGURE_STYLE=	gnu
@


1.15
log
@upgrade to latest and greatest web browser ever
• no known regression relative to 2.8.7dev.2
• additional bugfixes
• patches/ directory contains neither more nor less than lynx in MirOS base
  system installation, configure options are exactly the same too
• only thing I miss: “links and form fields are numbered” width of said
  items is not taken into account when calculating line length
@
text
@d1 1
a1 1
# $MirOS: ports/www/lynx/Makefile,v 1.14 2007/05/19 22:44:24 tg Exp $
d5 1
a5 1
VERSION=		2.8.7dev.5
@


1.14
log
@stub new lynx port (nobody could get the distfile for the old one anyway ;)
@
text
@d1 1
a1 3
# $MirOS: ports/www/lynx/Makefile,v 1.13 2006/11/16 22:25:00 tg Exp $

BROKEN=			porting in progress
d28 1
d34 45
a78 8
CONFIGURE_ARGS+=	--with-ssl --with-zlib --enable-japanese-utf8 \
			--enable-addrlist-page --enable-charset-choice \
			--enable-color-style --disable-full-paths \
			--enable-warnings --enable-internal-links \
			--enable-kbd-layout --enable-ipv6 \
			--enable-nested-tables --disable-nls \
			--enable-nsl-fork --disable-scrollbar --enable-cjk \
			--enable-underlines --enable-vertrace --without-bzlib
d82 1
a84 2
CONFIGURE_ARGS+=	--with-screen=ncursesw \
			--enable-widec
d86 2
a87 1
CONFIGURE_ARGS+=	--with-screen=ncurses
a88 1
CPPFLAGS+=		-DLYNX_VERSION=\"${VERSION}-MirPorts-${DASH_VER}\"
a90 1
	XXX redo this
a91 3
	mv -f ${WRKINST}${SYSCONFDIR}/lynx.{cfg,lss} \
	    ${PREFIX}/share/lynx_doc/samples/
	-rm -rf ${WRKINST}${SYSCONFDIR}
d94 4
@


1.13
log
@make xloadimage quiet during execution inside lynx
@
text
@d1 1
a1 1
# $MirOS: ports/www/lynx/Makefile,v 1.12 2006/11/10 19:42:25 tg Exp $
d3 6
a8 5
COMMENT=			standard text-mode world wide web browser
CATEGORIES=			www essentials
VERSION=			2.8.7dev.2
PL=				1
DISTNAME=			lynx${VERSION:C/[a-z]$//}
d10 1
a10 1
PATCHFILES=			lynx${VERSION}.patch.gz:0
d12 6
a17 6
PKGNAME=			lynx-${VERSION}-${PL}
HOMEPAGE=			http://lynx.browser.org/
RESPONSIBLE=			Thorsten Glaser <tg@@mirbsd.de>
MASTER_SITES=			http://lynx.isc.org/current/
MASTER_SITES0=			ftp://invisible-island.net/temp/
PATCH_DIST_STRIP=		-p1
d20 23
a42 22
PERMIT_DISTFILES_CDROM=		Yes
PERMIT_DISTFILES_FTP=		Yes
PERMIT_PACKAGE_CDROM=		Yes
PERMIT_PACKAGE_FTP=		Yes

FLAVORS=			wide
FLAVOR?=			wide

WRKDIST=			${WRKDIR}/lynx2-8-7
MAKE_FILE=			makefile
INSTALL_TARGET=			install-full
NO_REGRESS=			Yes

MODULES+=			converters/libiconv
CONFIGURE_STYLE=		gnu
CONFIGURE_ARGS+=		--with-ssl --with-zlib --enable-japanese-utf8 \
		--enable-addrlist-page --enable-charset-choice \
		--enable-color-style --disable-full-paths --enable-warnings \
		--enable-internal-links --enable-kbd-layout --enable-ipv6 \
		--enable-nested-tables --disable-nls --enable-nsl-fork \
		--disable-scrollbar --enable-cjk \
		--enable-underlines --enable-vertrace --without-bzlib
d44 1
a44 1
CONFIGURE_ARGS+=		--disable-ipv6
d47 3
a49 3
MODULES+=			devel/libncursesw
CONFIGURE_ARGS+=		--with-screen=ncursesw \
				--enable-widec
d51 1
a51 1
CONFIGURE_ARGS+=		--with-screen=ncurses
d53 1
a53 1
CPPFLAGS+=			-DLYNX_VERSION=\"${VERSION}-MirPorts-${PL}\"
d56 1
@


1.12
log
@update to 2.8.7dev.2
@
text
@d1 1
a1 1
# $MirOS: ports/www/lynx/Makefile,v 1.11 2006/10/27 15:53:21 tg Exp $
d6 1
a6 1
PL=				0
@


1.11
log
@Finish ncursesw port (requires sys/arch/i386/include/limits.h 1.2) and add "wide" flavour (now default) to lynx - solves all my problems
@
text
@d1 1
a1 1
# $MirOS: ports/www/lynx/Makefile,v 1.10 2006/10/17 20:56:27 tg Exp $
d5 2
a6 2
VERSION=			2.8.7dev.1
PL=				1
@


1.10
log
@sync and fix rationale
port: bump patchlevel
@
text
@d1 1
a1 1
# $MirOS: ports/www/lynx/Makefile,v 1.9 2006/10/13 19:45:35 tg Exp $
d24 3
d32 1
a32 1
MODULES=			converters/libiconv
d39 1
a39 1
		--with-screen=ncurses --disable-scrollbar --enable-cjk \
d44 7
@


1.9
log
@bump to lynx-2.8.7dev.1-0 (I just wanted to know if systrace upgrade broke)
@
text
@d1 1
a1 1
# $MirOS: ports/www/lynx/Makefile,v 1.8 2006/10/02 23:22:06 tg Exp $
d6 1
a6 1
PL=				0
@


1.8
log
@Update to latest Lynx, quickly tested.
@
text
@d1 1
a1 1
# $MirOS: ports/www/lynx/Makefile,v 1.7 2006/09/13 19:31:52 tg Exp $
d5 1
a5 1
VERSION=			2.8.6pre.5
d24 1
a24 1
WRKDIST=			${WRKDIR}/lynx2-8-6
@


1.7
log
@update to mirlynx-2.8.6pre.3
@
text
@d1 1
a1 1
# $MirOS: ports/www/lynx/Makefile,v 1.6 2006/08/26 23:35:00 tg Exp $
d5 1
a5 1
VERSION=			2.8.6pre.3
d44 1
@


1.6
log
@OStype vs MACHINE_OS confusion, try to clean up the mess:

We use MACHINE_OS to distinguish between different OSes, i.e.
 BSD Darwin Interix Linux

Within these, there are OStype per MACHINE_OS, e.g.
 BSD -> MirBSD OpenBSD
 Darwin -> Darwin
 Interix -> Interix MirInterix
 Linux -> Debian

These are only the OStype""s seen until now,
so please use what semantically fits, e.g. on
Interix and MirInterix, you don't have IPv6,
but on MirInterix you won't need an explicit
texinfo dependency since it's in the base system.
Be aware that OStype can be user defined though!
@
text
@d1 1
a1 1
# $MirOS: ports/www/lynx/Makefile,v 1.5 2006/08/26 14:28:18 tg Exp $
d5 1
a5 1
VERSION=			2.8.6dev.18f
d8 1
d10 1
a31 1
				--libdir=${SYSCONFDIR} \
a40 2
EXTRA_XAKE_FLAGS+=		docdir=${PREFIX}/share/doc/lynx_doc \
				helpdir=${PREFIX}/share/doc/lynx_help
d45 1
a45 1
	    ${PREFIX}/share/doc/lynx_doc/samples/
@


1.5
log
@NO_REGRESS
@
text
@d1 1
a1 1
# $MirOS: ports/www/lynx/Makefile,v 1.4 2006/08/16 19:32:26 tg Exp $
d37 1
a37 1
.if ${OStype} == "Interix"
@


1.4
log
@update to 2.8.6dev.18f - fixes prettysrc problem on mac
also, brand
@
text
@d1 1
a1 1
# $MirOS: ports/www/lynx/Makefile,v 1.3 2006/08/14 21:04:06 tg Exp $
d25 1
@


1.3
log
@disable prettysrc on mac, it breaks
bug report sent upstream, also by OpenMacNews
@
text
@d1 1
a1 1
# $MirOS: ports/www/lynx/Makefile,v 1.2 2006/08/10 22:27:10 tg Exp $
d5 5
a9 3
VERSION=			2.8.6dev.18
DISTNAME=			lynx${VERSION
PKGNAME=			lynx-${VERSION}-1
d13 2
a38 3
.if ${OStype} == "Darwin"
CONFIGURE_ARGS+=		--disable-prettysrc
.endif
d41 1
d46 1
@


1.2
log
@fix case for sysconfdir != prefix/etc
@
text
@d1 1
a1 1
# $MirOS: ports/www/lynx/Makefile,v 1.1 2006/08/10 19:18:23 tg Exp $
d7 1
a7 1
PKGNAME=			lynx-${VERSION}-0
d28 1
a28 1
		--enable-internal-links --enable-kbd-layout \
d34 3
a36 2
.else
CONFIGURE_ARGS+=		--enable-ipv6
@


1.1
log
@add a port of MirLynx (not all of our patches, but almost)
@
text
@d1 1
a1 1
# $MirOS$
d41 2
a42 1
	mv -f ${PREFIX}/etc/lynx.* ${PREFIX}/share/doc/lynx_doc/samples/
@

