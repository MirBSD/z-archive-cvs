head	1.9;
access;
symbols;
locks; strict;
comment	@# @;


1.9
date	2008.03.09.17.23.40;	author tg;	state Exp;
branches;
next	1.8;
commitid	10047D41CAA7E715397;

1.8
date	2007.05.28.13.35.47;	author bsiegert;	state Exp;
branches;
next	1.7;
commitid	100465ADAB048C4F859;

1.7
date	2006.12.20.15.32.08;	author tg;	state Exp;
branches;
next	1.6;
commitid	100458956E02A39AB3C;

1.6
date	2006.09.14.00.15.00;	author tg;	state Exp;
branches;
next	1.5;
commitid	10045089C0E234154C3;

1.5
date	2006.01.01.05.25.31;	author tg;	state Exp;
branches;
next	1.4;
commitid	10043B767D4764EA72A;

1.4
date	2006.01.01.04.18.38;	author tg;	state Exp;
branches;
next	1.3;
commitid	10043B75827601BA2E0;

1.3
date	2005.08.08.19.34.32;	author bsiegert;	state Exp;
branches;
next	1.2;
commitid	530a42f7b3cbbf41;

1.2
date	2005.07.07.21.28.23;	author bsiegert;	state Exp;
branches;
next	1.1;
commitid	66bc42cd9a7ea714;

1.1
date	2005.03.18.16.00.05;	author tg;	state Exp;
branches
	1.1.7.1;
next	;

1.1.7.1
date	2005.03.18.16.00.05;	author tg;	state Exp;
branches;
next	;


desc
@@


1.9
log
@bulk convert FLAVOR to FLAVOUR; nuke unused file; convert to $Mdocdate
@
text
@# $MirOS: ports/www/w3m/Makefile,v 1.8 2007/05/28 13:35:47 bsiegert Exp $
# $OpenBSD: Makefile,v 1.59 2005/02/22 10:23:39 alek Exp $

COMMENT=		pager/text-based web browser
VERSION=		0.5.1
DASH_VER=		1
DISTNAME=		w3m-${VERSION}
CATEGORIES=		www
HOMEPAGE=		http://w3m.sourceforge.net/

# BSD-like
PERMIT_PACKAGE_CDROM=	Yes
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes

MASTER_SITES=	${MASTER_SITE_SOURCEFORGE:=w3m/}
MASTER_SITES0=	http://www2u.biglobe.ne.jp/~hsaka/w3m/patch/

MODULES=	devel/gettext
LIB_DEPENDS=	gc.1::devel/boehm-gc

FLAVOURS=	image japanese
FLAVOUR?=

CONFIGURE_STYLE=gnu
CONFIGURE_ARGS=	--disable-xface \
		--with-browser=/usr/bin/lynx \
		--with-termlib=curses \
		--with-gc=${LOCALBASE}

NO_REGRESS=	Yes

DOCS=	FAQ.html HISTORY MANUAL.html README README.dict README.func \
	README.m17n README.mouse README.pre_form README.tab STORY.html \
	keymap.default keymap.lynx menu.default menu.submenu

.if ${FLAVOUR:L:Mimage}
LIB_DEPENDS+=	gdk_pixbuf.2,gdk_pixbuf_xlib.2::graphics/gdk-pixbuf
CONFIGURE_ARGS+=--with-imagelib=gdk-pixbuf
DOCS+=		README.img
.else
CONFIGURE_ARGS+=--enable-image=no
.endif

.if ${FLAVOUR:L:Mjapanese}
FULLPKGNAME=	ja-${DISTNAME}-${DASH_VER}${FLAVOUR_EXT:S/-japanese//}
CATEGORIES+=	japanese
CONFIGURE_ARGS+=--enable-japanese=E
DOCS+=		README.SSL README.cookie README.keymap \
		README.mailcap README.menu
DOCSRC=		${WRKSRC}/doc-jp
.else
CONFIGURE_ARGS+=--enable-m17n=ISO-8859-1
DOCSRC=		${WRKSRC}/doc
.endif

post-install:
	${INSTALL_DATA_DIR} ${PREFIX}/share/doc/w3m
	cd ${DOCSRC}; ${INSTALL_DATA} ${DOCS} ${PREFIX}/share/doc/w3m

.include <bsd.port.mk>
@


1.8
log
@@@conflict -> @@pkgcfl

Bump patchlevel.
@
text
@d1 1
a1 1
# $MirOS: ports/www/w3m/Makefile,v 1.7 2006/12/20 15:32:08 tg Exp $
d23 2
a24 2
FLAVORS=	image japanese
FLAVOR?=
d38 1
a38 1
.if ${FLAVOR:L:Mimage}
d46 2
a47 2
.if ${FLAVOR:L:Mjapanese}
FULLPKGNAME=	ja-${DISTNAME}-${DASH_VER}${FLAVOR_EXT:S/-japanese//}
@


1.7
log
@sync DASH_VER usage:
* the dash doesn't belong into the DASH_VER variable,
  it's only a decimal integer value
* DASH_VER already defaults to 0 (admittedly new)
* PKGNAME already defaults to ${DISTNAME}-${DASH_VER}
@
text
@d1 1
a1 1
# $MirOS: ports/www/w3m/Makefile,v 1.6 2006/09/14 00:15:00 tg Exp $
d6 1
a6 1
DASH_VER=		0
@


1.6
log
@clean up COMMENT and HOMEPAGE; regenerate INDEX (2761, 169 marked as broken, probably many many more) ­ edited by script with manual postprocessing
@
text
@d1 1
a1 1
# $MirOS: ports/www/w3m/Makefile,v 1.5 2006/01/01 05:25:31 tg Exp $
d4 6
a9 7
COMMENT=			pager/text-based web browser
VERSION=	0.5.1
DASH_VER=	-0
DISTNAME=	w3m-${VERSION}
PKGNAME=	${DISTNAME}${DASH_VER}
CATEGORIES=	www
HOMEPAGE=	http://w3m.sourceforge.net/
d47 1
a47 1
FULLPKGNAME=	ja-${DISTNAME}${DASH_VER}${FLAVOR_EXT:S/-japanese//}
@


1.5
log
@regen (2910)
@
text
@d1 1
a1 1
# $MirOS: ports/www/w3m/Makefile,v 1.4 2006/01/01 04:18:38 tg Exp $
d4 1
a4 1
COMMENT=	"pager/text-based web browser"
@


1.4
log
@do not simply add -0, UTSL instead
@
text
@d1 1
a1 1
# $MirOS: ports/www/w3m/Makefile,v 1.3 2005/08/08 19:34:32 bsiegert Exp $
d48 1
a48 1
FULLPKGNAME=	ja-w3m-${VERSION}${DASH_VER}${FLAVOR_EXT:S/-japanese//}
@


1.3
log
@Update w3m to 0.5.1-0, patches from OpenBSD. Now works under Darwin, yay!
@
text
@d1 1
a1 1
# $MirOS: ports/www/w3m/Makefile,v 1.2 2005/07/07 21:28:23 bsiegert Exp $
d48 1
a48 1
FULLPKGNAME=	ja-${PKGNAME}${FLAVOR_EXT:S/-japanese//}-0
@


1.2
log
@Semi-automatic update of the remaining ports to the new patchlevel format.

Please correct mistakes if you find them :).
@
text
@d1 2
a2 2
# $MirOS$
# $OpenBSD: Makefile,v 1.55 2003/10/18 19:45:00 sturm Exp $
d5 4
a8 3
VERSION=	0.4.1
M17N_VERSION=	20030308
REVISION=
d21 1
a21 4
SUP-norm=	w3m-${VERSION}${EXTRACT_SUFX}
SUP-m17n=	w3m-${VERSION}-stable-m17n-${M17N_VERSION}${EXTRACT_SUFX}:0
SUPDISTFILES=	${SUP-norm} ${SUP-m17n}

d24 1
a24 1
FLAVORS=	image japanese m17n
d27 5
a31 11
CONFIGURE_STYLE= simple
CONFIGURE_ARGS=	--nonstop \
		--prefix="${PREFIX}" \
		--gc-includedir="${LOCALBASE}/include" \
		--gc-libdir="${LOCALBASE}/lib" \
		--sysconfdir="${SYSCONFDIR}/w3m" \
		--model=monster \
		--mimetypes=/var/www/conf/mime.types
CONFIGURE_ENV=	use_ssl_verify=y \
		dmail=mail ded=vi dbrowser=lynx \
		use_bundled_gclib=n
d36 1
a36 1
	README.mouse README.pre_form README.tab STORY.html \
d41 1
a41 1
CONFIGURE_ENV+=	use_image=y
d43 2
d50 1
a50 1
CONFIGURE_ARGS+= --lang=ja --code=n
d55 1
a55 1
CONFIGURE_ARGS+= --lang=en
a58 12
.if ${FLAVOR:L:Mm17n}
DISTNAME=	w3m-${VERSION}-stable-m17n-${M17N_VERSION}
PKGNAME=	w3m-${VERSION}.${M17N_VERSION}${REVISION}-0
DISTFILES=	${SUP-m17n}
CONFIGURE_ARGS+= --suffix="" --charset=UTF-8
DOCS+=		README.m17n
.else
DISTNAME=	w3m-${VERSION}
PKGNAME=	${DISTNAME}${REVISION}-0
DISTFILES=	${SUP-norm}
.endif

@


1.1
log
@Initial revision
@
text
@d54 1
a54 1
FULLPKGNAME=	ja-${PKGNAME}${FLAVOR_EXT:S/-japanese//}
d67 1
a67 1
PKGNAME=	w3m-${VERSION}.${M17N_VERSION}${REVISION}
d73 1
a73 1
PKGNAME=	${DISTNAME}${REVISION}
@


1.1.7.1
log
@Import the MirPorts Framework, many files moved or renamed though, no KDE/QT
@
text
@@
