head	1.6;
access;
symbols
	MIRBSD_8_BASE:1.5;
locks; strict;
comment	@# @;


1.6
date	2006.02.05.17.16.39;	author tg;	state dead;
branches;
next	1.5;
commitid	10043E632F42429EBF4;

1.5
date	2005.12.17.05.46.18;	author tg;	state Exp;
branches;
next	1.4;
commitid	10043A3A3E65E20A413;

1.4
date	2005.10.02.18.19.26;	author tg;	state Exp;
branches;
next	1.3;
commitid	6710434024beb54b;

1.3
date	2005.05.30.16.47.06;	author tg;	state Exp;
branches;
next	1.2;
commitid	4fc6429b436d42cb;

1.2
date	2005.04.28.20.33.05;	author tg;	state Exp;
branches;
next	1.1;

1.1
date	2005.03.18.15.47.16;	author tg;	state Exp;
branches
	1.1.7.1;
next	;

1.1.7.1
date	2005.03.18.15.47.16;	author tg;	state Exp;
branches;
next	;


desc
@@


1.6
log
@* move autogen.sh from db/ to scripts/
* add ACLOCAL_FLAGS possibility
* remove in (almost?) all cases the need for no-autoheader
  by checking ourselves
@
text
@#!/bin/mksh
# $MirOS: ports/infrastructure/db/autogen.sh,v 1.5 2005/12/17 05:46:18 tg Exp $
#-
# Copyright (c) 2004, 2005
#	Thorsten "mirabile" Glaser <tg@@66h.42h.de>
#
# Licensee is hereby permitted to deal in this work without restric-
# tion, including unlimited rights to use, publicly perform, modify,
# merge, distribute, sell, give away or sublicence, provided all co-
# pyright notices above, these terms and the disclaimer are retained
# in all redistributions or reproduced in accompanying documentation
# or other materials provided with binary redistributions.
#
# All advertising materials mentioning features or use of this soft-
# ware must display the following acknowledgement:
#	This product includes material provided by Thorsten Glaser.
#
# Licensor offers the work "AS IS" and WITHOUT WARRANTY of any kind,
# express, or implied, to the maximum extent permitted by applicable
# law, without malicious intent or gross negligence; in no event may
# licensor, an author or contributor be held liable for any indirect
# or other damage, or direct damage except proven a consequence of a
# direct error of said person and intended use of this work, loss or
# other issues arising in any way out of its use, even if advised of
# the possibility of such damage or existence of a nontrivial bug.

if [[ -z $AUTOCONF_VERSION ]]; then
	export AUTOCONF_VERSION=2.13
	print Warning: AUTOCONF_VERSION unset!
fi

todel=
for f in libtool.m4 m4salt.inc m4sugar.inc; do
	[[ -e $f ]] || todel="$todel $f"
	[[ -h $f ]] && rm -f $f
	[[ -s $f ]] || ln -sf "$(dirname "$0")/$f" .
done

set -e
set -x
aclocal -I .
[[ -n $NO_AUTOHEADER ]] || autoheader
set +e
[[ ! -e Makefile.am ]] || automake --foreign -i
autoconf && chmod 664 configure
[[ -z $todel ]] || eval rm -f $todel
[[ -e autom4te.cache ]] && rm -rf autom4te.cache
exit 0
@


1.5
log
@big fat licence update (I left some which are bsiegert@@'s alone though)
also, remove licence boilerplate from some .h files who don't deserve it
and remove and add some advertising clauses because I say so
@
text
@d2 1
a2 1
# $MirOS: ports/infrastructure/db/autogen.sh,v 1.4 2005/10/02 18:19:26 tg Exp $
@


1.4
log
@only run automake if Makefile.am exists
@
text
@d2 1
a2 1
# $MirOS: ports/infrastructure/db/autogen.sh,v 1.3 2005/05/30 16:47:06 tg Exp $
d14 12
a25 7
# Licensor hereby provides this work "AS IS" and WITHOUT WARRANTY of
# any kind, expressed or implied, to the maximum extent permitted by
# applicable law, but with the warranty of being written without ma-
# licious intent or gross negligence; in no event shall licensor, an
# author or contributor be held liable for any damage, direct, indi-
# rect or other, however caused, arising in any way out of the usage
# of this work, even if advised of the possibility of such damage.
@


1.3
log
@flag day: /bin/mksh is now default shell (XXX untested)
pkg_scan: convert to ksh idioms, [ x"$1" ... is out
@
text
@d2 1
a2 1
# $MirOS: ports/infrastructure/db/autogen.sh,v 1.2 2005/04/28 20:33:05 tg Exp $
d39 1
a39 1
automake --foreign -i
@


1.2
log
@allow CONFIGURE_STYLE=autogen no-autoheader
@
text
@d1 2
a2 2
#!/bin/ksh
# $MirOS: ports/infrastructure/db/autogen.sh,v 1.1.7.1 2005/03/18 15:47:16 tg Exp $
@


1.1
log
@Initial revision
@
text
@d2 1
a2 1
# $MirOS: src/share/misc/licence.template,v 1.1 2005/02/11 14:23:55 tg Rel $
d37 1
a37 1
autoheader
@


1.1.7.1
log
@Import the MirPorts Framework, many files moved or renamed though, no KDE/QT
@
text
@@
