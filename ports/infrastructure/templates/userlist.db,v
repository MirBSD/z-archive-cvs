head	1.15;
access;
symbols
	MIRBSD_8_BASE:1.2;
locks; strict;
comment	@# @;


1.15
date	2018.12.19.14.19.53;	author tg;	state Exp;
branches;
next	1.14;
commitid	1005C1A539F344DE44B;

1.14
date	2018.12.17.14.19.21;	author tg;	state Exp;
branches;
next	1.13;
commitid	1005C17B0742104844C;

1.13
date	2018.10.07.01.09.59;	author tg;	state Exp;
branches;
next	1.12;
commitid	1005BB95CA10BF418E8;

1.12
date	2008.11.29.17.03.48;	author tg;	state Exp;
branches;
next	1.11;
commitid	100493175607A689D2F;

1.11
date	2008.05.07.15.07.47;	author tg;	state Exp;
branches;
next	1.10;
commitid	1004821C5D4723CA73B;

1.10
date	2008.05.07.12.05.08;	author tg;	state Exp;
branches;
next	1.9;
commitid	10048219AE72002072F;

1.9
date	2007.07.09.09.24.53;	author tg;	state Exp;
branches;
next	1.8;
commitid	1004691FEDC7A6648D9;

1.8
date	2007.06.18.21.13.29;	author tg;	state Exp;
branches;
next	1.7;
commitid	1004676F586434F780C;

1.7
date	2007.05.17.18.53.22;	author tg;	state Exp;
branches;
next	1.6;
commitid	100464CA4B9659F67BE;

1.6
date	2007.02.17.20.16.18;	author tg;	state Exp;
branches;
next	1.5;
commitid	10045D76299481F6E5C;

1.5
date	2007.02.17.03.37.00;	author tg;	state Exp;
branches;
next	1.4;
commitid	10045D6785C47E3B2D4;

1.4
date	2007.02.08.22.08.45;	author tg;	state Exp;
branches;
next	1.3;
commitid	10045CB9F7C49C40943;

1.3
date	2007.02.02.16.53.38;	author tg;	state Exp;
branches;
next	1.2;
commitid	10045C36C62291F1028;

1.2
date	2005.12.04.13.55.59;	author tg;	state Exp;
branches;
next	1.1;
commitid	186e4392f58580d6;

1.1
date	2005.09.13.10.26.42;	author tg;	state Exp;
branches;
next	;
commitid	54674326a9531dc5;


desc
@@


1.15
log
@allocate gid 249 for ssl-cert
@
text
@# $MirOS: ports/infrastructure/templates/userlist.db,v 1.14 2018/12/17 14:19:21 tg Exp $
#-
# List of users and groups for MirOS base and the MirPorts infrastructure.
# Format: three columns, separated by one or more tabs or spaces
# (please use tabs and align like shown below)
#   column 1:	uid/gid, or "#" for comments
#   column 2:	name of group
#   column 3:	GECOS field of user, or NO if no user is created
# If a user is created, his name is always the same as the
# name of his group. The UID and GID are always the same.
#-
### system users (registry: OpenBSD)
0	root		!0:daemon:0:0:Charlie &:/:/bin/sh
0	wheel		NO,root
1	daemon		!1::0:0:the devil himself:/:/sbin/nologin
1	daemon		NO,daemon
2	kmem		NO,root
2	operator	!5::0:0:system &:/operator:/sbin/nologin
3	bin		!7::0:0:Binaries Commands and Source:/:/sbin/nologin
3	sys		NO,root
4	tty		NO,root
5	operator	NO,root
7	bin		NO
8	news		NO
9	wsrc		NO
10	users		NO
11	auth		NO
13	games		!13::0:0:score files:/var/games:/sbin/nologin
13	games		NO
20	staff		NO,root
25	smmsp		Sendmail Message Submission Program
26	popa3d		POP3 Daemon
27	sshd		Secure Shell Daemon
28	_portmap	Portmapper
29	_identd		Ident Daemon
30	_rstatd		rstatd RPC Daemon
31	guest		NO,root
32	_rusersd	rusersd RPC Daemon
33	_fingerd	Finger Daemon
34	_sshagnt	NO
35	_x11		X11 Server
45	utmp		NO
58	uucp		!1::0:0:UNIX-to-UNIX Copy:/var/spool/uucppublic:/usr/libexec/uucp/uucico
58	uucp		NO
59	_kdc		Kerberos Server
60	_kadmin		Kerberos Admin Server
61	_lkm		NO
62	_spamd		Spam Daemon
63	_radius		NO
64	_token		NO
65	_shadow		NO
66	crontab		NO
67	www		HTTP Daemon
68	_isakmpd	ISAKMP Daemon
69	network		NO
70	named		BIND Name Service Daemon
71	proxy		Proxy Services
72	authpf		NO
73	_syslogd	Syslog Daemon
74	_pflogd		PF Log Daemon
75	_bgpd		BGP Daemon
76	_tcpdump	tcpdump privsep
77	_dhcp		DHCP programs
78	_mopd		MOP Daemon
79	_tftpd		TFTP Daemon
80	_rbootd		rboot Daemon
81	_afs		AFS Daemon
82	_ppp		PPP Utilities
83	_ntp		NTP Daemon
84	_ftp		FTP Daemon
85	_ospfd		OSPF Daemon
86	_hostapd	HostAP Daemon
87	_dvmrpd		DVMRP Daemon
88	_ripd		RIP Daemon
89	_hoststated	host state Daemon
117	dialer		NO
### system users (registry: MirOS)
249	ssl-cert	NO
250	audio		NO
251	_cvsadmin	NO
252	_isrc		NO
253	_lsrc		NO
254	_anoncvs	!254::0:0:anonymous CVS and RSYNC:/var/anoncvs:/usr/libexec/anoncvssh
254	_anoncvs	NO
255	_rsync		net/rsync unprivileged group
### ports users (registry: MirPorts)
256	_dnscache	net/djbdns cache
257	_tinydns	net/djbdns server
258	_dnslog		net/djbdns logdaemon
259	_freenet	net/freenetp
260	_bnetd		games/bnetd
261	_mldonkey	net/mldonkey
#262	_mailscan	???
263	_cups		print/cups
264	_gii		net/gated
265	_icecast	net/icecast
266	_slapd		databases/openldap
267	_openvpn	net/openvpn
268	_acme		Automated Certificate Management Environment
### ports users (registry: OpenBSD)
500	_opennap	audio/opennap
501	_gnats		databases/gnats
502	_mysql		databases/mysql server
503	_postgresql	databases/postgresql
504	_mailman	mail/mailman
505	_mixmaster	mail/mixmaster
506	_spamdaemon	mail/p5-Mail-SpamAssassin
507	_postfix	mail/postfix
508	_postdrop	NO
509	_bitlbee	net/bitlbee
510	_pdnsd		net/pdnsd
511	_tacacs		net/tacacs+
512	_silcd		net/silc-server
513	_vsftpd		net/vsftpd
514	_scanlogd	security/scanlogd
515	_squid		www/squid
516	_privoxy	www/privoxy
517	_wnn		japanese/Wnn
518	_dovecot	mail/dovecot
519	_news		news/leafnode
520	_majordomo	mail/majordomo
521	_exim		mail/exim
522	_xcept		comms/xcept
523	_ffproxy	www/ffproxy
524	_mail		mail/openwebmail
525	_quagga		net/quagga
526	_tomcat		www/jakarta-tomcat
527	_milter-regex	mail/milter-regex
528	_stunnel	security/stunnel
529	_ups		sysutils/nut
530	_vscan		mail/amavisd-new
531	_cnupm		net/cnupm
532	_milter-spamd	mail/milter-spamd
533	_jabberd	net/jabberd
534	_zope		www/zope
535	_symon		sysutils/symon
536	_nostromo	www/nostromo
537	_maradns	net/maradns/stable
538	_vilter		mail/smtp-vilter
539	_clamav		security/clamav
540	_dspam		mail/dspam
#541	_cups		XXX we already have _cups
542	_flowd		net/flowd
543	_cyrus		mail/cyrus-imapd
544	_openldap	databases/openldap
545	_asterisk	telephony/asterisk
546	_honeyd		net/honeyd
547	_kismet		net/kismet
548	_polipo		www/polipo
549	_netplan	misc/plan
550	_nagios		net/nagios
551	_gpsd		misc/gpsd
552	_xavante	www/xavante
553	_saned		graphics/sane-backends
554	_avenger	mail/avenger
555	_akpop3d	NO
556	_nrpe		net/nagios/nrpe
557	_snort		net/snort
558	_ipfreely	net/ipfreely
559	_freeradius	net/freeradius
560	_mpd		audio/mpd
561	_rbldns		net/rbldnsd
562	_smokeping	net/smokeping
563	_postgrey	mail/postgrey
564	_prelude	security/prelude
565	_pfflowd	net/pfflowd
566	_tor		net/tor
567	_dk-milter	mail/dk-milter
568	_milter-greylist	mail/milter-greylist
569	_dkim-milter	mail/dkim-milter
570	_mdefang	mail/mimedefang
571	_courier	mail/maildrop
572	_dbus		sysutils/dbus
573	_perdition	mail/perdition
574	_siproxd	telephony/siproxd
575	_netflow	net/flow-tools
576	_apache2	www/apache-httpd
#577	_openvpn	XXX we already have _openvpn
578	_mrtg		net/mrtg
579	_hiawatha	www/hiawatha
580	_puppet		sysutils/ruby-puppet
581	_gonzui		textproc/gonzui
582	_tabled		sysutils/tabled
597	_kqemu		NO
### system users (registry: OpenBSD)
32766	nogroup		NO
32767	nobody		Unprivileged User
@


1.14
log
@allocate a user for ACME (Let’s Encrypt) implementations
@
text
@d1 1
a1 1
# $MirOS: ports/infrastructure/templates/userlist.db,v 1.13 2018/10/07 01:09:59 tg Exp $
d78 1
@


1.13
log
@spelling cleanup: “programme” is distinct from “program”; even in
British English, the latter is used for computer programs, while
the former serves for things like the TV programme, or a programme
to plant trees
@
text
@d1 1
a1 1
# $MirOS: ports/infrastructure/templates/userlist.db,v 1.12 2008/11/29 17:03:48 tg Exp $
d98 1
@


1.12
log
@move anoncvs stub from /var/anoncvs/anoncvs to /var/anoncvs,
shell from /var/anoncvs/anoncvssh to /usr/libexec/anoncvssh,
devices are now on mfs, fix some typos etc. while here

=> /var/anoncvs and its subdirectories can now be mounted
   with nodev and nosuid

condition on the mfs mount: at least one user must exist
whose home directory is /var/anoncvs (or one of its sub-
directories), whose shell is /usr/libexec/anoncvssh, and
whose password is not empty ('*'); /var/anoncvs/dev will
be filled with arandom, null and zero.

also enforce stricter perms on cvs and rsync binaries in
the chroot (0110 root:_anoncvs)

do not change anything pertaining to the MirOS mirrors
yet, as these will have to be changed to match the new
default values with some OS upgrade later
@
text
@d1 1
a1 1
# $MirOS: ports/infrastructure/templates/userlist.db,v 1.11 2008/05/07 15:07:47 tg Exp $
d31 1
a31 1
25	smmsp		Sendmail Message Submission Programme
d63 1
a63 1
77	_dhcp		DHCP programmes
@


1.11
log
@steal a port from OpenBSD ☺
@
text
@d1 1
a1 1
# $MirOS: ports/infrastructure/templates/userlist.db,v 1.10 2008/05/07 12:05:08 tg Exp $
d82 1
a82 1
254	_anoncvs	!254::0:0:anonymous CVS and RSYNC:/var/anoncvs/anoncvs:/var/anoncvs/anoncvssh
@


1.10
log
@• change root’s home directory from ‘/root’ to ‘/’
  agreed cnuke@@
• while here, improve commentary and nuke a dead user
@
text
@d1 1
a1 1
# $MirOS: ports/infrastructure/templates/userlist.db,v 1.9 2007/07/09 09:24:53 tg Exp $
d182 1
@


1.9
log
@NetBSD® pkgsrc® insists on having the score files owned by “games” user;
please make sure the programmes and read-only data are still owned by root.
@
text
@d1 3
a3 3
# $MirOS: ports/infrastructure/templates/userlist.db,v 1.8 2007/06/18 21:13:29 tg Exp $
#
# List of users and groups for the MirPorts infrastructure.
d11 3
a13 2
#
0	root		!0:daemon:0:0:Charlie &:/root:/bin/sh
d15 1
a15 1
1	daemon		!1::0:0:the devil himself:/root:/sbin/nologin
d77 1
d85 1
d92 1
a92 1
262	_mailscan	???
d98 1
d182 1
@


1.8
log
@benz put dbus not under x11
commit ok bsiegert@@
@
text
@d1 1
a1 1
# $MirOS: ports/infrastructure/templates/userlist.db,v 1.7 2007/05/17 18:53:22 tg Exp $
d27 1
@


1.7
log
@typo
@
text
@d1 1
a1 1
# $MirOS: ports/infrastructure/templates/userlist.db,v 1.6 2007/02/17 20:16:18 tg Exp $
d166 1
a166 1
572	_dbus		x11/dbus
@


1.6
log
@make _rsync the unprivileged user/group for net/rsync
@
text
@d1 1
a1 1
# $MirOS: ports/infrastructure/templates/userlist.db,v 1.5 2007/02/17 03:37:00 tg Exp $
d110 1
a110 1
516	_privoxy	www/privoxyy
@


1.5
log
@* sync with openbsd group,v 1.46 and master.passwd,v 1.50
* naming, spelling and case unification
@
text
@d1 1
a1 1
# $MirOS: ports/infrastructure/templates/userlist.db,v 1.4 2007/02/08 22:08:45 tg Exp $
d81 1
a81 1
255	_rsync		former rsync server
@


1.4
log
@oops, duplicate uid/gid _openvpn
@
text
@d1 1
a1 1
# $MirOS: ports/infrastructure/templates/userlist.db,v 1.3 2007/02/02 16:53:38 tg Exp $
d14 1
a14 1
1	daemon		!1::0:0:The devil himself:/root:/sbin/nologin
d17 1
a17 1
2	operator	!5::0:0:System &:/operator:/sbin/nologin
d51 1
a51 1
67	www		HTTP Server
d54 1
a54 1
70	named		Name Service Daemon
d66 2
a67 2
82	_ppp		PPP Daemon
83	_ntp		Network Time Daemon
d71 3
@


1.3
log
@* fix root line: root now has /bin/sh as shell
* sync with $OpenBSD: user.list,v 1.68 2007/01/12 14:01:08 mbalmer Exp $
@
text
@d1 1
a1 1
# $MirOS: ports/infrastructure/templates/userlist.db,v 1.2 2005/12/04 13:55:59 tg Exp $
d168 1
a168 1
577	_openvpn	net/openvpn
@


1.2
log
@sync systrace.filter and userlist.db with opnebsd
@
text
@d1 1
a1 1
# $MirOS: ports/infrastructure/templates/userlist.db,v 1.1 2005/09/13 10:26:42 tg Exp $
d12 1
a12 1
0	root		!0:daemon:0:0:Charlie &:/root:/bin/mksh
d98 2
a99 2
507	_postfix	mail/postfix MTA(?)
508	_postdrop	mail/postfix MDA(?)
d146 28
@


1.1
log
@* move scripts/mkuserdb -> install/mkuserdb.ksh
* move scripts/userlist -> templates/userlist.db
* use mkuserdb.ksh in setup.ksh if Open/MirBSD and root, warn otherwise
@
text
@d1 1
a1 1
# $MirOS: ports/infrastructure/scripts/userlist,v 1.4 2005/07/24 15:27:36 tg Exp $
d137 9
@

