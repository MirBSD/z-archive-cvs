head	1.8;
access;
symbols
	MIRBSD_8_BASE:1.6;
locks; strict;
comment	@# @;


1.8
date	2006.10.13.22.16.50;	author tg;	state Exp;
branches;
next	1.7;
commitid	1004530106358BA6293;

1.7
date	2006.10.13.18.21.53;	author tg;	state Exp;
branches;
next	1.6;
commitid	100452FD95539285DEF;

1.6
date	2005.12.04.13.48.31;	author tg;	state Exp;
branches;
next	1.5;
commitid	12c54392f3a9aa01;

1.5
date	2005.07.09.16.32.55;	author tg;	state Exp;
branches;
next	1.4;
commitid	25df42cffc32e7c4;

1.4
date	2005.07.09.13.40.59;	author tg;	state Exp;
branches;
next	1.3;
commitid	635042cfd3fe159e;

1.3
date	2005.07.09.13.32.00;	author tg;	state Exp;
branches;
next	1.2;
commitid	433e42cfd1deacd1;

1.2
date	2005.07.05.20.08.32;	author tg;	state Exp;
branches;
next	1.1;
commitid	6fe042cae8bb6f4d;

1.1
date	2005.03.18.15.47.19;	author tg;	state Exp;
branches
	1.1.7.1;
next	;

1.1.7.1
date	2005.03.18.15.47.19;	author tg;	state Exp;
branches;
next	;


desc
@@


1.8
log
@allow clock_getres(2)
@
text
@	native-__getcwd: permit
	native-__semctl: permit
	native-__sysctl: permit
	native-accept: permit
	native-bind: sockaddr match "/tmp" then permit
	native-bind: sockaddr match "/var/tmp" then permit
	native-bind: sockaddr match "${TMPDIR}" then permit
	native-bind: sockaddr match "${WRKDIR}" then permit
	native-bind: sockaddr match "/<non-existent filename>: *" then deny[enoent]
	native-break: permit
	native-chdir: permit
	native-chflags: filename match "/tmp" then permit
	native-chflags: filename match "/var/tmp" then permit
	native-chflags: filename match "${TMPDIR}" then permit
	native-chflags: filename match "${WRKDIR}" then permit
	native-chflags: filename match "/<non-existent filename>: *" then deny[enoent]
	native-chmod: filename match "/tmp" then permit
	native-chmod: filename match "/var/tmp" then permit
	native-chmod: filename match "${TMPDIR}" then permit
	native-chmod: filename match "${WRKDIR}" then permit
	native-chmod: filename match "/<non-existent filename>: *" then deny[enoent]
	native-chown: filename match "/tmp" then permit
	native-chown: filename match "/var/tmp" then permit
	native-chown: filename match "${TMPDIR}" then permit
	native-chown: filename match "${WRKDIR}" then permit
	native-chown: filename match "/<non-existent filename>: *" then deny[enoent]
	native-chroot: permit
	native-clock_getres: permit
	native-clock_gettime: permit
	native-close: permit
	native-closefrom: permit
	native-compat_43_ogetdtablesize: permit
	native-compat_43_ogetpagesize: permit
	native-compat_43_olseek: permit
	native-connect: sockaddr eq "family(0)" then permit
	native-connect: sockaddr match "/dev/log" then permit
	native-connect: sockaddr match "/tmp" then permit
	native-connect: sockaddr match "/var/tmp" then permit
	native-connect: sockaddr match "${TMPDIR}" then permit
	native-connect: sockaddr match "${WRKDIR}" then permit
	native-connect: sockaddr match "/<non-existent filename>: *" then deny[enoent]
	native-dup2: permit
	native-dup: permit
	native-execve: true then permit
	native-exit: permit
	native-fchdir: permit
	native-fchflags: permit
	native-fchmod: permit
	native-fchown: permit
	native-fcntl: permit
	native-flock: permit
	native-fork: permit
	native-fsread: filename eq "" then deny[enoent]
	native-fsread: true then permit
	native-fstat: permit
	native-fstatfs: permit
	native-fswrite: filename eq "" then deny[enoent]
	native-fswrite: filename eq "/dev/crypto" then permit
	native-fswrite: filename eq "/dev/null" then permit
	native-fswrite: filename eq "/dev/stdout" then permit
	native-fswrite: filename eq "/dev/tty" then permit
	native-fswrite: filename eq "/dev/zero" then permit
	native-fswrite: filename match "/tmp" then permit
	native-fswrite: filename match "/var/tmp" then permit
	native-fswrite: filename match "${DISTDIR}" then permit
	native-fswrite: filename match "${PKG_TMPDIR}" then permit
	native-fswrite: filename match "${PORTSDIR}/Bulk" then permit
	native-fswrite: filename match "${PORTSDIR}/Packages" then permit
	native-fswrite: filename match "${TMPDIR}" then permit
	native-fswrite: filename match "${WRKDIR}" then permit
	native-fswrite: filename match "/<non-existent filename>: *" then deny[enoent]
	native-fsync: permit
	native-ftruncate: permit
	native-futimes: permit
	native-getdirentries: permit
	native-getegid: permit
	native-geteuid: permit
	native-getfsstat: permit
	native-getgid: permit
	native-getgroups: permit
	native-getlogin: permit
	native-getpeername: permit
	native-getpgid: permit
	native-getpgrp: permit
	native-getpid: permit
	native-getppid: permit
	native-getpriority: permit
	native-getrlimit: permit
	native-getrusage: permit
	native-getsid: permit
	native-getsockname: permit
	native-getsockopt: permit
	native-getthrid: permit
	native-gettimeofday: permit
	native-getuid: permit
	native-ioctl: permit
	native-issetugid: permit
	native-kevent: permit
	native-kill: permit
	native-kqueue: permit
	native-lchown: filename match "/tmp" then permit
	native-lchown: filename match "/var/tmp" then permit
	native-lchown: filename match "${TMPDIR}" then permit
	native-lchown: filename match "${WRKDIR}" then permit
	native-lchown: filename match "/<non-existent filename>: *" then deny[enoent]
	native-link: filename match "/tmp" and filename[1] match "/tmp" then permit
	native-link: filename match "/var/tmp" and filename[1] match "/var/tmp" then permit
	native-link: filename match "${TMPDIR}" and filename[1] match "${TMPDIR}" then permit
	native-link: filename match "${WRKDIR}" and filename[1] match "${WRKDIR}" then permit
	native-link: filename match "/<non-existent filename>: *" then deny[enoent]
	native-listen: permit
	native-lseek: permit
	native-madvise: permit
	native-mknod: filename match "/tmp" then permit
	native-mknod: filename match "/var/tmp" then permit
	native-mknod: filename match "${TMPDIR}" then permit
	native-mknod: filename match "${WRKDIR}" then permit
	native-mlock: permit
	native-mlockall: permit
	native-mmap: permit
	native-mprotect: permit
	native-mquery: permit
	native-msync: permit
	native-munmap: permit
	native-nanosleep: permit
	native-osigaltstack: permit
	native-pathconf: permit
	native-pipe: permit
	native-poll: permit
	native-pread: permit
	native-pwrite: permit
	native-quotactl: permit
	native-read: permit
	native-readv: permit
	native-recvfrom: permit
	native-recvmsg: permit
	native-rename: filename match "/tmp" and filename[1] match "/tmp" then permit
	native-rename: filename match "/tmp" and filename[1] match "/var/tmp" then permit
	native-rename: filename match "/tmp" and filename[1] match "${WRKDIR}" then permit
	native-rename: filename match "/var/tmp" and filename[1] match "/var/tmp" then permit
	native-rename: filename match "/var/tmp" and filename[1] match "${WRKDIR}" then permit
	native-rename: filename match "${TMPDIR}" and filename[1] match "${TMPDIR}" then permit
	native-rename: filename match "${TMPDIR}" and filename[1] match "${WRKDIR}" then permit
	native-rename: filename match "${WRKDIR}" and filename[1] match "${WRKDIR}" then permit
	native-rename: filename match "/<non-existent filename>: *" then deny[enoent]
	native-rfork: permit
	native-sched_yield: permit
	native-select: permit
	native-semctl: permit
	native-semget: permit
	native-semop: permit
	native-sendmsg: permit
	native-sendto: permit
	native-setegid: permit
	native-setgid: permit
	native-setgroups: permit
	native-setitimer: permit
	native-setpgid: permit
	native-setpriority: permit
	native-setregid: permit
	native-setresgid: permit
	native-setresuid: permit
	native-setreuid: permit
	native-setrlimit: permit
	native-setsid: permit
	native-setsockopt: permit
	native-setuid: permit
	native-shmat: permit
	native-shmctl: permit
	native-shmdt: permit
	native-shmget: permit
	native-shutdown: permit
	native-sigaction: permit
	native-sigaltstack: permit
	native-sigprocmask: permit
	native-sigreturn: permit
	native-sigsuspend: permit
	native-socket: permit
	native-socketpair: permit
	native-statfs: permit
	native-symlink: filename match "/tmp" then permit
	native-symlink: filename match "/var/tmp" then permit
	native-symlink: filename match "${TMPDIR}" then permit
	native-symlink: filename match "${WRKDIR}" then permit
	native-symlink: string eq "" and filename eq "" then deny[enoent]
	native-sync: permit
	native-threxit: permit
	native-thrsigdivert: permit
	native-thrsleep: permit
	native-thrwakeup: permit
	native-umask: permit
	native-utimes: permit
	native-vfork: permit
	native-wait4: permit
	native-write: permit
	native-writev: permit

@


1.7
log
@possibly upgrade systrace; also covers security issues
@
text
@d28 1
@


1.6
log
@From: Nikolay Sturm <sturm@@erisiandiscord.de>
add support for systrace'd builds with kernel using rthreads
tested on OpenBSD 3.8-current/sparc without rthreads to not break
@
text
@d1 1
d4 1
a4 1
	native-accept: true then permit log
d6 1
d8 2
d12 15
a26 3
	native-chflags: permit
	native-chmod: permit
	native-chown: permit
d37 1
d39 2
d63 1
a63 1
	native-fswrite: filename match "${TMPDIR}" then permit
d65 1
a65 1
	native-fswrite: filename match "${WRKDIR}" then permit
d68 2
a69 1
	native-fswrite: filename match "${PKG_TMPDIR}" then permit
d100 5
a104 1
	native-lchown: permit
d106 2
d109 2
a110 2
	native-link: filename[1] match "/<non-existent filename>: *" then deny[enoent]
	native-listen: true then permit log
d113 4
a116 1
	native-mkfifo: permit
d131 1
d136 9
a144 1
	native-rename: permit
d148 1
d150 1
d181 2
a183 1
	native-symlink: filename match "/<non-existent filename>: *" then deny[enoent]
d196 1
@


1.5
log
@solve the libtoolish "rm: : invalid argument" problem

solution by MYSELF, and neither OpenBSD nor NetBSD® were of ANY help AT ALL.
@
text
@d72 1
d107 2
d145 4
@


1.4
log
@permit shm/sem
@
text
@d33 1
@


1.3
log
@merge some of this stuff better w/ OpenBSD
@
text
@d1 1
d106 1
@


1.2
log
@* capitalise the initial letter on Distfiles, Packages, etc.
* slightly change the Packages layout

agreed bsiegert@@
@
text
@d35 1
a35 1
	native-fswrite: filename eq "" then permit
d74 1
d76 1
d78 3
a80 1
	native-link: permit
d134 4
a137 1
	native-symlink: permit
@


1.1
log
@Initial revision
@
text
@d45 2
a46 2
	native-fswrite: filename match "${PORTSDIR}/bulk" then permit
	native-fswrite: filename match "${PORTSDIR}/packages" then permit
@


1.1.7.1
log
@Import the MirPorts Framework, many files moved or renamed though, no KDE/QT
@
text
@@
