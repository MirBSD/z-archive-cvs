head	1.4;
access;
symbols
	MIRBSD_8_BASE:1.3;
locks; strict;
comment	@# @;


1.4
date	2007.03.31.19.35.51;	author tg;	state Exp;
branches;
next	1.3;
commitid	100460EB8025105F12F;

1.3
date	2005.12.20.19.17.39;	author tg;	state Exp;
branches;
next	1.2;
commitid	10043A858CF5BCF7B78;

1.2
date	2005.09.12.22.53.17;	author tg;	state Exp;
branches;
next	1.1;
commitid	6e6c432606e897b6;

1.1
date	2005.03.18.15.47.16;	author tg;	state Exp;
branches
	1.1.7.1;
next	;

1.1.7.1
date	2005.03.18.15.47.16;	author tg;	state Exp;
branches
	1.1.7.1.2.1;
next	;

1.1.7.1.2.1
date	2005.08.21.10.38.00;	author tg;	state Exp;
branches;
next	1.1.7.1.2.2;
commitid	7a2243085998fac3;

1.1.7.1.2.2
date	2005.09.01.22.15.25;	author tg;	state Exp;
branches;
next	1.1.7.1.2.3;
commitid	786f43177d7275c0;

1.1.7.1.2.3
date	2005.09.01.22.54.21;	author tg;	state Exp;
branches;
next	;
commitid	456b431786a69847;


desc
@@


1.4
log
@catch including <bsd.own.mk> instead of <mirports.sys.mk>

(this made archivers/star have SUDO=sudo from /etc/make.cfg whereas
mmake had set it to empty since I'm using a not-as-root mirports setup)
@
text
@# $MirOS: ports/infrastructure/install/mirports.sys.mk,v 1.3 2005/12/20 19:17:39 tg Exp $

.ifndef MIRPORTS_SYS_MK

.ifdef BSD_OWN_MK
.  error Never .include <bsd.own.mk> in MirPorts, always .include <mirports.sys.mk>
.endif

# Note these two are not necessarily coupled to each other
PORTSDIR?=	@@
LOCALBASE?=	@@

.if exists(${LOCALBASE}/db/SetEnv.make)
.  include "${LOCALBASE}/db/SetEnv.make"
.endif

.include <bsd.own.mk>

.if exists(${PORTSDIR}/infrastructure/mk/mirports.sys.mk)
.  include "${PORTSDIR}/infrastructure/mk/mirports.sys.mk"
.endif

.endif
@


1.3
log
@include <bsd.own.mk> _after_ SetEnv.make, else it won't help MAKECONF
NOTE: bsd.own.mk has to make sure to use ?= to not overwrite here
@
text
@d1 1
a1 1
# $MirOS: ports/infrastructure/install/mirports.sys.mk,v 1.2 2005/09/12 22:53:17 tg Exp $
d5 4
d17 1
a17 3
.ifndef BSD_OWN_MK
.  include <bsd.own.mk>
.endif
@


1.2
log
@join tg-ports-devel branch into HEAD
@
text
@d1 1
a1 1
# $MirOS: ports/infrastructure/install/mirports.sys.mk,v 1.1.7.1.2.3 2005/09/01 22:54:21 tg Exp $
a4 4
.ifndef BSD_OWN_MK
.  include <bsd.own.mk>
.endif

d13 4
@


1.1
log
@Initial revision
@
text
@d1 1
a1 3
# $MirOS$
#
# Please install these using the ports/setup.sh script provided.
d5 15
a19 11
.  ifndef BSD_OWN_MK
.    include <bsd.own.mk>
.  endif

PORTSDIR?=	/usr/ports

# If the user wants to use the OpenBSD ports tree and the
# MirPorts framework in parallel, he shall do so.
.  if exists(${PORTSDIR}/infrastructure/mk/mirports.sys.mk)
.    include "${PORTSDIR}/infrastructure/mk/mirports.sys.mk"
.  endif
@


1.1.7.1
log
@Import the MirPorts Framework, many files moved or renamed though, no KDE/QT
@
text
@@


1.1.7.1.2.1
log
@adjust comments and white-space
@
text
@d1 1
a1 1
# $MirOS: ports/infrastructure/install/mirports.sys.mk,v 1.1.7.1 2005/03/18 15:47:16 tg Exp $
d3 1
a3 1
# To install use the provided ports/infrastructure/install/Setup.sh script.
d7 3
a9 3
.ifndef BSD_OWN_MK
.  include <bsd.own.mk>
.endif
d13 5
a17 4
# In case we are being used for "the other ports tree"...
.if exists(${PORTSDIR}/infrastructure/mk/mirports.sys.mk)
.  include "${PORTSDIR}/infrastructure/mk/mirports.sys.mk"
.endif
@


1.1.7.1.2.2
log
@move LOCALBASE, SYSCONFDIR etc. to SetEnv.make (or SetEnv.sh, SetEnv.csh)
scripts, as discussed with bsiegert@@

SYSCONFDIR still defaults to /etc
@
text
@d1 1
a1 1
# $MirOS: ports/infrastructure/install/mirports.sys.mk,v 1.1.7.1.2.1 2005/08/21 10:38:00 tg Exp $
d11 1
a11 8
# Note these two are not necessarily coupled to each other
# Also don't change the defaults; this is being done by Setup.sh
PORTSDIR?=	/usr/ports	# Location of MirPorts Framework source
LOCALBASE?=	/usr/mpkg	# Location of MirPorts Packages and DB

.if exists(${LOCALBASE}/db/SetEnv.make)
.  include "${LOCALBASE}/db/SetEnv.make"
.endif
d13 1
@


1.1.7.1.2.3
log
@shrink some stuff; optimise; remove useless comments
@
text
@d1 3
a3 1
# $MirOS: ports/infrastructure/install/mirports.sys.mk,v 1.1.7.1.2.2 2005/09/01 22:15:25 tg Exp $
d12 3
a14 2
PORTSDIR?=	@@
LOCALBASE?=	@@
@


