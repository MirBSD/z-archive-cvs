head	1.6;
access;
symbols
	bsiegert-cfgfile_BASE:1.6
	bsiegert-cfgfile:1.6.0.2
	MIRBSD_8_BASE:1.4;
locks; strict;
comment	@# @;


1.6
date	2008.11.02.19.20.09;	author tg;	state Exp;
branches
	1.6.2.1;
next	1.5;
commitid	100490DFD7966E23BD3;

1.5
date	2008.11.02.18.56.29;	author tg;	state Exp;
branches;
next	1.4;
commitid	100490DF7B930A3A3BD;

1.4
date	2005.09.12.22.53.23;	author tg;	state Exp;
branches;
next	1.3;
commitid	6e6c432606e897b6;

1.3
date	2005.05.21.17.15.40;	author tg;	state Exp;
branches
	1.3.2.1;
next	1.2;
commitid	29b1428f6cc6148e;

1.2
date	2005.05.21.00.16.05;	author tg;	state Exp;
branches;
next	1.1;
commitid	2ef4428e7c341292;

1.1
date	2005.03.18.15.47.16;	author tg;	state Exp;
branches
	1.1.7.1;
next	;

1.6.2.1
date	2009.12.22.22.26.50;	author bsiegert;	state Exp;
branches;
next	1.6.2.2;
commitid	1004B31479401069986;

1.6.2.2
date	2010.03.04.18.03.37;	author bsiegert;	state Exp;
branches;
next	1.6.2.3;
commitid	1004B8FF5740BB7941D;

1.6.2.3
date	2010.05.31.20.25.19;	author bsiegert;	state Exp;
branches;
next	;
commitid	1004C041AC66F098A17;

1.3.2.1
date	2005.08.21.11.17.55;	author tg;	state Exp;
branches;
next	1.3.2.2;
commitid	63fa430862e721e6;

1.3.2.2
date	2005.08.21.11.56.44;	author tg;	state Exp;
branches;
next	;
commitid	ee843086c086e5e;

1.1.7.1
date	2005.03.18.15.47.16;	author tg;	state Exp;
branches;
next	;


desc
@@


1.6
log
@${DEBUG} may be -g but never a CPPFLAGS
@
text
@# $MirOS: ports/infrastructure/pkgtools/lib/Makefile,v 1.5 2008/11/02 18:56:29 tg Exp $
# $OpenBSD: Makefile,v 1.5 2001/04/08 16:45:47 espie Exp $

LIB=		install
SRCS=		exec.c file.c global.c mem.c pen.c plist.c proc.c pwarnx.c \
		rcdb.c str.c
NOPIC=		yes

install:

.include <bsd.lib.mk>
@


1.6.2.1
log
@First (alpha quality) incarnation of configuration file routines.
You can set and expand variables. Contains some debugging code still.
@
text
@d1 1
a1 1
# $MirOS: ports/infrastructure/pkgtools/lib/Makefile,v 1.6 2008/11/02 19:20:09 tg Exp $
d5 2
a6 2
SRCS=		cfgfile.c exec.c file.c global.c mem.c pen.c plist.c proc.c \
		pwarnx.c rcdb.c str.c
@


1.6.2.2
log
@Continue on the cfgfile branch:
Introduce a new function findmatchingname_file(), which searches in the cached
index files for a package.
Introduce a function findmatchingname_srcs(), which iterates over all the
sources and returns a list of _all_ matches, minus those sorted out by a
helper function.

Builds fine, but the code is still untested.
@
text
@d1 1
a1 1
# $MirOS: ports/infrastructure/pkgtools/lib/Makefile,v 1.6.2.1 2009/12/22 22:26:50 bsiegert Exp $
d6 1
a6 1
		pwarnx.c rcdb.c srclist.c str.c
@


1.6.2.3
log
@add a new function diag(), which is like
	if (Verbose) printf(fmt, ...)
Also add a new module, libspec.c, that is able to parse libspecs like
jpeg.62.0 or tiff.la, etc., and check whether the corresponding library is
present. Not connected to anything yet.
@
text
@d1 1
a1 1
# $MirOS: ports/infrastructure/pkgtools/lib/Makefile,v 1.6.2.2 2010/03/04 18:03:37 bsiegert Exp $
d5 2
a6 2
SRCS=		cfgfile.c exec.c file.c global.c libspec.c mem.c pen.c \
		plist.c proc.c pwarnx.c rcdb.c srclist.c str.c
@


1.5
log
@• add new memory management functions (xcalloc, xrealloc, xfree, xstrdup,
  xasprintf, xvasprintf)
• add new process calling functions which can optionally unlimit datasize
• add safe formatting functions (untested)
• retire asystem for xsystem
@
text
@d1 1
a1 1
# $MirOS: ports/infrastructure/pkgtools/lib/Makefile,v 1.4 2005/09/12 22:53:23 tg Exp $
a6 1
CPPFLAGS+=	${DEBUG}
@


1.4
log
@join tg-ports-devel branch into HEAD
@
text
@d1 1
a1 1
# $MirOS: ports/infrastructure/pkgtools/lib/Makefile,v 1.3.2.2 2005/08/21 11:56:44 tg Exp $
d5 2
a6 1
SRCS=		exec.c file.c global.c pen.c plist.c pwarnx.c rcdb.c str.c
@


1.3
log
@replace arc4random by something less entropy-draining
@
text
@d1 1
a1 1
# $MirOS: ports/infrastructure/pkgtools/lib/Makefile,v 1.2 2005/05/21 00:16:05 tg Exp $
a8 9
.if defined(NEED_COMPAT)
SRCS+=		mktemp.c strtoll.c
.PATH:	${.CURDIR}/../mbcompat
.endif

.if defined(INSTALLMANS)
install: maninstall
.endif

a9 1
	# Nothing to do...
@


1.3.2.1
log
@simplify pkgtools build
XXX move mbcompat into mirmake?
@
text
@d1 1
a1 1
# $MirOS: ports/infrastructure/pkgtools/lib/Makefile,v 1.3 2005/05/21 17:15:40 tg Exp $
d11 5
a15 1
.PATH: ${.CURDIR}/../mbcompat
d19 1
@


1.3.2.2
log
@mbcompat is now part of libmirmake
@
text
@d1 1
a1 1
# $MirOS: ports/infrastructure/pkgtools/lib/Makefile,v 1.3.2.1 2005/08/21 11:17:55 tg Exp $
d9 5
@


1.2
log
@* db/Makefile [SHOW_ONLY]
	new ifdef; includes <bsd.own.mk> instead of <mirports.sys.mk>
	  (for make with ___DISPLAY_MAKEVARS)
* install/Setup-Interix.sh
	fix PATH
	new MirMake version
* install/Setup.sh
	preliminary support for Interix:
	use BINOWN/BINGRP (via db/Makefile)
	adjust mtree; paths
* install/mirports.osdep.mk-darwin
	_PORTPATH like this is now default
* pkgtools:
	add/extract.c, delete/perform.c, lib/pen.c:
	  no chflags/chattr/chown/statfs on Interix
	create/perform.c: uncomment header not on Interix
	lib/Makefile: use mbcompat (only on Interix)
	lib/rcdb.c: don't acquire lock on Interix (XXX)
	mbcompat/bsd-arc4random.c:
	  fix includes etc.
	  add protos
	  whitespace cleanup
	mbcompat/mktemp.c:
	  conditionalise __warn_references
* pkgtools/pkg/Makefile: don't strip on install
@
text
@d1 1
a1 1
# $MirOS: ports/infrastructure/pkgtools/lib/Makefile,v 1.1.7.1 2005/03/18 15:47:16 tg Exp $
d10 1
a10 1
SRCS+=		bsd-arc4random.c mktemp.c strtoll.c
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $MirOS$
d9 5
@


1.1.7.1
log
@Import the MirPorts Framework, many files moved or renamed though, no KDE/QT
@
text
@@
