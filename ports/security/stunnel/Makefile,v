head	1.8;
access;
symbols;
locks; strict;
comment	@# @;


1.8
date	2020.01.24.20.53.45;	author tg;	state Exp;
branches;
next	1.7;
commitid	1005E2B596657431789;

1.7
date	2014.05.20.11.33.04;	author tg;	state Exp;
branches;
next	1.6;
commitid	100537B3D83499EF251;

1.6
date	2011.08.04.15.27.17;	author tg;	state Exp;
branches;
next	1.5;
commitid	1004E3ABA562FC4351E;

1.5
date	2007.02.18.19.12.36;	author tg;	state Exp;
branches;
next	1.4;
commitid	10045D8A52D4B550D62;

1.4
date	2007.02.18.18.57.36;	author tg;	state Exp;
branches;
next	1.3;
commitid	10045D8A19B1F4849D5;

1.3
date	2006.09.14.00.13.23;	author tg;	state Exp;
branches;
next	1.2;
commitid	10045089C0E234154C3;

1.2
date	2005.12.16.22.42.00;	author tg;	state Exp;
branches;
next	1.1;
commitid	10043A342C74692165A;

1.1
date	2005.03.18.15.51.56;	author tg;	state Exp;
branches
	1.1.7.1;
next	;

1.1.7.1
date	2005.03.18.15.51.56;	author tg;	state Exp;
branches;
next	;


desc
@@


1.8
log
@use correct way of disabling SSLv2 in client, as to not disable TLSv1 tooâ€¦
@
text
@# $MirOS: ports/security/stunnel/Makefile,v 1.7 2014/05/20 11:33:04 tg Exp $
# $OpenBSD: Makefile,v 1.22.4.2 2003/09/03 19:13:48 brad Exp $

COMMENT=		SSL encryption wrapper for standard network daemons
DISTNAME=		stunnel-3.26
DASH_VER=		4
CATEGORIES=		security
HOMEPAGE=		http://stunnel.mirt.net/

PERMIT_PACKAGE_CDROM=	Yes
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes

MASTER_SITES=		${_MASTER_SITE_MIRBSD}

CONFIGURE_STYLE=	autoconf no-autoheader
AUTOCONF_NEW=		Yes
CONFIGURE_ARGS+=	--with-pem-dir=${SYSCONFDIR}/ssl \
			--with-random=/dev/arandom
ALL_TARGET=		stunnel

.include <mirports.sys.mk>
.if ${OStype} == "OpenBSD"
CONFIGURE_ARGS+=	--with-tcp-wrappers
.else
CONFIGURE_ARGS+=	--without-tcp-wrappers
.endif

do-install:
	${INSTALL_PROGRAM} ${WRKBUILD}/stunnel ${PREFIX}/sbin/
	${INSTALL_MAN} ${WRKSRC}/stunnel.8 ${PREFIX}/man/man8/

.include <bsd.port.mk>
@


1.7
log
@this does not build without autoconf installed
@
text
@d1 1
a1 1
# $MirOS: ports/security/stunnel/Makefile,v 1.6 2011/08/04 15:27:17 tg Exp $
d6 1
a6 1
DASH_VER=		3
@


1.6
log
@implement local-file passthrough mode, for a scalable arandom ssl server
(yes, I did just extend stunnel 3.x)
@
text
@d1 1
a1 1
# $MirOS: ports/security/stunnel/Makefile,v 1.5 2007/02/18 19:12:36 tg Exp $
d17 2
a18 1
CONFIGURE_STYLE=	gnu
@


1.5
log
@ok, put the cert to /etc/ssl/stunnel.pem root:_stunnel 0440 instead.
@
text
@d1 1
a1 1
# $MirOS: ports/security/stunnel/Makefile,v 1.4 2007/02/18 18:57:36 tg Exp $
d6 1
a6 1
DASH_VER=		2
@


1.4
log
@* move master site to MirOS
* fix pem dir
* don't regen manpage, the delivered is OK
@
text
@d1 1
a1 1
# $MirOS: ports/security/stunnel/Makefile,v 1.3 2006/09/14 00:13:23 tg Exp $
d6 1
a6 1
DASH_VER=		1
d18 1
a18 1
CONFIGURE_ARGS+=	--with-pem-dir=${SYSCONFDIR}/ssl/private \
@


1.3
log
@clean up COMMENT and HOMEPAGE; regenerate INDEX (2761, 169 marked as broken, probably many many more) ­ edited by script with manual postprocessing
@
text
@d1 1
a1 1
# $MirOS: ports/security/stunnel/Makefile,v 1.2 2005/12/16 22:42:00 tg Exp $
d4 5
a8 4
COMMENT=			SSL encryption wrapper for standard network daemons
DISTNAME=	stunnel-3.26
CATEGORIES=	security
HOMEPAGE=	http://stunnel.mirt.net/
d15 1
a15 9
MASTER_SITES=	ftp://stunnel.mirt.net/stunnel/ \
		http://www.stunnel.org/download/stunnel/src/ \
		http://mike.daewoo.com.pl/computer/stunnel/ \
		http://opensores.thebunker.net/pub/mirrors/stunnel/ \
		ftp://ftp.fu-berlin.de/unix/security/stunnel/ \
		ftp://ftp.uni-freiburg.de/pub/net/stunnel/ \
		ftp://ftp.all.de/pub2/unix/security/stunnel/

BUILD_DEPENDS=  ::textproc/p5-sdf
d18 1
a18 1
CONFIGURE_ARGS+=	--with-pem-dir=${SYSCONFDIR}/ssl \
d20 1
a20 1
ALL_TARGET=		stunnel stunnel.8
d23 1
a23 1
.if ${OStype} == OpenBSD
a28 3
post-configure:
	rm ${WRKSRC}/stunnel.8

d30 1
a30 1
	${INSTALL_PROGRAM} ${WRKSRC}/stunnel ${PREFIX}/sbin
@


1.2
log
@downgrade to last 3.x version
@
text
@d1 1
a1 1
# $MirOS$
d4 1
a4 1
COMMENT=	SSL encryption wrapper for standard network daemons
@


1.1
log
@Initial revision
@
text
@d1 2
a2 1
# $OpenBSD: Makefile,v 1.29 2004/02/16 12:33:18 jakob Exp $
d4 2
a5 4
COMMENT=	"SSL encryption wrapper for standard network daemons"

VERSION=	4.05
DISTNAME=	stunnel-${VERSION}
d7 1
a8 2

# GPL
a13 2
HOMEPAGE=	http://www.stunnel.org/

d22 2
a23 1
SEPARATE_BUILD=		concurrent
d25 13
a37 7
CONFIGURE_ARGS+=	--with-tcp-wrappers \
			--with-random=/dev/arandom \
			--with-ssl=/usr \
			--sysconfdir=${SYSCONFDIR} \
			--localstatedir=/var \
			${CONFIGURE_SHARED}
NO_REGRESS=		Yes
d40 2
a41 5
	${INSTALL_PROGRAM} ${WRKBUILD}/src/stunnel ${PREFIX}/sbin
	${INSTALL_MAN} ${WRKBUILD}/doc/stunnel.8 ${PREFIX}/man/man8
	${INSTALL_DATA_DIR} ${PREFIX}/share/examples/stunnel
	${INSTALL_DATA} ${WRKBUILD}/tools/stunnel.conf-sample \
		${PREFIX}/share/examples/stunnel
@


1.1.7.1
log
@Import the MirPorts Framework, many files moved or renamed though, no KDE/QT
@
text
@@
