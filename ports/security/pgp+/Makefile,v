head	1.11;
access;
symbols;
locks; strict;
comment	@# @;


1.11
date	2009.08.16.16.28.18;	author tg;	state Exp;
branches;
next	1.10;
commitid	1004A882F1F72B43308;

1.10
date	2008.11.08.23.04.04;	author tg;	state Exp;
branches;
next	1.9;
commitid	10049161AC72620EAF0;

1.9
date	2008.10.04.19.03.38;	author tg;	state Exp;
branches;
next	1.8;
commitid	10048E7BD9A0842B398;

1.8
date	2007.03.22.01.01.04;	author tg;	state Exp;
branches;
next	1.7;
commitid	1004601D54E050B2434;

1.7
date	2006.09.20.19.32.38;	author tg;	state Exp;
branches;
next	1.6;
commitid	1004511976D30C8950F;

1.6
date	2006.09.14.00.13.15;	author tg;	state Exp;
branches;
next	1.5;
commitid	10045089C0E234154C3;

1.5
date	2005.11.07.20.38.44;	author tg;	state Exp;
branches;
next	1.4;
commitid	3f0c436fbb6450ec;

1.4
date	2005.11.07.20.30.47;	author tg;	state Exp;
branches;
next	1.3;
commitid	1d8f436fb986c80f;

1.3
date	2005.08.21.11.50.08;	author tg;	state Exp;
branches;
next	1.2;
commitid	3af74308676450c3;

1.2
date	2005.07.07.21.26.15;	author bsiegert;	state Exp;
branches;
next	1.1;
commitid	66bc42cd9a7ea714;

1.1
date	2005.03.18.15.51.41;	author tg;	state Exp;
branches
	1.1.7.1;
next	;

1.1.7.1
date	2005.03.18.15.51.41;	author tg;	state Exp;
branches;
next	;


desc
@@


1.11
log
@change
‚Ä¢ _PASS_CC back from „Äåmpcc„Äç to „Äå${WRKDIR}/bin/mpcc„Äç (note that the
  former „Äå${WRKDIR:Q}/bin/mpcc„Äç was wrong)
‚Ä¢ all uses of _PASS_CC to either
  ‚Ä£ ${_PASS_CC:T:Q} (when passing, e.g. for libtool ‚Äì this is for use
    when ${WRKDIR}/bin is in $$PATH)
  ‚Ä£ ${_PASS_CC:Q} (when invoking, e.g. in post-build targets ‚Äì only
    these I saw when mechanically doing this; Benny wants to fix the
    remaining ones; I should‚Äôve introduced no more breakage than was)
‚Ä¢ _PASS_CXX/mpcxx just the same

agreed bsiegert@@
@
text
@# $MirOS: ports/security/pgp+/Makefile,v 1.10 2008/11/08 23:04:04 tg Exp $

COMMENT=		Pretty Good Privacy 2.6.3in
DISTNAME=		pgp263in010323
CATEGORIES=		security
PKGNAME=		pgp-2.6.3in-${DASH_VER}
DASH_VER=		3
EXTRACT_SUFX=		.tgz
HOMEPAGE=		ftp://ftp.iks-jena.de/pub/mitarb/lutz/crypt/software/pgp/pgp263in/
RESPONSIBLE=		Thorsten Glaser <tg@@mirbsd.org>
MASTER_SITES=		${HOMEPAGE}

# see ${FILESDIR}/README.MirPorts for details
PERMIT_PACKAGE_CDROM=	"no commercial use of the IDEA patent"
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	"no commercial use of the IDEA patent"
PERMIT_DISTFILES_FTP=	Yes

WRKDIST=		${WRKDIR}/pgp263in
WRKSRC=			${WRKDIST}/src

NO_REGRESS=		Yes

# library and doc files to install
LIBFILES=		config.txt de.hlp en.hlp es.hlp fr.hlp keys.asc \
			language.txt language.txt.Sie pgp.hlp
LIBDOCS=		readme.1st setup.doc
DOCS=			appnote.doc blurb.txt changes.doc keyserv.doc \
			mitlicen.txt pgformat.doc pgp262i.dif pgp263i.dif \
			pgp263in.changes pgpdoc1.txt pgpdoc2.txt politic.doc \
			przon26i.asc README.MirPorts
PGP_DOC_DIR=		${PREFIX}/share/doc/pgp

# Before the build figure out if we are on a big endian machine or not
pre-build:
	@@print '#include <machine/endian.h>\npgpin: BYTE_ORDER' | \
	    ${_PASS_CC:Q} -E - >${WRKDIR}/.endian.out
	@@if fgrep -q 'pgpin: 4321' ${WRKDIR}/.endian.out; then \
		echo -DHIGHFIRST >${WRKDIR}/.endian; \
	else \
		cp /dev/null ${WRKDIR}/.endian; \
	fi

do-build:
	@@cd ${WRKSRC} && ${SETENV} ${MAKE_ENV} ${MAKE} -f makefile all \
	    CC=${_PASS_CC:T:Q} CFLAGS=${CFLAGS:M*:Q}" -DUNIX -DPORTABLE \
	    -DMERRITT -DIDEA32 -DPGP_DOC_DIR=\\\"${PGP_DOC_DIR}\\\" \
	    -DMAX_NAMELEN=255 $$(<${WRKDIR}/.endian)" \
	    LD=${_PASS_CC:T:Q} LDFLAGS=${LDSTATIC:M*:Q}
	cp ${FILESDIR}/README.MirPorts ${WRKDIST}/doc/

do-install:
	${INSTALL_DATA_DIR} ${PREFIX}/lib/pgp
	${INSTALL_DATA_DIR} ${PGP_DOC_DIR}
	${INSTALL_PROGRAM} ${WRKSRC}/pgp ${PREFIX}/bin/
	${INSTALL_MAN} ${WRKDIST}/doc/pgp.1 ${PREFIX}/man/man1/
	cd ${WRKDIST} && \
	    ${INSTALL_DATA} ${LIBDOCS} ${PGP_DOC_DIR}/ && \
	    ${INSTALL_DATA} ${LIBFILES} ${PREFIX}/lib/pgp/ && \
	    cd doc && ${INSTALL_DATA} ${DOCS} ${PGP_DOC_DIR}/

.include <bsd.port.mk>
@


1.10
log
@more mass conversions, including ancient eMail addresses
@
text
@d1 1
a1 1
# $MirOS: ports/security/pgp+/Makefile,v 1.9 2008/10/04 19:03:38 tg Exp $
d37 1
a37 1
	    ${_PASS_CC} -E - >${WRKDIR}/.endian.out
d46 1
a46 1
	    CC=${_PASS_CC:Q} CFLAGS=${CFLAGS:M*:Q}" -DUNIX -DPORTABLE \
d49 1
a49 1
	    LD=${_PASS_CC:Q} LDFLAGS=${LDSTATIC:M*:Q}
@


1.9
log
@mass conversion from
‚Ä¢ ${CC}
‚Ä¢ "${CC}"
‚Ä¢ '${CC}'
‚Ä¢ ${CC:Q}
to ${_PASS_CC:Q} (or without :Q if it‚Äôs executed, not assigned), and
same for CXX‚Ä¶ most of these are VERY UGLY, prone to break with ccache
and maybe even without‚Ä¶
@
text
@d1 1
a1 1
# $MirOS: ports/security/pgp+/Makefile,v 1.8 2007/03/22 01:01:04 tg Exp $
d10 1
a10 1
RESPONSIBLE=		Thorsten Glaser <tg@@66h.42h.de>
@


1.8
log
@reindent, stylify, nuke dead patches, fix more format string warnings,
make it use /dev/arandom in preference
@
text
@d1 1
a1 1
# $MirOS: ports/security/pgp+/Makefile,v 1.7 2006/09/20 19:32:38 tg Exp $
d37 1
a37 1
	    ${CC} -E - >${WRKDIR}/.endian.out
d46 1
a46 1
	    CC=${CC:Q} CFLAGS=${CFLAGS:M*:Q}" -DUNIX -DPORTABLE \
d49 1
a49 1
	    LD=${CC:Q} LDFLAGS=${LDSTATIC:M*:Q}
@


1.7
log
@update IDEA licence URI
@
text
@d1 1
a1 1
# $MirOS: ports/security/pgp+/Makefile,v 1.6 2006/09/14 00:13:15 tg Exp $
d6 2
a7 1
PKGNAME=		pgp-2.6.3in-2
d19 4
a22 2
WRKDIST=	${WRKDIR}/pgp263in
WRKSRC=		${WRKDIST}/src
d25 8
a32 12
LIBFILES=	config.txt de.hlp en.hlp es.hlp fr.hlp keys.asc \
		language.txt language.txt.Sie pgp.hlp
LIBDOCS=	readme.1st setup.doc
DOCS=		appnote.doc blurb.txt changes.doc keyserv.doc mitlicen.txt \
		pgformat.doc pgp262i.dif pgp263i.dif pgp263in.changes \
		pgpdoc1.txt pgpdoc2.txt politic.doc przon26i.asc
PGP_DOC_DIR=	${PREFIX}/share/doc/pgp

PATCH_LIST=	patch-src_fileio_c patch-src_pgp_c

DOCFILE=	README.MirPorts
DOCS+=		${DOCFILE}
d36 7
a42 8
	@@echo "#include <machine/endian.h>" > ${WRKDIR}/.endian.c
	@@echo "BYTE_ORDER" >> ${WRKDIR}/.endian.c
	@@${CC} -E ${WRKDIR}/.endian.c > ${WRKDIR}/.endian.out
	@@if { grep -q 4321 ${WRKDIR}/.endian.out; } then \
	   echo -DHIGHFIRST > ${WRKDIR}/.endian; \
	 else \
	   cp /dev/null ${WRKDIR}/.endian; \
	 fi
d46 5
a50 7
	    CC="${CC}" CFLAGS="${CFLAGS} -DUNIX -DPORTABLE -DMERIT \
	    -DIDEA32 -DPGP_DOC_DIR=\\\"${PGP_DOC_DIR}\\\" \
	    -DMAX_NAMELEN=255 `cat ${WRKDIR}/.endian`" \
	    LD="${CC}" LDFLAGS="${LDSTATIC}"
	cp ${FILESDIR}/${DOCFILE} ${WRKDIST}/doc/

NO_REGRESS=	Yes
d57 4
a60 3
	cd ${WRKDIST}; ${INSTALL_DATA} ${LIBDOCS} ${PGP_DOC_DIR}/
	cd ${WRKDIST}; ${INSTALL_DATA} ${LIBFILES} ${PREFIX}/lib/pgp/
	cd ${WRKDIST}/doc; ${INSTALL_DATA} ${DOCS} ${PGP_DOC_DIR}/
@


1.6
log
@clean up COMMENT and HOMEPAGE; regenerate INDEX (2761, 169 marked as broken, probably many many more) ≠ edited by script with manual postprocessing
@
text
@d1 1
a1 1
# $MirOS: ports/security/pgp+/Makefile,v 1.5 2005/11/07 20:38:44 tg Exp $
d3 8
a10 8
COMMENT=			Pretty Good Privacy 2.6.3in
DISTNAME=	pgp263in010323
CATEGORIES=	security
PKGNAME=	pgp-2.6.3in-1
EXTRACT_SUFX=	.tgz
HOMEPAGE=	ftp://ftp.iks-jena.de/pub/mitarb/lutz/crypt/software/pgp/pgp263in/
RESPONSIBLE=	Thorsten "mirabile" Glaser <tg@@66h.42h.de>
MASTER_SITES=	${HOMEPAGE}
@


1.5
log
@add trailing slashes to INSTALL_* cmds
@
text
@d1 1
a1 1
# $MirOS: ports/security/pgp+/Makefile,v 1.4 2005/11/07 20:30:47 tg Exp $
d3 1
a3 1
COMMENT=	"Pretty Good Privacy 2.6.3in"
@


1.4
log
@fix obvious typo in version number
@
text
@d1 1
a1 1
# $MirOS: ports/security/pgp+/Makefile,v 1.3 2005/08/21 11:50:08 tg Exp $
d59 5
a63 5
	${INSTALL_PROGRAM} ${WRKSRC}/pgp ${PREFIX}/bin
	${INSTALL_MAN} ${WRKDIST}/doc/pgp.1 ${PREFIX}/man/man1
	cd ${WRKDIST}; ${INSTALL_DATA} ${LIBDOCS} ${PGP_DOC_DIR}
	cd ${WRKDIST}; ${INSTALL_DATA} ${LIBFILES} ${PREFIX}/lib/pgp
	cd ${WRKDIST}/doc; ${INSTALL_DATA} ${DOCS} ${PGP_DOC_DIR}
@


1.3
log
@_DOMAIN_DU_JOUR dies
@
text
@d1 1
a1 1
# $MirOS: ports/security/pgp+/Makefile,v 1.2 2005/07/07 21:26:15 bsiegert Exp $
d6 1
a6 1
PKGNAME=	pgp-2.6.3in--1
@


1.2
log
@Semi-automatic update of the remaining ports to the new patchlevel format.

Please correct mistakes if you find them :).
@
text
@d1 1
a1 1
# $MirOS$
d9 1
a9 1
RESPONSIBLE=	Thorsten "mirabile" Glaser <tg@@${_DOMAIN_DU_JOUR}>
@


1.1
log
@Initial revision
@
text
@d6 1
a6 1
PKGNAME=	pgp-2.6.3in-p0
@


1.1.7.1
log
@Import the MirPorts Framework, many files moved or renamed though, no KDE/QT
@
text
@@
