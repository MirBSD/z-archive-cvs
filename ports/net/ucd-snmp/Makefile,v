head	1.7;
access;
symbols;
locks; strict;
comment	@# @;


1.7
date	2008.05.02.14.40.40;	author tg;	state Exp;
branches;
next	1.6;
commitid	100481B27FD7AF1AA14;

1.6
date	2008.05.02.13.31.16;	author tg;	state Exp;
branches;
next	1.5;
commitid	100481B17B36B22A571;

1.5
date	2007.02.22.21.46.50;	author tg;	state Exp;
branches;
next	1.4;
commitid	10045DE0F6158846A1D;

1.4
date	2006.12.20.15.31.26;	author tg;	state Exp;
branches;
next	1.3;
commitid	100458956E02A39AB3C;

1.3
date	2006.09.14.00.12.25;	author tg;	state Exp;
branches;
next	1.2;
commitid	10045089C0E234154C3;

1.2
date	2005.07.06.19.21.33;	author bsiegert;	state Exp;
branches;
next	1.1;
commitid	609742cc2f044f70;

1.1
date	2005.03.18.15.49.18;	author tg;	state Exp;
branches
	1.1.7.1;
next	;

1.1.7.1
date	2005.03.18.15.49.18;	author tg;	state Exp;
branches;
next	;


desc
@@


1.7
log
@add licence tag
@
text
@# $MirOS: ports/net/ucd-snmp/Makefile,v 1.6 2008/05/02 13:31:16 tg Exp $
# $OpenBSD: Makefile,v 1.38 2003/04/22 15:15:57 danh Exp $

COMMENT=		extensible SNMP implementation
VERSION=		4.2.6
DASH_VER=		2
DISTNAME=		ucd-snmp-${VERSION}
CATEGORIES=     	net
MASTER_SITES=   	${MASTER_SITE_SOURCEFORGE:=net-snmp/}
HOMEPAGE=		http://net-snmp.sourceforge.net/

# various BSD-styles
PERMIT_PACKAGE_CDROM=	Yes
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes

.include <mirports.sys.mk>

CONFIGURE_STYLE=	autoconf no-autoheader dest
CONFIGURE_ARGS+=	${CONFIGURE_SHARED} \
			--with-defaults \
			--with-logfile=/var/log/snmpd \
			--with-persistent-directory=/var/ucd-snmp \
			--with-openssl \
			--with-zlib \
			--with-libs=-ldes \
			--with-sys-contact='default@@' \
			--with-sys-location='Default Location'
CONFIGURE_ENV+=		VERSION_INFO=42:6:0
NO_REGRESS=		Yes

SNMP_BIN=		encode_keychange snmpbulkget snmpbulkwalk snmpdelta \
			snmpdf snmpget snmpgetnext snmpnetstat snmpset \
			snmpstatus snmptable snmptest snmptranslate snmptrap \
			snmpusm snmpvacm snmpwalk
SNMP_SBIN=		snmpd snmptrapd

post-extract:
	cp ${FILESDIR}/openbsd3.h ${WRKSRC}/s/openbsd3.h
	cd ${WRKSRC}/s && ln -s openbsd3.h mirbsd.h

post-install:
	cd ${PREFIX}/bin && ${STRIP} ${SNMP_BIN}
	cd ${PREFIX}/sbin && ${STRIP} ${SNMP_SBIN}
	${INSTALL_DATA_DIR} ${PREFIX}/share/{doc,examples}/ucd-snmp
	cd ${WRKSRC} && ${INSTALL_DATA} README README.snmpv3 FAQ AGENT.txt \
	    ${PREFIX}/share/doc/ucd-snmp/
	${INSTALL_DATA} ${WRKSRC}/EXAMPLE.conf \
	    ${PREFIX}/share/examples/ucd-snmp/

.include <bsd.port.mk>
@


1.6
log
@unbreak, fix, modernise, nuke warnings, libtoolise PLIST
@
text
@d1 1
a1 1
# $MirOS: ports/net/ucd-snmp/Makefile,v 1.5 2007/02/22 21:46:50 tg Exp $
d12 1
@


1.5
log
@mark as broken, does not build ATM
@
text
@d1 1
a1 1
# $MirOS: ports/net/ucd-snmp/Makefile,v 1.4 2006/12/20 15:31:26 tg Exp $
a3 2
BROKEN=			SIOCADDRT

d6 1
a6 1
DASH_VER=		1
a11 1

d17 20
a36 15
CONFIGURE_STYLE= autoconf no-autoheader dest
CONFIGURE_ARGS+= ${CONFIGURE_SHARED}
CONFIGURE_ARGS+= --with-defaults --with-logfile='/var/log/snmpd' \
		 --with-persistent-directory='/var/ucd-snmp' \
		 --with-openssl --with-zlib --with-libs=-ldes \
		 --with-sys-contact='default@@' \
		 --with-sys-location='Default Location'
CONFIGURE_ENV=	VERSION_INFO='42:6:0'
NO_REGRESS=	Yes

SNMP_BIN=	encode_keychange snmpbulkget snmpbulkwalk snmpdelta \
		snmpdf snmpget snmpgetnext snmpnetstat snmpset snmpstatus \
		snmptable snmptest snmptranslate snmptrap snmpusm snmpvacm \
		snmpwalk
SNMP_SBIN=	snmpd snmptrapd
a40 1
	cd ${WRKSRC}/s && ln -s openbsd3.h ekkobsd.h
d43 5
a47 8
	cd ${PREFIX}/bin && strip ${SNMP_BIN}
	cd ${PREFIX}/sbin && strip ${SNMP_SBIN}
	${INSTALL_DATA_DIR} ${PREFIX}/share/doc/ucd-snmp
	${INSTALL_DATA} ${WRKSRC}/README ${PREFIX}/share/doc/ucd-snmp
	${INSTALL_DATA} ${WRKSRC}/README.snmpv3 ${PREFIX}/share/doc/ucd-snmp
	${INSTALL_DATA} ${WRKSRC}/FAQ ${PREFIX}/share/doc/ucd-snmp
	${INSTALL_DATA} ${WRKSRC}/AGENT.txt ${PREFIX}/share/doc/ucd-snmp
	${INSTALL_DATA_DIR} ${PREFIX}/share/examples/ucd-snmp
d49 1
a49 1
	    ${PREFIX}/share/examples/ucd-snmp
@


1.4
log
@sync DASH_VER usage:
* the dash doesn't belong into the DASH_VER variable,
  it's only a decimal integer value
* DASH_VER already defaults to 0 (admittedly new)
* PKGNAME already defaults to ${DISTNAME}-${DASH_VER}
@
text
@d1 1
a1 1
# $MirOS: ports/net/ucd-snmp/Makefile,v 1.3 2006/09/14 00:12:25 tg Exp $
d4 2
@


1.3
log
@clean up COMMENT and HOMEPAGE; regenerate INDEX (2761, 169 marked as broken, probably many many more) ­ edited by script with manual postprocessing
@
text
@d1 1
a1 1
# $MirOS: ports/net/ucd-snmp/Makefile,v 1.2 2005/07/06 19:21:33 bsiegert Exp $
d4 7
a10 8
COMMENT=			extensible SNMP implementation
VERSION=	4.2.6
DASH_VER=	-1
DISTNAME=	ucd-snmp-${VERSION}
PKGNAME=	${DISTNAME}${DASH_VER}
CATEGORIES=     net
MASTER_SITES=   ${MASTER_SITE_SOURCEFORGE:=net-snmp/}
HOMEPAGE=	http://net-snmp.sourceforge.net/
@


1.2
log
@Move some packages (those that use DASH_VER) to new patchlevels.
@
text
@d1 1
a1 1
# $MirOS$
d4 1
a4 1
COMMENT=	"extensible SNMP implementation"
@


1.1
log
@Initial revision
@
text
@d6 1
a6 1
DASH_VER=	p1
@


1.1.7.1
log
@Import the MirPorts Framework, many files moved or renamed though, no KDE/QT
@
text
@@
