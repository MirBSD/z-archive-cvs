head	1.2;
access;
symbols;
locks; strict;
comment	@.\" @;


1.2
date	2016.03.26.17.29.01;	author tg;	state Exp;
branches;
next	1.1;
commitid	10056F6C535787D61F0;

1.1
date	2006.01.17.22.18.23;	author tg;	state Exp;
branches;
next	;
commitid	10043CD6D3655037DEF;


desc
@@


1.2
log
@complete overhaul of djbdns port:

• merge t4/t6 flavours back into one binary
  ‣ greatly simplify IPv6 handling, too; drop code for v6-less OSes
• merge v4/v6 dnsroots back into one, update all of them
• improve documentation a bit
• apply two patches from http://www.your.org/dnscache/ (SECURITY):
  ‣ merge identical outgoing requests
  ‣ allow caching SOA responses
• update to Fefe’s djbdns-1.05-test27.diff.bz2
  ‣ fixes recursively resolving hosts behind IPv6-only nameservers;
    spotted by Natureshadow (for Teckids’ Lunatics network) and via
    http://serverfault.com/q/627912/189656 (which I’ll answer RSN)
  ⚠ fix with “one second” CDB validity patch
  ⚠ adapt for OpenBSD-style IPv6
• drop ip6.int. reverse v6 DNS for good
• improve dealing with mixing v4/v6 transport
  ⇒ TODO add IP4SEND/IP6SEND support; currently; if IPSEND is v6
    but we send to a v4 server, we use INADDR_ANY for outgoing,
    as automatic fallback address
@
text
@.TH pickdns-data 8

.SH NAME
pickdns-data \- data tool for pickdns

.SH DESCRIPTION
.B pickdns-data
reads local IP addresses
from a file named
.I data
in the current directory.
It creates
.I data.cdb
in a binary format designed for
fast access by
.BR pickdns (8).
It may also create some other files
with names beginning with
.IR data .

.B pickdns-data
updates
.I data.cdb
atomically,
so you can use it safely while
.BR pickdns (8)
is running.
If anything goes wrong with the creation of
.IR data.cdb ,
.B pickdns-data
stops and leaves the old
.I data.cdb
in place.

.SH Data format

+\fIfqdn\fR:\fIip\fR

The domain name
.I fqdn
has IP address
.IR ip .
You can list as many as 128 IP addresses for the same name.


-\fIfqdn\fR:\fIip\fR

This type of line is used by programs that automatically edit
.I data
to temporarily exclude addresses of overloaded or dead machines.
The line is ignored.

.RI # comment

Comment line. The line is ignored.

.SH Client differentiation

.I pickdns
can return results
that depend on the location of the client.

.B pickdns-data
supports the following data lines:

%\fIlo\fR:\fIipprefix\fR

IP addresses starting with
.I ipprefix
are in location
.IR lo .

.I lo
must be at most two bytes long:
e.g.,
.IR uk .

+\fIfqdn\fR:\fIip\fR:\fIlo\fR

The domain name
.I fqdn
has IP address
.I ip
for clients in location
.IR lo .
You can list as many as 128 IP addresses for the same name and location.
This eliminates all non-location +\fIfqdn\fR:\fIip\fR
lines
from the point of view of those clients.

-\fIfqdn\fR:\fIip\fR:\fIlo\fR

Ignored.

.SH SEE ALSO
pickdns(8)

http://cr.yp.to/djbdns.html
@


1.1
log
@* add missing manual pages from old tarball, oops
* add new manual pages to build
@
text
@d9 1
a9 1
from a file named 
d12 1
a12 1
It creates 
d15 1
a15 1
fast access by 
d18 1
a18 1
with names beginning with 
d22 1
a22 1
updates 
d25 1
a25 1
so you can use it safely while 
d28 1
a28 1
If anything goes wrong with the creation of 
d31 1
a31 1
stops and leaves the old 
d39 1
a39 1
The domain name 
d41 1
a41 1
has IP address 
d48 1
a48 1
This type of line is used by programs that automatically edit 
d68 1
a68 1
IP addresses starting with 
d70 1
a70 1
are in location 
d75 1
a75 1
e.g., 
d80 1
a80 1
The domain name 
@

