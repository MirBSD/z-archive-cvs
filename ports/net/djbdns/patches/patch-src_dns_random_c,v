head	1.2;
access;
symbols;
locks; strict;
comment	@# @;


1.2
date	2008.10.27.21.40.38;	author tg;	state Exp;
branches;
next	1.1;
commitid	100490634E663D82993;

1.1
date	2006.01.17.21.32.17;	author tg;	state Exp;
branches;
next	;
commitid	10043CD626E038A3753;


desc
@@


1.2
log
@• remove FLAVOURs
  ‣ OpenNIC has been EUNREACH for a while
  ‣ ORSN is shutting down :'(
    according to http://www.heise.de/newsticker/meldung/117863
• ICANN is now default for IPv4 and IPv6 root
  .oO(wow, since when do they have IPv6? not for too long…)
• fix compile warnings (missing includes) while here
• remove pkg/ subdirectory while here
• merge pkg/MESSAGE text into DESCR
• UTF-8ify DESCR

XXX still missing: IPv6 transport integration into normal binaries
@
text
@$MirOS: ports/net/djbdns/patches/patch-src_dns_random_c,v 1.1 2006/01/17 21:32:17 tg Exp $

Sorry, Dan.

--- src/dns_random.c.orig	Sun Feb 11 21:11:23 2001
+++ src/dns_random.c	Mon Oct 27 21:35:45 2008
@@@@ -1,3 +1,4 @@@@
+#include <stdlib.h>
 #include <unistd.h>
 #include "dns.h"
 #include "taia.h"
@@@@ -46,7 +47,8 @@@@ void dns_random_init(const char data[128
 
   in[8] = getpid();
   in[9] = getppid();
-  /* more space in 10 and 11, but this is probably enough */
+  in[10] = arc4random();
+  in[11] = arc4random();
 }
 
 unsigned int dns_random(unsigned int n)
@


1.1
log
@use arc4random() and yes I don't care if this breaks on Mac or Interix
@
text
@d1 1
a1 1
$MirOS$
d6 7
a12 2
+++ src/dns_random.c	Tue Jan 17 21:31:33 2006
@@@@ -46,7 +46,8 @@@@ void dns_random_init(const char data[128
@

