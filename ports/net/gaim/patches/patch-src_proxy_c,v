head	1.2;
access;
symbols;
locks; strict;
comment	@# @;


1.2
date	2005.10.16.11.44.09;	author bsiegert;	state Exp;
branches;
next	1.1;
commitid	2b2243523ce14cee;

1.1
date	2005.03.18.15.48.19;	author tg;	state Exp;
branches
	1.1.7.1;
next	;

1.1.7.1
date	2005.03.18.15.48.19;	author tg;	state Exp;
branches;
next	;


desc
@@


1.2
log
@SECURITY: Update gaim to 1.5.0-0. Works fine, and it also fixes for me the
very annoying crash when showing a file dialog. Also libtoolise plist, as
usual.
@
text
@$MirOS$
$OpenBSD: patch-src_proxy_c,v 1.7 2004/09/17 02:07:35 brad Exp $
--- src/proxy.c.orig	Sat May 14 21:33:34 2005
+++ src/proxy.c	Sun Oct 16 13:15:25 2005
@@@@ -319,7 +319,7 @@@@ static void host_resolved(gpointer data,
 	int rc, err;
 	GSList *hosts = NULL;
 	struct sockaddr *addr = NULL;
-	size_t addrlen;
+	socklen_t addrlen;
 
 	gaim_debug(GAIM_DEBUG_INFO, "dns", "Host '%s' resolved\n", req->host);
 	gaim_input_remove(req->inpa);
@@@@ -387,7 +387,7 @@@@ static void trap_gdb_bug()
 	fputs("\n* * *\n",stderr);
 	fputs(message,stderr);
 	fputs("* * *\n\n",stderr);
-	execlp("xmessage","xmessage","-center", message, NULL);
+	execlp("xmessage","xmessage","-center", message, (void *)NULL);
 	_exit(1);
 }
 
@@@@ -428,7 +428,7 @@@@ gaim_dns_childthread(int child_out, int 
 	char servname[20];
 #else
 	struct sockaddr_in sin;
-	const size_t addrlen = sizeof(sin);
+	const socklen_t addrlen = sizeof(sin);
 #endif
 
 #ifdef HAVE_SIGNAL_H
@@@@ -493,8 +493,7 @@@@ gaim_dns_childthread(int child_out, int 
 		}
 		tmp = res;
 		while(res) {
-			size_t ai_addrlen = res->ai_addrlen;
-			write(child_out, &ai_addrlen, sizeof(ai_addrlen));
+			write(child_out, &(res->ai_addrlen), sizeof(res->ai_addrlen));
 			write(child_out, res->ai_addr, res->ai_addrlen);
 			res = res->ai_next;
 		}
@


1.1
log
@Initial revision
@
text
@d1 1
d3 3
a5 3
--- src/proxy.c.orig	Tue Aug  3 21:51:22 2004
+++ src/proxy.c	Fri Aug 20 23:57:04 2004
@@@@ -318,7 +318,7 @@@@ static void host_resolved(gpointer data,
d14 1
a14 1
@@@@ -386,7 +386,7 @@@@ static void trap_gdb_bug()
d23 1
a23 1
@@@@ -427,7 +427,7 @@@@ gaim_dns_childthread(int child_out, int 
d33 1
a33 1
 		write(child_out, &zero, sizeof(zero));
@


1.1.7.1
log
@Import the MirPorts Framework, many files moved or renamed though, no KDE/QT
@
text
@@
