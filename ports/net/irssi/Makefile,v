head	1.20;
access;
symbols;
locks; strict;
comment	@# @;


1.20
date	2009.12.28.14.55.16;	author tg;	state Exp;
branches;
next	1.19;
commitid	1004B38C6D25E238175;

1.19
date	2009.10.24.18.28.24;	author tg;	state Exp;
branches;
next	1.18;
commitid	1004AE3475F480A96A5;

1.18
date	2009.08.02.14.34.59;	author tg;	state Exp;
branches;
next	1.17;
commitid	1004A75A41A5D07D5B1;

1.17
date	2009.01.13.21.39.57;	author tg;	state Exp;
branches;
next	1.16;
commitid	100496D0A0E67F8237C;

1.16
date	2009.01.08.19.41.17;	author tg;	state Exp;
branches;
next	1.15;
commitid	100496656F540C05DD2;

1.15
date	2008.12.20.18.15.19;	author tg;	state Exp;
branches;
next	1.14;
commitid	100494D363B29022250;

1.14
date	2008.08.19.19.22.06;	author tg;	state Exp;
branches;
next	1.13;
commitid	10048AB1D6A5E263EA2;

1.13
date	2008.07.25.13.42.16;	author tg;	state Exp;
branches;
next	1.12;
commitid	1004889D84B6FA2260E;

1.12
date	2008.07.20.22.53.08;	author tg;	state Exp;
branches;
next	1.11;
commitid	1004883C1DF3B43F165;

1.11
date	2008.07.20.21.55.39;	author tg;	state Exp;
branches;
next	1.10;
commitid	1004883B46D088415BD;

1.10
date	2008.07.20.15.31.56;	author tg;	state Exp;
branches;
next	1.9;
commitid	10048835A7E5EAB7FBD;

1.9
date	2008.07.20.01.43.16;	author tg;	state Exp;
branches;
next	1.8;
commitid	1004882975E28CA7BB2;

1.8
date	2008.07.15.14.26.51;	author tg;	state Exp;
branches;
next	1.7;
commitid	100487CB3AD07017367;

1.7
date	2008.03.14.20.56.52;	author tg;	state Exp;
branches;
next	1.6;
commitid	10047DAE6953D896018;

1.6
date	2008.03.09.17.23.18;	author tg;	state Exp;
branches;
next	1.5;
commitid	10047D41CAA7E715397;

1.5
date	2007.05.07.19.19.06;	author bsiegert;	state Exp;
branches;
next	1.4;
commitid	100463F7B977D23D5DD;

1.4
date	2006.09.14.00.11.49;	author tg;	state Exp;
branches;
next	1.3;
commitid	10045089C0E234154C3;

1.3
date	2005.04.10.21.50.39;	author tg;	state Exp;
branches;
next	1.2;

1.2
date	2005.03.30.16.51.11;	author bsiegert;	state Exp;
branches;
next	1.1;

1.1
date	2005.03.18.15.48.26;	author tg;	state Exp;
branches
	1.1.7.1;
next	;

1.1.7.1
date	2005.03.18.15.48.26;	author tg;	state Exp;
branches;
next	;


desc
@@


1.20
log
@speed up recursive ops by use of .MAKEFLAGS (not MAKEFLAGS like TNF,
since our make is different, apparently)
@
text
@# $MirOS: ports/net/irssi/Makefile,v 1.19 2009/10/24 18:28:24 tg Exp $
# $OpenBSD: Makefile,v 1.24 2004/05/13 07:11:56 pvalchev Exp $

NOT_FOR_PLATFORM=	${NOPIC_PLATFORMS}

COMMENT=		modular IRC client with many features (ipv6, socks, proxy)
DISTNAME=		irssi-0.8.10
DASH_VER=		11
CATEGORIES=		net
MASTER_SITES=		${HOMEPAGE}/files/ \
			http://mirror.irssi.org/ \
			http://nl.irssi.org/files/ \
			http://fi.irssi.org/files/ \
			http://no.irssi.org/files/ \
			http://de.irssi.org/files/ \
			http://uk.irssi.org/files/ \
			http://pl.irssi.org/files/ \
			http://us.irssi.org/files/
HOMEPAGE=		http://www.irssi.org/

# GNU GPL
PERMIT_PACKAGE_CDROM=	Yes
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes

LIB_DEPENDS+=		glib.1.2,gmodule::devel/glib1
RUN_DEPENDS+=		:p5-BSD-arc4random->=1.3:security/p5-BSD-arc4random

CONFIGURE_STYLE=	autoconf
AUTOCONF_NEW=		yes
MODULES+=		p5
CONFIGURE_ARGS+=	--datadir=${PREFIX:Q}/share/doc \
			--enable-perl=yes \
			--enable-ipv6 \
			--with-included-gettext \
			--with-proxy \
			--with-glib1

FLAVOURS=		socks
FLAVOUR?=

.ifndef PERL_VERSION
PERL_VERSION!=		perl -V:version | sed s/[^0-9]//g
.MAKEFLAGS:=		${.MAKEFLAGS} PERL_VERSION=${PERL_VERSION:Q}
.endif

.if ${PERL_VERSION} >= 582
CONFIGURE_ARGS+=	--with-perl-lib=${PREFIX:Q}/libdata/perl5/site_perl
.else
CONFIGURE_ARGS+=	--with-perl-lib=${DESTDIR:Q}${PREFIX:Q}/libdata/perl5/site_perl
.endif
CONFIGURE_ARGS+=	--datadir=${PREFIX:Q}/share/doc \
			--enable-ipv6 \
			--with-proxy \
			--enable-perl=yes \
			--with-included-gettext \
			--with-perl-lib=${PREFIX:Q}/libdata/perl5/site_perl \
			--with-glib1

.if ${FLAVOUR:L:Msocks}
CONFIGURE_ARGS+=	--with-socks
BUILD_DEPENDS+=		::security/dante
.endif

SAMPLE=			default.theme colorless.theme

pre-configure:
	@@perl -pi -e 's,doc/irssi,irssi,g' ${WRKSRC}/docs/Makefile.in

post-install:
	${INSTALL_DATA_DIR} ${PREFIX}/share/examples/irssi
	cd ${WRKDIST} && ${INSTALL_DATA} ${SAMPLE} \
	    ${PREFIX}/share/examples/irssi/
	${INSTALL_DATA} ${FILESDIR}/randex.pl ${PREFIX:Q}/share/irssi/scripts/

.include <bsd.port.mk>
@


1.19
log
@let /randfile write 600 byte files, safe to use as ~/.gnupg/random_seed

XXX todo XXX
‚Ä¢ actually default to that file (irssi)
‚Ä¢ use oaathash ipv adler32 (irssi, xchat, tinyirc, sirc)
‚Ä¢ link to homepage, which should be written first though‚Ä¶
@
text
@d1 1
a1 1
# $MirOS: ports/net/irssi/Makefile,v 1.18 2009/08/02 14:34:59 tg Exp $
d43 1
d45 2
@


1.18
log
@CTCP RANDOM is now part of the new RANDEX protocol as well
@
text
@d1 1
a1 1
# $MirOS: ports/net/irssi/Makefile,v 1.17 2009/01/13 21:39:57 tg Exp $
d8 1
a8 1
DASH_VER=		10
@


1.17
log
@improve default ‚Äúrandfile‚Äù setting suggestion to include a commonly
found OpenSSL RANDFILE (e.g. on Debian GNU/HURD) iff it already exists,
with fallback to the pgp-2.6.3in one we currently use if it doesn‚Äôt
@
text
@d1 1
a1 1
# $MirOS: ports/net/irssi/Makefile,v 1.16 2009/01/08 19:41:17 tg Exp $
d8 1
a8 1
DASH_VER=		9
@


1.16
log
@got to bump too, oops
@
text
@d1 1
a1 1
# $MirOS: ports/net/irssi/Makefile,v 1.15 2008/12/20 18:15:19 tg Exp $
d8 1
a8 1
DASH_VER=		8
@


1.15
log
@allow optional arguments (seed) to /randex <nick|#chan> [seed]
@
text
@d1 1
a1 1
# $MirOS: ports/net/irssi/Makefile,v 1.14 2008/08/19 19:22:06 tg Exp $
d8 1
a8 1
DASH_VER=		7
@


1.14
log
@another instance of the 1.30 vs 1.3 confusion created by CPAN idiocy and bug
@
text
@d1 1
a1 1
# $MirOS: ports/net/irssi/Makefile,v 1.13 2008/07/25 13:42:16 tg Exp $
d8 1
a8 1
DASH_VER=		6
@


1.13
log
@bump dash_ver
@
text
@d1 1
a1 1
# $MirOS: ports/net/irssi/Makefile,v 1.12 2008/07/20 22:53:08 tg Exp $
d28 1
a28 1
RUN_DEPENDS+=		:p5-BSD-arc4random->=1.30:security/p5-BSD-arc4random
@


1.12
log
@all:
‚Ä¢ merge arc4random_stir branches
‚Ä¢ improve descriptions, etc.
randex.pl:
‚Ä¢ remove superfluous rcs id
‚Ä¢ increase size of seed file to pgp-2.6.3in‚Äôs
‚Ä¢ add a note why we CAN NOT use gpg‚Äôs
  (and suggest PuTTY‚Äôs works well)
@
text
@d1 1
a1 1
# $MirOS: ports/net/irssi/Makefile,v 1.11 2008/07/20 21:55:39 tg Exp $
d8 1
a8 1
DASH_VER=		5
@


1.11
log
@bump dash_ver
@
text
@d1 1
a1 1
# $MirOS: ports/net/irssi/Makefile,v 1.10 2008/07/20 15:31:56 tg Exp $
d8 1
a8 1
DASH_VER=		4
d28 1
a28 1
RUN_DEPENDS+=		:p5-BSD-arc4random-*:security/p5-BSD-arc4random
@


1.10
log
@bump dashver
@
text
@d1 1
a1 1
# $MirOS: ports/net/irssi/Makefile,v 1.9 2008/07/20 01:43:16 tg Exp $
d8 1
a8 1
DASH_VER=		3
@


1.9
log
@improve randex script by a pool file, especially good if you !have_kintf().
@
text
@d1 1
a1 1
# $MirOS: ports/net/irssi/Makefile,v 1.8 2008/07/15 14:26:51 tg Exp $
d8 1
a8 1
DASH_VER=		2
@


1.8
log
@add randex.pl, beautify Makefile, add a _working_ MASTER_SITE, bump dashver
agreed bsiegert@@
@
text
@d1 1
a1 1
# $MirOS: ports/net/irssi/Makefile,v 1.7 2008/03/14 20:56:52 tg Exp $
d8 1
a8 1
DASH_VER=		1
@


1.7
log
@I found three non-modperl users of P5ARCH, two of which were broken
convert all three to modp5
@
text
@d1 1
a1 1
# $MirOS: ports/net/irssi/Makefile,v 1.6 2008/03/09 17:23:18 tg Exp $
d6 14
a19 12
COMMENT=	modular IRC client with many features (ipv6,socks,proxy)
DISTNAME=	irssi-0.8.10
CATEGORIES=	net
MASTER_SITES=	${HOMEPAGE}/files/ \
		http://nl.irssi.org/files/ \
		http://fi.irssi.org/files/ \
		http://no.irssi.org/files/ \
		http://de.irssi.org/files/ \
		http://uk.irssi.org/files/ \
		http://pl.irssi.org/files/ \
		http://us.irssi.org/files/
HOMEPAGE=	http://www.irssi.org/
d28 1
d33 5
a37 2
CONFIGURE_ARGS+=	--datadir=${PREFIX}/share/doc --enable-perl=yes \
			--enable-ipv6 --with-included-gettext --with-proxy \
d46 1
a46 1
CONFIGURE_ARGS+=	--with-perl-lib=${PREFIX}/libdata/perl5/site_perl
d48 1
a48 1
CONFIGURE_ARGS+=	--with-perl-lib=${DESTDIR}${PREFIX}/libdata/perl5/site_perl
d50 7
a56 4
CONFIGURE_ARGS+=	--datadir=${PREFIX}/share/doc --enable-ipv6 \
	--with-proxy --enable-perl=yes --with-included-gettext \
	--with-perl-lib=${PREFIX}/libdata/perl5/site_perl --with-glib1

d71 2
a72 1
		${PREFIX}/share/examples/irssi
@


1.6
log
@bulk convert FLAVOR to FLAVOUR; nuke unused file; convert to $Mdocdate
@
text
@d1 1
a1 1
# $MirOS: ports/net/irssi/Makefile,v 1.5 2007/05/07 19:19:06 bsiegert Exp $
a26 1
SUBST_VARS+=		P5ARCH
d29 1
@


1.5
log
@Update irssi to 0.8.10-0; patch has been lying around in my tree.
@
text
@d1 1
a1 1
# $MirOS: ports/net/irssi/Makefile,v 1.4 2006/09/14 00:11:49 tg Exp $
d34 2
a35 2
FLAVORS=		socks
FLAVOR?=
d49 1
a49 1
.if ${FLAVOR:L:Msocks}
@


1.4
log
@clean up COMMENT and HOMEPAGE; regenerate INDEX (2761, 169 marked as broken, probably many many more) ≠ edited by script with manual postprocessing
@
text
@d1 1
a1 1
# $MirOS: ports/net/irssi/Makefile,v 1.3 2005/04/10 21:50:39 tg Exp $
d6 2
a7 2
COMMENT=			modular IRC client with many features (ipv6,socks,proxy)
DISTNAME=	irssi-0.8.9
@


1.3
log
@NOPIC_PLATFORMS, LP64_PLATFORMS and general change of
{NOT,ONLY}_FOR_{ARCH{,E,ES},OS} to {NOT,ONLY}_FOR_PLATFORM

some fallout maybe, I hope not
@
text
@d1 1
a1 1
# $MirOS: ports/net/irssi/Makefile,v 1.2 2005/03/30 16:51:11 bsiegert Exp $
d6 1
a6 1
COMMENT=	"modular IRC client with many features (ipv6,socks,proxy)"
@


1.2
log
@Some more glib -> glib1 dependencies, my bad

hint:
 fgrep glib.1 /usr/ports/INDEX | grep 'devel/glib[^1]' | cut -d '|' -f 2,9
helps.
@
text
@d1 1
a1 1
# $MirOS$
d4 1
a4 1
NOT_FOR_ARCHS=	${NO_SHARED_ARCHS}
@


1.1
log
@Initial revision
@
text
@d25 1
a25 1
LIB_DEPENDS+=		glib.1.2,gmodule::devel/glib
@


1.1.7.1
log
@Import the MirPorts Framework, many files moved or renamed though, no KDE/QT
@
text
@@
