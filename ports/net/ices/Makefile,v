head	1.7;
access;
symbols;
locks; strict;
comment	@# @;


1.7
date	2008.03.09.17.23.17;	author tg;	state Exp;
branches;
next	1.6;
commitid	10047D41CAA7E715397;

1.6
date	2007.04.13.19.38.19;	author bsiegert;	state Exp;
branches;
next	1.5;
commitid	100461FDC41408D051C;

1.5
date	2007.04.03.19.45.13;	author tg;	state Exp;
branches;
next	1.4;
commitid	1004612AC977E789195;

1.4
date	2006.09.14.00.11.46;	author tg;	state Exp;
branches;
next	1.3;
commitid	10045089C0E234154C3;

1.3
date	2006.06.03.16.02.41;	author bsiegert;	state Exp;
branches;
next	1.2;
commitid	1004481B24F60607F88;

1.2
date	2006.02.09.09.36.09;	author tg;	state Exp;
branches;
next	1.1;
commitid	10043EB0C94610EDE76;

1.1
date	2005.03.18.15.48.21;	author tg;	state Exp;
branches
	1.1.7.1;
next	;

1.1.7.1
date	2005.03.18.15.48.21;	author tg;	state Exp;
branches;
next	;


desc
@@


1.7
log
@bulk convert FLAVOR to FLAVOUR; nuke unused file; convert to $Mdocdate
@
text
@# $MirOS: ports/net/ices/Makefile,v 1.6 2007/04/13 19:38:19 bsiegert Exp $
# $OpenBSD: Makefile,v 1.2 2003/07/26 13:34:40 sturm Exp $

COMMENT=	icecast source for streaming MP3

DISTNAME=	ices-0.3
PKGNAME=	${DISTNAME}-1
CATEGORIES=	net audio

HOMEPAGE=	http://www.icecast.org/


# GPL
PERMIT_PACKAGE_CDROM=	dependency audio/lame is not allowed for CDROM
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes

MASTER_SITES=	http://icecast.org/files/ices/

CONFIGURE_STYLE=gnu
CONFIGURE_ARGS=	--with-docdir=${LOCALBASE}/share/doc/ices \
		--with-moddir=${LOCALBASE}/share/examples/ices \
		--with-lame=${LOCALBASE} --with-vorbis=${LOCALBASE}

LIB_DEPENDS=	mp3lame.0:lame-*:audio/lame,no_x11 \
		shout.3::net/libshout \
		xml2.2.6::textproc/libxml

FLAVOURS=	python
FLAVOUR?=

.if ${FLAVOUR:L:Mpython}
PYTHON_VER=	2.2
CONFIGURE_ARGS+=--with-python=${LOCALBASE}/bin/python${PYTHON_VER}
B_R_DEPENDS+=	:python-${PYTHON_VER}*:lang/python/${PYTHON_VER}
.else
CONFIGURE_ARGS+=--without-python
.endif


post-install:
	${INSTALL_DATA} ${WRKBUILD}/conf/ices.conf.dist \
	   ${PREFIX}/share/examples/ices/ices.conf.dist

.include <bsd.port.mk>
@


1.6
log
@not for CDROM (lame dependency),  transcode  flavour needs X11
@
text
@d1 1
a1 1
# $MirOS: ports/net/ices/Makefile,v 1.5 2007/04/03 19:45:13 tg Exp $
d30 2
a31 2
FLAVORS=	python
FLAVOR?=
d33 1
a33 1
.if ${FLAVOR:L:Mpython}
@


1.5
log
@â€¢ remove ports that are simply broken, don't work, for too long, with no
  update or update-willing person in sight, kde stuff, web2.0 stuff that
  we don't want in ports (just stuff it into /var/www yourself, it isn't
  that difficult, right?), stuff for which no new version exists/will be
  and some obsd cruft; adjust dependencies
â€¢ no BUILD_DEPENDS+=RUN_DEPENDS or vice versa any more, *ever*
â€¢ fix some other stuff partially

ok bsiegert@@
@
text
@d1 1
a1 1
# $MirOS: ports/net/ices/Makefile,v 1.4 2006/09/14 00:11:46 tg Exp $
d4 1
a4 1
COMMENT=			icecast source for streaming MP3
d14 1
a14 1
PERMIT_PACKAGE_CDROM=	Yes
@


1.4
log
@clean up COMMENT and HOMEPAGE; regenerate INDEX (2761, 169 marked as broken, probably many many more) ­ edited by script with manual postprocessing
@
text
@d1 1
a1 1
# $MirOS: ports/net/ices/Makefile,v 1.3 2006/06/03 16:02:41 bsiegert Exp $
d36 1
a36 2
BUILD_DEPENDS+=	${RUN_DEPENDS}
RUN_DEPENDS+=	:python-${PYTHON_VER}*:lang/python/${PYTHON_VER}
@


1.3
log
@Batch-correct all wrong libxml dependencies. They should either be just to
xml2, to xml2.2 or to xml2.2.6. Bump patchlevels for all ports concerned
(but not for xfce4, where I was too lazy).
@
text
@d1 1
a1 1
# $MirOS$
d4 1
a4 1
COMMENT=	"icecast source for streaming MP3"
@


1.2
log
@remove SEPARATE_BUILD for once and for good, I'm fed up with
all the trouble it can cause - ports which need it (e.g. the
GCC SC doesnt "support" building gcc with srcdir=objdir) can
set stuff like WRKBUILD themselves.
@
text
@d1 1
d7 1
d28 1
a28 1
		xml2.7::textproc/libxml
@


1.1
log
@Initial revision
@
text
@a39 1
SEPARATE_BUILD=	simple
@


1.1.7.1
log
@Import the MirPorts Framework, many files moved or renamed though, no KDE/QT
@
text
@@
