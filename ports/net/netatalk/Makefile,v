head	1.6;
access;
symbols;
locks; strict;
comment	@# @;


1.6
date	2007.02.22.22.57.54;	author tg;	state Exp;
branches;
next	1.5;
commitid	10045DE1FF10F590776;

1.5
date	2006.09.14.00.11.56;	author tg;	state Exp;
branches;
next	1.4;
commitid	10045089C0E234154C3;

1.4
date	2006.08.26.14.31.33;	author tg;	state Exp;
branches;
next	1.3;
commitid	10044F05B586E9B816C;

1.3
date	2006.08.13.01.39.00;	author tg;	state Exp;
branches;
next	1.2;
commitid	10044DE82434417956D;

1.2
date	2006.08.13.01.11.27;	author tg;	state Exp;
branches;
next	1.1;
commitid	10044DE7C5046715DEF;

1.1
date	2005.03.18.15.48.35;	author tg;	state Exp;
branches
	1.1.7.1;
next	;

1.1.7.1
date	2005.03.18.15.48.35;	author tg;	state Exp;
branches;
next	;


desc
@@


1.6
log
@remove redundancy
@
text
@# $MirOS: ports/net/netatalk/Makefile,v 1.5 2006/09/14 00:11:56 tg Exp $
# $OpenBSD: Makefile,v 1.5 2003/08/22 11:18:19 naddy Exp $

COMMENT=			AFP file and print services for AppleTalk/IP networks
DISTNAME=		netatalk-1.6.3
PKGNAME=		${DISTNAME}-2
CATEGORIES=		net
HOMEPAGE=		http://netatalk.sourceforge.net/
MASTER_SITES=		${MASTER_SITE_SOURCEFORGE:=netatalk/}

# According to http://netatalk.sourceforge.net/
# now under GPL but the copyright shipping with
# the distribution is still BSD. What gives?
PERMIT_PACKAGE_CDROM=		Yes
PERMIT_PACKAGE_FTP=		Yes
PERMIT_DISTFILES_CDROM=		Yes
PERMIT_DISTFILES_FTP=		Yes

CONFIGURE_STYLE=	autoconf
AUTOCONF_NEW=		Yes

CONFDIR=		${SYSCONFDIR}/netatalk
SUBST_VARS=		CONFDIR

# Experimantal at the moment.
# LIB_DEPENDS=	db.3::databases/db
# CONFIGURE_ARGS+=	--with-db3=${LOCALBASE}

CONFIGURE_ARGS+=	${CONFIGURE_SHARED}
CONFIGURE_ARGS+=	--with-ssl=/usr
CONFIGURE_ARGS+=	--with-config-dir=${CONFDIR}
CONFIGURE_ARGS+=	--with-pkgconfdir=${CONFDIR}
CONFIGURE_ARGS+=	--with-uams-path=${PREFIX}/lib/netatalk/uams
.if (${OStype} == "MirBSD") || (${OStype} == "Interix")
CONFIGURE_ARGS+=	--without-tcp-wrappers
.else
CONFIGURE_ARGS+=	--with-tcp-wrappers
.endif
CONFIGURE_ARGS+=	--disable-overwrite
CONFIGURE_ARGS+=	--with-did=last

post-patch:
	@@cp /usr/include/netatalk/*.h ${WRKSRC}/sys/netatalk

post-install:
	${INSTALL_DATA_DIR} ${PREFIX}/share/examples/netatalk
	${INSTALL_DATA_DIR} ${PREFIX}/share/nls/netatalk
	${INSTALL_DATA_DIR} ${PREFIX}/share/doc/netatalk

.for i in AppleVolumes.default AppleVolumes.system \
	atalkd.conf papd.conf netatalk.conf
	${INSTALL_DATA} ${WRKSRC}/config/$i \
		${PREFIX}/share/examples/netatalk
.endfor

	${INSTALL_DATA} ${WRKBUILD}/config/afpd.conf \
		${PREFIX}/share/examples/netatalk
	${INSTALL_DATA} ${WRKBUILD}/distrib/initscripts/rc.atalk.bsd \
		${PREFIX}/share/examples/netatalk/rc.atalk
	${INSTALL_DATA} ${WRKBUILD}/etc/afpd/nls/maccode.* \
		${PREFIX}/share/nls/netatalk
	${INSTALL_DATA} ${WRKSRC}/COPYRIGHT \
		${PREFIX}/share/doc/netatalk

.for i in FAQ README.hidden-items \
	README.platforms README.veto
	${INSTALL_DATA} ${WRKSRC}/doc/$i \
		${PREFIX}/share/doc/netatalk
.endfor

.include <bsd.port.mk>
@


1.5
log
@clean up COMMENT and HOMEPAGE; regenerate INDEX (2761, 169 marked as broken, probably many many more) ­ edited by script with manual postprocessing
@
text
@d1 1
a1 1
# $MirOS: ports/net/netatalk/Makefile,v 1.4 2006/08/26 14:31:33 tg Exp $
a29 2
CONFIGURE_ARGS+=	--disable-dependency-tracking
CONFIGURE_ARGS+=	--disable-libtool-lock
@


1.4
log
@fix AM underquoted defn
@
text
@d1 1
a1 1
# $MirOS: ports/net/netatalk/Makefile,v 1.3 2006/08/13 01:39:00 tg Exp $
d4 1
a4 1
COMMENT=		"AFP file and print services for AppleTalk/IP networks"
@


1.3
log
@* change configure style to autoconf, move patch-configure to
  patch-configure_in
* convert to mirlibtool
* add MirOS as supported system (and a XXX in patch-include_atalk_util_h)
* MirOS GENERIC contains support
* under MirOS and Interix(?) we don't have tcp_wrappers
* sync distinfo, PLIST
* bump patchlevel
* plug a time_t issue

I'll leave the following open to others:
* convert PLIST to @@sample (easy but not trivial)
  hint: look at what is installed during fake time
* test
* update
* take maintainership

Hint of brokenness from Hawkeye via IRC, thanks
@
text
@d1 1
a1 1
# $MirOS$
d6 1
a6 1
PKGNAME=		${DISTNAME}-1
@


1.2
log
@move netatalk port to parent dir
@
text
@d1 1
d4 6
a9 5
COMMENT=	"AFP file and print services for AppleTalk/IP networks"

DISTNAME=	netatalk-1.6.3
CATEGORIES=	net
HOMEPAGE=	http://netatalk.sourceforge.net/
a13 1

d19 2
a20 4
MASTER_SITES=	${MASTER_SITE_SOURCEFORGE:=netatalk/}


CONFIGURE_STYLE=	gnu
d29 3
a31 1
CONFIGURE_ARGS+=	${CONFIGURE_SHARED} 
d36 3
d40 1
d72 1
a72 1
 
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $MirOS$
d3 66
a68 1
.include <bsd.port.subdir.mk>
@


1.1.7.1
log
@Import the MirPorts Framework, many files moved or renamed though, no KDE/QT
@
text
@@
