head	1.7;
access;
symbols;
locks; strict;
comment	@# @;


1.7
date	2010.11.25.12.43.37;	author bsiegert;	state Exp;
branches;
next	1.6;
commitid	1004CEE59D359B170C8;

1.6
date	2008.03.09.17.23.22;	author tg;	state Exp;
branches;
next	1.5;
commitid	10047D41CAA7E715397;

1.5
date	2007.04.13.19.35.09;	author bsiegert;	state Exp;
branches;
next	1.4;
commitid	100461FDB177FFEDAD6;

1.4
date	2006.09.14.00.12.11;	author tg;	state Exp;
branches;
next	1.3;
commitid	10045089C0E234154C3;

1.3
date	2006.02.09.09.36.11;	author tg;	state Exp;
branches;
next	1.2;
commitid	10043EB0C94610EDE76;

1.2
date	2005.07.07.21.24.52;	author bsiegert;	state Exp;
branches;
next	1.1;
commitid	66bc42cd9a7ea714;

1.1
date	2005.03.18.15.48.55;	author tg;	state Exp;
branches
	1.1.7.1;
next	;

1.1.7.1
date	2005.03.18.15.48.55;	author tg;	state Exp;
branches;
next	;


desc
@@


1.7
log
@Break _all_ packages that depends on other broken packages. Mostly
the following:

* mysql
* Wnn
* fltk
* sablotron
@
text
@# $MirOS: ports/net/pure-ftpd/Makefile,v 1.6 2008/03/09 17:23:22 tg Exp $
# $OpenBSD: Makefile,v 1.31 2004/03/08 03:57:16 brad Exp $

COMMENT=	small, easy to set up, fast and very secure FTP server
DISTNAME=	pure-ftpd-1.0.18
DASH_VER=	1
CATEGORIES=	net
MASTER_SITES=	ftp://ftp.pureftpd.org/pub/pure-ftpd/releases/ \
		ftp://ftp2.fr.pureftpd.org/pub/mirrors/ftp.fr.pureftpd.org/pub/pure-ftpd/releases/ \
		ftp://ftp3.fr.pureftpd.org/pure-ftpd/releases/ \
		ftp://ftp.dk.pureftpd.org/mirrors/pure-ftpd/releases/ \
		ftp://ftp.es.pureftpd.org/mirror/pureftpd/latest/releases/ \
		ftp://ftp.nl.pureftpd.org/pub/pure-ftpd/releases/ \
		ftp://ftp.fr.pureftpd.org/pub/pure-ftpd/releases/ \
		ftp://ftp.cn.pureftpd.org/pub/pureftpd/pure-ftpd/releases/ \
		${MASTER_SITE_SOURCEFORGE:=pureftpd/}
HOMEPAGE=	http://www.pureftpd.org/

# BSD
PERMIT_PACKAGE_CDROM=	Yes
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes

CONFIGURE_STYLE= gnu
CONFIGURE_ARGS+= --with-everything \
		 --with-paranoidmsg \
		 --with-privsep \
		 --with-tls \
		 --with-largefile

FLAVOURS=	ldap mysql postgresql no_banner virtual_chroot
FLAVOUR?=

.if ${FLAVOUR:L:Mldap}
LIB_DEPENDS+=	ldap.2,lber:openldap-client-2.*:databases/openldap
CONFIGURE_ARGS+=--with-ldap="${LOCALBASE}"
DOCS+=		README.LDAP pureftpd.schema
CONF_FILE+= 	pureftpd-ldap.conf
.endif

.if ${FLAVOUR:L:Mmysql}
BROKEN=			depends on mysql, which is broken
USE_CXX=	Yes
LIB_DEPENDS+= lib/mysql/mysqlclient.10::databases/mysql
CONFIGURE_ARGS+= --with-mysql="${LOCALBASE}"
DOCS+=	README.MySQL
CONF_FILE+= pureftpd-mysql.conf
.endif

.if ${FLAVOUR:L:Mpostgresql}
PERMIT_PACKAGE_CDROM=	dependency databases/postgresql is not allowed for CDROM
LIB_DEPENDS+=	pq.2::databases/postgresql
CONFIGURE_ARGS+=--with-pgsql="${LOCALBASE}"
DOCS+=		README.PGSQL
CONF_FILE+= 	pureftpd-pgsql.conf
.endif

.if ${FLAVOUR:L:Mno_banner}
CONFIGURE_ARGS+=--without-banner
.endif

.if ${FLAVOUR:L:Mvirtual_chroot}
CONFIGURE_ARGS+=--with-virtualchroot
.endif

DOCS+=	README README.Configuration-File README.Contrib README.TLS \
	README.Virtual-Users README.Authentication-Modules pure-ftpd.png

CONTRIB= xml_python_processors.txt pure-vpopauth.pl

post-install:
	${INSTALL_DATA_DIR} ${PREFIX}/share/doc/pure-ftpd
	${INSTALL_DATA_DIR} ${PREFIX}/share/examples/pure-ftpd
	${INSTALL_PROGRAM} ${WRKBUILD}/configuration-file/pure-config.pl \
		${PREFIX}/sbin
	${INSTALL_DATA} ${WRKBUILD}/configuration-file/pure-ftpd.conf \
		${PREFIX}/share/examples/pure-ftpd/pure-ftpd.conf.sample
	cd ${WRKSRC}; ${INSTALL_DATA} ${DOCS} ${PREFIX}/share/doc/pure-ftpd
.if defined(CONF_FILE) && !empty(CONF_FILE)
	cd ${WRKSRC}; ${INSTALL_DATA} ${CONF_FILE} \
		${PREFIX}/share/examples/pure-ftpd
.endif
	cd ${WRKSRC}/contrib; ${INSTALL_DATA} ${CONTRIB} \
		${PREFIX}/share/examples/pure-ftpd

.include <bsd.port.mk>
@


1.6
log
@bulk convert FLAVOR to FLAVOUR; nuke unused file; convert to $Mdocdate
@
text
@d1 1
a1 1
# $MirOS: ports/net/pure-ftpd/Makefile,v 1.5 2007/04/13 19:35:09 bsiegert Exp $
d43 1
@


1.5
log
@Non-free dependency.

Explanation: A package is not for {CDROM,FTP} if not all of its dependencies
are allowed for {CDROM,FTP} as packages.

"Important" packages that are not allowed for CDROM are lame, postgresql,
gnuplot, and pine.
@
text
@d1 1
a1 1
# $MirOS: ports/net/pure-ftpd/Makefile,v 1.4 2006/09/14 00:12:11 tg Exp $
d32 2
a33 2
FLAVORS=	ldap mysql postgresql no_banner virtual_chroot
FLAVOR?=
d35 1
a35 1
.if ${FLAVOR:L:Mldap}
d42 1
a42 1
.if ${FLAVOR:L:Mmysql}
d50 1
a50 1
.if ${FLAVOR:L:Mpostgresql}
d58 1
a58 1
.if ${FLAVOR:L:Mno_banner}
d62 1
a62 1
.if ${FLAVOR:L:Mvirtual_chroot}
@


1.4
log
@clean up COMMENT and HOMEPAGE; regenerate INDEX (2761, 169 marked as broken, probably many many more) ­ edited by script with manual postprocessing
@
text
@d1 1
a1 1
# $MirOS: ports/net/pure-ftpd/Makefile,v 1.3 2006/02/09 09:36:11 tg Exp $
d4 1
a4 1
COMMENT=			small, easy to set up, fast and very secure FTP server
d6 1
a6 1
PKGNAME=	${DISTNAME}-1
d51 1
@


1.3
log
@remove SEPARATE_BUILD for once and for good, I'm fed up with
all the trouble it can cause - ports which need it (e.g. the
GCC SC doesnt "support" building gcc with srcdir=objdir) can
set stuff like WRKBUILD themselves.
@
text
@d1 1
a1 1
# $MirOS: ports/net/pure-ftpd/Makefile,v 1.2 2005/07/07 21:24:52 bsiegert Exp $
d4 1
a4 1
COMMENT=	"small, easy to set up, fast and very secure FTP server"
@


1.2
log
@Semi-automatic update of the remaining ports to the new patchlevel format.

Please correct mistakes if you find them :).
@
text
@d1 1
a1 1
# $MirOS$
a24 1
SEPARATE_BUILD=	concurrent
@


1.1
log
@Initial revision
@
text
@d6 1
a6 1
PKGNAME=	${DISTNAME}p1
@


1.1.7.1
log
@Import the MirPorts Framework, many files moved or renamed though, no KDE/QT
@
text
@@
