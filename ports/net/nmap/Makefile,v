head	1.7;
access;
symbols;
locks; strict;
comment	@# @;


1.7
date	2009.08.13.14.42.06;	author bsiegert;	state Exp;
branches;
next	1.6;
commitid	1004A8425B261AD835B;

1.6
date	2008.10.16.19.44.01;	author tg;	state Exp;
branches;
next	1.5;
commitid	10048F798F722A050E5;

1.5
date	2008.05.07.22.48.37;	author tg;	state Exp;
branches;
next	1.4;
commitid	100482231C374D9CA0B;

1.4
date	2008.03.09.17.23.19;	author tg;	state Exp;
branches;
next	1.3;
commitid	10047D41CAA7E715397;

1.3
date	2006.09.14.00.11.58;	author tg;	state Exp;
branches;
next	1.2;
commitid	10045089C0E234154C3;

1.2
date	2005.03.30.18.13.43;	author bsiegert;	state Exp;
branches;
next	1.1;

1.1
date	2005.03.18.15.48.37;	author tg;	state Exp;
branches
	1.1.7.1;
next	;

1.1.7.1
date	2005.03.18.15.48.37;	author tg;	state Exp;
branches;
next	;


desc
@@


1.7
log
@Very rough update to nmap-5.00-0, !no_x11 flavour is probably broken
on !Darwin though.
@
text
@# $MirOS: ports/net/nmap/Makefile,v 1.6 2008/10/16 19:44:01 tg Exp $
# $OpenBSD: Makefile,v 1.49 2004/05/16 08:38:12 jolan Exp $

COMMENT=		scan ports and fingerprint stack of network hosts
DISTNAME=		nmap-5.00
CATEGORIES=		net security
HOMEPAGE=		http://nmap.org/
MASTER_SITES=		${HOMEPAGE}dist/
EXTRACT_SUFX=		.tar.bz2

# GPL
PERMIT_PACKAGE_CDROM=	Yes
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes

CONFIGURE_STYLE= 	autoconf no-autoheader
AUTOCONF_NEW=		Yes
CONFIGURE_ARGS+=	--with-libpcap=/usr
CONFIGURE_ARGS+=	--with-libpcre=${LOCALBASE}
CONFIGURE_ARGS+=	--with-libdnet=included
MODGNU_RECURSE_DIRS=	${WRKSRC}/nbase ${WRKSRC}/nsock ${WRKSRC}/ncat \
			${WRKSRC}/libdnet-stripped ${WRKSRC}

USE_CXX=		Yes
USE_GMAKE=		Yes

# XXX workaround linking issue on hppa
.if ${MACHINE_ARCH:Mhppa}
PATCH_LIST=	patch-* hppa-*
.endif

FLAVOURS=	no_x11
FLAVOUR?=

LIB_DEPENDS+=	pcre::devel/pcre
# WTF does he have libdnet 1.12 from? latest version on sf is 1.11
#LIB_DEPENDS+=	dnet::net/libdnet
#MODULES=	lang/python
#B_R_DEPENDS+=	${_MODPY_BUILD_DEPENDS}

.if ${FLAVOUR:L:Mno_x11}
CONFIGURE_ARGS+=--without-zenmap
.else
USE_X11=	Yes
# need pygtk2
.endif

NO_REGRESS=	Yes

.include <bsd.port.mk>
@


1.6
log
@many more distfile fixes:
either change stuff to let â€œmmake checksumâ€ succeed, for example by fixing
MASTER_SITES or DIST_SUBDIR, or by adding the â€œSizeâ€ That Does Matterâ„¢ to
the distinfo (so that b0rken downloads are skipped), or by whatever other
means, or mark b0rken stuff as BROKEN for sure. For squid, I removed one
of the upstream patches from the list.

After this, all non-BROKEN (and some BROKEN and NOT_FOR_PLATFORM) distfiles
verify successfully (and thusly link to FTP/ and CDROM/ on the mirror).
@
text
@d1 1
a1 1
# $MirOS: ports/net/nmap/Makefile,v 1.5 2008/05/07 22:48:37 tg Exp $
a3 2
BROKEN=			unfetchable distfile

d5 5
a9 5
DISTNAME=	nmap-3.50
CATEGORIES=	net security
MASTER_SITES=	${HOMEPAGE}dist/
EXTRACT_SUFX=	.tgz
HOMEPAGE=	http://www.insecure.org/nmap/
d17 10
a26 4
CONFIGURE_STYLE= 	gnu dest
CONFIGURE_ARGS=		--with-libpcap=/usr --with-libpcre=${LOCALBASE}
MODGNU_RECURSE_DIRS=	${WRKSRC}/nbase ${WRKSRC}/nsock/src \
			${WRKSRC}/libpcap-possiblymodified ${WRKSRC}
d34 1
a34 1
FLAVOUR?=	
d37 4
d43 1
a43 2
ALL_TARGET=	nmap
CONFIGURE_ARGS+=--without-nmapfe
a44 1
LIB_DEPENDS+=	gtk.1.2,gdk.1.2::x11/gtk+1
d46 1
a46 1
ALL_TARGET=	nmap nmapfe/nmapfe
@


1.5
log
@â€¢ replace MODGNU_CONFIG_GUESS_DIRS with MODGNU_RECURSE_DIRS
â€¢ always place ${WRKSRC} itself at the end of MODGNU_RECURSE_DIRS due to
  recursion issues inside of autoconf itself
â€¢ if MODGNU_RECURSE_DIRS=${WRKSRC} stood in the Makefile, nuke it (default)
â€¢ remove dead reference to MODGNU_TWIDDLE_DIRS
@
text
@d1 1
a1 1
# $MirOS: ports/net/nmap/Makefile,v 1.4 2008/03/09 17:23:19 tg Exp $
d4 3
a6 1
COMMENT=			scan ports and fingerprint stack of network hosts
@


1.4
log
@bulk convert FLAVOR to FLAVOUR; nuke unused file; convert to $Mdocdate
@
text
@d1 1
a1 1
# $MirOS: ports/net/nmap/Makefile,v 1.3 2006/09/14 00:11:58 tg Exp $
d19 2
a20 3
MODGNU_CONFIG_GUESS_DIRS= ${WRKSRC} ${WRKSRC}/nbase \
				${WRKSRC}/nsock/src \
				${WRKSRC}/libpcap-possiblymodified
@


1.3
log
@clean up COMMENT and HOMEPAGE; regenerate INDEX (2761, 169 marked as broken, probably many many more) ­ edited by script with manual postprocessing
@
text
@d1 1
a1 1
# $MirOS: ports/net/nmap/Makefile,v 1.2 2005/03/30 18:13:43 bsiegert Exp $
d28 2
a29 2
FLAVORS=	no_x11
FLAVOR?=	
d33 1
a33 1
.if ${FLAVOR:L:Mno_x11}
@


1.2
log
@Covert gtk+ -> gtk+1 dependencies
@
text
@d1 1
a1 1
# $MirOS$
d4 1
a4 1
COMMENT=	"scan ports and fingerprint stack of network hosts"
@


1.1
log
@Initial revision
@
text
@d1 1
d37 1
a37 1
LIB_DEPENDS+=	gtk.1.2,gdk.1.2::x11/gtk+
@


1.1.7.1
log
@Import the MirPorts Framework, many files moved or renamed though, no KDE/QT
@
text
@@
