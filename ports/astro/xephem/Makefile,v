head	1.4;
access;
symbols;
locks; strict;
comment	@# @;


1.4
date	2008.03.09.19.15.48;	author tg;	state Exp;
branches;
next	1.3;
commitid	10047D437336B26509B;

1.3
date	2007.04.04.17.46.36;	author bsiegert;	state Exp;
branches;
next	1.2;
commitid	1004613E48A457AB655;

1.2
date	2006.09.14.00.06.56;	author tg;	state Exp;
branches;
next	1.1;
commitid	10045089C0E234154C3;

1.1
date	2005.03.18.15.42.49;	author tg;	state Exp;
branches
	1.1.7.1;
next	;

1.1.7.1
date	2005.03.18.15.42.49;	author tg;	state Exp;
branches;
next	;


desc
@@


1.4
log
@by request of bsiegert@@, make all imake-using ports as only for MirOS and
OpenBSD, since they use the -DPorts logic of OpenBSD.cf/MirBSD.cf

since imake.port.mk would be too late, this means touching â€™em all

XXX these openbsd derived ports Makefiles surely look ugly
@
text
@# $MirOS: ports/astro/xephem/Makefile,v 1.3 2007/04/04 17:46:36 bsiegert Exp $
# $OpenBSD: Makefile,v 1.26 2003/08/27 19:13:06 naddy Exp $

ONLY_FOR_PLATFORM=	MirBSD:*:* OpenBSD:*:*

COMMENT=	interactive astronomical ephemeris
DISTNAME=	xephem-3.2.3
CATEGORIES=	astro
MASTER_SITES=	ftp://iraf.noao.edu/contrib/xephem/

HOMEPAGE=	http://www.clearskyinstitute.com/xephem/

PERMIT_PACKAGE_CDROM=   "no modifications, no fee"
PERMIT_PACKAGE_FTP=     "no modifications"
PERMIT_DISTFILES_CDROM= "no fee"
PERMIT_DISTFILES_FTP=   Yes

USE_MOTIF=	any
CONFIGURE_STYLE= imake
USE_X11=	Yes

do-configure:
	@@cd ${WRKSRC}/libastro && ${SETENV} ${XMKMF}
	@@cd ${WRKSRC}/GUI/xephem && ${SETENV} ${XMKMF}

do-build:
	@@cd ${WRKSRC}/libastro && \
	  ${SETENV} ${MAKE_ENV} ${MAKE} ${MAKE_FLAGS} -f ${MAKE_FILE} ${ALL_TARGET}
	@@cd ${WRKSRC}/GUI/xephem && \
	  ${SETENV} ${MAKE_ENV} ${MAKE} ${MAKE_FLAGS} -f ${MAKE_FILE} ${ALL_TARGET}

NO_REGRESS=	Yes

do-install:
	${INSTALL_DATA_DIR} ${PREFIX}/lib/X11/xephem/auxil
	${INSTALL_DATA_DIR} ${PREFIX}/lib/X11/xephem/catalogs
	${INSTALL_DATA_DIR} ${PREFIX}/lib/X11/xephem/tools
	@@cd ${WRKSRC}/GUI/xephem && \
	 ${SETENV} ${MAKE_ENV} \
	 ${MAKE} ${FAKE_FLAGS} -f ${MAKE_FILE} ${INSTALL_TARGET}
	@@cd ${WRKSRC}/GUI/xephem && \
	 ${SETENV} ${MAKE_ENV} \
	 ${MAKE} ${FAKE_FLAGS} -f ${MAKE_FILE} install.man
	@@cd ${WRKSRC}/GUI/xephem && \
	 sed -e 's,ShareDir: \.$$,ShareDir: ${TRUEPREFIX}/lib/X11/xephem,' XEphem.ad > XEphem && \
	 ${INSTALL_DATA} XEphem ${PREFIX}/lib/X11/app-defaults
	@@cd ${WRKSRC}/GUI/xephem/auxil; \
	   for f in *; do \
	     ${INSTALL_DATA} $$f ${PREFIX}/lib/X11/xephem/auxil; \
	   done
	@@cd ${WRKSRC}/GUI/xephem/catalogs; \
	   for f in *; do \
	     ${INSTALL_DATA} $$f ${PREFIX}/lib/X11/xephem/catalogs; \
	   done
	@@cd ${WRKSRC}/GUI/xephem/tools; \
	   for f in *; do \
	     if [ -d $$f ]; then \
	       ${INSTALL_DATA_DIR} ${PREFIX}/lib/X11/xephem/tools/$$f; \
	       (cd $$f; \
	         for i in *; do \
	           ${INSTALL_DATA} $$i ${PREFIX}/lib/X11/xephem/tools/$$f; \
	         done) \
	     else \
	       ${INSTALL_DATA} $$f ${PREFIX}/lib/X11/xephem/tools; \
	     fi; \
	   done

.include <bsd.port.mk>
@


1.3
log
@Needs USE_X11
@
text
@d1 1
a1 1
# $MirOS$
d4 2
@


1.2
log
@clean up COMMENT and HOMEPAGE; regenerate INDEX (2761, 169 marked as broken, probably many many more) ­ edited by script with manual postprocessing
@
text
@d1 1
d4 1
a4 1
COMMENT=			interactive astronomical ephemeris
d18 1
@


1.1
log
@Initial revision
@
text
@d3 1
a3 1
COMMENT=	"interactive astronomical ephemeris"
@


1.1.7.1
log
@Import the MirPorts Framework, many files moved or renamed though, no KDE/QT
@
text
@@
