head	1.1;
access;
symbols;
locks; strict;
comment	@# @;


1.1
date	2009.04.18.20.55.20;	author tg;	state Exp;
branches;
next	;
commitid	10049EA3DCB3FF55AAC;


desc
@@


1.1
log
@* disable regression tests, as they hardcode python 2.2 and cause
  a missing-dependency Makefile semantics failure
  - bsiegert@@ please investigate
* quote, whitespace (except add one tab everywhere), etc.
* unbreak, fix the assembly issue (actually gcc inline asm vs cpp)
* fix another thing to get nhc98comp to build
  but don't fix all the warnings or missing COPTS
  - bsiegert@@ please investigate
* break because nhc98comp segfaults (backtrace is useless tho)
  - bsiegert@@ please investigate
* regenerate distinfo while here
@
text
@$MirOS$

	Replace with version which actually does what they intended to.

--- src/runtime/Integer/alloca.c.orig	Mon Oct 11 11:50:01 1999
+++ src/runtime/Integer/alloca.c	Sat Apr 18 20:32:09 2009
@@@@ -1,8 +1,11 @@@@
 #include <stdio.h>
+#include <stdlib.h>
 
+__RCSID("$MirOS$");
 
-void *alloca (unsigned size)
+void *
+alloca(size_t size)
 {
-  fprintf(stderr,"Falilure alloca %d called:-(\n",size);
-  abort(-1);
+	fprintf(stderr, "Failure alloca %zu called :-( \n", size);
+	abort();
 }
@
