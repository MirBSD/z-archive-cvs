head	1.2;
access;
symbols;
locks; strict;
comment	@# @;


1.2
date	2009.05.30.21.00.21;	author tg;	state Exp;
branches;
next	1.1;
commitid	1004A219E7950FF7D08;

1.1
date	2009.05.30.20.38.26;	author tg;	state Exp;
branches;
next	;
commitid	1004A2198964D89D064;


desc
@@


1.2
log
@I am stupid-p
@
text
@$MirOS: ports/lang/python/2.5/patches/patch-Lib_dbhash_py,v 1.1 2009/05/30 20:38:26 tg Exp $
--- Lib/dbhash.py.orig	Mon May  5 14:16:19 2003
+++ Lib/dbhash.py	Sat May 30 19:08:10 2009
@@@@ -4,9 +4,13 @@@@ import sys
 try:
     import bsddb
 except ImportError:
-    # prevent a second import of this module from spuriously succeeding
-    del sys.modules[__name__]
-    raise
+    try:
+        # $MirOS$
+        import bsddb185 as bsddb
+    except ImportError:
+        # prevent a second import of this module from spuriously succeeding
+        del sys.modules[__name__]
+        raise
 
 __all__ = ["error","open"]
 
@


1.1
log
@• update to the latest 2.5 series Python
• cope for possible hidden dependency on ncursesw
• mark as NOT_FOR_PLATFORM Darwin, because both anakin and jajabings
  are not powered on right now, so I cannot sync PFRAG.dylib, and this
  way we can avoid needing to bump DASH_VER upon doing so (just remove
  the NOT_FOR_PLATFORM clause, commit Makefile and PFRAG.dylib at once)
• make dbhash usable with bsddb185 module ipv bsddb module (gebi@@grml.org)
• make gdbm usable, it’s pulled in anyway if installed, and in py3k there
  will be no bsddb[185] any more anyway (gebi@@grml.org)
• ensure IPv6 is not forcibly enabled on Interix
• add PATCHLEVEL to SUBST_VARS (for egg info)
@
text
@d1 1
a1 1
$MirOS$
d12 1
a12 1
+        # $Id$
@

