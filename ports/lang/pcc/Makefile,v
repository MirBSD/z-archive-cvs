head	1.8;
access;
symbols
	start:1.1.201.1 tg:1.1.201;
locks; strict;
comment	@# @;


1.8
date	2011.04.22.13.23.08;	author tg;	state Exp;
branches;
next	1.7;
commitid	1004DB180A24951DEF2;

1.7
date	2011.04.02.13.14.59;	author tg;	state Exp;
branches;
next	1.6;
commitid	1004D97215D5865B0D8;

1.6
date	2008.12.07.18.58.02;	author tg;	state Exp;
branches;
next	1.5;
commitid	100493C1C934A10FB73;

1.5
date	2008.11.10.01.53.13;	author tg;	state Exp;
branches;
next	1.4;
commitid	100491793F1450EE7FB;

1.4
date	2008.10.28.12.00.45;	author tg;	state Exp;
branches;
next	1.3;
commitid	1004906FEFE35203C5F;

1.3
date	2008.07.17.21.17.38;	author tg;	state Exp;
branches;
next	1.2;
commitid	100487FB7033D554CB3;

1.2
date	2008.05.02.18.32.35;	author tg;	state Exp;
branches;
next	1.1;
commitid	100481B5E484978299D;

1.1
date	2008.05.02.18.29.52;	author tg;	state Exp;
branches
	1.1.201.1;
next	;
commitid	100481B5D6C4DBA471D;

1.1.201.1
date	2008.05.02.18.29.52;	author tg;	state Exp;
branches;
next	;
commitid	100481B5D6C4DBA471D;


desc
@@


1.8
log
@• update to CVS version, again
• refresh patches
• use rewritten buildsystem, submitted upstream
@
text
@# $MirOS: ports/lang/pcc/Makefile,v 1.7 2011/04/02 13:14:59 tg Exp $

ONLY_FOR_PLATFORM=	Darwin:*:i386 \
			Darwin:*:powerpc \
			MidnightBSD:*:i386 \
			MidnightBSD:*:sparc64 \
			MirBSD:*:i386 \
			OpenBSD:*:i386 \
			OpenBSD:*:powerpc \
			OpenBSD:*:sparc64 \
			OpenBSD:*:vax

# using wrong assembler syntax
#XXX revisit with 1.0.0
NOT_FOR_PLATFORM+=	Darwin:*:i386

# linking against wrong libraries; segfault atexit
#XXX revisit with 1.0.0
NOT_FOR_PLATFORM+=	Darwin:*:powerpc

COMMENT=		Portable C Compiler
CATEGORIES=		lang
UVERSION=		1.0.999
UDATE=			20110422
HOMEPAGE=		http://pcc.ludd.ltu.se/
RESPONSIBLE=		Thorsten Glaser <tg@@mirbsd.de>

.if defined(UDATE) && !empty(UDATE)
DISTNAME=		pcc-${UDATE}
PKGNAME=		pcc-${UVERSION}-${UDATE}-${DASH_VER}
.else
DISTNAME=		pcc-${UVERSION}
.endif

# BSD
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
PERMIT_PACKAGE_CDROM=	Yes
PERMIT_PACKAGE_FTP=	Yes

.if defined(UDATE) && !empty(UDATE)
MASTER_SITES=		http://pcc.ludd.ltu.se/ftp/pub/pcc/
.else
MASTER_SITES=		http://pcc.ludd.ltu.se/ftp/pub/pcc-releases/
.endif
EXTRACT_SUFX=		.tgz

CONFIGURE_STYLE=	autoconf
AUTOCONF_NEW=		Yes
CONFIGURE_ENV+=		MPVERSION=MirPorts:${PKGNAME:Q}
NO_REGRESS=		Yes
VERSIONSUBDIR=		1.1.0.DEVEL
SUBST_VARS+=		OStriplet VERSIONSUBDIR

.include <bsd.port.mk>
@


1.7
log
@turns out the pcc “DN Forever” release was NOT an April Fools Joke…
@
text
@d1 1
a1 1
# $MirOS: ports/lang/pcc/Makefile,v 1.6 2008/12/07 18:58:02 tg Exp $
d23 2
a24 1
DISTNAME=		pcc-1.0.0
d28 7
d41 3
d45 1
d52 1
a52 1
VERSIONSUBDIR=		1.0.0.RELEASE
@


1.6
log
@switch all CVS_DISTF (and svn) to MCZ_FETCH=Yes except these
which already were or these which are broken anyway (net/bind)
to make them IS_INTERACTIVE=No and thus suitable for bulk builds

agreed bsiegert@@
@
text
@d1 1
a1 1
# $MirOS: ports/lang/pcc/Makefile,v 1.5 2008/11/10 01:53:13 tg Exp $
d14 1
d18 1
d23 1
a23 5
MCZ_FETCH=		Yes
CVS_DISTREPO=		:pserver:anonymous@@pcc.ludd.ltu.se:/cvsroot
CVS_DISTDATE=		2008/10/28
CVS_DISTMODS=		pcc
DASH_VER=		1
d33 3
d40 2
a41 4
SUBST_VARS+=		OStriplet

post-extract:
	cd files && pax -rw os ${WRKSRC}/
@


1.5
log
@Add support for ‘-g0’ flag, like ‘-O0’ disables debugging information.
Tested with USE_COMPILER=pcc ☺
@
text
@d1 1
a1 1
# $MirOS: ports/lang/pcc/Makefile,v 1.4 2008/10/28 12:00:45 tg Exp $
d21 1
@


1.4
log
@Update PCC
@
text
@d1 1
a1 1
# $MirOS: ports/lang/pcc/Makefile,v 1.3 2008/07/17 21:17:38 tg Exp $
d24 1
@


1.3
log
@upgrade pcc and fix a lot(!) of things
@
text
@d1 1
a1 1
# $MirOS: ports/lang/pcc/Makefile,v 1.2 2008/05/02 18:32:35 tg Exp $
d22 1
a22 1
CVS_DISTDATE=		2008/07/17
@


1.2
log
@well, it _does_ compile a hello world programme on mnbsd/i386…
just <sys/signal.h> and friends aren’t ready yet
@
text
@d1 1
a1 1
# $MirOS: ports/lang/pcc/Makefile,v 1.1.201.1 2008/05/02 18:29:52 tg Exp $
d22 1
a22 1
CVS_DISTDATE=		2008/05/02
d37 1
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $MirOS$
a12 3
# broken system headers
NOT_FOR_PLATFORM+=	MidnightBSD:*:*

@


1.1.201.1
log
@Import a MirPort for the Portable C Compiler
@
text
@@
