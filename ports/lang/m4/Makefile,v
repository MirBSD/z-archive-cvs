head	1.12;
access;
symbols;
locks; strict;
comment	@# @;


1.12
date	2009.11.22.00.08.35;	author tg;	state Exp;
branches;
next	1.11;
commitid	1004B08805315616626;

1.11
date	2009.11.18.20.50.05;	author bsiegert;	state Exp;
branches;
next	1.10;
commitid	1004B045DE5163CC3A0;

1.10
date	2009.08.10.17.12.38;	author tg;	state Exp;
branches;
next	1.9;
commitid	1004A80551970123A8A;

1.9
date	2008.03.12.23.47.44;	author tg;	state Exp;
branches;
next	1.8;
commitid	10047D86BB635A7A72C;

1.8
date	2008.03.12.23.43.11;	author tg;	state Exp;
branches;
next	1.7;
commitid	10047D86A9C2D04FA59;

1.7
date	2008.03.12.22.54.06;	author tg;	state Exp;
branches;
next	1.6;
commitid	10047D85F2332CB7F17;

1.6
date	2007.02.22.22.57.52;	author tg;	state Exp;
branches;
next	1.5;
commitid	10045DE1FF10F590776;

1.5
date	2006.09.14.00.10.24;	author tg;	state Exp;
branches;
next	1.4;
commitid	10045089C0E234154C3;

1.4
date	2006.06.16.22.16.03;	author tg;	state Exp;
branches;
next	1.3;
commitid	10044932DB1549B76B5;

1.3
date	2005.11.10.22.20.48;	author tg;	state Exp;
branches;
next	1.2;
commitid	49d84373c7025ee2;

1.2
date	2005.05.21.02.52.36;	author tg;	state Exp;
branches;
next	1.1;
commitid	24f5428ea27fef9c;

1.1
date	2005.03.18.15.47.57;	author tg;	state Exp;
branches
	1.1.7.1;
next	;

1.1.7.1
date	2005.03.18.15.47.57;	author tg;	state Exp;
branches;
next	;


desc
@@


1.12
log
@downgrade to 1.4.9, a version I had lying around anyway; this one still
uses autoconf-2.61 upstream (1.4.13 uses autoconf-2.63b (!) which is
EVEN NEWER than autoconf-2.63, so we couldn‚Äôt even have done this trick
with it‚Ä¶) and regenerate its configure script, so that we can still, as
per bsiegert@@‚Äôs fix, use CONFIGURE_STYLE=gnu on all platforms; however,
AUTOCONF_NEW=Yes is still required so that configure gets passed correct
arguments

this shall be enough until such time as m4-1.4.13 (or whatever version
will be current by then) can be ported using autoconf-2.65 pregenerated
configure script diffs like here

according to autoconf-2.63 docs, GNU m4 1.4.5 is required (even though
version 1.4.11 or later is recommended), let‚Äôs see how this plays with
autoconf-2.65‚Ä¶ (but first we need to clear up that mess that the auto-
conf ports are)
@
text
@# $MirOS: ports/lang/m4/Makefile,v 1.11 2009/11/18 20:50:05 bsiegert Exp $
# $OpenBSD: Makefile,v 1.18 2002/12/29 20:19:11 fgsch Exp $
# $FreeBSD: Makefile,v 1.7 1997/06/16 08:22:35 max Exp $
#-
# On Interix and MidnightBSD, this port cannot depend on autoconf.
# On MirBSD and OpenBSD, this port cannot depend on autoconf 2.62 or up.

COMMENT=		GNU m4
DISTNAME=		m4-1.4.9
CATEGORIES=		devel lang
MASTER_SITES=		${MASTER_SITE_GNU:=m4/}
HOMEPAGE=		http://www.gnu.org/software/m4/

# GNU GPLv3+
PERMIT_PACKAGE_CDROM=	Yes
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes

.include <mirports.sys.mk>

.if ${OStype} == "Interix"
BUILD_DEPENDS+=		::essentials/texinfo
.endif
CONFIGURE_STYLE=	gnu
AUTOCONF_NEW=		Yes
CONFIGURE_ARGS=		--program-prefix="g"

post-extract:
	-cd ${WRKSRC}/doc && rm -f m4.info*

post-install:
	${INSTALL_DATA_DIR} ${PREFIX}/share/examples/gm4
	${INSTALL_DATA} ${WRKSRC}/examples/*.m4 ${PREFIX}/share/examples/gm4/

.include <bsd.port.mk>

_CIPHERS+=		cksum
@


1.11
log
@Update to current version 1.4.13-0. Use "gnu" configure style on all OSes,
this is not a problem as m4 does not use libtool.
@
text
@d1 1
a1 1
# $MirOS: ports/lang/m4/Makefile,v 1.10 2009/08/10 17:12:38 tg Exp $
d9 1
a9 1
DISTNAME=		m4-1.4.13
d26 1
@


1.10
log
@this cannot depend on autoconf > 2.61
@
text
@d1 1
a1 1
# $MirOS: ports/lang/m4/Makefile,v 1.9 2008/03/12 23:47:44 tg Exp $
d9 1
a9 1
DISTNAME=		m4-1.4.4
d14 1
a14 1
# GNU GPL
d24 1
a25 7
.elif ${OStype} == "MidnightBSD"
CONFIGURE_STYLE=	gnu
.else
CONFIGURE_STYLE=	autoconf
AUTOCONF_NEW=		Yes
AUTOCONF_VERSION=	2.61
.endif
@


1.9
log
@style
@
text
@d1 1
a1 1
# $MirOS: ports/lang/m4/Makefile,v 1.8 2008/03/12 23:43:11 tg Exp $
d6 1
d30 1
@


1.8
log
@Initial support for running the MirPorts Framework (mirports)
on MidnightBSD (mnbsd), parallel to their native ‚Äúmports‚Äù:
‚Ä¢ the test was on stargazer, which is a FreeBSD ‚Äúupgraded‚Äù to
  mnbsd, so there may be differences to a real mnbsd-current
‚Ä¢ we do need upgraded MirMake, but I didn‚Äôt release that yet,
  since I‚Äôd have to test it first
‚Ä¢ the default MANPATH needs a re-check, like OpenBSD
‚Ä¢ the setup.ksh change installs lndir(1) and a tzfile.h from
  ports/infrastructure/install/ manually; this should be moved
  into MirMake (at least lndir, which is part of XFree86¬Æ, which,
  in turn, is seen less and less in the public, sadly)
‚Ä¢ builds paxmirabilis (MirCpio), MirPatch, GNU m4, MirCksum,
  lndir (see above), and the MirPackageTools ‚ò∫
‚Ä¢ uses gcc spec file, like Darwin, to call native ld as collect2
  after parsing -Wl,--library-after (XXX why does OpenBSD not
  need this, does it use $PATH to call ld? if so, why none else?)
‚Ä¢ XXX HAS_TIMET64=No on LP64 platforms?
‚Ä¢ XXX does mnbsd not have systrace?

Additional tweaks:
‚Ä¢ bump ¬© and stuff
‚Ä¢ use a temporary playpen in LOCALBASE/tmp while upgrading,
  so that pkg_add paxmirabilis*cgz does not need to use tar
  to copy over the new files _after_ removing tar‚Ä¶
‚Ä¢ use full path to pkg_add when calling it manually
‚Ä¢ resolve possible conflict of a native rmd160(1) while
  bootstrapping GNU m4, when MirCksum is already installed
  XXX remove _CKSUM_SIZE and _CKSUM_A compatibility crap ASAP
‚Ä¢ if collect2 isn‚Äôt known by gcc, use ld instead in the wrapper
‚Ä¢ in pkgtools, always link against libmirmake unless OpenBSD/MirBSD
  (XXX in cksum, we always link against it if it exists)
‚Ä¢ XXX possibly remove the dependency of MirCpio to tzfile.h
@
text
@d1 1
a1 1
# $MirOS: ports/lang/m4/Makefile,v 1.7 2008/03/12 22:54:06 tg Exp $
d5 1
a5 1
# On Interix, this port cannot depend on autoconf.
d7 1
a7 1
COMMENT=			GNU m4
d20 1
@


1.7
log
@regen, add cksum
@
text
@d1 1
a1 1
# $MirOS: ports/lang/m4/Makefile,v 1.6 2007/02/22 22:57:52 tg Exp $
d23 2
@


1.6
log
@remove redundancy
@
text
@d1 1
a1 1
# $MirOS: ports/lang/m4/Makefile,v 1.5 2006/09/14 00:10:24 tg Exp $
d37 2
@


1.5
log
@clean up COMMENT and HOMEPAGE; regenerate INDEX (2761, 169 marked as broken, probably many many more) ≠ edited by script with manual postprocessing
@
text
@d1 1
a1 1
# $MirOS: ports/lang/m4/Makefile,v 1.4 2006/06/16 22:16:03 tg Exp $
a27 1
EXTRA_MAKE_FLAGS+=	MAKEINFO="makeinfo --no-split"
@


1.4
log
@update to 1.4.4, all regression tests pass
@
text
@d1 1
a1 1
# $MirOS: ports/lang/m4/Makefile,v 1.3 2005/11/10 22:20:48 tg Exp $
d7 1
a7 1
COMMENT=		"GNU m4"
@


1.3
log
@* texinfo: must not depend on m4, autoconf on Interix
* setup.ksh: install patch(1) as port on Interix
* setup.ksh: install GNU wget last (huge load of dependencies)
* mirports.sys.mk: add /usr/local/lib/bind to ld path on Interix
* network.conf.template: add some HTTP mirrors of GNU
* m4: must not depend on m4 on Interix
* m4: depends on texinfo on Interix
* wget: update to 1.10.2-1
* wget: add HTTP mirror of Debian
* wget: does not need GNU make
* wget: add -lbind (and its dependency -ldb) on Interix
  XXX I hope bdb4 does NOT get used by this... we actually
  XXX have a libdb.so.3.5 in base on Interix 3.5
* wget: 1,$ = % in ed(1) scripts
@
text
@d1 1
a1 1
# $MirOS: ports/lang/m4/Makefile,v 1.2 2005/05/21 02:52:36 tg Exp $
d8 1
a8 1
DISTNAME=		m4-1.4.2
d22 1
a22 1
CONFIGURE_STYLE=	gnu dest
d24 1
a24 1
CONFIGURE_STYLE=	autoconf dest
d28 4
@


1.2
log
@on Interix, this needs no autoconf
but autoconf needs this
@
text
@d1 1
a1 1
# $MirOS: ports/lang/m4/Makefile,v 1.1.7.1 2005/03/18 15:47:57 tg Exp $
d4 2
a19 1

d21 1
d25 1
a26 1
AUTOCONF_NEW=		Yes
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $MirOS$
d17 5
d23 1
@


1.1.7.1
log
@Import the MirPorts Framework, many files moved or renamed though, no KDE/QT
@
text
@@
