head	1.4;
access;
symbols;
locks; strict;
comment	@# @;


1.4
date	2008.05.31.13.21.56;	author bsiegert;	state Exp;
branches;
next	1.3;
commitid	100484150DA52A131D4;

1.3
date	2007.04.07.15.00.47;	author bsiegert;	state Exp;
branches;
next	1.2;
commitid	1004617B2204F185D3A;

1.2
date	2006.02.01.15.42.15;	author tg;	state Exp;
branches;
next	1.1;
commitid	10043E0D60F1A22E1E1;

1.1
date	2005.03.18.15.47.50;	author tg;	state Exp;
branches
	1.1.7.1;
next	;

1.1.7.1
date	2005.03.18.15.47.50;	author tg;	state Exp;
branches;
next	;


desc
@@


1.4
log
@Update to 1.8.6-p114, unbreak, also unbreak all ruby ports!

Some help with OS* variables tg@@
@
text
@# $MirOS: ports/lang/ruby/ruby.port.mk,v 1.3 2007/04/07 15:00:47 bsiegert Exp $
# $OpenBSD: ruby.port.mk,v 1.4 2004/02/20 22:52:58 couderc Exp $

# ruby module

LIB_DEPENDS+=ruby::lang/ruby

# location of ruby libraries
MODRUBY_LIBDIR=		${LOCALBASE}/lib/ruby

# common directories for ruby extensions
# used to create docs and examples install path
MODRUBY_DOCDIR=		${PREFIX}/share/doc/ruby
MODRUBY_EXAMPLEDIR=	${PREFIX}/share/examples/ruby

CONFIGURE_STYLE?=	simple
CONFIGURE_SCRIPT?=	${LOCALBASE}/bin/ruby extconf.rb

REV=			1.8
SUB=			${MACHINE_ARCH}-${OStype:L}${OSREV}
SUBST_VARS+=		SUB REV

@


1.3
log
@Fix quoting of BROKEN line.

Someone should really unbreak this. It does not look too difficult to do.
@
text
@d1 1
a1 1
# $MirOS: ports/lang/ruby/ruby.port.mk,v 1.2 2006/02/01 15:42:15 tg Exp $
a3 3
# to fix this, use ${OStriplet} or OSname+OSREV or OSname+OSver
BROKEN=	OSname and OSrev abuse in lang/ruby/ruby.port.mk

d6 1
a6 2
RUN_DEPENDS+=::lang/ruby
LIB_DEPENDS+=ruby.1.81::lang/ruby
d19 3
a21 3
REV=1.8
SUB=${MACHINE_ARCH}-openbsd${OSREV}
SUBST_VARS=SUB REV
@


1.2
log
@change the way OS version detection and variable assignment works,
and fix or break all ports which use some of the variables.

Do not use:
* OPSYS, OSMAJOR, OSMINOR: used in OpenBSD (maybe more)
* OSREV, OSrev: changed meaning relative to OpenBSD
* OSrev, OSrel, OSrelm, OSrelx, OSrpl: used in MirBSD (7 and 8)

Do use (preferred first):
* OStype (MirBSD, OpenBSD, Darwin, Interix, ...)
* OSver (always <number>.<number> in decimal)
  - on OpenBSD: 3.8
  - on MirBSD: major.patchlevel
  - on Darwin: 8.4 (without .0)
  - on Interix: 3.5
* OStriplet (i386-ecce-mirbsd8, zaurus-unknown-openbsd3.9,
  powerpc-apple-darwin8.2.0, ...)
* OSREV (the output of "uname -r")
  - on OpenBSD: 3.8
  - on MirBSD: 8
  - on Darwin: 8.4.0
@
text
@d1 1
a1 1
# $MirOS$
d5 1
a5 1
BROKEN="OSname and OSrev abuse in lang/ruby/ruby.port.mk"
@


1.1
log
@Initial revision
@
text
@d1 1
d4 3
@


1.1.7.1
log
@Import the MirPorts Framework, many files moved or renamed though, no KDE/QT
@
text
@@
