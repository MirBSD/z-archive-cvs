head	1.2;
access;
symbols;
locks; strict;
comment	@# @;


1.2
date	2009.12.05.00.36.45;	author tg;	state dead;
branches;
next	1.1;
commitid	1004B19AB1E12F619C7;

1.1
date	2008.11.02.17.05.40;	author tg;	state Exp;
branches;
next	;
commitid	100490DDDBF34EF580F;


desc
@@


1.2
log
@big scary llvm+clang update
mksh 0 testsuite failures, but objfw still won't do…
@
text
@$MirOS: ports/lang/llvm/patches/patch-tools_clang_lib_Driver_InitHeaderSearch_cpp,v 1.1 2008/11/02 17:05:40 tg Exp $
--- tools/clang/lib/Driver/InitHeaderSearch.cpp.orig	Thu Jan  1 00:00:00 1970
+++ tools/clang/lib/Driver/InitHeaderSearch.cpp	Sun Nov  2 15:02:02 2008
@@@@ -119,6 +119,18 @@@@ void InitHeaderSearch::AddDefaultSystemI
 #else
 
   if (Lang.CPlusPlus) {
+    // MirOS BSD #10-current
+    AddPath("/usr/include/gxx", System, true, false, false);
+    AddPath("/usr/include/gxx/i386-ecce-mirbsd10", System, true, false, false);
+    AddPath("/usr/include/gxx/i386-ecce-mirbsd11", System, true, false, false);
+    AddPath("/usr/include/gxx/sparc-ecce-mirbsd10", System, true, false, false);
+    AddPath("/usr/include/gxx/sparc-ecce-mirbsd11", System, true, false, false);
+    AddPath("/usr/include/gxx/backward", System, true, false, false);
+
+    // MidnightBSD 0.2-current
+    AddPath("/usr/include/c++/3.4", System, true, false, false);
+    AddPath("/usr/include/c++/3.4/backward", System, true, false, false);
+
     AddPath("/usr/include/c++/4.2.1", System, true, false, false);
     AddPath("/usr/include/c++/4.2.1/i686-apple-darwin10", System, true, false,
         false);
@@@@ -159,7 +171,9 @@@@ void InitHeaderSearch::AddDefaultSystemI
     AddPath("/usr/include/c++/4.1", System, true, false, false);
   }
 
+#if 0 /* not desired for MirOS/MirPorts */
   AddPath("/usr/local/include", System, false, false, false);
+#endif
 
   AddPath("/usr/lib/gcc/i686-apple-darwin10/4.2.1/include", System, 
       false, false, false);
@


1.1
log
@this, llvm port would look like when both are taken from svn
⇒ still doesn’t work…

Message-ID: <Pine.BSM.4.64L.0811021642240.31401@@herc.mirbsd.org>
reported this upstream:

llvm[4]: Compiling BasicConstraintManager.cpp for Release-Asserts build
mpcxx -I/usr/ports/lang/llvm/w-llvm-58565-0/llvm/include -I/usr/ports/lang/llvm/w-llvm-58565-0/llvm/tools/clang/lib/Analysis  -DNDEBUG -I/usr/ports/lang/llvm/w-llvm-58565-0/llvm/tools/clang/lib/Analysis/../../include -D_GNU_SOURCE -D__STDC_LIMIT_MACROS -D__STDC_CONSTANT_MACROS -O3  -fno-exceptions -fno-rtti -Woverloaded-virtual -pedantic -Wall -W -Wwrite-strings -Wno-long-long -Wunused -Wno-unused-parameter  -c BasicConstraintManager.cpp -o /usr/ports/lang/llvm/w-llvm-58565-0/llvm/tools/clang/lib/Analysis/Release-Asserts/BasicConstraintManager.o
In file included from /usr/ports/lang/llvm/w-llvm-58565-0/llvm/tools/clang/lib/Analysis/../../include/clang/Analysis/PathSensitive/Store.h:18,
                 from /usr/ports/lang/llvm/w-llvm-58565-0/llvm/tools/clang/lib/Analysis/../../include/clang/Analysis/PathSensitive/ConstraintManager.h:18,
                 from BasicConstraintManager.cpp:15:
/usr/ports/lang/llvm/w-llvm-58565-0/llvm/tools/clang/lib/Analysis/../../include/clang/Analysis/PathSensitive/MemRegion.h:246: error: base `clang::AnonTypedRegion' with only non-default constructor in class without a constructor
gmake[4]: *** [/usr/ports/lang/llvm/w-llvm-58565-0/llvm/tools/clang/lib/Analysis/Release-Asserts/BasicConstraintManager.o] Error 1
gmake[4]: Leaving directory `/usr/ports/lang/llvm/w-llvm-58565-0/llvm/tools/clang/lib/Analysis'
@
text
@d1 1
a1 1
$MirOS$
@

