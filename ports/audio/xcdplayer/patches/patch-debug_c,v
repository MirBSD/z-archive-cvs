head	1.1;
branch	1.1.7;
access;
symbols;
locks; strict;
comment	@# @;


1.1
date	2005.03.18.15.43.21;	author tg;	state Exp;
branches
	1.1.7.1;
next	;

1.1.7.1
date	2005.03.18.15.43.21;	author tg;	state Exp;
branches;
next	;


desc
@@



1.1
log
@Initial revision
@
text
@$OpenBSD: patch-debug_c,v 1.2 2003/12/29 21:38:34 espie Exp $
--- debug.c.orig	1993-01-12 19:59:35.000000000 +0100
+++ debug.c	2003-12-29 22:34:24.000000000 +0100
@@@@ -15,28 +15,29 @@@@
 
 # include <X11/Intrinsic.h>
 
-# include <varargs.h>
+# include <stdarg.h>
 # include <stdio.h>
 
 # include "debug.h"
 
+#include "app.h"
+
+extern AppData app_data;
+
 /* VARARGS */
 void
-debug_printf(va_alist)
-	va_dcl
+debug_printf(int p, const char *fmt, ...)
 {
 	va_list		args;
-	char		*fmt;
 
-	va_start(args);
 
 	/*
 	 * first arg is whether or not to print.
 	 */
-	if ((va_arg(args, int) == 0) || (debug == False))
+	if ((p == 0) || (app_data.debug == False))
 		return;
 
-	fmt = va_arg(args, char *);
+	va_start(args, fmt);
 	vfprintf(stdout, fmt, args);
 
 	fflush(stdout);
@


1.1.7.1
log
@Import the MirPorts Framework, many files moved or renamed though, no KDE/QT
@
text
@@
