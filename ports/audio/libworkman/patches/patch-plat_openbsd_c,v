head	1.2;
access;
symbols;
locks; strict;
comment	@# @;


1.2
date	2007.05.12.22.19.33;	author bsiegert;	state Exp;
branches;
next	1.1;
commitid	10046463D6834129B9E;

1.1
date	2005.03.18.15.42.58;	author tg;	state Exp;
branches
	1.1.7.1;
next	;

1.1.7.1
date	2005.03.18.15.42.58;	author tg;	state Exp;
branches;
next	;


desc
@@


1.2
log
@It is <scsi/cd.h>, not <scsi/scsi_cd.h>, fixes build. Bump patchlevel.
@
text
@$MirOS$
$OpenBSD: patch-plat_openbsd_c,v 1.1.1.1 2001/02/06 11:50:21 wilfried Exp $
--- plat_openbsd.c.orig	Sun Mar  7 09:36:18 1999
+++ plat_openbsd.c	Sun May 13 00:17:05 2007
@@@@ -55,9 +55,11 @@@@ static char plat_openbsd[] = "$Id: plat_
 #include <sys/cdio.h>
 #include <sys/scsiio.h>
 #include <scsi/scsi_all.h>
-#include <scsi/scsi_cd.h>
+#include <scsi/cd.h>
 
 #include "include/wm_struct.h"
+#include "include/wm_cdrom.h"
+#include "include/wm_helpers.h"
 
 #define WM_MSG_CLASS WM_MSG_CLASS_PLATFORM
 
@@@@ -82,7 +84,7 @@@@ gen_init(struct wm_drive *d)
  * Get the number of tracks on the CD.
  */
 int
-gen_get_trackcount(struct wm_drive *d, int tracks)
+gen_get_trackcount(struct wm_drive *d, int *tracks)
 {
 	struct ioc_toc_header	hdr;
 
@@@@ -473,7 +475,7 @@@@ wmcd_open(struct wm_drive *d)
 			if (!warned)
 			{
 				fprintf(stderr,
-		"As root, please run\n\nchmod 666 %s\n\n%s\n", cd_device,
+		"As root, please run\n\nchmod 644 %s\n\n%s\n", cd_device,
 		"to give yourself permission to access the CD-ROM device.");
 				warned++;
 			}
@


1.1
log
@Initial revision
@
text
@d1 1
d3 3
a5 4
--- plat_openbsd.c.orig	Sun Mar  7 09:36:40 1999
+++ plat_openbsd.c	Mon Feb  5 08:00:55 2001
@@@@ -54,10 +54,13 @@@@ static char plat_openbsd[] = "$Id: plat_
 #include <sys/ioctl.h>
d8 2
a10 2
 #include <scsi/scsi_all.h>
 #include <scsi/scsi_cd.h>
d18 1
a18 1
@@@@ -82,7 +85,7 @@@@ gen_init(struct wm_drive *d)
d27 1
a27 1
@@@@ -473,7 +476,7 @@@@ wmcd_open(struct wm_drive *d)
@


1.1.7.1
log
@Import the MirPorts Framework, many files moved or renamed though, no KDE/QT
@
text
@@
