head	1.4;
access;
symbols;
locks; strict;
comment	@# @;


1.4
date	2007.02.22.22.57.43;	author tg;	state Exp;
branches;
next	1.3;
commitid	10045DE1FF10F590776;

1.3
date	2007.01.07.16.58.37;	author tg;	state Exp;
branches;
next	1.2;
commitid	10045A126841EAEB6B4;

1.2
date	2007.01.07.16.20.12;	author bsiegert;	state Exp;
branches;
next	1.1;
commitid	10045A11D64362D6C98;

1.1
date	2006.11.25.23.21.52;	author bsiegert;	state Exp;
branches;
next	;
commitid	1004568CF0C5CB9E717;


desc
@@


1.4
log
@remove redundancy
@
text
@# $MirOS: ports/audio/audacious/player/Makefile,v 1.3 2007/01/07 16:58:37 tg Exp $

# Port contributed by Jonathan Schleifer <js@@h3c.de>

COMMENT=		advanced BMP fork
DISTNAME=		audacious-1.2.2
DASH_VER=		1
CATEGORIES=		audio x11

LIB_DEPENDS=		gdk-x11-2.0.0.0,gdk_pixbuf-2.0.0.0,gtk-x11-2.0.0.0::x11/gtk+ \
			glade-2.0.0.0::devel/libglade

CONFIGURE_ARGS+=	${CONFIGURE_SHARED}
CONFIGURE_ARGS+=	--enable-ipv6
CONFIGURE_ARGS+=	--disable-nls
CONFIGURE_ARGS+=	--with-rc-path=.etc/audacious

# build_stamp.c is missing from the 1.2.2 tarball, this is a bug
post-patch:
	print '#!/bin/sh\necho -n MirPorts-${DASH_VER}' \
	    >${WRKDIR}/bin/svnversion
	chmod +x ${WRKDIR}/bin/svnversion

.include <bsd.port.mk>
@


1.3
log
@* why use 'MirPorts' as "version" when we can use 'MirPorts-${DASH_VER}',
  like with e.g. centericq ;)
* echo "foo\nbar" is not portable, use print instead
* use single quotes not double, since we don't use shell vars
* ${WRKSRC}/../bin isn't in ${PORTPATH}, but ${WRKDIR}/bin is
@
text
@d1 1
a1 1
# $MirOS: ports/audio/audacious/player/Makefile,v 1.2 2007/01/07 16:20:12 bsiegert Exp $
a14 1
CONFIGURE_ARGS+=	--disable-dependency-tracking
@


1.2
log
@The file audacious/build_stamp.c is missing from the release tarball, thus
the Makefile calls svnversion, which is part of Subversion. To avoid having
subversion as a build dependency, provide a dummy svnversion script.
Bump patchÃlevel.

Also reported upstream as Bug #736.
@
text
@d1 1
a1 1
# $MirOS: ports/audio/audacious/player/Makefile,v 1.1 2006/11/25 23:21:52 bsiegert Exp $
d7 1
a7 1
PKGNAME=		${DISTNAME}-1
d21 3
a23 2
	echo "#!/bin/sh\necho -n MirPorts" > ${WRKSRC}/../bin/svnversion
	chmod +x ${WRKSRC}/../bin/svnversion
@


1.1
log
@God, I hate CVS, it ate my log message again ...

Add ports for audacious-1.2.2 and audacious-plugins-1.2.5. From DESCR:
Audacious is a fork of Beep Media Player, which is a fork of XMMS.
Audacious supports a huge number of different formats. It even
supports exotical formats from gaming consoles and new formats like
ALAC which are currently not supported by any other player for UNIX.

Works for me using the sun output plugin. Remaining issues:

- eliminate some kludges in build
- plugins should be flavoured, too many dependencies
- you must disable the cuesheet plugin or the player crashes when trying
  to add a folder
- oss output plugin does not work

Initial port submitted by Jonathan Schleifer <js at h3c.de>.
Help with build system by William "nenolod" Pitcock, thanks!
@
text
@d1 1
a1 1
# $MirOS$
d7 1
d19 5
@

