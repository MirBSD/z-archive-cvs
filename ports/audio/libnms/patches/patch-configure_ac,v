head	1.1;
access;
symbols;
locks; strict;
comment	@# @;


1.1
date	2006.11.25.17.19.46;	author bsiegert;	state Exp;
branches;
next	;
commitid	10045687AE965F395FA;


desc
@@


1.1
log
@Add a port for libnms-0.6.0. Patches (which fix configure bugs) will be
submitted upstream.

From DESCR:
libnms let you add multimedia streaming playback in your applications in
a quick and straightforward way. This software, derived from the
experience matured with NeMeSi is fully compliant with IETF's standards
for real-time streaming of multimedia contents over Internet. libnms
implements RTSP - Real-Time Streaming Protocol (RFC2326) and RTP/RTCP -
Real-Time Transport Protocol/RTP Control Protocol (RFC3550) supporting
the RTP Profile for Audio and Video Conferences with Minimal Control
(RFC3551).
@
text
@$MirOS$
--- configure.ac.orig	Thu Oct 12 16:01:04 2006
+++ configure.ac	Sat Nov 25 18:52:18 2006
@@@@ -83,6 +83,7 @@@@ AC_HEADER_DIRENT
 AC_HEADER_STDC
 AC_HEADER_TIME
 AC_CHECK_HEADERS(sys/time.h unistd.h strings.h errno.h fcntl.h limits.h malloc.h)
+AC_CHECK_HEADERS(sys/socket.h netinet/in.h)
 
 dnl Check for typedefs, structures, and compiler characteristics.
 AC_C_CONST
@@@@ -108,11 +109,17 @@@@ dnl check if we have the generic struct 
 AC_CHECK_TYPES(struct sockaddr_storage,
             [EXTRA_FLAGS="-DHAVE_STRUCT_SOCKADDR_STORAGE ${EXTRA_FLAGS}"],
             ,
-            [#include <sys/socket.h>])
+            [AC_INCLUDES_DEFAULT()
+#ifdef HAVE_SYS_SOCKET_H
+# include <sys/socket.h>
+#endif])
 
 dnl Check for IPv6 support
 if test "$enable_ipv6" = "yes"; then
-	AC_CHECK_TYPE(struct sockaddr_in6, AC_DEFINE([IPV6], 1, [Define IPv6 support]), , [#include <netinet/in.h>])
+	AC_CHECK_TYPE(struct sockaddr_in6, AC_DEFINE([IPV6], 1, [Define IPv6 support]), , [AC_INCLUDES_DEFAULT()
+#ifdef HAVE_NETINET_IN_H
+# include <netinet/in.h>
+#endif])
 else
 	AC_MSG_WARN([IPv6 disabled: check skipped.])
 fi
@
