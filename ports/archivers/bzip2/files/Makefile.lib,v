head	1.4;
access;
symbols;
locks; strict;
comment	@# @;


1.4
date	2010.09.20.19.51.26;	author bsiegert;	state Exp;
branches;
next	1.3;
commitid	1004C97BB3033BED6B2;

1.3
date	2007.03.11.20.09.00;	author tg;	state Exp;
branches;
next	1.2;
commitid	10045F461F20AC43974;

1.2
date	2005.05.29.21.11.08;	author bsiegert;	state Exp;
branches;
next	1.1;
commitid	52b3429a2ebd8cab;

1.1
date	2005.05.21.12.54.56;	author bsiegert;	state Exp;
branches;
next	;
commitid	4433428f2f85889f;


desc
@@


1.4
log
@Update to 1.0.6-0, fixes CVE-2010-0405
@
text
@# $MirOS: ports/archivers/bzip2/files/Makefile.lib,v 1.3 2007/03/11 20:09:00 tg Exp $
#
# vim:se ft=make:

SRCDIR=		${.CURDIR}/..

LIB=		bz2
SRCS=		blocksort.c huffman.c crctable.c randtable.c compress.c \
		decompress.c bzlib.c
INCLUDES=	bzlib.h

NOMAN=		Yes

SHLIB_MAJOR=	10
SHLIB_MINOR=	6

.if defined(DESTDIR) && !empty(DESTDIR) && defined(TRUEPREFIX)
PREFIX:=	${TRUEPREFIX}
.endif

.PATH:		${SRCDIR}

beforeinstall:
	${BSD_INSTALL_DATA_DIR} ${DESTDIR}${PREFIX}/include
.for file in ${INCLUDES}
	${BSD_INSTALL_DATA} ${SRCDIR}/${file} ${DESTDIR}${PREFIX}/include/
.endfor

.include <bsd.lib.mk>
@


1.3
log
@update to 1.0.4, no shlib ABI change
@
text
@d1 1
a1 1
# $MirOS: ports/archivers/bzip2/files/Makefile.lib,v 1.2 2005/05/29 21:11:08 bsiegert Exp $
d15 1
a15 1
SHLIB_MINOR=	3
@


1.2
log
@Update bzip2 to 1.0.3, after lots of fiddling with the build system.
@
text
@d1 2
a2 2
# $MirOS: ports/archivers/bzip2/files/Makefile.lib,v 1.1 2005/05/21 12:54:56 bsiegert Exp $
# 
a5 1
LIBDIR=		${PREFIX}/lib
a15 2
SHLIB_VERSION=	${SHLIB_MAJOR}.${SHLIB_MINOR}
LIBbz2_VERSION=	${SHLIB_VERSION}
a20 3
INSTALL_DATA_DIR=	${BSD_INSTALL_DATA_DIR}
INSTALL_DATA=		${BSD_INSTALL_DATA}

d24 1
a24 1
	${INSTALL_DATA_DIR} ${DESTDIR}${PREFIX}/include
d26 1
a26 1
	${INSTALL_DATA} ${SRCDIR}/${file} ${DESTDIR}${PREFIX}/include
@


1.1
log
@Make bzip2 use the BSD build infrastructure, fixes build on Darwin. Bump
patchlevel.
@
text
@d1 1
a1 1
# $MirOS$
d16 3
a18 1
SHLIB_MINOR=	2
@

