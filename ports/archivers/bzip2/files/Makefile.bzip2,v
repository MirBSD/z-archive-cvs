head	1.3;
access;
symbols;
locks; strict;
comment	@# @;


1.3
date	2008.03.19.18.25.57;	author tg;	state Exp;
branches;
next	1.2;
commitid	10047E15AB31AF5A13C;

1.2
date	2007.03.11.20.09.00;	author tg;	state Exp;
branches;
next	1.1;
commitid	10045F461F20AC43974;

1.1
date	2005.05.21.12.54.56;	author bsiegert;	state Exp;
branches;
next	;
commitid	4433428f2f85889f;


desc
@@


1.3
log
@SECURITY fix:

• upgrade to bzip2-1.0.5
  ‣ fixes CERT-FI 20469
• string cleanup
@
text
@# $MirOS: ports/archivers/bzip2/files/Makefile.bzip2,v 1.2 2007/03/11 20:09:00 tg Exp $

SRCDIR=		${.CURDIR}/..
DOCDIR=		${PREFIX}/share/doc/bzip2

PROG=		bzip2
MAN=		bzip2.1 bzgrep.1 bzmore.1 bzdiff.1
LDADD+=		-L${SRCDIR}/lib -lbz2

LINKS=		${BINDIR}/bzip2 ${BINDIR}/bunzip2 \
		${BINDIR}/bzip2 ${BINDIR}/bzcat \
		${BINDIR}/bzgrep ${BINDIR}/bzegrep \
		${BINDIR}/bzgrep ${BINDIR}/bzfgrep \
		${BINDIR}/bzmore ${BINDIR}/bzless \
		${BINDIR}/bzdiff ${BINDIR}/bzcmp
MLINKS=		bzip2.1 bunzip2.1 \
		bzip2.1 bzcat.1 \
		bzip2.1 bzip2recover.1 \
		bzgrep.1 bzegrep.1 \
		bzgrep.1 bzfgrep.1 \
		bzmore.1 bzless.1 \
		bzdiff.1 bzcmp.1

.PATH:		${SRCDIR}

.if defined(DESTDIR) && !empty(DESTDIR) && defined(TRUEPREFIX)
PREFIX:=	${TRUEPREFIX}
.endif

beforeinstall:
.for i in bzgrep bzmore bzdiff
	${BSD_INSTALL_SCRIPT} ${SRCDIR}/$i ${DESTDIR}${BINDIR}/
.endfor
	${BSD_INSTALL_DATA_DIR} ${DESTDIR}${DOCDIR}
	${BSD_INSTALL_DATA} ${SRCDIR}/manual* ${DESTDIR}${DOCDIR}/

.include <bsd.prog.mk>
@


1.2
log
@update to 1.0.4, no shlib ABI change
@
text
@d1 1
a1 1
# $MirOS: ports/archivers/bzip2/files/Makefile.bzip2,v 1.1 2005/05/21 12:54:56 bsiegert Exp $
d35 1
a35 1
	${BSD_INSTALL_DATA} ${SRCDIR}/manual*.html ${DESTDIR}${DOCDIR}/
@


1.1
log
@Make bzip2 use the BSD build infrastructure, fixes build on Darwin. Bump
patchlevel.
@
text
@d1 1
a1 1
# $MirOS$
a3 2
BINDIR=		${PREFIX}/bin
MANDIR=		${PREFIX}/man/cat
a6 1
SRCS=		bzip2.c
a23 1

d32 1
a32 1
	${BSD_INSTALL_SCRIPT} ${SRCDIR}/$i ${DESTDIR}${BINDIR}
d35 1
a35 1
	${BSD_INSTALL_DATA} ${SRCDIR}/manual*.html ${DESTDIR}${DOCDIR}
@

