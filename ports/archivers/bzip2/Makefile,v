head	1.10;
access;
symbols;
locks; strict;
comment	@# @;


1.10
date	2018.08.13.15.02.33;	author tg;	state Exp;
branches;
next	1.9;
commitid	1005B719D9A5FEC7346;

1.9
date	2010.09.20.19.51.25;	author bsiegert;	state Exp;
branches;
next	1.8;
commitid	1004C97BB3033BED6B2;

1.8
date	2008.03.19.18.25.57;	author tg;	state Exp;
branches;
next	1.7;
commitid	10047E15AB31AF5A13C;

1.7
date	2007.03.11.20.08.59;	author tg;	state Exp;
branches;
next	1.6;
commitid	10045F461F20AC43974;

1.6
date	2006.11.16.20.13.02;	author tg;	state Exp;
branches;
next	1.5;
commitid	100455CC6644A9C871C;

1.5
date	2006.09.14.00.06.46;	author tg;	state Exp;
branches;
next	1.4;
commitid	10045089C0E234154C3;

1.4
date	2005.07.07.21.16.52;	author bsiegert;	state Exp;
branches;
next	1.3;
commitid	66bc42cd9a7ea714;

1.3
date	2005.05.29.21.11.07;	author bsiegert;	state Exp;
branches;
next	1.2;
commitid	52b3429a2ebd8cab;

1.2
date	2005.05.21.12.54.56;	author bsiegert;	state Exp;
branches;
next	1.1;
commitid	4433428f2f85889f;

1.1
date	2005.03.18.15.42.40;	author tg;	state Exp;
branches
	1.1.7.1;
next	;

1.1.7.1
date	2005.03.18.15.42.40;	author tg;	state Exp;
branches;
next	;


desc
@@


1.10
log
@use locally-mirrored bzip2 distfile; upstream has gone away
@
text
@# $MirOS: ports/archivers/bzip2/Makefile,v 1.9 2010/09/20 19:51:25 bsiegert Exp $
# $OpenBSD: Makefile,v 1.47 2004/04/06 06:33:29 brad Exp $

COMMENT=		block-sorting file compressor, unencumbered
VERSION=		1.0.6
DISTNAME=		bzip2-${VERSION}
CATEGORIES=		archivers
HOMEPAGE=		http://www.bzip.org/
# cf. https://lwn.net/Articles/762264/
#MASTER_SITES=		${HOMEPAGE}${VERSION}/

# BSD-style
PERMIT_PACKAGE_CDROM=	Yes
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes

#NO_REGRESS=		Yes	# not adapted for the moment

post-extract:
	cp ${FILESDIR}/Makefile ${WRKSRC}/
.for dir in lib bzip2 bzip2recover
	mkdir ${WRKSRC}/${dir}
	cp ${FILESDIR}/Makefile.${dir} ${WRKSRC}/${dir}/Makefile
.endfor

.include <bsd.port.mk>
@


1.9
log
@Update to 1.0.6-0, fixes CVE-2010-0405
@
text
@d1 1
a1 1
# $MirOS: ports/archivers/bzip2/Makefile,v 1.8 2008/03/19 18:25:57 tg Exp $
d9 2
a10 1
MASTER_SITES=		${HOMEPAGE}${VERSION}/
@


1.8
log
@SECURITY fix:

â€¢ upgrade to bzip2-1.0.5
  â€£ fixes CERT-FI 20469
â€¢ string cleanup
@
text
@d1 1
a1 1
# $MirOS: ports/archivers/bzip2/Makefile,v 1.7 2007/03/11 20:08:59 tg Exp $
d5 1
a5 1
VERSION=		1.0.5
@


1.7
log
@update to 1.0.4, no shlib ABI change
@
text
@d1 1
a1 1
# $MirOS: ports/archivers/bzip2/Makefile,v 1.6 2006/11/16 20:13:02 tg Exp $
d5 1
a5 1
VERSION=		1.0.4
d17 1
a17 1
NO_REGRESS=		Yes	# not adapted for the moment
@


1.6
log
@regen, spaces
@
text
@d1 1
a1 1
# $MirOS: ports/archivers/bzip2/Makefile,v 1.5 2006/09/14 00:06:46 tg Exp $
d5 1
a5 1
VERSION=		1.0.3
d11 1
a11 1
# BSD
d19 2
a20 2
post-patch:
	cp ${FILESDIR}/Makefile ${WRKSRC}
@


1.5
log
@clean up COMMENT and HOMEPAGE; regenerate INDEX (2761, 169 marked as broken, probably many many more) ­ edited by script with manual postprocessing
@
text
@d1 1
a1 1
# $MirOS: ports/archivers/bzip2/Makefile,v 1.4 2005/07/07 21:16:52 bsiegert Exp $
d4 1
a4 2
COMMENT=			block-sorting file compressor, unencumbered

a6 1
PKGNAME=		${DISTNAME}-0
d17 1
a17 1
NO_REGRESS=	Yes # not adapted for the moment
@


1.4
log
@Semi-automatic update of the remaining ports to the new patchlevel format.

Please correct mistakes if you find them :).
@
text
@d1 1
a1 1
# $MirOS: ports/archivers/bzip2/Makefile,v 1.2 2005/05/21 12:54:56 bsiegert Exp $
d4 1
a4 1
COMMENT=		"block-sorting file compressor, unencumbered"
@


1.3
log
@Update bzip2 to 1.0.3, after lots of fiddling with the build system.
@
text
@d8 1
a8 1
PKGNAME=		${DISTNAME}
@


1.2
log
@Make bzip2 use the BSD build infrastructure, fixes build on Darwin. Bump
patchlevel.
@
text
@d1 1
a1 1
# $MirOS$
d6 3
a8 2
DISTNAME=		bzip2-1.0.2
PKGNAME=		${DISTNAME}p1
d10 2
a11 2
MASTER_SITES=		${MASTER_SITE_SOURCEWARE:=bzip2/v102/}
HOMEPAGE=		http://sources.redhat.com/bzip2/
a27 6
post-install:
	@@cd ${WRKBUILD} && makeinfo --no-split manual.texi
	${INSTALL_DATA_DIR} ${PREFIX}/share/doc/bzip2
	${INSTALL_DATA} ${WRKBUILD}/*.html ${PREFIX}/share/doc/bzip2
	${INSTALL_DATA} ${WRKBUILD}/bzip2.info ${PREFIX}/info

@


1.1
log
@Initial revision
@
text
@d1 1
d4 1
a4 7
COMMENT=	"block-sorting file compressor, unencumbered"

DISTNAME=	bzip2-1.0.2
CATEGORIES=	archivers
MASTER_SITES=	${MASTER_SITE_SOURCEWARE:=bzip2/v102/}

HOMEPAGE=	http://sources.redhat.com/bzip2/
d6 5
d18 1
a18 8
BZ2_CFLAGS=	-Wall -Winline
.if ${MACHINE_ARCH} != "m68k"
BZ2_CFLAGS+=	-fomit-frame-pointer -fno-strength-reduce
.endif

MAKE_FLAGS=	CC="${CC}" CFLAGS="${CFLAGS} ${BZ2_CFLAGS}"
FAKE_FLAGS=	${MAKE_FLAGS} PREFIX="${PREFIX}" DESTDIR="${WRKINST}"
REGRESS_FLAGS=	LD_LIBRARY_PATH="${WRKBUILD}"
d20 6
a25 1
REGRESS_TARGET=	test
a33 4

.if defined(NO_SHARED_LIBS) && ${NO_SHARED_LIBS:L} == "yes"
MAKE_ENV+=	NO_SHARED_LIBS=Yes
.endif
@


1.1.7.1
log
@Import the MirPorts Framework, many files moved or renamed though, no KDE/QT
@
text
@@
