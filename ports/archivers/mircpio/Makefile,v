head	1.36;
access;
symbols;
locks; strict;
comment	@# @;


1.36
date	2019.08.25.23.38.44;	author tg;	state Exp;
branches;
next	1.35;
commitid	1005D631C124953D202;

1.35
date	2019.02.24.02.15.42;	author tg;	state Exp;
branches;
next	1.34;
commitid	1005C71FE641AC21973;

1.34
date	2019.02.10.23.19.17;	author tg;	state Exp;
branches;
next	1.33;
commitid	1005C60B18E01E575BF;

1.33
date	2017.10.21.19.33.55;	author tg;	state Exp;
branches;
next	1.32;
commitid	10059EBA13D0555342D;

1.32
date	2016.11.04.20.17.44;	author tg;	state Exp;
branches;
next	1.31;
commitid	100581CECFF355CCEB5;

1.31
date	2016.10.31.16.40.21;	author tg;	state Exp;
branches;
next	1.30;
commitid	1005817740F71057A7E;

1.30
date	2016.10.25.19.39.52;	author tg;	state Exp;
branches;
next	1.29;
commitid	100580FB522715EE378;

1.29
date	2016.03.06.19.06.39;	author tg;	state Exp;
branches;
next	1.28;
commitid	10056DC7FCA0B50489C;

1.28
date	2015.10.13.20.41.25;	author tg;	state Exp;
branches;
next	1.27;
commitid	100561D6C8F789375A3;

1.27
date	2014.07.03.20.25.24;	author tg;	state Exp;
branches;
next	1.26;
commitid	10053B5BC4C10B18E47;

1.26
date	2012.06.05.22.50.46;	author tg;	state Exp;
branches;
next	1.25;
commitid	1004FCE8D5D6DAB120D;

1.25
date	2012.06.05.21.57.24;	author tg;	state Exp;
branches;
next	1.24;
commitid	1004FCE80D745D2FA6E;

1.24
date	2012.05.20.17.32.19;	author tg;	state Exp;
branches;
next	1.23;
commitid	1004FB92ABA0C745F99;

1.23
date	2012.02.16.20.43.54;	author tg;	state Exp;
branches;
next	1.22;
commitid	1004F3D6A96061F1197;

1.22
date	2012.02.12.02.58.50;	author tg;	state Exp;
branches;
next	1.21;
commitid	1004F372B0162E35790;

1.21
date	2012.02.12.02.17.32;	author tg;	state Exp;
branches;
next	1.20;
commitid	1004F3721534F6ED74A;

1.20
date	2011.08.18.15.25.02;	author tg;	state Exp;
branches;
next	1.19;
commitid	1004E4D2EDE795AA8E9;

1.19
date	2009.11.22.21.41.51;	author tg;	state Exp;
branches;
next	1.18;
commitid	1004B09B0363926BEEF;

1.18
date	2009.10.27.18.55.44;	author tg;	state Exp;
branches;
next	1.17;
commitid	1004AE742443722F68A;

1.17
date	2009.10.04.15.03.26;	author tg;	state Exp;
branches;
next	1.16;
commitid	1004AC8B94E13CA8438;

1.16
date	2008.10.29.17.44.55;	author tg;	state Exp;
branches;
next	1.15;
commitid	1004908A12961F71BFB;

1.15
date	2008.10.13.20.47.33;	author tg;	state Exp;
branches;
next	1.14;
commitid	10048F3B38B51F6C4FC;

1.14
date	2008.03.14.16.17.37;	author tg;	state Exp;
branches;
next	1.13;
commitid	10047DAA524530F5CCA;

1.13
date	2007.02.17.19.50.23;	author tg;	state Exp;
branches;
next	1.12;
commitid	10045D75C816C319AE2;

1.12
date	2006.10.02.01.13.56;	author tg;	state Exp;
branches;
next	1.11;
commitid	100452067EB1495AAFD;

1.11
date	2006.09.14.00.06.49;	author tg;	state Exp;
branches;
next	1.10;
commitid	10045089C0E234154C3;

1.10
date	2006.08.30.03.31.53;	author tg;	state Exp;
branches;
next	1.9;
commitid	10044F506BF008B0538;

1.9
date	2006.06.23.23.21.42;	author tg;	state Exp;
branches;
next	1.8;
commitid	100449C779C6839582C;

1.8
date	2006.06.23.15.20.34;	author tg;	state Exp;
branches;
next	1.7;
commitid	100449C06D11347D118;

1.7
date	2006.05.27.20.45.29;	author tg;	state Exp;
branches;
next	1.6;
commitid	1004478BA732AF111B2;

1.6
date	2005.12.30.14.32.42;	author tg;	state Exp;
branches;
next	1.5;
commitid	10043B5451841FA6B98;

1.5
date	2005.12.20.22.53.35;	author tg;	state Exp;
branches;
next	1.4;
commitid	10043A88B7573DC35C9;

1.4
date	2005.11.24.22.41.02;	author tg;	state Exp;
branches;
next	1.3;
commitid	2e1b43864161f8d0;

1.3
date	2005.11.18.14.02.03;	author tg;	state Exp;
branches;
next	1.2;
commitid	43e1437ddee63246;

1.2
date	2005.11.18.12.51.31;	author tg;	state Exp;
branches;
next	1.1;
commitid	135f437dce4b7623;

1.1
date	2005.11.17.23.54.22;	author tg;	state Exp;
branches;
next	;
commitid	7707437d18363f5f;


desc
@@


1.36
log
@new paxmirabilis (MirCPIO) release, affecting older OSes
@
text
@# $MirOS: ports/archivers/mircpio/Makefile,v 1.34 2019/02/10 23:19:17 tg Exp $
#-
# This port must not contain a patches/ directory.
# The distfile must be plain old cpio, not bcpio, odc, ..., SVR4 or tar.

COMMENT=		MirOS cpio(1), pax(1) and tar(1)
CATEGORIES=		archivers essentials
DISTNAME=		paxmirabilis-20190825
EXTRACT_SUFX=		.cpio.gz
RESPONSIBLE=		mirabilos <m@@mirbsd.org>
MASTER_SITES=		${_MASTER_SITE_MIRBSD:distfiles/=dist/mir/cpio/}

# 3-clause UCB, MirOS, ISC and CC0
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
PERMIT_PACKAGE_CDROM=	Yes
PERMIT_PACKAGE_FTP=	Yes

WRKDIST=		${WRKDIR}/pax
BSH?=			/bin/sh
CPPFLAGS+=		-DSAFE_PATH=\"/bin:/usr/bin:${LOCALBASE:Q}/bin:/usr/local/bin\"

# For bootstrapping
EXTRACT_CASES+=		*.cpio.gz) ${GZIP_CMD} -dc \
			    ${FULLDISTDIR}/$$archive | pax -r ;;

do-build:
	cd ${WRKBUILD:Q} && ${SETENV} ${MAKE_ENV} NROFF=${NROFF:C/ *$//:Q} \
	    SHELL=${BSH:Q} ${BSH} ${WRKSRC:Q}/Build.sh -tmir

do-install:
	${INSTALL_PROGRAM} ${WRKBUILD:Q}/mirpax ${PREFIX:Q}/bin/
	cd ${PREFIX:Q}/bin && ln mirpax mircpio && ln mirpax mirtar
	${INSTALL_MAN} ${WRKBUILD:Q}/mans/mircpio.cat1 ${PREFIX}/man/cat1/mircpio.0
	${INSTALL_MAN} ${WRKBUILD:Q}/mans/mirpax.cat1 ${PREFIX}/man/cat1/mirpax.0
	${INSTALL_MAN} ${WRKBUILD:Q}/mans/mirtar.cat1 ${PREFIX}/man/cat1/mirtar.0
.for _dir _ext in bin '' man/cat1 .0
.  for _o _n in mircpio cpio mircpio paxcpio mirpax pax mirtar tar mirtar paxtar
	cd ${PREFIX}/${_dir} && ln ${_o}${_ext} ${_n}${_ext}
.  endfor
.endfor

.include <bsd.port.mk>

_CIPHERS+=		cksum
@


1.35
log
@update
@
text
@d8 1
a8 1
DISTNAME=		paxmirabilis-20190224
@


1.34
log
@update
@
text
@d1 1
a1 1
# $MirOS: ports/archivers/mircpio/Makefile,v 1.33 2017/10/21 19:33:55 tg Exp $
d8 1
a8 1
DISTNAME=		paxmirabilis-20190210
@


1.33
log
@bump
@
text
@d1 1
a1 1
# $MirOS: ports/archivers/mircpio/Makefile,v 1.31 2016/10/31 16:40:21 tg Exp $
d8 1
a8 1
DISTNAME=		paxmirabilis-20171021
d13 1
a13 1
# 3-clause UCB
d20 2
a21 2
EXTRA_MAKE_FLAGS+=	MACROS='-mdoc -rg1'
EXTRA_MAKE_FLAGS+=	SAFE_PATH=/bin:/usr/bin:${LOCALBASE}/bin:/usr/local/bin
d27 10
a36 1
post-install:
d38 1
a38 1
.  for _o _n in cpio mircpio cpio paxcpio pax mirpax tar mirtar tar paxtar
@


1.32
log
@bump
@
text
@d8 1
a8 1
DISTNAME=		paxmirabilis-20161104
@


1.31
log
@bump
@
text
@d1 1
a1 1
# $MirOS: ports/archivers/mircpio/Makefile,v 1.30 2016/10/25 19:39:52 tg Exp $
d8 1
a8 1
DISTNAME=		paxmirabilis-20161031
@


1.30
log
@bump
@
text
@d1 1
a1 1
# $MirOS: ports/archivers/mircpio/Makefile,v 1.29 2016/03/06 19:06:39 tg Exp $
d8 1
a8 1
DISTNAME=		paxmirabilis-20161025
@


1.29
log
@sync clog
@
text
@d1 1
a1 1
# $MirOS: ports/archivers/mircpio/Makefile,v 1.27 2014/07/03 20:25:24 tg Exp $
d8 1
a8 1
DISTNAME=		paxmirabilis-20160306
d21 1
@


1.28
log
@update
@
text
@d8 1
a8 1
DISTNAME=		paxmirabilis-20151013
@


1.27
log
@update
@
text
@d1 1
a1 1
# $MirOS: ports/archivers/mircpio/Makefile,v 1.26 2012/06/05 22:50:46 tg Exp $
d8 1
a8 1
DISTNAME=		paxmirabilis-20140703
d10 1
a10 1
RESPONSIBLE=		Thorsten Glaser <tg@@MirBSD.org>
@


1.26
log
@new paxmirabilis, AGAIN
@
text
@d1 1
a1 1
# $MirOS: ports/archivers/mircpio/Makefile,v 1.25 2012/06/05 21:57:24 tg Exp $
d8 1
a8 1
DISTNAME=		paxmirabilis-20120606
@


1.25
log
@bump paxmirabilis version
@
text
@d1 1
a1 1
# $MirOS: ports/archivers/mircpio/Makefile,v 1.24 2012/05/20 17:32:19 tg Exp $
d8 1
a8 1
DISTNAME=		paxmirabilis-20120605
@


1.24
log
@update
@
text
@d1 1
a1 1
# $MirOS: ports/archivers/mircpio/Makefile,v 1.23 2012/02/16 20:43:54 tg Exp $
d8 1
a8 1
DISTNAME=		paxmirabilis-20120520
d28 2
a29 2
.  for _name in cpio pax tar
	cd ${PREFIX}/${_dir} && ln ${_name}${_ext} mir${_name}${_ext}
@


1.23
log
@benz can haz distfile, sure (just not paid by tarent, this one)
@
text
@d1 1
a1 1
# $MirOS: ports/archivers/mircpio/Makefile,v 1.22 2012/02/12 02:58:50 tg Exp $
d8 1
a8 1
DISTNAME=		paxmirabilis-20120216
@


1.22
log
@gimme more brown paperbags
@
text
@d1 1
a1 1
# $MirOS: ports/archivers/mircpio/Makefile,v 1.21 2012/02/12 02:17:32 tg Exp $
d8 1
a8 1
DISTNAME=		paxmirabilis-20120212
@


1.21
log
@update
@
text
@d1 1
a1 1
# $MirOS: ports/archivers/mircpio/Makefile,v 1.20 2011/08/18 15:25:02 tg Exp $
d8 1
a8 1
DISTNAME=		paxmirabilis-20120211
@


1.20
log
@update; mpczar is not affected
also mirâ€™ify the catmanpages â˜º
@
text
@d1 1
a1 1
# $MirOS: ports/archivers/mircpio/Makefile,v 1.19 2009/11/22 21:41:51 tg Exp $
d8 1
a8 1
DISTNAME=		paxmirabilis-20110817
@


1.19
log
@upgrade
@
text
@d1 1
a1 1
# $MirOS: ports/archivers/mircpio/Makefile,v 1.18 2009/10/27 18:55:44 tg Exp $
d8 1
a8 1
DISTNAME=		paxmirabilis-20091122
d13 1
a13 1
# BSD, ISC, MirOS
d20 1
@


1.18
log
@new paxmirabilis
@
text
@d1 1
a1 1
# $MirOS: ports/archivers/mircpio/Makefile,v 1.17 2009/10/04 15:03:26 tg Exp $
d8 1
a8 1
DISTNAME=		paxmirabilis-20091027
@


1.17
log
@new paxmirabilis, happy birthday waga
@
text
@d1 1
a1 1
# $MirOS: ports/archivers/mircpio/Makefile,v 1.16 2008/10/29 17:44:55 tg Exp $
d8 1
a8 1
DISTNAME=		paxmirabilis-20091004
@


1.16
log
@upgrade paxmirabilis
@
text
@d1 1
a1 1
# $MirOS: ports/archivers/mircpio/Makefile,v 1.15 2008/10/13 20:47:33 tg Exp $
d8 1
a8 1
DISTNAME=		paxmirabilis-20081030
d10 1
a10 1
RESPONSIBLE=		Thorsten Glaser <tg@@MirBSD.de>
@


1.15
log
@upgrade mirmake (tested on Debian etch/i386 FreeWRT, Darwin OSX10.5.5/i386
MirPorts, MirOS #10-current/i386 MirPorts), paxmirabilis (tested on all of
them as well), package tools (MirOS+some Darwin, and bsiegert@@ didnâ€™t veto
yesterday)
@
text
@d1 1
a1 1
# $MirOS: ports/archivers/mircpio/Makefile,v 1.14 2008/03/14 16:17:37 tg Exp $
d8 1
a8 1
DISTNAME=		paxmirabilis-20081012
d25 7
@


1.14
log
@roll new mirmake, paxmirabilis and pkgtools, to kick MidnightBSD

tested on MirBSD and Darwin
@
text
@d1 1
a1 1
# $MirOS: ports/archivers/mircpio/Makefile,v 1.13 2007/02/17 19:50:23 tg Exp $
d8 1
a8 1
DISTNAME=		paxmirabilis-20080314
@


1.13
log
@update to today's release, fixes a few bugs
@
text
@d1 1
a1 1
# $MirOS: ports/archivers/mircpio/Makefile,v 1.12 2006/10/02 01:13:56 tg Exp $
d8 1
a8 1
DISTNAME=		paxmirabilis-20070217
d10 1
a10 1
RESPONSIBLE=		Thorsten Glaser <tg@@66h.42h.de>
@


1.12
log
@regen
@
text
@d1 1
a1 1
# $MirOS: ports/archivers/mircpio/Makefile,v 1.11 2006/09/14 00:06:49 tg Exp $
d8 1
a8 1
DISTNAME=		paxmirabilis-20060829
@


1.11
log
@clean up COMMENT and HOMEPAGE; regenerate INDEX (2761, 169 marked as broken, probably many many more) ­ edited by script with manual postprocessing
@
text
@d1 1
a1 1
# $MirOS: ports/archivers/mircpio/Makefile,v 1.10 2006/08/30 03:31:53 tg Exp $
d6 1
a6 1
COMMENT=			MirOS cpio(1), pax(1) and tar(1)
@


1.10
log
@upgrade
@
text
@d1 1
a1 1
# $MirOS: ports/archivers/mircpio/Makefile,v 1.9 2006/06/23 23:21:42 tg Exp $
d6 1
a6 1
COMMENT=		"MirOS cpio(1), pax(1) and tar(1)"
@


1.9
log
@20060624
@
text
@d1 1
a1 1
# $MirOS: ports/archivers/mircpio/Makefile,v 1.8 2006/06/23 15:20:34 tg Exp $
d8 1
a8 1
DISTNAME=		paxmirabilis-20060624
@


1.8
log
@Upgrade to latest version (of #9-RELEASE)
@
text
@d1 1
a1 1
# $MirOS: ports/archivers/mircpio/Makefile,v 1.7 2006/05/27 20:45:29 tg Exp $
d8 1
a8 1
DISTNAME=		paxmirabilis-20060623
@


1.7
log
@new versions of mirmake, mksh, mircpio, respectively
@
text
@d1 1
a1 1
# $MirOS: ports/archivers/mircpio/Makefile,v 1.6 2005/12/30 14:32:42 tg Exp $
d8 1
a8 1
DISTNAME=		paxmirabilis-20060527
@


1.6
log
@update to 20051230 - fixes for non-Open/MirBSD
@
text
@d1 1
a1 1
# $MirOS: ports/archivers/mircpio/Makefile,v 1.5 2005/12/20 22:53:35 tg Exp $
d8 1
a8 1
DISTNAME=		paxmirabilis-20051230
@


1.5
log
@what'd a snapshot be without a pax port with all the cool new features?
@
text
@d1 1
a1 1
# $MirOS: ports/archivers/mircpio/Makefile,v 1.4 2005/11/24 22:41:02 tg Exp $
d8 1
a8 1
DISTNAME=		paxmirabilis-20051220
@


1.4
log
@The Makefile says all distfiles must be cpio, but all gzsig'd distfiles
were sv4crc or sv4cpio actually...

New version, this time built with cpio -oHdist (and gzsig'd)
@
text
@d1 1
a1 1
# $MirOS: ports/archivers/mircpio/Makefile,v 1.3 2005/11/18 14:02:03 tg Exp $
d8 1
a8 1
DISTNAME=		paxmirabilis-20051124
@


1.3
log
@upgrade to new paxmirabilis distfile (v4norm changes)
@
text
@d1 1
a1 1
# $MirOS: ports/archivers/mircpio/Makefile,v 1.2 2005/11/18 12:51:31 tg Exp $
d8 1
a8 1
DISTNAME=		paxmirabilis-20051118
@


1.2
log
@Use pax for extracting this, not cpio... cpio has got problems
with UID/GID 0 on Interix (yet), tar isn't guaranteed to handle cpio.
@
text
@d1 1
a1 1
# $MirOS: ports/archivers/mircpio/Makefile,v 1.1 2005/11/17 23:54:22 tg Exp $
d7 2
a8 2
CATEGORIES=		essentials
DISTNAME=		paxmirabilis-20051116
@


1.1
log
@move essentials/cpio to archivers/mircpio
@
text
@d1 1
a1 1
# $MirOS: ports/essentials/cpio/Makefile,v 1.5 2005/11/16 15:57:32 tg Exp $
d23 1
a23 1
			    ${FULLDISTDIR}/$$archive | cpio -id ;;
@

