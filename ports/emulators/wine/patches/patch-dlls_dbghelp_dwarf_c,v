head	1.1;
access;
symbols;
locks; strict;
comment	@# @;


1.1
date	2008.07.30.00.15.42;	author tg;	state Exp;
branches;
next	;
commitid	100488FB23E3E0E7494;


desc
@@


1.1
log
@Wine 1.0 port, mostly taken from pkgsrc®

request for help: there is probably something about mmap.c the only
thing preventing us from running this… similar to the issues outlined
in the FreeBSD wiki about Wine, but made harder due to W^X probably

This will almost certainly not work on MidnightBSD, have a hard time
working on OpenBSD (especially due to no VFORK_SHM there), is totally
untested on Darwin (and PFRAG.dylib is missing), and not for Interix;
I wonder if it would work on NetBSD® (it should) if MirPorts ran the-
re, but if so, it had IPX support, which theirs doesn’t ☺
@
text
@$MirOS$
--- dlls/dbghelp/dwarf.c.orig	Tue Jun 17 14:07:08 2008
+++ dlls/dbghelp/dwarf.c	Tue Jul 29 19:02:11 2008
@@@@ -2009,8 +2009,8 @@@@ static BOOL dwarf2_parse_compilation_uni
     cu_abbrev_offset = dwarf2_parse_u4(&cu_ctx);
     cu_ctx.word_size = dwarf2_parse_byte(&cu_ctx);
 
-    TRACE("Compilation Unit Header found at 0x%x:\n",
-          comp_unit_start - sections[section_debug].address);
+    TRACE("Compilation Unit Header found at 0x%lx:\n",
+          (unsigned long)(comp_unit_start - sections[section_debug].address));
     TRACE("- length:        %lu\n", cu_length);
     TRACE("- version:       %u\n",  cu_version);
     TRACE("- abbrev_offset: %lu\n", cu_abbrev_offset);
@
