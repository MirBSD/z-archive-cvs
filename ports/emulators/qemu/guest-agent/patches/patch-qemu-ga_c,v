head	1.1;
access;
symbols;
locks; strict;
comment	@# @;


1.1
date	2012.10.17.23.24.38;	author tg;	state Exp;
branches;
next	;
commitid	100507F3E414C34B61D;


desc
@@


1.1
log
@add a quickly cobbled-together port for the qemu guest agent
@
text
@$MirOS$
--- qemu-ga.c.orig	Wed Sep  5 14:02:41 2012
+++ qemu-ga.c	Wed Oct 17 23:21:14 2012
@@@@ -257,7 +257,7 @@@@ static bool ga_open_pidfile(const char *
         g_critical("Failed to truncate pid file");
         goto fail;
     }
-    sprintf(pidstr, "%d", getpid());
+    snprintf(pidstr, sizeof(pidstr), "%d", getpid());
     if (write(pidfd, pidstr, strlen(pidstr)) != strlen(pidstr)) {
         g_critical("Failed to write pid file");
         goto fail;
@
