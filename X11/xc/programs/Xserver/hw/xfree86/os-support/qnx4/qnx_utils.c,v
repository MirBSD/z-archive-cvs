head	1.1;
branch	1.1.103;
access;
symbols
	MIRBSD_10_BASE:1.1.103.1
	MIRBSD_9_BASE:1.1.103.1
	MIRBSD_8:1.1.103.1.0.2
	MIRBSD_8_BASE:1.1.103.1
	xf-4_5_0:1.1.103.1
	xwindow:1.1.103;
locks; strict;
comment	@ * @;


1.1
date	2005.03.18.10.50.38;	author tg;	state Exp;
branches
	1.1.103.1;
next	;

1.1.103.1
date	2005.03.18.10.50.38;	author tg;	state Exp;
branches;
next	;


desc
@@



1.1
log
@Initial revision
@
text
@/* This includes various utility functions which are missing otherwise 
 * $XFree86: xc/programs/Xserver/hw/xfree86/os-support/qnx4/qnx_utils.c,v 1.1 1999/12/27 00:45:48 robin Exp $
 */

#include <limits.h>
#include <string.h>
#include <i86.h>
#include <conio.h>
#include <time.h>

#include <X.h>
#include <xf86.h>

void usleep (unsigned long interval) { delay( interval/1000 ); } 

/* We have our own version of GetTimeInMillis, because the normal
 * version calls gettimeofday(), which seems to thrash ES...
 */
CARD32
GetTimeInMillis()
{
struct timespec tp;

	qnx_getclock(0, CLOCK_REALTIME, &tp);
	return((tp.tv_sec * 1000) + (tp.tv_nsec / 1000000));
}
@


1.1.103.1
log
@Import XFree86 4.5.0 directly from vendor anoncvs, -rxf-4_5_0 xc
at anoncvs@@anoncvs.xfree86.org:/cvs (ssh)
@
text
@@
