head	1.6;
access;
symbols
	freetype-2_7_1:1.1.115.4
	freetype-2_3_12:1.1.115.3
	freetype-2_3_6:1.1.1.2
	MIRBSD_10_BASE:1.3
	freetype-2_3_5:1.1.1.1
	freetype-2_2_1:1.1.115.2
	freetype-2_1_8:1.1.115.1
	freetype:1.1.115
	MIRBSD_9_BASE:1.1.103.1
	MIRBSD_8:1.1.103.1.0.2
	MIRBSD_8_BASE:1.1.103.1
	xf-4_5_0:1.1.103.1
	xwindow:1.1.103;
locks; strict;
comment	@ * @;


1.6
date	2017.04.15.19.21.04;	author tg;	state Exp;
branches;
next	1.5;
commitid	10058F2723111C7BEE2;

1.5
date	2013.08.06.19.47.20;	author tg;	state Exp;
branches;
next	1.4;
commitid	100520152445E05B912;

1.4
date	2008.06.12.20.54.21;	author bsiegert;	state Exp;
branches;
next	1.3;
commitid	10048518C1E44F62885;

1.3
date	2008.02.26.20.04.43;	author bsiegert;	state Exp;
branches;
next	1.2;
commitid	10047C470A72A1E13CE;

1.2
date	2006.06.29.20.24.27;	author tg;	state Exp;
branches;
next	1.1;
commitid	10044A435A50E5F7C11;

1.1
date	2005.03.18.10.43.03;	author tg;	state Exp;
branches
	1.1.1.1
	1.1.103.1
	1.1.115.1;
next	;

1.1.1.1
date	2008.02.26.19.51.55;	author bsiegert;	state Exp;
branches;
next	1.1.1.2;
commitid	10047C46DB5081DCD79;

1.1.1.2
date	2008.06.12.20.36.28;	author bsiegert;	state Exp;
branches;
next	;
commitid	1004851887B4E012E38;

1.1.103.1
date	2005.03.18.10.43.03;	author tg;	state Exp;
branches;
next	;

1.1.115.1
date	2006.06.29.18.34.40;	author tg;	state Exp;
branches;
next	1.1.115.2;
commitid	10044A41D276963C97B;

1.1.115.2
date	2006.06.29.18.38.38;	author tg;	state Exp;
branches;
next	1.1.115.3;
commitid	10044A41DBD6368BED5;

1.1.115.3
date	2013.08.06.19.12.18;	author tg;	state Exp;
branches;
next	1.1.115.4;
commitid	10052014A9975CEFD1D;

1.1.115.4
date	2017.04.15.15.41.55;	author tg;	state Exp;
branches;
next	;
commitid	10058F23F4858079E1C;


desc
@@


1.6
log
@first cut at a quickmerge
@
text
@/***************************************************************************/
/*                                                                         */
/*  ftstroke.h                                                             */
/*                                                                         */
/*    FreeType path stroker (specification).                               */
/*                                                                         */
/*  Copyright 2002-2016 by                                                 */
/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      */
/*                                                                         */
/*  This file is part of the FreeType project, and may only be used,       */
/*  modified, and distributed under the terms of the FreeType project      */
/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     */
/*  this file you indicate that you have read the license and              */
/*  understand and accept it fully.                                        */
/*                                                                         */
/***************************************************************************/


#ifndef FTSTROKE_H_
#define FTSTROKE_H_

#include <ft2build.h>
#include FT_OUTLINE_H
#include FT_GLYPH_H


FT_BEGIN_HEADER


 /************************************************************************
  *
  * @@section:
  *    glyph_stroker
  *
  * @@title:
  *    Glyph Stroker
  *
  * @@abstract:
  *    Generating bordered and stroked glyphs.
  *
  * @@description:
  *    This component generates stroked outlines of a given vectorial
  *    glyph.  It also allows you to retrieve the `outside' and/or the
  *    `inside' borders of the stroke.
  *
  *    This can be useful to generate `bordered' glyph, i.e., glyphs
  *    displayed with a coloured (and anti-aliased) border around their
  *    shape.
  *
  * @@order:
  *    FT_Stroker
  *
  *    FT_Stroker_LineJoin
  *    FT_Stroker_LineCap
  *    FT_StrokerBorder
  *
  *    FT_Outline_GetInsideBorder
  *    FT_Outline_GetOutsideBorder
  *
  *    FT_Glyph_Stroke
  *    FT_Glyph_StrokeBorder
  *
  *    FT_Stroker_New
  *    FT_Stroker_Set
  *    FT_Stroker_Rewind
  *    FT_Stroker_ParseOutline
  *    FT_Stroker_Done
  *
  *    FT_Stroker_BeginSubPath
  *    FT_Stroker_EndSubPath
  *
  *    FT_Stroker_LineTo
  *    FT_Stroker_ConicTo
  *    FT_Stroker_CubicTo
  *
  *    FT_Stroker_GetBorderCounts
  *    FT_Stroker_ExportBorder
  *    FT_Stroker_GetCounts
  *    FT_Stroker_Export
  *
  */


 /**************************************************************
  *
  * @@type:
  *   FT_Stroker
  *
  * @@description:
  *   Opaque handle to a path stroker object.
  */
  typedef struct FT_StrokerRec_*  FT_Stroker;


  /**************************************************************
   *
   * @@enum:
   *   FT_Stroker_LineJoin
   *
   * @@description:
   *   These values determine how two joining lines are rendered
   *   in a stroker.
   *
   * @@values:
   *   FT_STROKER_LINEJOIN_ROUND ::
   *     Used to render rounded line joins.  Circular arcs are used
   *     to join two lines smoothly.
   *
   *   FT_STROKER_LINEJOIN_BEVEL ::
   *     Used to render beveled line joins.  The outer corner of
   *     the joined lines is filled by enclosing the triangular
   *     region of the corner with a straight line between the
   *     outer corners of each stroke.
   *
   *   FT_STROKER_LINEJOIN_MITER_FIXED ::
   *     Used to render mitered line joins, with fixed bevels if the
   *     miter limit is exceeded.  The outer edges of the strokes
   *     for the two segments are extended until they meet at an
   *     angle.  If the segments meet at too sharp an angle (such
   *     that the miter would extend from the intersection of the
   *     segments a distance greater than the product of the miter
   *     limit value and the border radius), then a bevel join (see
   *     above) is used instead.  This prevents long spikes being
   *     created.  FT_STROKER_LINEJOIN_MITER_FIXED generates a miter
   *     line join as used in PostScript and PDF.
   *
   *   FT_STROKER_LINEJOIN_MITER_VARIABLE ::
   *   FT_STROKER_LINEJOIN_MITER ::
   *     Used to render mitered line joins, with variable bevels if
   *     the miter limit is exceeded.  The intersection of the
   *     strokes is clipped at a line perpendicular to the bisector
   *     of the angle between the strokes, at the distance from the
   *     intersection of the segments equal to the product of the
   *     miter limit value and the border radius.  This prevents
   *     long spikes being created.
   *     FT_STROKER_LINEJOIN_MITER_VARIABLE generates a mitered line
   *     join as used in XPS.  FT_STROKER_LINEJOIN_MITER is an alias
   *     for FT_STROKER_LINEJOIN_MITER_VARIABLE, retained for
   *     backwards compatibility.
   */
  typedef enum  FT_Stroker_LineJoin_
  {
    FT_STROKER_LINEJOIN_ROUND          = 0,
    FT_STROKER_LINEJOIN_BEVEL          = 1,
    FT_STROKER_LINEJOIN_MITER_VARIABLE = 2,
    FT_STROKER_LINEJOIN_MITER          = FT_STROKER_LINEJOIN_MITER_VARIABLE,
    FT_STROKER_LINEJOIN_MITER_FIXED    = 3

  } FT_Stroker_LineJoin;


  /**************************************************************
   *
   * @@enum:
   *   FT_Stroker_LineCap
   *
   * @@description:
   *   These values determine how the end of opened sub-paths are
   *   rendered in a stroke.
   *
   * @@values:
   *   FT_STROKER_LINECAP_BUTT ::
   *     The end of lines is rendered as a full stop on the last
   *     point itself.
   *
   *   FT_STROKER_LINECAP_ROUND ::
   *     The end of lines is rendered as a half-circle around the
   *     last point.
   *
   *   FT_STROKER_LINECAP_SQUARE ::
   *     The end of lines is rendered as a square around the
   *     last point.
   */
  typedef enum  FT_Stroker_LineCap_
  {
    FT_STROKER_LINECAP_BUTT = 0,
    FT_STROKER_LINECAP_ROUND,
    FT_STROKER_LINECAP_SQUARE

  } FT_Stroker_LineCap;


  /**************************************************************
   *
   * @@enum:
   *   FT_StrokerBorder
   *
   * @@description:
   *   These values are used to select a given stroke border
   *   in @@FT_Stroker_GetBorderCounts and @@FT_Stroker_ExportBorder.
   *
   * @@values:
   *   FT_STROKER_BORDER_LEFT ::
   *     Select the left border, relative to the drawing direction.
   *
   *   FT_STROKER_BORDER_RIGHT ::
   *     Select the right border, relative to the drawing direction.
   *
   * @@note:
   *   Applications are generally interested in the `inside' and `outside'
   *   borders.  However, there is no direct mapping between these and the
   *   `left' and `right' ones, since this really depends on the glyph's
   *   drawing orientation, which varies between font formats.
   *
   *   You can however use @@FT_Outline_GetInsideBorder and
   *   @@FT_Outline_GetOutsideBorder to get these.
   */
  typedef enum  FT_StrokerBorder_
  {
    FT_STROKER_BORDER_LEFT = 0,
    FT_STROKER_BORDER_RIGHT

  } FT_StrokerBorder;


  /**************************************************************
   *
   * @@function:
   *   FT_Outline_GetInsideBorder
   *
   * @@description:
   *   Retrieve the @@FT_StrokerBorder value corresponding to the
   *   `inside' borders of a given outline.
   *
   * @@input:
   *   outline ::
   *     The source outline handle.
   *
   * @@return:
   *   The border index.  @@FT_STROKER_BORDER_RIGHT for empty or invalid
   *   outlines.
   */
  FT_EXPORT( FT_StrokerBorder )
  FT_Outline_GetInsideBorder( FT_Outline*  outline );


  /**************************************************************
   *
   * @@function:
   *   FT_Outline_GetOutsideBorder
   *
   * @@description:
   *   Retrieve the @@FT_StrokerBorder value corresponding to the
   *   `outside' borders of a given outline.
   *
   * @@input:
   *   outline ::
   *     The source outline handle.
   *
   * @@return:
   *   The border index.  @@FT_STROKER_BORDER_LEFT for empty or invalid
   *   outlines.
   */
  FT_EXPORT( FT_StrokerBorder )
  FT_Outline_GetOutsideBorder( FT_Outline*  outline );


  /**************************************************************
   *
   * @@function:
   *   FT_Stroker_New
   *
   * @@description:
   *   Create a new stroker object.
   *
   * @@input:
   *   library ::
   *     FreeType library handle.
   *
   * @@output:
   *   astroker ::
   *     A new stroker object handle.  NULL in case of error.
   *
   * @@return:
   *    FreeType error code.  0~means success.
   */
  FT_EXPORT( FT_Error )
  FT_Stroker_New( FT_Library   library,
                  FT_Stroker  *astroker );


  /**************************************************************
   *
   * @@function:
   *   FT_Stroker_Set
   *
   * @@description:
   *   Reset a stroker object's attributes.
   *
   * @@input:
   *   stroker ::
   *     The target stroker handle.
   *
   *   radius ::
   *     The border radius.
   *
   *   line_cap ::
   *     The line cap style.
   *
   *   line_join ::
   *     The line join style.
   *
   *   miter_limit ::
   *     The miter limit for the FT_STROKER_LINEJOIN_MITER_FIXED and
   *     FT_STROKER_LINEJOIN_MITER_VARIABLE line join styles,
   *     expressed as 16.16 fixed-point value.
   *
   * @@note:
   *   The radius is expressed in the same units as the outline
   *   coordinates.
   *
   *   This function calls @@FT_Stroker_Rewind automatically.
   */
  FT_EXPORT( void )
  FT_Stroker_Set( FT_Stroker           stroker,
                  FT_Fixed             radius,
                  FT_Stroker_LineCap   line_cap,
                  FT_Stroker_LineJoin  line_join,
                  FT_Fixed             miter_limit );


  /**************************************************************
   *
   * @@function:
   *   FT_Stroker_Rewind
   *
   * @@description:
   *   Reset a stroker object without changing its attributes.
   *   You should call this function before beginning a new
   *   series of calls to @@FT_Stroker_BeginSubPath or
   *   @@FT_Stroker_EndSubPath.
   *
   * @@input:
   *   stroker ::
   *     The target stroker handle.
   */
  FT_EXPORT( void )
  FT_Stroker_Rewind( FT_Stroker  stroker );


  /**************************************************************
   *
   * @@function:
   *   FT_Stroker_ParseOutline
   *
   * @@description:
   *   A convenience function used to parse a whole outline with
   *   the stroker.  The resulting outline(s) can be retrieved
   *   later by functions like @@FT_Stroker_GetCounts and @@FT_Stroker_Export.
   *
   * @@input:
   *   stroker ::
   *     The target stroker handle.
   *
   *   outline ::
   *     The source outline.
   *
   *   opened ::
   *     A boolean.  If~1, the outline is treated as an open path instead
   *     of a closed one.
   *
   * @@return:
   *   FreeType error code.  0~means success.
   *
   * @@note:
   *   If `opened' is~0 (the default), the outline is treated as a closed
   *   path, and the stroker generates two distinct `border' outlines.
   *
   *   If `opened' is~1, the outline is processed as an open path, and the
   *   stroker generates a single `stroke' outline.
   *
   *   This function calls @@FT_Stroker_Rewind automatically.
   */
  FT_EXPORT( FT_Error )
  FT_Stroker_ParseOutline( FT_Stroker   stroker,
                           FT_Outline*  outline,
                           FT_Bool      opened );


  /**************************************************************
   *
   * @@function:
   *   FT_Stroker_BeginSubPath
   *
   * @@description:
   *   Start a new sub-path in the stroker.
   *
   * @@input:
   *   stroker ::
   *     The target stroker handle.
   *
   *   to ::
   *     A pointer to the start vector.
   *
   *   open ::
   *     A boolean.  If~1, the sub-path is treated as an open one.
   *
   * @@return:
   *   FreeType error code.  0~means success.
   *
   * @@note:
   *   This function is useful when you need to stroke a path that is
   *   not stored as an @@FT_Outline object.
   */
  FT_EXPORT( FT_Error )
  FT_Stroker_BeginSubPath( FT_Stroker  stroker,
                           FT_Vector*  to,
                           FT_Bool     open );


  /**************************************************************
   *
   * @@function:
   *   FT_Stroker_EndSubPath
   *
   * @@description:
   *   Close the current sub-path in the stroker.
   *
   * @@input:
   *   stroker ::
   *     The target stroker handle.
   *
   * @@return:
   *   FreeType error code.  0~means success.
   *
   * @@note:
   *   You should call this function after @@FT_Stroker_BeginSubPath.
   *   If the subpath was not `opened', this function `draws' a
   *   single line segment to the start position when needed.
   */
  FT_EXPORT( FT_Error )
  FT_Stroker_EndSubPath( FT_Stroker  stroker );


  /**************************************************************
   *
   * @@function:
   *   FT_Stroker_LineTo
   *
   * @@description:
   *   `Draw' a single line segment in the stroker's current sub-path,
   *   from the last position.
   *
   * @@input:
   *   stroker ::
   *     The target stroker handle.
   *
   *   to ::
   *     A pointer to the destination point.
   *
   * @@return:
   *   FreeType error code.  0~means success.
   *
   * @@note:
   *   You should call this function between @@FT_Stroker_BeginSubPath and
   *   @@FT_Stroker_EndSubPath.
   */
  FT_EXPORT( FT_Error )
  FT_Stroker_LineTo( FT_Stroker  stroker,
                     FT_Vector*  to );


  /**************************************************************
   *
   * @@function:
   *   FT_Stroker_ConicTo
   *
   * @@description:
   *   `Draw' a single quadratic BÃ©zier in the stroker's current sub-path,
   *   from the last position.
   *
   * @@input:
   *   stroker ::
   *     The target stroker handle.
   *
   *   control ::
   *     A pointer to a BÃ©zier control point.
   *
   *   to ::
   *     A pointer to the destination point.
   *
   * @@return:
   *   FreeType error code.  0~means success.
   *
   * @@note:
   *   You should call this function between @@FT_Stroker_BeginSubPath and
   *   @@FT_Stroker_EndSubPath.
   */
  FT_EXPORT( FT_Error )
  FT_Stroker_ConicTo( FT_Stroker  stroker,
                      FT_Vector*  control,
                      FT_Vector*  to );


  /**************************************************************
   *
   * @@function:
   *   FT_Stroker_CubicTo
   *
   * @@description:
   *   `Draw' a single cubic BÃ©zier in the stroker's current sub-path,
   *   from the last position.
   *
   * @@input:
   *   stroker ::
   *     The target stroker handle.
   *
   *   control1 ::
   *     A pointer to the first BÃ©zier control point.
   *
   *   control2 ::
   *     A pointer to second BÃ©zier control point.
   *
   *   to ::
   *     A pointer to the destination point.
   *
   * @@return:
   *   FreeType error code.  0~means success.
   *
   * @@note:
   *   You should call this function between @@FT_Stroker_BeginSubPath and
   *   @@FT_Stroker_EndSubPath.
   */
  FT_EXPORT( FT_Error )
  FT_Stroker_CubicTo( FT_Stroker  stroker,
                      FT_Vector*  control1,
                      FT_Vector*  control2,
                      FT_Vector*  to );


  /**************************************************************
   *
   * @@function:
   *   FT_Stroker_GetBorderCounts
   *
   * @@description:
   *   Call this function once you have finished parsing your paths
   *   with the stroker.  It returns the number of points and
   *   contours necessary to export one of the `border' or `stroke'
   *   outlines generated by the stroker.
   *
   * @@input:
   *   stroker ::
   *     The target stroker handle.
   *
   *   border ::
   *     The border index.
   *
   * @@output:
   *   anum_points ::
   *     The number of points.
   *
   *   anum_contours ::
   *     The number of contours.
   *
   * @@return:
   *   FreeType error code.  0~means success.
   *
   * @@note:
   *   When an outline, or a sub-path, is `closed', the stroker generates
   *   two independent `border' outlines, named `left' and `right'.
   *
   *   When the outline, or a sub-path, is `opened', the stroker merges
   *   the `border' outlines with caps.  The `left' border receives all
   *   points, while the `right' border becomes empty.
   *
   *   Use the function @@FT_Stroker_GetCounts instead if you want to
   *   retrieve the counts associated to both borders.
   */
  FT_EXPORT( FT_Error )
  FT_Stroker_GetBorderCounts( FT_Stroker        stroker,
                              FT_StrokerBorder  border,
                              FT_UInt          *anum_points,
                              FT_UInt          *anum_contours );


  /**************************************************************
   *
   * @@function:
   *   FT_Stroker_ExportBorder
   *
   * @@description:
   *   Call this function after @@FT_Stroker_GetBorderCounts to
   *   export the corresponding border to your own @@FT_Outline
   *   structure.
   *
   *   Note that this function appends the border points and
   *   contours to your outline, but does not try to resize its
   *   arrays.
   *
   * @@input:
   *   stroker ::
   *     The target stroker handle.
   *
   *   border ::
   *     The border index.
   *
   *   outline ::
   *     The target outline handle.
   *
   * @@note:
   *   Always call this function after @@FT_Stroker_GetBorderCounts to
   *   get sure that there is enough room in your @@FT_Outline object to
   *   receive all new data.
   *
   *   When an outline, or a sub-path, is `closed', the stroker generates
   *   two independent `border' outlines, named `left' and `right'.
   *
   *   When the outline, or a sub-path, is `opened', the stroker merges
   *   the `border' outlines with caps.  The `left' border receives all
   *   points, while the `right' border becomes empty.
   *
   *   Use the function @@FT_Stroker_Export instead if you want to
   *   retrieve all borders at once.
   */
  FT_EXPORT( void )
  FT_Stroker_ExportBorder( FT_Stroker        stroker,
                           FT_StrokerBorder  border,
                           FT_Outline*       outline );


  /**************************************************************
   *
   * @@function:
   *   FT_Stroker_GetCounts
   *
   * @@description:
   *   Call this function once you have finished parsing your paths
   *   with the stroker.  It returns the number of points and
   *   contours necessary to export all points/borders from the stroked
   *   outline/path.
   *
   * @@input:
   *   stroker ::
   *     The target stroker handle.
   *
   * @@output:
   *   anum_points ::
   *     The number of points.
   *
   *   anum_contours ::
   *     The number of contours.
   *
   * @@return:
   *   FreeType error code.  0~means success.
   */
  FT_EXPORT( FT_Error )
  FT_Stroker_GetCounts( FT_Stroker  stroker,
                        FT_UInt    *anum_points,
                        FT_UInt    *anum_contours );


  /**************************************************************
   *
   * @@function:
   *   FT_Stroker_Export
   *
   * @@description:
   *   Call this function after @@FT_Stroker_GetBorderCounts to
   *   export all borders to your own @@FT_Outline structure.
   *
   *   Note that this function appends the border points and
   *   contours to your outline, but does not try to resize its
   *   arrays.
   *
   * @@input:
   *   stroker ::
   *     The target stroker handle.
   *
   *   outline ::
   *     The target outline handle.
   */
  FT_EXPORT( void )
  FT_Stroker_Export( FT_Stroker   stroker,
                     FT_Outline*  outline );


  /**************************************************************
   *
   * @@function:
   *   FT_Stroker_Done
   *
   * @@description:
   *   Destroy a stroker object.
   *
   * @@input:
   *   stroker ::
   *     A stroker handle.  Can be NULL.
   */
  FT_EXPORT( void )
  FT_Stroker_Done( FT_Stroker  stroker );


  /**************************************************************
   *
   * @@function:
   *   FT_Glyph_Stroke
   *
   * @@description:
   *   Stroke a given outline glyph object with a given stroker.
   *
   * @@inout:
   *   pglyph ::
   *     Source glyph handle on input, new glyph handle on output.
   *
   * @@input:
   *   stroker ::
   *     A stroker handle.
   *
   *   destroy ::
   *     A Boolean.  If~1, the source glyph object is destroyed
   *     on success.
   *
   * @@return:
   *    FreeType error code.  0~means success.
   *
   * @@note:
   *   The source glyph is untouched in case of error.
   *
   *   Adding stroke may yield a significantly wider and taller glyph
   *   depending on how large of a radius was used to stroke the glyph.  You
   *   may need to manually adjust horizontal and vertical advance amounts
   *   to account for this added size.
   */
  FT_EXPORT( FT_Error )
  FT_Glyph_Stroke( FT_Glyph    *pglyph,
                   FT_Stroker   stroker,
                   FT_Bool      destroy );


  /**************************************************************
   *
   * @@function:
   *   FT_Glyph_StrokeBorder
   *
   * @@description:
   *   Stroke a given outline glyph object with a given stroker, but
   *   only return either its inside or outside border.
   *
   * @@inout:
   *   pglyph ::
   *     Source glyph handle on input, new glyph handle on output.
   *
   * @@input:
   *   stroker ::
   *     A stroker handle.
   *
   *   inside ::
   *     A Boolean.  If~1, return the inside border, otherwise
   *     the outside border.
   *
   *   destroy ::
   *     A Boolean.  If~1, the source glyph object is destroyed
   *     on success.
   *
   * @@return:
   *    FreeType error code.  0~means success.
   *
   * @@note:
   *   The source glyph is untouched in case of error.
   *
   *   Adding stroke may yield a significantly wider and taller glyph
   *   depending on how large of a radius was used to stroke the glyph.  You
   *   may need to manually adjust horizontal and vertical advance amounts
   *   to account for this added size.
   */
  FT_EXPORT( FT_Error )
  FT_Glyph_StrokeBorder( FT_Glyph    *pglyph,
                         FT_Stroker   stroker,
                         FT_Bool      inside,
                         FT_Bool      destroy );

  /* */

FT_END_HEADER

#endif /* FTSTROKE_H_ */


/* END */


/* Local Variables: */
/* coding: utf-8    */
/* End:             */
@


1.5
log
@fastmerge
@
text
@d7 1
a7 1
/*  Copyright 2002, 2003, 2004, 2005, 2006, 2008, 2009 by                  */
d19 2
a20 2
#ifndef __FT_STROKE_H__
#define __FT_STROKE_H__
d49 32
d90 1
a90 1
  *   Opaque handler to a path stroker object.
d110 16
a125 2
   *     Used to render beveled line joins; i.e., the two joining lines
   *     are extended until they intersect.
d127 1
d129 11
a139 4
   *     Same as beveled rendering, except that an additional line
   *     break is added if the angle between the two joining lines
   *     is too closed (this is useful to avoid unpleasant spikes
   *     in beveled rendering).
d143 5
a147 3
    FT_STROKER_LINEJOIN_ROUND = 0,
    FT_STROKER_LINEJOIN_BEVEL,
    FT_STROKER_LINEJOIN_MITER
d304 3
a306 2
   *     The miter limit for the FT_STROKER_LINEJOIN_MITER style,
   *     expressed as 16.16 fixed point value.
d311 2
d607 1
a607 1
   *   two independent `border' outlines, named `left' and `right'
d610 1
a610 1
   *   the `border' outlines with caps. The `left' border receives all
d719 5
d761 5
d773 1
a773 1
 /* */
d777 1
a777 1
#endif /* __FT_STROKE_H__ */
@


1.4
log
@Merge freetype 2.3.6
@
text
@d7 1
a7 1
/*  Copyright 2002, 2003, 2004, 2005, 2006, 2008 by                        */
d174 1
a174 1
   *   The border index.  @@FT_STROKER_BORDER_LEFT for empty or invalid
d219 1
a219 1
   *    FreeType error code.  0 means success.
d252 1
a252 1
   *   The radius is expressed in the same units that the outline
d300 1
a300 1
   *     A boolean.  If 1, the outline is treated as an open path instead
d304 1
a304 1
   *   FreeType error code.  0 means success.
d307 2
a308 2
   *   If `opened' is 0 (the default), the outline is treated as a closed
   *   path, and the stroker will generate two distinct `border' outlines.
d310 2
a311 2
   *   If `opened' is 1, the outline is processed as an open path, and the
   *   stroker will generate a single `stroke' outline.
d337 1
a337 1
   *     A boolean.  If 1, the sub-path is treated as an open one.
d340 1
a340 1
   *   FreeType error code.  0 means success.
d365 1
a365 1
   *   FreeType error code.  0 means success.
d369 1
a369 1
   *   If the subpath was not `opened', this function will `draw' a
d393 1
a393 1
   *   FreeType error code.  0 means success.
d424 1
a424 1
   *   FreeType error code.  0 means success.
d459 1
a459 1
   *   FreeType error code.  0 means success.
d479 1
a479 1
   *   with the stroker.  It will return the number of points and
d498 1
a498 1
   *   FreeType error code.  0 means success.
d528 2
a529 2
   *   Note that this function will append the border points and
   *   contours to your outline, but will not try to resize its
d586 1
a586 1
   *   FreeType error code.  0 means success.
d601 1
a601 1
   *   export the all borders to your own @@FT_Outline structure.
d603 2
a604 2
   *   Note that this function will append the border points and
   *   contours to your outline, but will not try to resize its
d652 1
a652 1
   *     A Boolean.  If 1, the source glyph object is destroyed
d656 1
a656 1
   *    FreeType error code.  0 means success.
d685 1
a685 1
   *     A Boolean.  If 1, return the inside border, otherwise
d689 1
a689 1
   *     A Boolean.  If 1, the source glyph object is destroyed
d693 1
a693 1
   *    FreeType error code.  0 means success.
@


1.3
log
@Merge freetype 2.3.5, all conflicts automatically resolved
@
text
@d7 1
a7 1
/*  Copyright 2002, 2003, 2004, 2005, 2006 by                              */
d87 1
a87 1
  typedef enum
d118 1
a118 1
  typedef enum
d152 1
a152 1
  typedef enum
@


1.2
log
@merge freetype 2.2.1, reduce diff against ft (rid some xf86 changes)
@
text
@d300 2
a301 2
   *     A boolean.  If TRUE, the outline is treated as an open path
   *     instead of a closed one.
d337 1
a337 1
   *     A boolean.  If TRUE, the sub-path is treated as an open one.
d652 1
a652 1
   *     A Boolean.  If TRUE, the source glyph object is destroyed
d685 1
a685 1
   *     A Boolean.  If TRUE, return the inside border, otherwise
d689 1
a689 1
   *     A Boolean.  If TRUE, the source glyph object is destroyed
@


1.1
log
@Initial revision
@
text
@d7 1
a7 1
/*  Copyright 2002, 2003, 2004 by                                          */
d26 1
d29 24
a52 1
 /*@@*************************************************************
d63 1
a63 1
  /*@@*************************************************************
d96 1
a96 1
  /*@@*************************************************************
d145 2
a146 2
   *   borders.  However, there is no direct mapping between these and
   *   the `left' / `right' ones, since this really depends on the glyph's
d211 2
a212 2
   *   memory ::
   *     The memory manager handle.
d215 2
a216 1
   *   A new stroker object handle.  NULL in case of error.
d222 1
a222 1
  FT_Stroker_New( FT_Memory    memory,
d344 1
a344 1
   *   not stored as a @@FT_Outline object.
d410 1
a410 1
   *   `Draw; a single quadratic bezier in the stroker's current sub-path,
d418 1
a418 1
   *     A pointer to a Bézier control point.
d442 1
a442 1
   *   `Draw' a single cubic Bézier in the stroker's current sub-path,
d450 1
a450 1
   *     A pointer to the first Bézier control point.
d453 1
a453 1
   *     A pointer to second Bézier control point.
d478 1
a478 1
   *   Vall this function once you have finished parsing your paths
d644 2
a645 2
   *   pglyph :: Source glyph handle on input, new glyph handle
   *             on output.
d712 5
@


1.1.1.1
log
@Import freetype-2.3.5 into the X11 tree. This is a recommended security
update for everyone.
@
text
@d7 1
a7 1
/*  Copyright 2002, 2003, 2004, 2005, 2006 by                              */
a25 1

d28 1
a28 24

 /************************************************************************
  *
  * @@section:
  *    glyph_stroker
  *
  * @@title:
  *    Glyph Stroker
  *
  * @@abstract:
  *    Generating bordered and stroked glyphs.
  *
  * @@description:
  *    This component generates stroked outlines of a given vectorial
  *    glyph.  It also allows you to retrieve the `outside' and/or the
  *    `inside' borders of the stroke.
  *
  *    This can be useful to generate `bordered' glyph, i.e., glyphs
  *    displayed with a coloured (and anti-aliased) border around their
  *    shape.
  */


 /**************************************************************
d39 1
a39 1
  /**************************************************************
d72 1
a72 1
  /**************************************************************
d121 2
a122 2
   *   borders.  However, there is no direct mapping between these and the
   *   `left' and `right' ones, since this really depends on the glyph's
d187 2
a188 2
   *   library ::
   *     FreeType library handle.
d191 1
a191 2
   *   astroker ::
   *     A new stroker object handle.  NULL in case of error.
d197 1
a197 1
  FT_Stroker_New( FT_Library   library,
d275 2
a276 2
   *     A boolean.  If 1, the outline is treated as an open path instead
   *     of a closed one.
d312 1
a312 1
   *     A boolean.  If 1, the sub-path is treated as an open one.
d319 1
a319 1
   *   not stored as an @@FT_Outline object.
d385 1
a385 1
   *   `Draw' a single quadratic BÃ©zier in the stroker's current sub-path,
d393 1
a393 1
   *     A pointer to a BÃ©zier control point.
d417 1
a417 1
   *   `Draw' a single cubic BÃ©zier in the stroker's current sub-path,
d425 1
a425 1
   *     A pointer to the first BÃ©zier control point.
d428 1
a428 1
   *     A pointer to second BÃ©zier control point.
d453 1
a453 1
   *   Call this function once you have finished parsing your paths
d619 2
a620 2
   *   pglyph ::
   *     Source glyph handle on input, new glyph handle on output.
d627 1
a627 1
   *     A Boolean.  If 1, the source glyph object is destroyed
d660 1
a660 1
   *     A Boolean.  If 1, return the inside border, otherwise
d664 1
a664 1
   *     A Boolean.  If 1, the source glyph object is destroyed
a686 5


/* Local Variables: */
/* coding: utf-8    */
/* End:             */
@


1.1.1.2
log
@SECURITY: Import freetype 2.3.6. From the release notes:

    - A  bunch of  potential security  problems have  been found.  All
      users should update.
@
text
@d7 1
a7 1
/*  Copyright 2002, 2003, 2004, 2005, 2006, 2008 by                        */
d87 1
a87 1
  typedef enum  FT_Stroker_LineJoin_
d118 1
a118 1
  typedef enum  FT_Stroker_LineCap_
d152 1
a152 1
  typedef enum  FT_StrokerBorder_
@


1.1.115.1
log
@re-base freetype 2.1.8
@
text
@@


1.1.115.2
log
@Import Freetype 2.2.1 with a bunch of security fixes
@
text
@d7 1
a7 1
/*  Copyright 2002, 2003, 2004, 2005, 2006 by                              */
a25 1

d28 1
a28 24

 /************************************************************************
  *
  * @@section:
  *    glyph_stroker
  *
  * @@title:
  *    Glyph Stroker
  *
  * @@abstract:
  *    Generating bordered and stroked glyphs.
  *
  * @@description:
  *    This component generates stroked outlines of a given vectorial
  *    glyph.  It also allows you to retrieve the `outside' and/or the
  *    `inside' borders of the stroke.
  *
  *    This can be useful to generate `bordered' glyph, i.e., glyphs
  *    displayed with a coloured (and anti-aliased) border around their
  *    shape.
  */


 /**************************************************************
d39 1
a39 1
  /**************************************************************
d72 1
a72 1
  /**************************************************************
d121 2
a122 2
   *   borders.  However, there is no direct mapping between these and the
   *   `left' and `right' ones, since this really depends on the glyph's
d187 2
a188 2
   *   library ::
   *     FreeType library handle.
d191 1
a191 2
   *   astroker ::
   *     A new stroker object handle.  NULL in case of error.
d197 1
a197 1
  FT_Stroker_New( FT_Library   library,
d319 1
a319 1
   *   not stored as an @@FT_Outline object.
d385 1
a385 1
   *   `Draw' a single quadratic BÃ©zier in the stroker's current sub-path,
d393 1
a393 1
   *     A pointer to a BÃ©zier control point.
d417 1
a417 1
   *   `Draw' a single cubic BÃ©zier in the stroker's current sub-path,
d425 1
a425 1
   *     A pointer to the first BÃ©zier control point.
d428 1
a428 1
   *     A pointer to second BÃ©zier control point.
d453 1
a453 1
   *   Call this function once you have finished parsing your paths
d619 2
a620 2
   *   pglyph ::
   *     Source glyph handle on input, new glyph handle on output.
a686 5


/* Local Variables: */
/* coding: utf-8    */
/* End:             */
@


1.1.115.3
log
@we need newer freetype for advance calculation
@
text
@d7 1
a7 1
/*  Copyright 2002, 2003, 2004, 2005, 2006, 2008, 2009 by                  */
d87 1
a87 1
  typedef enum  FT_Stroker_LineJoin_
d118 1
a118 1
  typedef enum  FT_Stroker_LineCap_
d152 1
a152 1
  typedef enum  FT_StrokerBorder_
d174 1
a174 1
   *   The border index.  @@FT_STROKER_BORDER_RIGHT for empty or invalid
d219 1
a219 1
   *    FreeType error code.  0~means success.
d252 1
a252 1
   *   The radius is expressed in the same units as the outline
d300 2
a301 2
   *     A boolean.  If~1, the outline is treated as an open path instead
   *     of a closed one.
d304 1
a304 1
   *   FreeType error code.  0~means success.
d307 2
a308 2
   *   If `opened' is~0 (the default), the outline is treated as a closed
   *   path, and the stroker generates two distinct `border' outlines.
d310 2
a311 2
   *   If `opened' is~1, the outline is processed as an open path, and the
   *   stroker generates a single `stroke' outline.
d337 1
a337 1
   *     A boolean.  If~1, the sub-path is treated as an open one.
d340 1
a340 1
   *   FreeType error code.  0~means success.
d365 1
a365 1
   *   FreeType error code.  0~means success.
d369 1
a369 1
   *   If the subpath was not `opened', this function `draws' a
d393 1
a393 1
   *   FreeType error code.  0~means success.
d424 1
a424 1
   *   FreeType error code.  0~means success.
d459 1
a459 1
   *   FreeType error code.  0~means success.
d479 1
a479 1
   *   with the stroker.  It returns the number of points and
d498 1
a498 1
   *   FreeType error code.  0~means success.
d528 2
a529 2
   *   Note that this function appends the border points and
   *   contours to your outline, but does not try to resize its
d586 1
a586 1
   *   FreeType error code.  0~means success.
d601 1
a601 1
   *   export all borders to your own @@FT_Outline structure.
d603 2
a604 2
   *   Note that this function appends the border points and
   *   contours to your outline, but does not try to resize its
d652 1
a652 1
   *     A Boolean.  If~1, the source glyph object is destroyed
d656 1
a656 1
   *    FreeType error code.  0~means success.
d685 1
a685 1
   *     A Boolean.  If~1, return the inside border, otherwise
d689 1
a689 1
   *     A Boolean.  If~1, the source glyph object is destroyed
d693 1
a693 1
   *    FreeType error code.  0~means success.
@


1.1.115.4
log
@letâ€™s see whether we canâ€™t update freetype2 as wellâ€¦
@
text
@d7 1
a7 1
/*  Copyright 2002-2016 by                                                 */
d19 2
a20 2
#ifndef FTSTROKE_H_
#define FTSTROKE_H_
a48 32
  *
  * @@order:
  *    FT_Stroker
  *
  *    FT_Stroker_LineJoin
  *    FT_Stroker_LineCap
  *    FT_StrokerBorder
  *
  *    FT_Outline_GetInsideBorder
  *    FT_Outline_GetOutsideBorder
  *
  *    FT_Glyph_Stroke
  *    FT_Glyph_StrokeBorder
  *
  *    FT_Stroker_New
  *    FT_Stroker_Set
  *    FT_Stroker_Rewind
  *    FT_Stroker_ParseOutline
  *    FT_Stroker_Done
  *
  *    FT_Stroker_BeginSubPath
  *    FT_Stroker_EndSubPath
  *
  *    FT_Stroker_LineTo
  *    FT_Stroker_ConicTo
  *    FT_Stroker_CubicTo
  *
  *    FT_Stroker_GetBorderCounts
  *    FT_Stroker_ExportBorder
  *    FT_Stroker_GetCounts
  *    FT_Stroker_Export
  *
d58 1
a58 1
  *   Opaque handle to a path stroker object.
d78 2
a79 16
   *     Used to render beveled line joins.  The outer corner of
   *     the joined lines is filled by enclosing the triangular
   *     region of the corner with a straight line between the
   *     outer corners of each stroke.
   *
   *   FT_STROKER_LINEJOIN_MITER_FIXED ::
   *     Used to render mitered line joins, with fixed bevels if the
   *     miter limit is exceeded.  The outer edges of the strokes
   *     for the two segments are extended until they meet at an
   *     angle.  If the segments meet at too sharp an angle (such
   *     that the miter would extend from the intersection of the
   *     segments a distance greater than the product of the miter
   *     limit value and the border radius), then a bevel join (see
   *     above) is used instead.  This prevents long spikes being
   *     created.  FT_STROKER_LINEJOIN_MITER_FIXED generates a miter
   *     line join as used in PostScript and PDF.
a80 1
   *   FT_STROKER_LINEJOIN_MITER_VARIABLE ::
d82 4
a85 11
   *     Used to render mitered line joins, with variable bevels if
   *     the miter limit is exceeded.  The intersection of the
   *     strokes is clipped at a line perpendicular to the bisector
   *     of the angle between the strokes, at the distance from the
   *     intersection of the segments equal to the product of the
   *     miter limit value and the border radius.  This prevents
   *     long spikes being created.
   *     FT_STROKER_LINEJOIN_MITER_VARIABLE generates a mitered line
   *     join as used in XPS.  FT_STROKER_LINEJOIN_MITER is an alias
   *     for FT_STROKER_LINEJOIN_MITER_VARIABLE, retained for
   *     backwards compatibility.
d89 3
a91 5
    FT_STROKER_LINEJOIN_ROUND          = 0,
    FT_STROKER_LINEJOIN_BEVEL          = 1,
    FT_STROKER_LINEJOIN_MITER_VARIABLE = 2,
    FT_STROKER_LINEJOIN_MITER          = FT_STROKER_LINEJOIN_MITER_VARIABLE,
    FT_STROKER_LINEJOIN_MITER_FIXED    = 3
d248 2
a249 3
   *     The miter limit for the FT_STROKER_LINEJOIN_MITER_FIXED and
   *     FT_STROKER_LINEJOIN_MITER_VARIABLE line join styles,
   *     expressed as 16.16 fixed-point value.
a253 2
   *
   *   This function calls @@FT_Stroker_Rewind automatically.
d548 1
a548 1
   *   two independent `border' outlines, named `left' and `right'.
d551 1
a551 1
   *   the `border' outlines with caps.  The `left' border receives all
a659 5
   *
   *   Adding stroke may yield a significantly wider and taller glyph
   *   depending on how large of a radius was used to stroke the glyph.  You
   *   may need to manually adjust horizontal and vertical advance amounts
   *   to account for this added size.
a696 5
   *
   *   Adding stroke may yield a significantly wider and taller glyph
   *   depending on how large of a radius was used to stroke the glyph.  You
   *   may need to manually adjust horizontal and vertical advance amounts
   *   to account for this added size.
d704 1
a704 1
  /* */
d708 1
a708 1
#endif /* FTSTROKE_H_ */
@


1.1.103.1
log
@Import XFree86 4.5.0 directly from vendor anoncvs, -rxf-4_5_0 xc
at anoncvs@@anoncvs.xfree86.org:/cvs (ssh)
@
text
@@
