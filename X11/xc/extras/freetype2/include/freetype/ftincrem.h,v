head	1.6;
access;
symbols
	freetype-2_7_1:1.1.115.4
	freetype-2_3_12:1.1.115.3
	freetype-2_3_6:1.1.1.2
	MIRBSD_10_BASE:1.3
	freetype-2_3_5:1.1.1.1
	freetype-2_2_1:1.1.115.2
	freetype-2_1_8:1.1.115.1
	freetype:1.1.115
	MIRBSD_9_BASE:1.1.103.1
	MIRBSD_8:1.1.103.1.0.2
	MIRBSD_8_BASE:1.1.103.1
	xf-4_5_0:1.1.103.1
	xwindow:1.1.103;
locks; strict;
comment	@ * @;


1.6
date	2017.04.15.19.21.01;	author tg;	state Exp;
branches;
next	1.5;
commitid	10058F2723111C7BEE2;

1.5
date	2013.08.06.19.47.17;	author tg;	state Exp;
branches;
next	1.4;
commitid	100520152445E05B912;

1.4
date	2008.06.12.20.54.19;	author bsiegert;	state Exp;
branches;
next	1.3;
commitid	10048518C1E44F62885;

1.3
date	2008.02.26.20.04.43;	author bsiegert;	state Exp;
branches;
next	1.2;
commitid	10047C470A72A1E13CE;

1.2
date	2006.06.29.20.24.26;	author tg;	state Exp;
branches;
next	1.1;
commitid	10044A435A50E5F7C11;

1.1
date	2005.03.18.10.43.02;	author tg;	state Exp;
branches
	1.1.1.1
	1.1.103.1
	1.1.115.1;
next	;

1.1.1.1
date	2008.02.26.19.51.54;	author bsiegert;	state Exp;
branches;
next	1.1.1.2;
commitid	10047C46DB5081DCD79;

1.1.1.2
date	2008.06.12.20.36.27;	author bsiegert;	state Exp;
branches;
next	;
commitid	1004851887B4E012E38;

1.1.103.1
date	2005.03.18.10.43.02;	author tg;	state Exp;
branches;
next	;

1.1.115.1
date	2006.06.29.18.34.37;	author tg;	state Exp;
branches;
next	1.1.115.2;
commitid	10044A41D276963C97B;

1.1.115.2
date	2006.06.29.18.38.37;	author tg;	state Exp;
branches;
next	1.1.115.3;
commitid	10044A41DBD6368BED5;

1.1.115.3
date	2013.08.06.19.12.18;	author tg;	state Exp;
branches;
next	1.1.115.4;
commitid	10052014A9975CEFD1D;

1.1.115.4
date	2017.04.15.15.41.55;	author tg;	state Exp;
branches;
next	;
commitid	10058F23F4858079E1C;


desc
@@


1.6
log
@first cut at a quickmerge
@
text
@/***************************************************************************/
/*                                                                         */
/*  ftincrem.h                                                             */
/*                                                                         */
/*    FreeType incremental loading (specification).                        */
/*                                                                         */
/*  Copyright 2002-2016 by                                                 */
/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      */
/*                                                                         */
/*  This file is part of the FreeType project, and may only be used,       */
/*  modified, and distributed under the terms of the FreeType project      */
/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     */
/*  this file you indicate that you have read the license and              */
/*  understand and accept it fully.                                        */
/*                                                                         */
/***************************************************************************/


#ifndef FTINCREM_H_
#define FTINCREM_H_

#include <ft2build.h>
#include FT_FREETYPE_H

#ifdef FREETYPE_H
#error "freetype.h of FreeType 1 has been loaded!"
#error "Please fix the directory search order for header files"
#error "so that freetype.h of FreeType 2 is found first."
#endif


FT_BEGIN_HEADER

  /***************************************************************************
   *
   * @@section:
   *    incremental
   *
   * @@title:
   *    Incremental Loading
   *
   * @@abstract:
   *    Custom Glyph Loading.
   *
   * @@description:
   *   This section contains various functions used to perform so-called
   *   `incremental' glyph loading.  This is a mode where all glyphs loaded
   *   from a given @@FT_Face are provided by the client application.
   *
   *   Apart from that, all other tables are loaded normally from the font
   *   file.  This mode is useful when FreeType is used within another
   *   engine, e.g., a PostScript Imaging Processor.
   *
   *   To enable this mode, you must use @@FT_Open_Face, passing an
   *   @@FT_Parameter with the @@FT_PARAM_TAG_INCREMENTAL tag and an
   *   @@FT_Incremental_Interface value.  See the comments for
   *   @@FT_Incremental_InterfaceRec for an example.
   *
   */


  /***************************************************************************
   *
   * @@type:
   *   FT_Incremental
   *
   * @@description:
   *   An opaque type describing a user-provided object used to implement
   *   `incremental' glyph loading within FreeType.  This is used to support
   *   embedded fonts in certain environments (e.g., PostScript interpreters),
   *   where the glyph data isn't in the font file, or must be overridden by
   *   different values.
   *
   * @@note:
   *   It is up to client applications to create and implement @@FT_Incremental
   *   objects, as long as they provide implementations for the methods
   *   @@FT_Incremental_GetGlyphDataFunc, @@FT_Incremental_FreeGlyphDataFunc
   *   and @@FT_Incremental_GetGlyphMetricsFunc.
   *
   *   See the description of @@FT_Incremental_InterfaceRec to understand how
   *   to use incremental objects with FreeType.
   *
   */
  typedef struct FT_IncrementalRec_*  FT_Incremental;


  /***************************************************************************
   *
   * @@struct:
   *   FT_Incremental_MetricsRec
   *
   * @@description:
   *   A small structure used to contain the basic glyph metrics returned
   *   by the @@FT_Incremental_GetGlyphMetricsFunc method.
   *
   * @@fields:
   *   bearing_x ::
   *     Left bearing, in font units.
   *
   *   bearing_y ::
   *     Top bearing, in font units.
   *
   *   advance ::
   *     Horizontal component of glyph advance, in font units.
   *
   *   advance_v ::
   *     Vertical component of glyph advance, in font units.
   *
   * @@note:
   *   These correspond to horizontal or vertical metrics depending on the
   *   value of the `vertical' argument to the function
   *   @@FT_Incremental_GetGlyphMetricsFunc.
   *
   */
  typedef struct  FT_Incremental_MetricsRec_
  {
    FT_Long  bearing_x;
    FT_Long  bearing_y;
    FT_Long  advance;
    FT_Long  advance_v;     /* since 2.3.12 */

  } FT_Incremental_MetricsRec;


  /***************************************************************************
   *
   * @@struct:
   *   FT_Incremental_Metrics
   *
   * @@description:
   *   A handle to an @@FT_Incremental_MetricsRec structure.
   *
   */
   typedef struct FT_Incremental_MetricsRec_*  FT_Incremental_Metrics;


  /***************************************************************************
   *
   * @@type:
   *   FT_Incremental_GetGlyphDataFunc
   *
   * @@description:
   *   A function called by FreeType to access a given glyph's data bytes
   *   during @@FT_Load_Glyph or @@FT_Load_Char if incremental loading is
   *   enabled.
   *
   *   Note that the format of the glyph's data bytes depends on the font
   *   file format.  For TrueType, it must correspond to the raw bytes within
   *   the `glyf' table.  For PostScript formats, it must correspond to the
   *   *unencrypted* charstring bytes, without any `lenIV' header.  It is
   *   undefined for any other format.
   *
   * @@input:
   *   incremental ::
   *     Handle to an opaque @@FT_Incremental handle provided by the client
   *     application.
   *
   *   glyph_index ::
   *     Index of relevant glyph.
   *
   * @@output:
   *   adata ::
   *     A structure describing the returned glyph data bytes (which will be
   *     accessed as a read-only byte block).
   *
   * @@return:
   *   FreeType error code.  0~means success.
   *
   * @@note:
   *   If this function returns successfully the method
   *   @@FT_Incremental_FreeGlyphDataFunc will be called later to release
   *   the data bytes.
   *
   *   Nested calls to @@FT_Incremental_GetGlyphDataFunc can happen for
   *   compound glyphs.
   *
   */
  typedef FT_Error
  (*FT_Incremental_GetGlyphDataFunc)( FT_Incremental  incremental,
                                      FT_UInt         glyph_index,
                                      FT_Data*        adata );


  /***************************************************************************
   *
   * @@type:
   *   FT_Incremental_FreeGlyphDataFunc
   *
   * @@description:
   *   A function used to release the glyph data bytes returned by a
   *   successful call to @@FT_Incremental_GetGlyphDataFunc.
   *
   * @@input:
   *   incremental ::
   *     A handle to an opaque @@FT_Incremental handle provided by the client
   *     application.
   *
   *   data ::
   *     A structure describing the glyph data bytes (which will be accessed
   *     as a read-only byte block).
   *
   */
  typedef void
  (*FT_Incremental_FreeGlyphDataFunc)( FT_Incremental  incremental,
                                       FT_Data*        data );


  /***************************************************************************
   *
   * @@type:
   *   FT_Incremental_GetGlyphMetricsFunc
   *
   * @@description:
   *   A function used to retrieve the basic metrics of a given glyph index
   *   before accessing its data.  This is necessary because, in certain
   *   formats like TrueType, the metrics are stored in a different place from
   *   the glyph images proper.
   *
   * @@input:
   *   incremental ::
   *     A handle to an opaque @@FT_Incremental handle provided by the client
   *     application.
   *
   *   glyph_index ::
   *     Index of relevant glyph.
   *
   *   vertical ::
   *     If true, return vertical metrics.
   *
   *   ametrics ::
   *     This parameter is used for both input and output.
   *     The original glyph metrics, if any, in font units.  If metrics are
   *     not available all the values must be set to zero.
   *
   * @@output:
   *   ametrics ::
   *     The replacement glyph metrics in font units.
   *
   */
  typedef FT_Error
  (*FT_Incremental_GetGlyphMetricsFunc)
                      ( FT_Incremental              incremental,
                        FT_UInt                     glyph_index,
                        FT_Bool                     vertical,
                        FT_Incremental_MetricsRec  *ametrics );


  /**************************************************************************
   *
   * @@struct:
   *   FT_Incremental_FuncsRec
   *
   * @@description:
   *   A table of functions for accessing fonts that load data
   *   incrementally.  Used in @@FT_Incremental_InterfaceRec.
   *
   * @@fields:
   *   get_glyph_data ::
   *     The function to get glyph data.  Must not be null.
   *
   *   free_glyph_data ::
   *     The function to release glyph data.  Must not be null.
   *
   *   get_glyph_metrics ::
   *     The function to get glyph metrics.  May be null if the font does
   *     not provide overriding glyph metrics.
   *
   */
  typedef struct  FT_Incremental_FuncsRec_
  {
    FT_Incremental_GetGlyphDataFunc     get_glyph_data;
    FT_Incremental_FreeGlyphDataFunc    free_glyph_data;
    FT_Incremental_GetGlyphMetricsFunc  get_glyph_metrics;

  } FT_Incremental_FuncsRec;


  /***************************************************************************
   *
   * @@struct:
   *   FT_Incremental_InterfaceRec
   *
   * @@description:
   *   A structure to be used with @@FT_Open_Face to indicate that the user
   *   wants to support incremental glyph loading.  You should use it with
   *   @@FT_PARAM_TAG_INCREMENTAL as in the following example:
   *
   *     {
   *       FT_Incremental_InterfaceRec  inc_int;
   *       FT_Parameter                 parameter;
   *       FT_Open_Args                 open_args;
   *
   *
   *       // set up incremental descriptor
   *       inc_int.funcs  = my_funcs;
   *       inc_int.object = my_object;
   *
   *       // set up optional parameter
   *       parameter.tag  = FT_PARAM_TAG_INCREMENTAL;
   *       parameter.data = &inc_int;
   *
   *       // set up FT_Open_Args structure
   *       open_args.flags      = FT_OPEN_PATHNAME | FT_OPEN_PARAMS;
   *       open_args.pathname   = my_font_pathname;
   *       open_args.num_params = 1;
   *       open_args.params     = &parameter; // we use one optional argument
   *
   *       // open the font
   *       error = FT_Open_Face( library, &open_args, index, &face );
   *       ...
   *     }
   *
   */
  typedef struct  FT_Incremental_InterfaceRec_
  {
    const FT_Incremental_FuncsRec*  funcs;
    FT_Incremental                  object;

  } FT_Incremental_InterfaceRec;


  /***************************************************************************
   *
   * @@type:
   *   FT_Incremental_Interface
   *
   * @@description:
   *   A pointer to an @@FT_Incremental_InterfaceRec structure.
   *
   */
  typedef FT_Incremental_InterfaceRec*   FT_Incremental_Interface;


  /***************************************************************************
   *
   * @@constant:
   *   FT_PARAM_TAG_INCREMENTAL
   *
   * @@description:
   *   A constant used as the tag of @@FT_Parameter structures to indicate
   *   an incremental loading object to be used by FreeType.
   *
   */
#define FT_PARAM_TAG_INCREMENTAL  FT_MAKE_TAG( 'i', 'n', 'c', 'r' )

  /* */


FT_END_HEADER

#endif /* FTINCREM_H_ */


/* END */
@


1.5
log
@fastmerge
@
text
@d7 1
a7 1
/*  Copyright 2002, 2003, 2006, 2007, 2008, 2010 by                        */
d19 2
a20 2
#ifndef __FTINCREM_H__
#define __FTINCREM_H__
d48 1
a48 1
   *   from a given @@FT_Face are provided by the client application,
d348 1
d351 1
a351 1
#endif /* __FTINCREM_H__ */
@


1.4
log
@Merge freetype 2.3.6
@
text
@d7 1
a7 1
/*  Copyright 2002, 2003, 2006, 2007, 2008 by                              */
d52 1
a52 1
   *   engine, e.g., a Postscript Imaging Processor.
d70 1
a70 1
   *   embedded fonts in certain environments (e.g., Postscript interpreters),
d104 4
a107 1
   *     Glyph advance, in font units.
d120 1
d149 1
a149 1
   *   the `glyf' table.  For Postscript formats, it must correspond to the
d167 1
a167 1
   *   FreeType error code.  0 means success.
@


1.3
log
@Merge freetype 2.3.5, all conflicts automatically resolved
@
text
@d7 1
a7 1
/*  Copyright 2002, 2003, 2006, 2007 by                                    */
d34 50
a83 49
 /***************************************************************************
  *
  * @@section:
  *    incremental
  *
  * @@title:
  *    Incremental Loading
  *
  * @@abstract:
  *    Custom Glyph Loading.
  *
  * @@description:
  *   This section contains various functions used to perform so-called
  *   `incremental' glyph loading.  This is a mode where all glyphs loaded
  *   from a given @@FT_Face are provided by the client application,
  *
  *   Apart from that, all other tables are loaded normally from the font
  *   file.  This mode is useful when FreeType is used within another
  *   engine, e.g., a Postscript Imaging Processor.
  *
  *   To enable this mode, you must use @@FT_Open_Face, passing an
  *   @@FT_Parameter with the @@FT_PARAM_TAG_INCREMENTAL tag and an
  *   @@FT_Incremental_Interface value.  See the comments for
  *   @@FT_Incremental_InterfaceRec for an example.
  *
  */


 /***************************************************************************
  *
  * @@type:
  *   FT_Incremental
  *
  * @@description:
  *   An opaque type describing a user-provided object used to implement
  *   `incremental' glyph loading within FreeType.  This is used to support
  *   embedded fonts in certain environments (e.g., Postscript interpreters),
  *   where the glyph data isn't in the font file, or must be overridden by
  *   different values.
  *
  * @@note:
  *   It is up to client applications to create and implement @@FT_Incremental
  *   objects, as long as they provide implementations for the methods
  *   @@FT_Incremental_GetGlyphDataFunc, @@FT_Incremental_FreeGlyphDataFunc
  *   and @@FT_Incremental_GetGlyphMetricsFunc.
  *
  *   See the description of @@FT_Incremental_InterfaceRec to understand how
  *   to use incremental objects with FreeType.
  */
d87 25
a111 24
 /***************************************************************************
  *
  * @@struct:
  *   FT_Incremental_Metrics
  *
  * @@description:
  *   A small structure used to contain the basic glyph metrics returned
  *   by the @@FT_Incremental_GetGlyphMetricsFunc method.
  *
  * @@fields:
  *   bearing_x ::
  *     Left bearing, in font units.
  *
  *   bearing_y ::
  *     Top bearing, in font units.
  *
  *   advance ::
  *     Glyph advance, in font units.
  *
  * @@note:
  *   These correspond to horizontal or vertical metrics depending on the
  *   value of the `vertical' argument to the function
  *   @@FT_Incremental_GetGlyphMetricsFunc.
  */
d118 13
a130 1
  } FT_Incremental_MetricsRec, *FT_Incremental_Metrics;
d133 41
a173 40
 /***************************************************************************
  *
  * @@type:
  *   FT_Incremental_GetGlyphDataFunc
  *
  * @@description:
  *   A function called by FreeType to access a given glyph's data bytes
  *   during @@FT_Load_Glyph or @@FT_Load_Char if incremental loading is
  *   enabled.
  *
  *   Note that the format of the glyph's data bytes depends on the font
  *   file format.  For TrueType, it must correspond to the raw bytes within
  *   the `glyf' table.  For Postscript formats, it must correspond to the
  *   *unencrypted* charstring bytes, without any `lenIV' header.  It is
  *   undefined for any other format.
  *
  * @@input:
  *   incremental ::
  *     Handle to an opaque @@FT_Incremental handle provided by the client
  *     application.
  *
  *   glyph_index ::
  *     Index of relevant glyph.
  *
  * @@output:
  *   adata ::
  *     A structure describing the returned glyph data bytes (which will be
  *     accessed as a read-only byte block).
  *
  * @@return:
  *   FreeType error code.  0 means success.
  *
  * @@note:
  *   If this function returns successfully the method
  *   @@FT_Incremental_FreeGlyphDataFunc will be called later to release
  *   the data bytes.
  *
  *   Nested calls to @@FT_Incremental_GetGlyphDataFunc can happen for
  *   compound glyphs.
  */
d180 19
a198 18
 /***************************************************************************
  *
  * @@type:
  *   FT_Incremental_FreeGlyphDataFunc
  *
  * @@description:
  *   A function used to release the glyph data bytes returned by a
  *   successful call to @@FT_Incremental_GetGlyphDataFunc.
  *
  * @@input:
  *   incremental ::
  *     A handle to an opaque @@FT_Incremental handle provided by the client
  *     application.
  *
  *   data ::
  *     A structure describing the glyph data bytes (which will be accessed
  *     as a read-only byte block).
  */
d204 32
a235 32
 /***************************************************************************
  *
  * @@type:
  *   FT_Incremental_GetGlyphMetricsFunc
  *
  * @@description:
  *   A function used to retrieve the basic metrics of a given glyph index
  *   before accessing its data.  This is necessary because, in certain
  *   formats like TrueType, the metrics are stored in a different place from
  *   the glyph images proper.
  *
  * @@input:
  *   incremental ::
  *     A handle to an opaque @@FT_Incremental handle provided by the client
  *     application.
  *
  *   glyph_index ::
  *     Index of relevant glyph.
  *
  *   vertical ::
  *     If true, return vertical metrics.
  *
  *   ametrics ::
  *     This parameter is used for both input and output.
  *     The original glyph metrics, if any, in font units.  If metrics are
  *     not available all the values must be set to zero.
  *
  * @@output:
  *   ametrics ::
  *     The replacement glyph metrics in font units.
  *
  */
d263 1
d274 36
a309 35
 /***************************************************************************
  *
  * @@struct:
  *   FT_Incremental_InterfaceRec
  *
  * @@description:
  *   A structure to be used with @@FT_Open_Face to indicate that the user
  *   wants to support incremental glyph loading.  You should use it with
  *   @@FT_PARAM_TAG_INCREMENTAL as in the following example:
  *
  *     {
  *       FT_Incremental_InterfaceRec  inc_int;
  *       FT_Parameter                 parameter;
  *       FT_Open_Args                 open_args;
  *
  *
  *       // set up incremental descriptor
  *       inc_int.funcs  = my_funcs;
  *       inc_int.object = my_object;
  *
  *       // set up optional parameter
  *       parameter.tag  = FT_PARAM_TAG_INCREMENTAL;
  *       parameter.data = &inc_int;
  *
  *       // set up FT_Open_Args structure
  *       open_args.flags      = FT_OPEN_PATHNAME | FT_OPEN_PARAMS;
  *       open_args.pathname   = my_font_pathname;
  *       open_args.num_params = 1;
  *       open_args.params     = &parameter; // we use one optional argument
  *
  *       // open the font
  *       error = FT_Open_Face( library, &open_args, index, &face );
  *       ...
  *     }
  */
d318 9
a326 9
 /***************************************************************************
  *
  * @@type:
  *   FT_Incremental_Interface
  *
  * @@description:
  *   A pointer to an @@FT_Incremental_InterfaceRec structure.
  *
  */
d330 10
a339 10
 /***************************************************************************
  *
  * @@constant:
  *   FT_PARAM_TAG_INCREMENTAL
  *
  * @@description:
  *   A constant used as the tag of @@FT_Parameter structures to indicate
  *   an incremental loading object to be used by FreeType.
  *
  */
d342 1
a342 1
 /* */
@


1.2
log
@merge freetype 2.2.1, reduce diff against ft (rid some xf86 changes)
@
text
@d7 1
a7 1
/*  Copyright 2002, 2003, 2006 by                                          */
d152 1
a152 1
  *   If this function returns succesfully the method
d232 1
a232 1
   * 
d236 1
a236 1
   * 
d246 1
a246 1
   *     not provide overriding glyph metrics. 
d296 1
a296 1
  
d324 1
a324 1
 /* */  
@


1.1
log
@Initial revision
@
text
@d7 1
a7 1
/*  Copyright 2002, 2003 by                                                */
d34 27
d69 2
a70 2
  *   "incremental" glyph loading within FreeType.  This is used to support
  *   embedded fonts in certain environments (e.g. Postscript interpreters),
d107 1
a107 1
  *   value of the 'vertical' argument to the function
d131 2
a132 2
  *   the 'glyf' table.  For Postscript formats, it must correspond to the
  *   *unencrypted* charstring bytes, without any 'lenIV' header.  It is
d302 12
@


1.1.1.1
log
@Import freetype-2.3.5 into the X11 tree. This is a recommended security
update for everyone.
@
text
@d7 1
a7 1
/*  Copyright 2002, 2003, 2006, 2007 by                                    */
a33 27
 /***************************************************************************
  *
  * @@section:
  *    incremental
  *
  * @@title:
  *    Incremental Loading
  *
  * @@abstract:
  *    Custom Glyph Loading.
  *
  * @@description:
  *   This section contains various functions used to perform so-called
  *   `incremental' glyph loading.  This is a mode where all glyphs loaded
  *   from a given @@FT_Face are provided by the client application,
  *
  *   Apart from that, all other tables are loaded normally from the font
  *   file.  This mode is useful when FreeType is used within another
  *   engine, e.g., a Postscript Imaging Processor.
  *
  *   To enable this mode, you must use @@FT_Open_Face, passing an
  *   @@FT_Parameter with the @@FT_PARAM_TAG_INCREMENTAL tag and an
  *   @@FT_Incremental_Interface value.  See the comments for
  *   @@FT_Incremental_InterfaceRec for an example.
  *
  */

d42 2
a43 2
  *   `incremental' glyph loading within FreeType.  This is used to support
  *   embedded fonts in certain environments (e.g., Postscript interpreters),
d80 1
a80 1
  *   value of the `vertical' argument to the function
d104 2
a105 2
  *   the `glyf' table.  For Postscript formats, it must correspond to the
  *   *unencrypted* charstring bytes, without any `lenIV' header.  It is
d125 1
a125 1
  *   If this function returns successfully the method
d205 1
a205 1
   *
d209 1
a209 1
   *
d219 1
a219 1
   *     not provide overriding glyph metrics.
d269 1
a269 1

a274 12
  * @@type:
  *   FT_Incremental_Interface
  *
  * @@description:
  *   A pointer to an @@FT_Incremental_InterfaceRec structure.
  *
  */
  typedef FT_Incremental_InterfaceRec*   FT_Incremental_Interface;


 /***************************************************************************
  *
d285 1
a285 1
 /* */
@


1.1.1.2
log
@SECURITY: Import freetype 2.3.6. From the release notes:

    - A  bunch of  potential security  problems have  been found.  All
      users should update.
@
text
@d7 1
a7 1
/*  Copyright 2002, 2003, 2006, 2007, 2008 by                              */
d34 49
a82 50
  /***************************************************************************
   *
   * @@section:
   *    incremental
   *
   * @@title:
   *    Incremental Loading
   *
   * @@abstract:
   *    Custom Glyph Loading.
   *
   * @@description:
   *   This section contains various functions used to perform so-called
   *   `incremental' glyph loading.  This is a mode where all glyphs loaded
   *   from a given @@FT_Face are provided by the client application,
   *
   *   Apart from that, all other tables are loaded normally from the font
   *   file.  This mode is useful when FreeType is used within another
   *   engine, e.g., a Postscript Imaging Processor.
   *
   *   To enable this mode, you must use @@FT_Open_Face, passing an
   *   @@FT_Parameter with the @@FT_PARAM_TAG_INCREMENTAL tag and an
   *   @@FT_Incremental_Interface value.  See the comments for
   *   @@FT_Incremental_InterfaceRec for an example.
   *
   */


  /***************************************************************************
   *
   * @@type:
   *   FT_Incremental
   *
   * @@description:
   *   An opaque type describing a user-provided object used to implement
   *   `incremental' glyph loading within FreeType.  This is used to support
   *   embedded fonts in certain environments (e.g., Postscript interpreters),
   *   where the glyph data isn't in the font file, or must be overridden by
   *   different values.
   *
   * @@note:
   *   It is up to client applications to create and implement @@FT_Incremental
   *   objects, as long as they provide implementations for the methods
   *   @@FT_Incremental_GetGlyphDataFunc, @@FT_Incremental_FreeGlyphDataFunc
   *   and @@FT_Incremental_GetGlyphMetricsFunc.
   *
   *   See the description of @@FT_Incremental_InterfaceRec to understand how
   *   to use incremental objects with FreeType.
   *
   */
d86 24
a109 25
  /***************************************************************************
   *
   * @@struct:
   *   FT_Incremental_MetricsRec
   *
   * @@description:
   *   A small structure used to contain the basic glyph metrics returned
   *   by the @@FT_Incremental_GetGlyphMetricsFunc method.
   *
   * @@fields:
   *   bearing_x ::
   *     Left bearing, in font units.
   *
   *   bearing_y ::
   *     Top bearing, in font units.
   *
   *   advance ::
   *     Glyph advance, in font units.
   *
   * @@note:
   *   These correspond to horizontal or vertical metrics depending on the
   *   value of the `vertical' argument to the function
   *   @@FT_Incremental_GetGlyphMetricsFunc.
   *
   */
d116 1
a116 13
  } FT_Incremental_MetricsRec;


  /***************************************************************************
   *
   * @@struct:
   *   FT_Incremental_Metrics
   *
   * @@description:
   *   A handle to an @@FT_Incremental_MetricsRec structure.
   *
   */
   typedef struct FT_Incremental_MetricsRec_*  FT_Incremental_Metrics;
d119 40
a158 41
  /***************************************************************************
   *
   * @@type:
   *   FT_Incremental_GetGlyphDataFunc
   *
   * @@description:
   *   A function called by FreeType to access a given glyph's data bytes
   *   during @@FT_Load_Glyph or @@FT_Load_Char if incremental loading is
   *   enabled.
   *
   *   Note that the format of the glyph's data bytes depends on the font
   *   file format.  For TrueType, it must correspond to the raw bytes within
   *   the `glyf' table.  For Postscript formats, it must correspond to the
   *   *unencrypted* charstring bytes, without any `lenIV' header.  It is
   *   undefined for any other format.
   *
   * @@input:
   *   incremental ::
   *     Handle to an opaque @@FT_Incremental handle provided by the client
   *     application.
   *
   *   glyph_index ::
   *     Index of relevant glyph.
   *
   * @@output:
   *   adata ::
   *     A structure describing the returned glyph data bytes (which will be
   *     accessed as a read-only byte block).
   *
   * @@return:
   *   FreeType error code.  0 means success.
   *
   * @@note:
   *   If this function returns successfully the method
   *   @@FT_Incremental_FreeGlyphDataFunc will be called later to release
   *   the data bytes.
   *
   *   Nested calls to @@FT_Incremental_GetGlyphDataFunc can happen for
   *   compound glyphs.
   *
   */
d165 18
a182 19
  /***************************************************************************
   *
   * @@type:
   *   FT_Incremental_FreeGlyphDataFunc
   *
   * @@description:
   *   A function used to release the glyph data bytes returned by a
   *   successful call to @@FT_Incremental_GetGlyphDataFunc.
   *
   * @@input:
   *   incremental ::
   *     A handle to an opaque @@FT_Incremental handle provided by the client
   *     application.
   *
   *   data ::
   *     A structure describing the glyph data bytes (which will be accessed
   *     as a read-only byte block).
   *
   */
d188 32
a219 32
  /***************************************************************************
   *
   * @@type:
   *   FT_Incremental_GetGlyphMetricsFunc
   *
   * @@description:
   *   A function used to retrieve the basic metrics of a given glyph index
   *   before accessing its data.  This is necessary because, in certain
   *   formats like TrueType, the metrics are stored in a different place from
   *   the glyph images proper.
   *
   * @@input:
   *   incremental ::
   *     A handle to an opaque @@FT_Incremental handle provided by the client
   *     application.
   *
   *   glyph_index ::
   *     Index of relevant glyph.
   *
   *   vertical ::
   *     If true, return vertical metrics.
   *
   *   ametrics ::
   *     This parameter is used for both input and output.
   *     The original glyph metrics, if any, in font units.  If metrics are
   *     not available all the values must be set to zero.
   *
   * @@output:
   *   ametrics ::
   *     The replacement glyph metrics in font units.
   *
   */
a246 1
   *
d257 35
a291 36
  /***************************************************************************
   *
   * @@struct:
   *   FT_Incremental_InterfaceRec
   *
   * @@description:
   *   A structure to be used with @@FT_Open_Face to indicate that the user
   *   wants to support incremental glyph loading.  You should use it with
   *   @@FT_PARAM_TAG_INCREMENTAL as in the following example:
   *
   *     {
   *       FT_Incremental_InterfaceRec  inc_int;
   *       FT_Parameter                 parameter;
   *       FT_Open_Args                 open_args;
   *
   *
   *       // set up incremental descriptor
   *       inc_int.funcs  = my_funcs;
   *       inc_int.object = my_object;
   *
   *       // set up optional parameter
   *       parameter.tag  = FT_PARAM_TAG_INCREMENTAL;
   *       parameter.data = &inc_int;
   *
   *       // set up FT_Open_Args structure
   *       open_args.flags      = FT_OPEN_PATHNAME | FT_OPEN_PARAMS;
   *       open_args.pathname   = my_font_pathname;
   *       open_args.num_params = 1;
   *       open_args.params     = &parameter; // we use one optional argument
   *
   *       // open the font
   *       error = FT_Open_Face( library, &open_args, index, &face );
   *       ...
   *     }
   *
   */
d300 9
a308 9
  /***************************************************************************
   *
   * @@type:
   *   FT_Incremental_Interface
   *
   * @@description:
   *   A pointer to an @@FT_Incremental_InterfaceRec structure.
   *
   */
d312 10
a321 10
  /***************************************************************************
   *
   * @@constant:
   *   FT_PARAM_TAG_INCREMENTAL
   *
   * @@description:
   *   A constant used as the tag of @@FT_Parameter structures to indicate
   *   an incremental loading object to be used by FreeType.
   *
   */
d324 1
a324 1
  /* */
@


1.1.115.1
log
@re-base freetype 2.1.8
@
text
@@


1.1.115.2
log
@Import Freetype 2.2.1 with a bunch of security fixes
@
text
@d7 1
a7 1
/*  Copyright 2002, 2003, 2006 by                                          */
a33 27
 /***************************************************************************
  *
  * @@section:
  *    incremental
  *
  * @@title:
  *    Incremental Loading
  *
  * @@abstract:
  *    Custom Glyph Loading.
  *
  * @@description:
  *   This section contains various functions used to perform so-called
  *   `incremental' glyph loading.  This is a mode where all glyphs loaded
  *   from a given @@FT_Face are provided by the client application,
  *
  *   Apart from that, all other tables are loaded normally from the font
  *   file.  This mode is useful when FreeType is used within another
  *   engine, e.g., a Postscript Imaging Processor.
  *
  *   To enable this mode, you must use @@FT_Open_Face, passing an
  *   @@FT_Parameter with the @@FT_PARAM_TAG_INCREMENTAL tag and an
  *   @@FT_Incremental_Interface value.  See the comments for
  *   @@FT_Incremental_InterfaceRec for an example.
  *
  */

d42 2
a43 2
  *   `incremental' glyph loading within FreeType.  This is used to support
  *   embedded fonts in certain environments (e.g., Postscript interpreters),
d80 1
a80 1
  *   value of the `vertical' argument to the function
d104 2
a105 2
  *   the `glyf' table.  For Postscript formats, it must correspond to the
  *   *unencrypted* charstring bytes, without any `lenIV' header.  It is
a274 12
  * @@type:
  *   FT_Incremental_Interface
  *
  * @@description:
  *   A pointer to an @@FT_Incremental_InterfaceRec structure.
  *
  */
  typedef FT_Incremental_InterfaceRec*   FT_Incremental_Interface;


 /***************************************************************************
  *
@


1.1.115.3
log
@we need newer freetype for advance calculation
@
text
@d7 1
a7 1
/*  Copyright 2002, 2003, 2006, 2007, 2008, 2010 by                        */
d34 49
a82 50
  /***************************************************************************
   *
   * @@section:
   *    incremental
   *
   * @@title:
   *    Incremental Loading
   *
   * @@abstract:
   *    Custom Glyph Loading.
   *
   * @@description:
   *   This section contains various functions used to perform so-called
   *   `incremental' glyph loading.  This is a mode where all glyphs loaded
   *   from a given @@FT_Face are provided by the client application,
   *
   *   Apart from that, all other tables are loaded normally from the font
   *   file.  This mode is useful when FreeType is used within another
   *   engine, e.g., a PostScript Imaging Processor.
   *
   *   To enable this mode, you must use @@FT_Open_Face, passing an
   *   @@FT_Parameter with the @@FT_PARAM_TAG_INCREMENTAL tag and an
   *   @@FT_Incremental_Interface value.  See the comments for
   *   @@FT_Incremental_InterfaceRec for an example.
   *
   */


  /***************************************************************************
   *
   * @@type:
   *   FT_Incremental
   *
   * @@description:
   *   An opaque type describing a user-provided object used to implement
   *   `incremental' glyph loading within FreeType.  This is used to support
   *   embedded fonts in certain environments (e.g., PostScript interpreters),
   *   where the glyph data isn't in the font file, or must be overridden by
   *   different values.
   *
   * @@note:
   *   It is up to client applications to create and implement @@FT_Incremental
   *   objects, as long as they provide implementations for the methods
   *   @@FT_Incremental_GetGlyphDataFunc, @@FT_Incremental_FreeGlyphDataFunc
   *   and @@FT_Incremental_GetGlyphMetricsFunc.
   *
   *   See the description of @@FT_Incremental_InterfaceRec to understand how
   *   to use incremental objects with FreeType.
   *
   */
d86 24
a109 28
  /***************************************************************************
   *
   * @@struct:
   *   FT_Incremental_MetricsRec
   *
   * @@description:
   *   A small structure used to contain the basic glyph metrics returned
   *   by the @@FT_Incremental_GetGlyphMetricsFunc method.
   *
   * @@fields:
   *   bearing_x ::
   *     Left bearing, in font units.
   *
   *   bearing_y ::
   *     Top bearing, in font units.
   *
   *   advance ::
   *     Horizontal component of glyph advance, in font units.
   *
   *   advance_v ::
   *     Vertical component of glyph advance, in font units.
   *
   * @@note:
   *   These correspond to horizontal or vertical metrics depending on the
   *   value of the `vertical' argument to the function
   *   @@FT_Incremental_GetGlyphMetricsFunc.
   *
   */
a114 1
    FT_Long  advance_v;     /* since 2.3.12 */
d116 1
a116 1
  } FT_Incremental_MetricsRec;
d119 40
a158 53
  /***************************************************************************
   *
   * @@struct:
   *   FT_Incremental_Metrics
   *
   * @@description:
   *   A handle to an @@FT_Incremental_MetricsRec structure.
   *
   */
   typedef struct FT_Incremental_MetricsRec_*  FT_Incremental_Metrics;


  /***************************************************************************
   *
   * @@type:
   *   FT_Incremental_GetGlyphDataFunc
   *
   * @@description:
   *   A function called by FreeType to access a given glyph's data bytes
   *   during @@FT_Load_Glyph or @@FT_Load_Char if incremental loading is
   *   enabled.
   *
   *   Note that the format of the glyph's data bytes depends on the font
   *   file format.  For TrueType, it must correspond to the raw bytes within
   *   the `glyf' table.  For PostScript formats, it must correspond to the
   *   *unencrypted* charstring bytes, without any `lenIV' header.  It is
   *   undefined for any other format.
   *
   * @@input:
   *   incremental ::
   *     Handle to an opaque @@FT_Incremental handle provided by the client
   *     application.
   *
   *   glyph_index ::
   *     Index of relevant glyph.
   *
   * @@output:
   *   adata ::
   *     A structure describing the returned glyph data bytes (which will be
   *     accessed as a read-only byte block).
   *
   * @@return:
   *   FreeType error code.  0~means success.
   *
   * @@note:
   *   If this function returns successfully the method
   *   @@FT_Incremental_FreeGlyphDataFunc will be called later to release
   *   the data bytes.
   *
   *   Nested calls to @@FT_Incremental_GetGlyphDataFunc can happen for
   *   compound glyphs.
   *
   */
d165 18
a182 19
  /***************************************************************************
   *
   * @@type:
   *   FT_Incremental_FreeGlyphDataFunc
   *
   * @@description:
   *   A function used to release the glyph data bytes returned by a
   *   successful call to @@FT_Incremental_GetGlyphDataFunc.
   *
   * @@input:
   *   incremental ::
   *     A handle to an opaque @@FT_Incremental handle provided by the client
   *     application.
   *
   *   data ::
   *     A structure describing the glyph data bytes (which will be accessed
   *     as a read-only byte block).
   *
   */
d188 32
a219 32
  /***************************************************************************
   *
   * @@type:
   *   FT_Incremental_GetGlyphMetricsFunc
   *
   * @@description:
   *   A function used to retrieve the basic metrics of a given glyph index
   *   before accessing its data.  This is necessary because, in certain
   *   formats like TrueType, the metrics are stored in a different place from
   *   the glyph images proper.
   *
   * @@input:
   *   incremental ::
   *     A handle to an opaque @@FT_Incremental handle provided by the client
   *     application.
   *
   *   glyph_index ::
   *     Index of relevant glyph.
   *
   *   vertical ::
   *     If true, return vertical metrics.
   *
   *   ametrics ::
   *     This parameter is used for both input and output.
   *     The original glyph metrics, if any, in font units.  If metrics are
   *     not available all the values must be set to zero.
   *
   * @@output:
   *   ametrics ::
   *     The replacement glyph metrics in font units.
   *
   */
d232 1
a232 1
   *
d236 1
a236 1
   *
d246 1
a246 2
   *     not provide overriding glyph metrics.
   *
d257 35
a291 36
  /***************************************************************************
   *
   * @@struct:
   *   FT_Incremental_InterfaceRec
   *
   * @@description:
   *   A structure to be used with @@FT_Open_Face to indicate that the user
   *   wants to support incremental glyph loading.  You should use it with
   *   @@FT_PARAM_TAG_INCREMENTAL as in the following example:
   *
   *     {
   *       FT_Incremental_InterfaceRec  inc_int;
   *       FT_Parameter                 parameter;
   *       FT_Open_Args                 open_args;
   *
   *
   *       // set up incremental descriptor
   *       inc_int.funcs  = my_funcs;
   *       inc_int.object = my_object;
   *
   *       // set up optional parameter
   *       parameter.tag  = FT_PARAM_TAG_INCREMENTAL;
   *       parameter.data = &inc_int;
   *
   *       // set up FT_Open_Args structure
   *       open_args.flags      = FT_OPEN_PATHNAME | FT_OPEN_PARAMS;
   *       open_args.pathname   = my_font_pathname;
   *       open_args.num_params = 1;
   *       open_args.params     = &parameter; // we use one optional argument
   *
   *       // open the font
   *       error = FT_Open_Face( library, &open_args, index, &face );
   *       ...
   *     }
   *
   */
d296 1
a296 1

d300 9
a308 9
  /***************************************************************************
   *
   * @@type:
   *   FT_Incremental_Interface
   *
   * @@description:
   *   A pointer to an @@FT_Incremental_InterfaceRec structure.
   *
   */
d312 10
a321 10
  /***************************************************************************
   *
   * @@constant:
   *   FT_PARAM_TAG_INCREMENTAL
   *
   * @@description:
   *   A constant used as the tag of @@FT_Parameter structures to indicate
   *   an incremental loading object to be used by FreeType.
   *
   */
d324 1
a324 1
  /* */
@


1.1.115.4
log
@let’s see whether we can’t update freetype2 as well…
@
text
@d7 1
a7 1
/*  Copyright 2002-2016 by                                                 */
d19 2
a20 2
#ifndef FTINCREM_H_
#define FTINCREM_H_
d48 1
a48 1
   *   from a given @@FT_Face are provided by the client application.
a347 1

d350 1
a350 1
#endif /* FTINCREM_H_ */
@


1.1.103.1
log
@Import XFree86 4.5.0 directly from vendor anoncvs, -rxf-4_5_0 xc
at anoncvs@@anoncvs.xfree86.org:/cvs (ssh)
@
text
@@
