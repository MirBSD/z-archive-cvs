head	1.9;
access;
symbols
	MIRBSD_10_BASE:1.4
	MIRBSD_9_BASE:1.1.103.1
	MIRBSD_8:1.1.103.1.0.2
	MIRBSD_8_BASE:1.1.103.1
	xf-4_5_0:1.1.103.1
	xwindow:1.1.103;
locks; strict;
comment	@ * @;


1.9
date	2017.04.15.22.22.47;	author tg;	state Exp;
branches;
next	1.8;
commitid	10058F29D4D61753E29;

1.8
date	2017.04.15.22.09.07;	author tg;	state Exp;
branches;
next	1.7;
commitid	10058F29A1A5F8ACF94;

1.7
date	2017.04.15.21.26.41;	author tg;	state Exp;
branches;
next	1.6;
commitid	10058F29020681778DA;

1.6
date	2013.08.06.22.35.27;	author tg;	state Exp;
branches;
next	1.5;
commitid	10052017A1503E46D86;

1.5
date	2008.06.11.09.57.11;	author tg;	state Exp;
branches;
next	1.4;
commitid	100484FA168698EE833;

1.4
date	2008.02.29.17.40.52;	author bsiegert;	state Exp;
branches;
next	1.3;
commitid	10047C8438E1B252221;

1.3
date	2006.07.01.21.05.57;	author tg;	state Exp;
branches;
next	1.2;
commitid	10044A6E3C847447D04;

1.2
date	2006.07.01.20.18.14;	author tg;	state Exp;
branches;
next	1.1;
commitid	10044A6D7B73931F43C;

1.1
date	2005.03.18.10.47.43;	author tg;	state Exp;
branches
	1.1.103.1;
next	;

1.1.103.1
date	2005.03.18.10.47.43;	author tg;	state Exp;
branches;
next	;


desc
@@


1.9
log
@improve buildability
@
text
@/* $MirOS: X11/xc/lib/font/FreeType/module/ftstdlib.h,v 1.8 2017/04/15 22:09:07 tg Exp $ */
/* $XFree86: xc/lib/font/FreeType/module/ftstdlib.h,v 1.3 2004/12/31 02:56:03 tsi Exp $ */

/***************************************************************************/
/*                                                                         */
/*  ftstdlib.h                                                             */
/*                                                                         */
/*    ANSI-specific library and header configuration file (specification   */
/*    only).                                                               */
/*                                                                         */
/*  Copyright 2002-2016 by                                                 */
/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      */
/*                                                                         */
/*  Modified for XFree86.                                                  */
/*                                                                         */
/*  This file is part of the FreeType project, and may only be used,       */
/*  modified, and distributed under the terms of the FreeType project      */
/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     */
/*  this file you indicate that you have read the license and              */
/*  understand and accept it fully.                                        */
/*                                                                         */
/***************************************************************************/


  /*************************************************************************/
  /*                                                                       */
  /* This file is used to group all #includes to the ANSI C library that   */
  /* FreeType normally requires.  It also defines macros to rename the     */
  /* standard functions within the FreeType source code.                   */
  /*                                                                       */
  /* Load a file which defines FTSTDLIB_H_ before this one to override it. */
  /*                                                                       */
  /*************************************************************************/


#ifndef FTSTDLIB_H_
#define FTSTDLIB_H_


#include <stddef.h>

#define ft_ptrdiff_t  ptrdiff_t


  /**********************************************************************/
  /*                                                                    */
  /*                           integer limits                           */
  /*                                                                    */
  /* UINT_MAX and ULONG_MAX are used to automatically compute the size  */
  /* of `int' and `long' in bytes at compile-time.  So far, this works  */
  /* for all platforms the library has been tested on.                  */
  /*                                                                    */
  /* Note that on the extremely rare platforms that do not provide      */
  /* integer types that are _exactly_ 16 and 32 bits wide (e.g. some    */
  /* old Crays where `int' is 36 bits), we do not make any guarantee    */
  /* about the correct behaviour of FT2 with all fonts.                 */
  /*                                                                    */
  /* In these case, `ftconfig.h' will refuse to compile anyway with a   */
  /* message like `couldn't find 32-bit type' or something similar.     */
  /*                                                                    */
  /**********************************************************************/

#ifndef FONTMODULE

#include <limits.h>

#define FT_CHAR_BIT    CHAR_BIT
#define FT_USHORT_MAX  USHRT_MAX
#define FT_INT_MAX     INT_MAX
#define FT_INT_MIN     INT_MIN
#define FT_UINT_MAX    UINT_MAX
#define FT_LONG_MIN    LONG_MIN
#define FT_LONG_MAX    LONG_MAX
#define FT_ULONG_MAX   ULONG_MAX


  /**********************************************************************/
  /*                                                                    */
  /*                 character and string processing                    */
  /*                                                                    */
  /**********************************************************************/


#include <string.h>

#define ft_memchr   memchr
#define ft_memcmp   memcmp
#define ft_memcpy   memcpy
#define ft_memmove  memmove
#define ft_memset   memset
#define ft_strcat   strcat
#define ft_strcmp   strcmp
#define ft_strcpy   strcpy
#define ft_strlen   strlen
#define ft_strncmp  strncmp
#define ft_strncpy  strncpy
#define ft_strrchr  strrchr
#define ft_strstr   strstr


  /**********************************************************************/
  /*                                                                    */
  /*                           file handling                            */
  /*                                                                    */
  /**********************************************************************/


#include <stdio.h>

#define FT_FILE     FILE
#define ft_fclose   fclose
#define ft_fopen    fopen
#define ft_fread    fread
#define ft_fseek    fseek
#define ft_ftell    ftell
#define ft_sprintf  sprintf


  /**********************************************************************/
  /*                                                                    */
  /*                             sorting                                */
  /*                                                                    */
  /**********************************************************************/


#include <stdlib.h>

#define ft_qsort  qsort


  /**********************************************************************/
  /*                                                                    */
  /*                        memory allocation                           */
  /*                                                                    */
  /**********************************************************************/


#define ft_scalloc   calloc
#define ft_sfree     free
#define ft_smalloc   malloc
#define ft_srealloc  realloc


  /**********************************************************************/
  /*                                                                    */
  /*                          miscellaneous                             */
  /*                                                                    */
  /**********************************************************************/


#define ft_strtol  strtol
#define ft_getenv  getenv


  /**********************************************************************/
  /*                                                                    */
  /*                         execution control                          */
  /*                                                                    */
  /**********************************************************************/


#include <setjmp.h>

#define ft_jmp_buf     jmp_buf  /* note: this cannot be a typedef since */
                                /*       jmp_buf is defined as a macro  */
                                /*       on certain platforms           */

#define ft_longjmp     longjmp
#define ft_setjmp( b ) setjmp( *(ft_jmp_buf*) &(b) ) /* same thing here */

#else

#include "Xmd.h"
#define _XTYPEDEF_BOOL
#include "Xdefs.h"
#define DONT_DEFINE_WRAPPERS
#define DEFINE_SETJMP_WRAPPERS
#include "xf86_ansic.h"
#undef DONT_DEFINE_WRAPPERS

#ifndef offsetof
#define offsetof(TYPE, MEMBER) ((xf86size_t)&((TYPE*)0)->MEMBER)
#endif

#define FT_USHORT_MAX	0xffffU
#define FT_INT_MAX	2147483647
#define FT_INT_MIN	(-0x7fffffff-1)
#define FT_UINT_MAX	4294967295U
#ifdef LONG64
#define FT_LONG_MIN	(-0x7fffffffffffffffL-1L)
#define FT_LONG_MAX	0x7fffffffffffffffL
#define FT_ULONG_MAX	18446744073709551615UL
#else
#define FT_LONG_MIN	(-0x7fffffffL-1L)
#define FT_LONG_MAX	0x7fffffffL
#define FT_ULONG_MAX	4294967295UL
#endif

#define ft_memchr	xf86memchr
#define ft_memcmp	xf86memcmp
#define ft_memcpy	xf86memcpy
#define ft_memmove	xf86memmove
#define ft_memset	xf86memset
#define ft_strcat	xf86strcat
#define ft_strcmp	xf86strcmp
#define ft_strcpy	xf86strcpy
#define ft_strlen	xf86strlen
#define ft_strncmp	xf86strncmp
#define ft_strncpy	xf86strncpy
#define ft_strrchr	xf86strrchr
#define ft_strstr	xf86strstr

#define ft_sprintf	xf86sprintf

#define ft_qsort	xf86qsort

#define ft_strtol	xf86strtol
#define ft_getenv	xf86getenv

#define ft_jmp_buf	jmp_buf
#define ft_setjmp	setjmp
#define ft_longjmp	longjmp

#undef memcmp
#define memcmp		xf86memcmp
#undef memcpy
#define memcpy		xf86memcpy
#undef memset
#define memset		xf86memset
#undef strlen
#define strlen		xf86strlen

#endif /* FONTMODULE */

  /* the following is only used for debugging purposes, i.e., if */
  /* FT_DEBUG_LEVEL_ERROR or FT_DEBUG_LEVEL_TRACE are defined    */

#include <stdarg.h>


#endif /* FTSTDLIB_H_ */


/* END */
@


1.8
log
@more limits needs the X module
@
text
@d1 1
a1 1
/* $MirOS: X11/xc/lib/font/FreeType/module/ftstdlib.h,v 1.7 2017/04/15 21:26:41 tg Exp $ */
d217 3
d224 2
d230 2
@


1.7
log
@merge, headers part; also, no more functional delta (except PNG)
@
text
@d1 1
a1 1
/* $MirOS: X11/xc/lib/font/FreeType/module/ftstdlib.h,v 1.5 2008/06/11 09:57:11 tg Exp $ */
d185 1
d190 2
d194 2
@


1.6
log
@To say it with bsiegert@@ is appropriate here:
Why on earth does XFree86 have fucking modified copies of the freetype
header files? Merge freetype changes here, too.

Also do internal adjustments needed for the new freetype2 version
and clean up this mess and rebase them all in a minified fashion.
@
text
@d11 1
a11 1
/*  Copyright 2002, 2003, 2004, 2005, 2006, 2007, 2009 by                  */
d31 1
a31 2
  /* Load a file which defines __FTSTDLIB_H__ before this one to override  */
  /* it.                                                                   */
d36 2
a37 2
#ifndef __FTSTDLIB_H__
#define __FTSTDLIB_H__
a62 1

d67 8
a74 5
#define FT_CHAR_BIT   CHAR_BIT
#define FT_INT_MAX    INT_MAX
#define FT_INT_MIN    INT_MIN
#define FT_UINT_MAX   UINT_MAX
#define FT_ULONG_MAX  ULONG_MAX
d151 2
a152 2
#define ft_atol   atol
#define ft_labs   labs
d169 1
a169 2
#define ft_setjmp( b ) setjmp( *(jmp_buf*) &(b) )    /* same thing here */

d185 3
a187 3
#define FT_INT_MAX    2147483647
#define FT_INT_MIN    (-0x7fffffff-1)
#define FT_UINT_MAX   4294967295U
d189 1
a189 1
#define FT_ULONG_MAX 18446744073709551615UL
d191 1
a191 1
#define FT_ULONG_MAX  4294967295UL
d194 26
a219 29
#define ft_memchr    xf86memchr
#define ft_memcmp    xf86memcmp
#define ft_memcpy    xf86memcpy
#define ft_memmove   xf86memmove
#define ft_memset    xf86memset
#define ft_strcat    xf86strcat
#define ft_strcmp    xf86strcmp
#define ft_strcpy    xf86strcpy
#define ft_strlen    xf86strlen
#define ft_strncmp   xf86strncmp
#define ft_strncpy   xf86strncpy
#define ft_strrchr   xf86strrchr
#define ft_strstr    xf86strstr

#define ft_sprintf   xf86sprintf

#define ft_qsort     xf86qsort
#define ft_exit      xf86exit

#define ft_atol      xf86atol

#define ft_jmp_buf   jmp_buf
#define ft_setjmp    setjmp
#define ft_longjmp   longjmp

#undef  memcpy
#define memcpy       xf86memcpy
#undef  memset
#define memset       xf86memset
a222 1

d229 1
a229 1
#endif /* __FTSTDLIB_H__ */
@


1.5
log
@remove ft_isalnum et al. definitions, to quell redefinition warnings,
plus we MUST NOT use these from libc as they are “locale dependent”
(okay, not on MirBSD… but (just to annoy laffer1 and ctriv) we might
port this to MidnightBSD… even others, maybe)
@
text
@d1 1
a1 2
/* $MirOS: X11/xc/lib/font/FreeType/module/ftstdlib.h,v 1.4 2008/02/29 17:40:52 bsiegert Exp $ */
/* ftstdlib.h -- modified for XFree86. */
d11 1
a11 1
/*  Copyright 2002, 2003, 2004, 2005, 2006, 2007 by                        */
d14 2
d59 2
a60 8
  /* In these case, "ftconfig.h" will refuse to compile anyway with a   */
  /* message like "couldn't find 32-bit type" or something similar.     */
  /*                                                                    */
  /* IMPORTANT NOTE: We do not define aliases for heap management and   */
  /*                 i/o routines (i.e. malloc/free/fopen/fread/...)    */
  /*                 since these functions should all be encapsulated   */
  /*                 by platform-specific implementations of            */
  /*                 "ftsystem.c".                                      */
d71 1
a128 2
#define ft_exit   exit    /* only used to exit from unhandled exceptions */

d166 1
a166 1
 
d186 1
d206 1
d227 3
a229 3
  /* the following is only used for debugging purposes, i.e. when */
  /* FT_DEBUG_LEVEL_ERROR or FT_DEBUG_LEVEL_TRACE are defined     */
  /*                                                              */
@


1.4
log
@Why on earth does XFree86 have fucking modified copies of the freetype
header files? Merge freetype changes here, too.
@
text
@d1 1
a1 1
/* $MirOS: X11/xc/lib/font/FreeType/module/ftstdlib.h,v 1.3 2006/07/01 21:05:57 tg Exp $ */
a198 6
#define ft_isalnum   xf86isalnum
#define ft_isupper   xf86isupper
#define ft_islower   xf86islower
#define ft_isdigit   xf86isdigit
#define ft_isxdigit  xf86isxdigit

@


1.3
log
@ft_memchr must be mapped
@
text
@d1 1
a1 1
/* $MirOS$ */
d12 1
a12 1
/*  Copyright 2002, 2003, 2004, 2005, 2006 by                              */
a86 9
#include <ctype.h>

#define ft_isalnum   isalnum
#define ft_isdigit   isdigit
#define ft_islower   islower
#define ft_isupper   isupper
#define ft_isxdigit  isxdigit


d101 1
d169 6
a174 6
#define ft_jmp_buf  jmp_buf   /* note: this cannot be a typedef since */
                              /*       jmp_buf is defined as a macro  */
                              /*       on certain platforms           */

#define ft_setjmp   setjmp    /* same thing here */
#define ft_longjmp  longjmp   /* "               */
@


1.2
log
@while unbreaking X is still not finished, allow programmes
to link against the newly-built libfreetype, and overhaul
libXfont's reachover and override build mechanism myself

*g* we now have better code and freetype than x.org
@
text
@d1 1
d213 1
@


1.1
log
@Initial revision
@
text
@d11 1
a11 1
/*  Copyright 2002, 2003, 2004 by                                          */
d39 5
d73 2
d89 2
a91 2
#define ft_islower   islower
#define ft_isdigit   isdigit
d97 1
d111 7
d120 6
d139 1
d142 21
d164 1
d198 1
@


1.1.103.1
log
@Import XFree86 4.5.0 directly from vendor anoncvs, -rxf-4_5_0 xc
at anoncvs@@anoncvs.xfree86.org:/cvs (ssh)
@
text
@@
