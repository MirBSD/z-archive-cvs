head	1.3;
access;
symbols
	MIRBSD_10_BASE:1.3
	MIRBSD_9_BASE:1.1.103.1
	MIRBSD_8:1.1.103.1.0.2
	MIRBSD_8_BASE:1.1.103.1
	xf-4_5_0:1.1.103.1
	xwindow:1.1.103;
locks; strict;
comment	@# @;


1.3
date	2008.02.29.18.49.02;	author bsiegert;	state Exp;
branches;
next	1.2;
commitid	10047C8538E26AD7040;

1.2
date	2008.02.26.20.30.34;	author bsiegert;	state Exp;
branches;
next	1.1;
commitid	10047C476F531E9855F;

1.1
date	2005.03.18.10.47.50;	author tg;	state Exp;
branches
	1.1.103.1;
next	;

1.1.103.1
date	2005.03.18.10.47.50;	author tg;	state Exp;
branches;
next	;


desc
@@


1.3
log
@Remove aflatin2.c from build, it needs to be enabled with a special option
or it will not work.
@
text
@XCOMM $XFree86: xc/lib/freetype2/Imakefile,v 1.23 2004/04/29 17:55:37 torrey Exp $

#define IHaveSubdirs
#define PassCDebugFlags
#define NoLibSubdirs

#define DoNormalLib NormalLibFreetype2
#define DoSharedLib SharedLibFreetype2
#define DoExtraLib ExtraLibFreetype2
#define DoDebugLib DebugLibFreetype2
#define DoProfileLib ProfileLibFreetype2
#define HasSharedData YES
#define LibName freetype
#define SoRev SOFREETYPE2REV
#ifdef SharedLibtoolFreetype2Rev
#define SharedLibtoolRev SharedLibtoolFreetype2Rev
#endif
#define LibHeaders NO

#include <Threads.tmpl>

FREETYPETOP = $(TOP)/extras/freetype2
FREETYPESRC = $(FREETYPETOP)/src
FREETYPEINC = $(FREETYPETOP)/include/freetype

#ifdef DarwinArchitecture
# if DarwinQuartzSupport
DARWINDEFINES = -DTARGET_API_MAC_CARBON=TRUE
REQUIREDLIBS = -framework CoreServices -framework ApplicationServices
# else
DARWINDEFINES = -DDARWIN_NO_CARBON
# endif
#endif

DEFINES = $(DARWINDEFINES) Freetype2BuildDefines -DXFREE86_FT2

INCLUDES = -I.\
	-I$(FREETYPESRC)\
	-I$(FREETYPESRC)/base\
	-I$(FREETYPESRC)/autofit\
	-I$(FREETYPESRC)/autohint\
	-I$(FREETYPESRC)/bdf\
	-I$(FREETYPESRC)/cff\
	-I$(FREETYPESRC)/cid\
	-I$(FREETYPESRC)/gzip\
	-I$(FREETYPESRC)/lzw\
	-I$(FREETYPESRC)/pcf\
	-I$(FREETYPESRC)/pfr\
	-I$(FREETYPESRC)/psaux\
	-I$(FREETYPESRC)/pshinter\
	-I$(FREETYPESRC)/psnames\
	-I$(FREETYPESRC)/raster\
	-I$(FREETYPESRC)/sfnt\
	-I$(FREETYPESRC)/smooth\
	-I$(FREETYPESRC)/truetype\
	-I$(FREETYPESRC)/type1\
	-I$(FREETYPESRC)/type42\
	-I$(FREETYPESRC)/winfonts\
	$(FREETYPE2INCLUDES)\
	-I$(XBUILDINCDIR)

SUBDIRS=freetype

HEADERS=ft2build.h

SRCS_BASE = ftapi.c \
            ftbase.c \
            ftbbox.c \
            ftbdf.c \
            ftdebug.c \
	    ftgasp.c \
            ftglyph.c \
            ftinit.c \
	    ftlcdfil.c \
            ftmm.c \
	    ftpatent.c \
            ftpfr.c \
            ftstroke.c \
            ftsynth.c \
            ftsystem.c \
            fttype1.c \
            ftwinfnt.c \
            ftxf86.c

OBJS_BASE = ftapi.o \
            ftbase.o \
            ftbbox.o \
            ftbdf.o \
            ftdebug.o \
	    ftgasp.o \
            ftglyph.o \
            ftinit.o \
	    ftlcdfil.o \
            ftmm.o \
	    ftpatent.o \
            ftpfr.o \
            ftstroke.o \
            ftsynth.o \
            ftsystem.o \
            fttype1.o \
            ftwinfnt.o \
            ftxf86.o

SRCS_AUTOFIT  = autofit.c \
		afindic.c
OBJS_AUTOFIT  = autofit.o \
		afindic.o

SRCS_AUTOHINT = autohint.c
OBJS_AUTOHINT = autohint.o

SRCS_BDF      = bdf.c
OBJS_BDF      = bdf.o

SRCS_CFF      = cff.c
OBJS_CFF      = cff.o

SRCS_CID      = type1cid.c
OBJS_CID      = type1cid.o

SRCS_GZIP     = ftgzip.c
OBJS_GZIP     = ftgzip.o

SRCS_LZW      = ftlzw.c
OBJS_LZW      = ftlzw.o

SRCS_PCF      = pcf.c
OBJS_PCF      = pcf.o

SRCS_PFR      = pfr.c
OBJS_PFR      = pfr.o

SRCS_PSAUX    = psaux.c
OBJS_PSAUX    = psaux.o

SRCS_PSHINTER = pshinter.c
OBJS_PSHINTER = pshinter.o

SRCS_PSNAMES  = psnames.c
OBJS_PSNAMES  = psnames.o

SRCS_RASTER   = raster.c
OBJS_RASTER   = raster.o

SRCS_SFNT     = sfnt.c
OBJS_SFNT     = sfnt.o

SRCS_SMOOTH   = smooth.c
OBJS_SMOOTH   = smooth.o

SRCS_TRUETYPE = truetype.c
OBJS_TRUETYPE = truetype.o

SRCS_TYPE1    = type1.c
OBJS_TYPE1    = type1.o

SRCS_TYPE42   = type42.c
OBJS_TYPE42   = type42.o

SRCS_WINFONTS = winfnt.c
OBJS_WINFONTS = winfnt.o

SRCS = $(SRCS_BASE)\
       $(SRCS_AUTOFIT)\
       $(SRCS_AUTOHINT)\
       $(SRCS_BDF)\
       $(SRCS_CFF)\
       $(SRCS_CID)\
       $(SRCS_GZIP)\
       $(SRCS_LZW)\
       $(SRCS_PCF)\
       $(SRCS_PFR)\
       $(SRCS_PSAUX)\
       $(SRCS_PSHINTER)\
       $(SRCS_PSNAMES)\
       $(SRCS_RASTER)\
       $(SRCS_SFNT)\
       $(SRCS_SMOOTH)\
       $(SRCS_TRUETYPE)\
       $(SRCS_TYPE1)\
       $(SRCS_TYPE42)\
       $(SRCS_WINFONTS)

OBJS = $(OBJS_BASE)\
       $(OBJS_AUTOFIT)\
       $(OBJS_AUTOHINT)\
       $(OBJS_BDF)\
       $(OBJS_CFF)\
       $(OBJS_CID)\
       $(OBJS_GZIP)\
       $(OBJS_LZW)\
       $(OBJS_PCF)\
       $(OBJS_PFR)\
       $(OBJS_PSAUX)\
       $(OBJS_PSHINTER)\
       $(OBJS_PSNAMES)\
       $(OBJS_RASTER)\
       $(OBJS_SFNT)\
       $(OBJS_SMOOTH)\
       $(OBJS_TRUETYPE)\
       $(OBJS_TYPE1)\
       $(OBJS_TYPE42)\
       $(OBJS_WINFONTS)


#include <Library.tmpl>

#if DoSharedLib && SharedDataSeparation
SpecialCObjectRule(sharedlib,NullParameter,$(SHLIBDEF))
#endif

#if 0
MANSUFFIX = $(LIBMANSUFFIX)
InstallManPage(Freetype,$(LIBMANDIR))
#endif

BuildIncludes($(HEADERS),.,.)
InstallMultipleFlags($(HEADERS),$(INCDIR),$(INSTINCFLAGS))

/* There might be an ft2build.h file in the wrong place.  If so, remove it. */
install::
	@@if [ -f $(DESTDIR)$(INCDIR)/freetype2/ft2build.h ]; then \
		(set -x; $(RM) -f $(DESTDIR)$(INCDIR)/freetype2/ft2build.h) \
	fi

LinkFile(ft2build.h,$(FREETYPETOP)/builds/unix/ft2unix.h)

LinkSourceFile(ftapi.c,$(FREETYPESRC)/base)
LinkSourceFile(ftbase.c,$(FREETYPESRC)/base)
LinkSourceFile(ftbdf.c,$(FREETYPESRC)/base)
LinkSourceFile(ftbbox.c,$(FREETYPESRC)/base)
LinkSourceFile(ftdebug.c,$(FREETYPESRC)/base)
LinkSourceFile(ftgasp.c,$(FREETYPESRC)/base)
LinkSourceFile(ftglyph.c,$(FREETYPESRC)/base)
LinkSourceFile(ftinit.c,$(FREETYPESRC)/base)
LinkSourceFile(ftlcdfil.c,$(FREETYPESRC)/base)
LinkSourceFile(ftmm.c,$(FREETYPESRC)/base)
LinkSourceFile(ftpatent.c,$(FREETYPESRC)/base)
LinkSourceFile(ftpfr.c,$(FREETYPESRC)/base)
LinkSourceFile(ftstroke.c,$(FREETYPESRC)/base)
LinkSourceFile(ftsynth.c,$(FREETYPESRC)/base)
LinkSourceFile(ftsystem.c,$(FREETYPESRC)/base)
LinkSourceFile(fttype1.c,$(FREETYPESRC)/base)
LinkSourceFile(ftwinfnt.c,$(FREETYPESRC)/base)
LinkSourceFile(ftxf86.c,$(FREETYPESRC)/base)

#if defined(DarwinArchitecture) && DarwinQuartzSupport
LinkSourceFile(ftmac.c,$(FREETYPESRC)/base)
#endif

LinkSourceFile(autofit.c,$(FREETYPESRC)/autofit)
LinkSourceFile(afindic.c,$(FREETYPESRC)/autofit)
LinkSourceFile(autohint.c,$(FREETYPESRC)/autohint)
LinkSourceFile(bdf.c,$(FREETYPESRC)/bdf)
LinkSourceFile(cff.c,$(FREETYPESRC)/cff)
LinkSourceFile(ftgzip.c,$(FREETYPESRC)/gzip)
LinkSourceFile(ftlzw.c,$(FREETYPESRC)/lzw)
LinkSourceFile(type1cid.c,$(FREETYPESRC)/cid)
LinkSourceFile(pcf.c,$(FREETYPESRC)/pcf)
LinkSourceFile(pfr.c,$(FREETYPESRC)/pfr)
LinkSourceFile(psaux.c,$(FREETYPESRC)/psaux)
LinkSourceFile(pshinter.c,$(FREETYPESRC)/pshinter)
LinkSourceFile(psnames.c,$(FREETYPESRC)/psnames)
LinkSourceFile(raster.c,$(FREETYPESRC)/raster)
LinkSourceFile(sfnt.c,$(FREETYPESRC)/sfnt)
LinkSourceFile(smooth.c,$(FREETYPESRC)/smooth)
LinkSourceFile(truetype.c,$(FREETYPESRC)/truetype)
LinkSourceFile(type1.c,$(FREETYPESRC)/type1)
LinkSourceFile(type42.c,$(FREETYPESRC)/type42)
LinkSourceFile(winfnt.c,$(FREETYPESRC)/winfonts)

DependTarget()

DependSubdirs($(SUBDIRS))
@


1.2
log
@Update Imakefiles for new freetype version
@
text
@a104 1
		aflatin2.c \
a106 1
		aflatin2.o \
a251 1
LinkSourceFile(aflatin2.c,$(FREETYPESRC)/autofit)
@


1.1
log
@Initial revision
@
text
@d71 1
d74 1
d76 1
d90 1
d93 1
d95 1
d104 6
a109 2
SRCS_AUTOFIT  = autofit.c
OBJS_AUTOFIT  = autofit.o
d235 1
d238 1
d240 1
d254 2
@


1.1.103.1
log
@Import XFree86 4.5.0 directly from vendor anoncvs, -rxf-4_5_0 xc
at anoncvs@@anoncvs.xfree86.org:/cvs (ssh)
@
text
@@
