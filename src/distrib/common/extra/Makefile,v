head	1.3;
access;
symbols
	MIRBSD_10:1.2.0.2
	MIRBSD_10_BASE:1.2;
locks; strict;
comment	@# @;


1.3
date	2008.07.12.22.06.16;	author tg;	state Exp;
branches;
next	1.2;
commitid	10048792AAF4F6C5252;

1.2
date	2007.08.13.19.55.10;	author tg;	state Exp;
branches;
next	1.1;
commitid	10046C0B6BF22FC7663;

1.1
date	2006.08.17.14.17.47;	author tg;	state Exp;
branches;
next	;
commitid	10044E47A7563EFA504;


desc
@@


1.3
log
@• sparc, i386: rmdir stuff only for i386-big
• sparc: add upgrade.sh
• move sparc bsd.rd from common+sparc to common/extra+sparc-big
• new sparc: stub for floppy building (experimental)
@
text
@# $MirOS: src/distrib/common/extra/Makefile,v 1.2 2007/08/13 19:55:10 tg Exp $

TOPDIR=		${.CURDIR}/../..

.if ${MACHINE} == "i386"
MACHCONF=	i386-big	# bsd.rd, ISO image
.elif ${MACHINE} == "sparc"
MACHCONF=	sparc-big	# bsd.rd, bsd.rd.net
.else
.  error machine not supported
.endif

.include "../Makefile"
@


1.2
log
@nuke the sparc “miniroot”, installboot(8/sparc) didn’t really like it, and
I don’t even exactly know what it is

we’ll make sparc have a floppy ramdisk kernel and a cdrom/bsd.rd.net/bsd.rd
kernel like i386, except that we can’t use a GENERIC for the latter
for now we use the former, which is 300K or so too big for a floppy though,
as the latter and won’t produce a floppy

I want #10 to contain sparc, not in a #10bis to be produced later. That bis
version is to fix these bugs. I want sparc to be make work, and convert all
Debian/sparc32 users to MirBSD.
@
text
@d1 1
a1 1
# $MirOS: src/distrib/common/extra/Makefile,v 1.1 2006/08/17 14:17:47 tg Exp $
d7 2
@


1.1
log
@add two-pass Makefile configuration

distrib/common/Makefile is cloned from
current (to vanish) distrib/ramdisk/Makefile
with listpre changed into listbeg for alphabetical sorting
@
text
@d1 1
a1 1
# $MirOS$
a6 2
.elif ${MACHINE} == "sparc"
MACHCONF=	sparc-mr	# miniroot, no kernel
@

