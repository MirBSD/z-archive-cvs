head	1.19;
access;
symbols
	MIRBSD_10:1.17.0.2
	MIRBSD_10_BASE:1.17;
locks; strict;
comment	@# @;


1.19
date	2010.01.17.00.36.25;	author tg;	state Exp;
branches;
next	1.18;
commitid	1004B525B9F5BDD13C4;

1.18
date	2008.07.12.22.06.14;	author tg;	state dead;
branches;
next	1.17;
commitid	10048792AAF4F6C5252;

1.17
date	2007.10.01.20.28.24;	author tg;	state Exp;
branches;
next	1.16;
commitid	1004701587B3C134699;

1.16
date	2007.08.28.23.00.21;	author tg;	state Exp;
branches;
next	1.15;
commitid	10046D4A90621088478;

1.15
date	2007.08.12.21.17.58;	author tg;	state Exp;
branches;
next	1.14;
commitid	10046BF79160DC9FB4B;

1.14
date	2007.08.12.14.02.37;	author tg;	state Exp;
branches;
next	1.13;
commitid	10046BF13080266B586;

1.13
date	2007.07.19.16.35.58;	author tg;	state Exp;
branches;
next	1.12;
commitid	100469F92FB6EFB742E;

1.12
date	2007.07.08.15.00.30;	author tg;	state Exp;
branches;
next	1.11;
commitid	1004690FC0552C0A95C;

1.11
date	2007.05.27.00.58.25;	author tg;	state Exp;
branches;
next	1.10;
commitid	1004658D7B77543EC8D;

1.10
date	2007.05.26.23.07.39;	author tg;	state Exp;
branches;
next	1.9;
commitid	1004658BDC67F057CE1;

1.9
date	2007.02.19.22.19.04;	author tg;	state Exp;
branches;
next	1.8;
commitid	10045DA21973FF281A0;

1.8
date	2007.01.26.19.05.09;	author tg;	state Exp;
branches;
next	1.7;
commitid	10045BA50F367A6564C;

1.7
date	2007.01.26.18.15.23;	author tg;	state Exp;
branches;
next	1.6;
commitid	10045BA452D00913582;

1.6
date	2007.01.26.16.00.27;	author tg;	state Exp;
branches;
next	1.5;
commitid	10045BA2577659FBC69;

1.5
date	2006.10.07.23.29.13;	author tg;	state Exp;
branches;
next	1.4;
commitid	100452838586FBE9244;

1.4
date	2006.08.19.14.35.59;	author tg;	state Exp;
branches;
next	1.3;
commitid	10044E721DE2D57AB8F;

1.3
date	2006.08.19.11.49.05;	author tg;	state Exp;
branches;
next	1.2;
commitid	10044E6FAC43A76B73A;

1.2
date	2006.08.18.20.48.47;	author tg;	state Exp;
branches;
next	1.1;
commitid	10044E627C4580B7224;

1.1
date	2006.08.17.19.34.16;	author tg;	state Exp;
branches;
next	;
commitid	10044E4C48801BF3A85;


desc
@@


1.19
log
@• modularise floppy configuration and let sparc/floppy use the common one,
  adding some to it
• nuke printf(1) we have mksh(1) print builtin
@
text
@# $MirOS: src/distrib/common/listend.sparc-big,v 1.6 2009/04/16 13:20:23 tg Exp $
@


1.18
log
@• sparc, i386: rmdir stuff only for i386-big
• sparc: add upgrade.sh
• move sparc bsd.rd from common+sparc to common/extra+sparc-big
• new sparc: stub for floppy building (experimental)
@
text
@d1 1
a1 17
# $MirOS: src/distrib/common/listend.sparc,v 1.17 2007/10/01 20:28:24 tg Exp $

# extra programmes
LINK	instbin					bin/mt
LINK	instbin					sbin/restore
LINK	instbin					sbin/scsi
LINK	instbin					usr/bin/find
LINK	instbin					usr/bin/more usr/bin/less
LINK	instbin					usr/sbin/eeprom

# devices stuff
SPECIAL	cd dev; ./MAKEDEV ptm pty0; rm ?typ[a-zA-Z]
SPECIAL	cd dev; ./MAKEDEV ramdisk

# install stuff
SCRIPT	${TOPDIR}/common/install.sparc		install.md
SPECIAL	chmod 755 install.md
@


1.17
log
@this will fit
@
text
@d1 1
a1 1
# $MirOS: src/distrib/common/listend.sparc,v 1.16 2007/08/28 23:00:21 tg Exp $
@


1.16
log
@die, wsemul_sun, die
users should use the “wsvtg” terminal type now (or their serial one)
@
text
@d1 1
a1 1
# $MirOS: src/distrib/common/listend.sparc,v 1.15 2007/08/12 21:17:58 tg Exp $
a17 3

# in case NFS doesn't fit
#REMOVE	sbin/mount_nfs
@


1.15
log
@full sync; for now, no floppy (but bsd.rd) and no more miniroot for the sparc, I just wanna have a snapshot; built with QUICK_DISK2 so no X11, ports, HTML manpages, etc.; tbf l8er
@
text
@d1 1
a1 1
# $MirOS: src/distrib/common/listend.sparc,v 1.14 2007/08/12 14:02:37 tg Exp $
a13 1
TERMCAP	vt100,vt220,wsvt25,dumb,sun		usr/share/misc/termcap
@


1.14
log
@no ping6(8) for the sparc floppy either, doesn't fit
@
text
@d1 1
a1 1
# $MirOS: src/distrib/common/listend.sparc,v 1.13 2007/07/19 16:35:58 tg Exp $
a8 1
LINK	instbin					usr/bin/sort
@


1.13
log
@makefs: Writing inode 4 (/usr/obj/distrib/common/tmpdata/bsd), bytes 1400832 + 2461: No space left on device
@
text
@d1 1
a1 1
# $MirOS: src/distrib/common/listend.sparc,v 1.12 2007/07/08 15:00:30 tg Exp $
a4 1
LINK	instbin					sbin/ping6
@


1.12
log
@• always pack sync, rdate on the ramdisc, it even fits the i386 floppy
• make rdate a little smaller, convert sync to __IDSTRING() too
@
text
@d1 1
a1 1
# $MirOS: src/distrib/common/listend.sparc,v 1.11 2007/05/27 00:58:25 tg Exp $
d10 1
@


1.11
log
@ping6 is too large tho. chroot really does fit
@
text
@d1 1
a1 1
# $MirOS: src/distrib/common/listend.sparc,v 1.10 2007/05/26 23:07:39 tg Exp $
a4 1
LINK	instbin					bin/sync
@


1.10
log
@mh ok, ping6 and chroot are small enough to be omnipresent (I hope)
@
text
@d1 1
a1 1
# $MirOS: src/distrib/common/listend.sparc,v 1.9 2007/02/19 22:19:04 tg Exp $
d6 1
@


1.9
log
@* we need /dev/{p,t}typ[0-9] (at least a few) and maybe /dev/ptm on the
  floppies because script(1) requires them, obviously
* i386: add 8 ptys to the kernel, make room by removing two GigE NICs
  (XXX sparc kernels not in sync, but that are they anyways)
* i386: since it fits now, INCLUDE_CONFIG_FILE

tested in qemu w/ 16 MiB RAM (9.3 avail for userland => 12 MiB should be safe)
@
text
@d1 1
a1 1
# $MirOS: src/distrib/common/listend.sparc,v 1.8 2007/01/26 19:05:09 tg Exp $
a5 1
LINK	instbin					sbin/ping6
@


1.8
log
@'REMOVE' doesn't work as planned, revert that part
@
text
@d1 1
a1 1
# $MirOS: src/distrib/common/listend.sparc,v 1.7 2007/01/26 18:15:23 tg Exp $
d14 1
@


1.7
log
@unify lists where possible and use REMOVE for non-fits
@
text
@d1 1
a1 1
# $MirOS: src/distrib/common/listend.sparc,v 1.6 2007/01/26 16:00:27 tg Exp $
d5 5
@


1.6
log
@* kernel pppd(8) doesn't fit on the floppy, remove it
* ping6 will probably fit now
* also remove SLIP - sl(4) - since slattach(8) wasn't on the disc either
* remove /etc/ppp/peers from mtree, ppp(8) doesn't use it
@
text
@d1 1
a1 1
# $MirOS: src/distrib/common/listend.sparc,v 1.5 2006/10/07 23:29:13 tg Exp $
a4 3
LINK	instbin					bin/sync
LINK	instbin					sbin/restore
LINK	instbin					sbin/scsi
@


1.5
log
@on sparc, use the nvram to provide some additional entropy
@
text
@d1 1
a1 1
# $MirOS: src/distrib/common/listend.sparc,v 1.4 2006/08/19 14:35:59 tg Exp $
a5 1
LINK	instbin					sbin/ping6
@


1.4
log
@attempt to fit the ramdisk on the floppy
@
text
@d1 1
a1 1
# $MirOS: src/distrib/common/listend.sparc,v 1.3 2006/08/19 11:49:05 tg Exp $
d10 1
@


1.3
log
@no comments in mid-line
@
text
@d1 1
a1 1
# $MirOS: src/distrib/common/listend.sparc,v 1.2 2006/08/18 20:48:47 tg Exp $
d6 1
d8 1
@


1.2
log
@fix paths, etc.
@
text
@d1 1
a1 1
# $MirOS: src/distrib/common/listend.sparc,v 1.1 2006/08/17 19:34:16 tg Exp $
d15 1
a15 2
#SCRIPT	${TOPDIR}/common/upgrade.sh		upgrade
SPECIAL	chmod 755 install.md #upgrade
@


1.1
log
@move stuff required for images from miniroot/ and ramdisk/ to common/

PS: now's probably the time to not merge these with openbsd any more

PPS: this commit sponsored by johl's DEC VT320 @@9600,8n1 on NetBSD 1.6.1/pmax
@
text
@d1 1
a1 1
# $MirOS: src/distrib/ramdisk/listend.sparc,v 1.2 2006/08/17 14:09:22 tg Exp $
d15 1
a15 1
#SCRIPT	${TOPDIR}/miniroot/upgrade.sh		upgrade
@

