head	1.6;
access;
symbols;
locks; strict;
comment	@# @;


1.6
date	2007.08.13.19.55.10;	author tg;	state dead;
branches;
next	1.5;
commitid	10046C0B6BF22FC7663;

1.5
date	2006.09.29.22.25.36;	author tg;	state Exp;
branches;
next	1.4;
commitid	100451D9D66097EBA5E;

1.4
date	2006.08.19.14.52.54;	author tg;	state Exp;
branches;
next	1.3;
commitid	10044E725D6283B3F85;

1.3
date	2006.08.19.11.46.07;	author tg;	state Exp;
branches;
next	1.2;
commitid	10044E6FA0335217B0F;

1.2
date	2006.08.18.21.42.34;	author tg;	state Exp;
branches;
next	1.1;
commitid	10044E6345A5D5D2E33;

1.1
date	2006.08.18.21.08.02;	author tg;	state Exp;
branches;
next	;
commitid	10044E62C491BAE1536;


desc
@@


1.6
log
@nuke the sparc “miniroot”, installboot(8/sparc) didn’t really like it, and
I don’t even exactly know what it is

we’ll make sparc have a floppy ramdisk kernel and a cdrom/bsd.rd.net/bsd.rd
kernel like i386, except that we can’t use a GENERIC for the latter
for now we use the former, which is 300K or so too big for a floppy though,
as the latter and won’t produce a floppy

I want #10 to contain sparc, not in a #10bis to be produced later. That bis
version is to fix these bugs. I want sparc to be make work, and convert all
Debian/sparc32 users to MirBSD.
@
text
@# $MirOS: src/distrib/common/Makefile.sparc-mr,v 1.5 2006/09/29 22:25:36 tg Exp $

RAWLABEL=

LISTS=		${TOPDIR}/common/listbeg.${MACHINE} ${TOPDIR}/common/list \
		${TOPDIR}/common/listend.${MACHCONF}

IMAGE=		miniroot${OSrev}.fs
IMAGESIZE=	12288
IMAGETYPE=	miniroot
IMAGE_PREP=	${SUDO} ${DESTDIR}/usr/mdec/installboot -v \
		    ${WRKDIR}/boot ${BOOTXX} ${VND_CRDEV}

KERNEL_BUILD=	No
KERNEL_BSDRD=	No
FLOPPY=		no
CDROM=		no

INST_FILES=	${IMAGE}

${IMAGE}: ${BSDOBJDIR}/distrib/generic/bsd
@


1.5
log
@really make the disklabel binary with no integrated manpage
only for the i386 small floppy, nothing else
@
text
@d1 1
a1 1
# $MirOS: src/distrib/common/Makefile.sparc-mr,v 1.4 2006/08/19 14:52:54 tg Exp $
@


1.4
log
@sync path to GENERIC with what the list uses
@
text
@d1 1
a1 1
# $MirOS: src/distrib/common/Makefile.sparc-mr,v 1.3 2006/08/19 11:46:07 tg Exp $
d16 2
a17 2
FLOPPY=		No
CDROM=		No
@


1.3
log
@* use a workdir in addition to the temporary mount point
* mtree needs -U not -u
@
text
@d1 1
a1 1
# $MirOS: src/distrib/common/Makefile.sparc-mr,v 1.2 2006/08/18 21:42:34 tg Exp $
d21 1
a21 1
${IMAGE}: ${REALOBJDIR}/../generic/bsd
@


1.2
log
@add an explicit dependency on the GENERIC kernel
@
text
@d1 1
a1 1
# $MirOS: src/distrib/common/Makefile.sparc-mr,v 1.1 2006/08/18 21:08:02 tg Exp $
d12 1
a12 1
		    ${TMPMOUNT}/boot ${BOOTXX} ${VND_CRDEV}
@


1.1
log
@migrate miniroot into the new unified image generation system
@
text
@d1 1
a1 1
# $MirOS$
d20 2
@

