head	1.11;
access;
symbols;
locks; strict;
comment	@# @;


1.11
date	2007.08.13.19.55.10;	author tg;	state dead;
branches;
next	1.10;
commitid	10046C0B6BF22FC7663;

1.10
date	2007.07.19.16.35.58;	author tg;	state Exp;
branches;
next	1.9;
commitid	100469F92FB6EFB742E;

1.9
date	2007.07.08.15.00.30;	author tg;	state Exp;
branches;
next	1.8;
commitid	1004690FC0552C0A95C;

1.8
date	2007.05.27.00.58.25;	author tg;	state Exp;
branches;
next	1.7;
commitid	1004658D7B77543EC8D;

1.7
date	2007.05.26.23.07.39;	author tg;	state Exp;
branches;
next	1.6;
commitid	1004658BDC67F057CE1;

1.6
date	2007.01.26.19.05.09;	author tg;	state Exp;
branches;
next	1.5;
commitid	10045BA50F367A6564C;

1.5
date	2007.01.26.18.15.23;	author tg;	state Exp;
branches;
next	1.4;
commitid	10045BA452D00913582;

1.4
date	2007.01.26.18.12.05;	author tg;	state Exp;
branches;
next	1.3;
commitid	10045BA44862D506385;

1.3
date	2007.01.26.16.00.27;	author tg;	state Exp;
branches;
next	1.2;
commitid	10045BA2577659FBC69;

1.2
date	2006.08.19.14.35.59;	author tg;	state Exp;
branches;
next	1.1;
commitid	10044E721DE2D57AB8F;

1.1
date	2006.08.18.21.08.02;	author tg;	state Exp;
branches;
next	;
commitid	10044E62C491BAE1536;


desc
@@


1.11
log
@nuke the sparc “miniroot”, installboot(8/sparc) didn’t really like it, and
I don’t even exactly know what it is

we’ll make sparc have a floppy ramdisk kernel and a cdrom/bsd.rd.net/bsd.rd
kernel like i386, except that we can’t use a GENERIC for the latter
for now we use the former, which is 300K or so too big for a floppy though,
as the latter and won’t produce a floppy

I want #10 to contain sparc, not in a #10bis to be produced later. That bis
version is to fix these bugs. I want sparc to be make work, and convert all
Debian/sparc32 users to MirBSD.
@
text
@# $MirOS: src/distrib/common/listend.sparc-mr,v 1.10 2007/07/19 16:35:58 tg Exp $

# extra programmes
LINK	instbin					bin/mt
LINK	instbin					sbin/ping6
LINK	instbin					sbin/restore
LINK	instbin					sbin/scsi
LINK	instbin					usr/bin/find
LINK	instbin					usr/bin/less usr/bin/more
LINK	instbin					usr/bin/sort
LINK	instbin					usr/sbin/eeprom

# devices stuff
SPECIAL	cd dev; ./MAKEDEV all
TERMCAP	vt100,vt220,wsvt25,dumb,sun		usr/share/misc/termcap

# install stuff
SCRIPT	${TOPDIR}/common/install.sparc		install.md
SCRIPT	${TOPDIR}/common/upgrade.sh		upgrade
SPECIAL	chmod 755 install.md upgrade

# kernel and bootloader
COPY	${BSDOBJDIR}/distrib/generic/bsd	bsd
COPY	${DESTDIR}/usr/mdec/boot		boot
@


1.10
log
@makefs: Writing inode 4 (/usr/obj/distrib/common/tmpdata/bsd), bytes 1400832 + 2461: No space left on device
@
text
@d1 1
a1 1
# $MirOS: src/distrib/common/listend.sparc-mr,v 1.9 2007/07/08 15:00:30 tg Exp $
@


1.9
log
@• always pack sync, rdate on the ramdisc, it even fits the i386 floppy
• make rdate a little smaller, convert sync to __IDSTRING() too
@
text
@d1 1
a1 1
# $MirOS: src/distrib/common/listend.sparc-mr,v 1.8 2007/05/27 00:58:25 tg Exp $
d10 1
@


1.8
log
@ping6 is too large tho. chroot really does fit
@
text
@d1 1
a1 1
# $MirOS: src/distrib/common/listend.sparc-mr,v 1.7 2007/05/26 23:07:39 tg Exp $
a4 1
LINK	instbin					bin/sync
@


1.7
log
@mh ok, ping6 and chroot are small enough to be omnipresent (I hope)
@
text
@d1 1
a1 1
# $MirOS: src/distrib/common/listend.sparc-mr,v 1.6 2007/01/26 19:05:09 tg Exp $
d6 1
@


1.6
log
@'REMOVE' doesn't work as planned, revert that part
@
text
@d1 1
a1 1
# $MirOS: src/distrib/common/listend.sparc-mr,v 1.5 2007/01/26 18:15:23 tg Exp $
a5 1
LINK	instbin					sbin/ping6
@


1.5
log
@unify lists where possible and use REMOVE for non-fits
@
text
@d1 1
a1 1
# $MirOS: src/distrib/common/listend.sparc-mr,v 1.3 2007/01/26 16:00:27 tg Exp $
d5 5
@


1.4
log
@sparc miniroot was missing eeprom(8)
@
text
@a4 3
LINK	instbin					bin/sync
LINK	instbin					sbin/restore
LINK	instbin					sbin/scsi
@


1.3
log
@* kernel pppd(8) doesn't fit on the floppy, remove it
* ping6 will probably fit now
* also remove SLIP - sl(4) - since slattach(8) wasn't on the disc either
* remove /etc/ppp/peers from mtree, ppp(8) doesn't use it
@
text
@d1 1
a1 1
# $MirOS: src/distrib/common/listend.sparc-mr,v 1.2 2006/08/19 14:35:59 tg Exp $
d9 1
@


1.2
log
@attempt to fit the ramdisk on the floppy
@
text
@d1 1
a1 1
# $MirOS: src/distrib/common/listend.sparc-mr,v 1.1 2006/08/18 21:08:02 tg Exp $
a5 1
LINK	instbin					sbin/ping6
@


1.1
log
@migrate miniroot into the new unified image generation system
@
text
@d1 1
a1 1
# $MirOS: src/distrib/common/listend.sparc,v 1.2 2006/08/18 20:48:47 tg Exp $
d6 1
d8 1
@

