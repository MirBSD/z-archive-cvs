head	1.8;
access;
symbols
	MIRBSD_9_BASE:1.4
	MIRBSD_8:1.3.0.2
	MIRBSD_8_BASE:1.3
	cvs-200507211800:1.1.1.1
	openbsd:1.1.1;
locks; strict;
comment	@# @;


1.8
date	2006.08.17.19.58.06;	author tg;	state dead;
branches;
next	1.7;
commitid	10044E4CA2D0E8EFBD4;

1.7
date	2006.07.26.22.42.12;	author tg;	state Exp;
branches;
next	1.6;
commitid	10044C7EFC225F44A35;

1.6
date	2006.07.05.04.47.33;	author tg;	state Exp;
branches;
next	1.5;
commitid	10044AB44655A7A8A55;

1.5
date	2006.07.03.22.08.05;	author tg;	state Exp;
branches;
next	1.4;
commitid	10044A9955565E81421;

1.4
date	2006.06.11.01.08.30;	author tg;	state Exp;
branches;
next	1.3;
commitid	100448B6D170B979B25;

1.3
date	2005.12.04.17.11.04;	author tg;	state Exp;
branches;
next	1.2;
commitid	25b843932324064d;

1.2
date	2005.03.06.18.58.05;	author tg;	state Exp;
branches;
next	1.1;

1.1
date	2005.02.05.17.22.10;	author tg;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2005.02.05.17.22.10;	author tg;	state Exp;
branches;
next	;


desc
@@


1.8
log
@* new Makefile structure
* move i386/livecd into baselive/ and sub-directory-structure appropriately
* rid unneeded files
* ifdef out build of rescue tools not needed on certain arches
@
text
@# $MirOS: src/distrib/sparc/Makefile,v 1.7 2006/07/26 22:42:12 tg Exp $

.include <bsd.own.mk>

REL_NO_GENERIC?=No
REL_NO_RAMDISK?=No

.if make(obj) || make(clean) || make(cleandir) || make(cleannobsd)
_DESCEND=	yes
.else
_DESCEND=	no
.endif

SUBDIR=

.if ${_DESCEND} == "yes" || ${REL_NO_GENERIC:L} != "yes"
SUBDIR+=	../generic
.endif

.if ${_DESCEND} == "yes" || ${REL_NO_RAMDISK:L} != "yes"
SUBDIR+=	../ramdisk
#SUBDIR+=	../miniroot
.endif

cleannobsd: _SUBDIRUSE

unconfig:
	-cd ../ramdisk && ${MAKE} unconfig

.include <bsd.subdir.mk>
@


1.7
log
@simplify building rules, now that the
special handling of the floppy and ISO is gone
XXX still not completed
@
text
@d1 1
a1 1
# $MirOS: src/distrib/sparc/Makefile,v 1.6 2006/07/05 04:47:33 tg Exp $
@


1.6
log
@* don't attempt to build a miniroot (yet)
* sync sparc autoiso with i386
@
text
@d1 1
a1 1
# $MirOS: src/distrib/sparc/Makefile,v 1.5 2006/07/03 22:08:05 tg Exp $
a4 2
REL_NO_KERNEL?=	No
.if ${REL_NO_KERNEL:L} != "yes"
a6 14
REL_NO_MINIROOT?=No
REL_NO_FLOPPY?=	No
REL_NO_AUTOISO?=No
.else
REL_NO_GENERIC=	Yes
REL_NO_RAMDISK=	Yes
REL_NO_MINIROOT=Yes
REL_NO_FLOPPY=	Yes
REL_NO_AUTOISO=	Yes
.endif

.if ${REL_NO_RAMDISK:L} == "yes"
REL_NO_AUTOISO=	Yes
.endif
a21 3
.endif

.if ${_DESCEND} == "yes" || ${REL_NO_MINIROOT:L} != "yes"
a24 5
.if ${_DESCEND} == "yes" || ${REL_NO_AUTOISO:L} != "yes"
SUBDIR+=	cdfs
.endif


@


1.5
log
@unify build of GENERIC kernels
@
text
@d1 1
a1 1
# $MirOS: src/distrib/sparc/Makefile,v 1.4 2006/06/11 01:08:30 tg Exp $
d41 1
a41 1
SUBDIR+=	../miniroot
@


1.4
log
@bring some sparc kernel build infrastructure up to date
@
text
@d1 1
a1 1
# $MirOS: src/distrib/sparc/Makefile,v 1.3 2005/12/04 17:11:04 tg Exp $
d33 1
a33 1
SUBDIR+=	generic
@


1.3
log
@faint attempt at making this more useful, eventually build a floppy
also, remove the -ksh argvlink, it shan't be needed any longer
@
text
@d1 1
a1 1
# $MirOS: src/distrib/sparc/Makefile,v 1.2 2005/03/06 18:58:05 tg Exp $
d7 1
d13 1
d32 4
@


1.2
log
@merge src/distrib
@
text
@d1 1
a1 1
# $MirOS$
a3 1
.include "../Makefile.inc"
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.6 2003/03/05 23:17:20 deraadt Exp $
d3 45
a47 1
SUBDIR+= ../ramdisk ../miniroot cdfs
@


1.1.1.1
log
@Import the OpenBSD foundation of MirOS BSD
@
text
@@
