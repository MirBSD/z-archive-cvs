head	1.23;
access;
symbols
	MIRBSD_10:1.18.0.2
	MIRBSD_10_BASE:1.18
	MIRBSD_9_BASE:1.7
	MIRBSD_8:1.4.0.2
	MIRBSD_8_BASE:1.4
	cvs-200507211800:1.1.1.2
	openbsd:1.1.1;
locks; strict;
comment	@# @;


1.23
date	2016.11.06.21.31.40;	author tg;	state Exp;
branches;
next	1.22;
commitid	100581FA14A01518D2F;

1.22
date	2016.03.12.13.27.23;	author tg;	state Exp;
branches;
next	1.21;
commitid	10056E419426DD9E756;

1.21
date	2016.03.12.12.53.29;	author tg;	state Exp;
branches;
next	1.20;
commitid	10056E4116046C639BE;

1.20
date	2012.09.07.20.08.35;	author tg;	state Exp;
branches;
next	1.19;
commitid	100504A545A111982C3;

1.19
date	2009.04.17.19.15.35;	author tg;	state Exp;
branches;
next	1.18;
commitid	10049E8D56E59DBE64B;

1.18
date	2007.08.12.13.19.06;	author tg;	state Exp;
branches;
next	1.17;
commitid	10046BF08DC24B24AA7;

1.17
date	2007.07.08.08.57.37;	author tg;	state Exp;
branches;
next	1.16;
commitid	1004690A703256C54D5;

1.16
date	2007.03.10.19.34.27;	author tg;	state Exp;
branches;
next	1.15;
commitid	10045F3082360E3237C;

1.15
date	2007.02.18.01.55.22;	author tg;	state Exp;
branches;
next	1.14;
commitid	10045D7B21A57601D00;

1.14
date	2007.01.26.18.57.22;	author tg;	state Exp;
branches;
next	1.13;
commitid	10045BA4F0C3449D669;

1.13
date	2007.01.26.18.50.26;	author tg;	state Exp;
branches;
next	1.12;
commitid	10045BA4D7D4C75A755;

1.12
date	2007.01.26.18.39.48;	author tg;	state Exp;
branches;
next	1.11;
commitid	10045BA4AF5105CC93C;

1.11
date	2006.09.29.22.25.36;	author tg;	state Exp;
branches;
next	1.10;
commitid	100451D9D66097EBA5E;

1.10
date	2006.09.22.15.40.02;	author tg;	state Exp;
branches;
next	1.9;
commitid	100451403D14F4F79D8;

1.9
date	2006.08.17.20.13.28;	author tg;	state Exp;
branches;
next	1.8;
commitid	10044E4CDC665B777C8;

1.8
date	2006.08.17.19.58.06;	author tg;	state Exp;
branches;
next	1.7;
commitid	10044E4CA2D0E8EFBD4;

1.7
date	2006.05.26.18.49.49;	author tg;	state Exp;
branches;
next	1.6;
commitid	10044774DD80387F5CD;

1.6
date	2006.05.15.19.20.17;	author tg;	state Exp;
branches;
next	1.5;
commitid	1004468D4787674941C;

1.5
date	2006.02.24.01.37.37;	author tg;	state Exp;
branches;
next	1.4;
commitid	10043FE634705689581;

1.4
date	2005.12.21.18.02.14;	author tg;	state Exp;
branches;
next	1.3;
commitid	10043A998B432EF7343;

1.3
date	2005.07.24.16.44.17;	author tg;	state Exp;
branches;
next	1.2;
commitid	377c42e3c570e5b3;

1.2
date	2005.03.06.18.58.08;	author tg;	state Exp;
branches;
next	1.1;

1.1
date	2005.02.05.17.22.10;	author tg;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2005.02.05.17.22.10;	author tg;	state Exp;
branches;
next	1.1.1.2;

1.1.1.2
date	2005.07.21.20.45.47;	author tg;	state Exp;
branches;
next	;
commitid	560042e0092f571e;


desc
@@


1.23
log
@no longer necessary, /bin/ed is now built without DES
@
text
@# $MirOS: src/distrib/special/Makefile,v 1.22 2016/03/12 13:27:23 tg Exp $
#-
# Tools which must be compiled differently for
# the small or floppy ramdiscs because of missing
# libraries or simply to be smaller

.if ${MACHINE} == "i386"
# SUBDIR+=	chat		# i386 floppy
.endif
  SUBDIR+=	chkuterm	# i386 floppy + bsd.rd, sparc floppy + mr
  SUBDIR+=	dl-noman	# both floppy, without integrated manpage
  SUBDIR+=	dmesg		# i386 floppy, sparc floppy + miniroot
.if ${MACHINE} == "i386"
  SUBDIR+=	fdisk		# i386 floppy, without integrated manpage
.endif
  SUBDIR+=	ftp		# i386 floppy, sparc floppy + miniroot
  SUBDIR+=	init		# i386 floppy + bsd.rd, sparc floppy + mr
.if ${MACHINE} == "i386"
  SUBDIR+=	isdnd		# i386 bsd.rd
.endif
  SUBDIR+=	less		# i386 bsd.rd, sparc miniroot
  SUBDIR+=	mksh		# i386 floppy, sparc floppy + miniroot
  SUBDIR+=	more		# i386 floppy, sparc floppy
  SUBDIR+=	pax		# i386 floppy, sparc floppy + miniroot
.if ${MACHINE} == "i386"
  SUBDIR+=	ppp		# i386 bsd.rd
# SUBDIR+=	pppd		# i386 floppy
.endif
  SUBDIR+=	rdate		# i386 floppy + bsd.rd, sparc floppy + mr
  SUBDIR+=	script		# i386 floppy + bsd.rd, sparc floppy + mr
.if ${MACHINE} == "i386"
  SUBDIR+=	sshd		# i386 bsd.rd
.endif
  SUBDIR+=	vnconfig	# i386 floppy, sparc floppy + miniroot

.include <bsd.subdir.mk>
@


1.22
log
@the listbeg.* files do pick it automatically up, on sparc
@
text
@d1 1
a1 1
# $MirOS: src/distrib/special/Makefile,v 1.21 2016/03/12 12:53:29 tg Exp $
a12 1
  SUBDIR+=	ed		# i386 floppy, sparc floppy + miniroot
@


1.21
log
@begin stripping down pax for the floppy: drop uar support
@
text
@d1 1
a1 1
# $MirOS: src/distrib/special/Makefile,v 1.20 2012/09/07 20:08:35 tg Exp $
d25 1
a26 1
  SUBDIR+=	pax		# i386 floppy, could be useful on sparc too
@


1.20
log
@sync
@
text
@d1 1
a1 1
# $MirOS: src/distrib/special/Makefile,v 1.19 2009/04/17 19:15:35 tg Exp $
d26 1
@


1.19
log
@connect ed
@
text
@d1 1
a1 1
# $MirOS: src/distrib/special/Makefile,v 1.18 2007/08/12 13:19:06 tg Exp $
d11 1
a11 3
.if ${MACHINE} == "i386"
  SUBDIR+=	dl-noman	# i386 floppy, without integrated manpage
.endif
@


1.18
log
@rdate is in common/list
@
text
@d1 1
a1 1
# $MirOS: src/distrib/special/Makefile,v 1.17 2007/07/08 08:57:37 tg Exp $
d15 1
@


1.17
log
@forgot to add subdir. the error message was... interesting
@
text
@d1 1
a1 1
# $MirOS: src/distrib/special/Makefile,v 1.16 2007/03/10 19:34:27 tg Exp $
a28 1
  SUBDIR+=	rdate		# i386 bsd.rd, for now; maybe it fits...
d30 1
@


1.16
log
@• listbeg.i386-big, distrib/special*, isdnd: fallout from recent
  CPPFLAGS fix in <bsd.sys.mk>
• distrib/lists: sync
@
text
@d1 1
a1 1
# $MirOS: src/distrib/special/Makefile,v 1.15 2007/02/18 01:55:22 tg Exp $
d29 1
@


1.15
log
@add chkuterm and script to all builds
@
text
@d1 1
a1 1
# $MirOS: src/distrib/special/Makefile,v 1.14 2007/01/26 18:57:22 tg Exp $
d20 3
@


1.14
log
@* add comment what media use what programmes
* sparc miniroot needs less
@
text
@d1 1
a1 1
# $MirOS: src/distrib/special/Makefile,v 1.13 2007/01/26 18:50:26 tg Exp $
d9 3
d26 3
@


1.13
log
@no need to build chat(8) and pppd(8) any more, they're commented out anyway
@
text
@d1 1
a1 1
# $MirOS: src/distrib/special/Makefile,v 1.12 2007/01/26 18:39:48 tg Exp $
d8 2
a9 2
# SUBDIR+=	chat
  SUBDIR+=	dl-noman	# without integrated manpage
d11 1
a11 1
  SUBDIR+=	dmesg
d13 1
a13 1
  SUBDIR+=	fdisk		# without integrated manpage
d15 5
a19 2
  SUBDIR+=	ftp
  SUBDIR+=	init
d21 3
a23 1
  SUBDIR+=	less
d25 1
a25 8
  SUBDIR+=	mksh
  SUBDIR+=	more
.if ${MACHINE} == "i386"
  SUBDIR+=	ppp
# SUBDIR+=	pppd
  SUBDIR+=	sshd
.endif
  SUBDIR+=	vnconfig
@


1.12
log
@place a MKSH_SMALL on the i386 floppy and sparc floppy and miniroot
(not on the i386 bsd.rd)
@
text
@d1 1
a1 1
# $MirOS: src/distrib/special/Makefile,v 1.11 2006/09/29 22:25:36 tg Exp $
d8 1
a8 1
  SUBDIR+=	chat
d24 1
a24 1
  SUBDIR+=	pppd
@


1.11
log
@really make the disklabel binary with no integrated manpage
only for the i386 small floppy, nothing else
@
text
@d1 1
a1 1
# $MirOS: src/distrib/special/Makefile,v 1.10 2006/09/22 15:40:02 tg Exp $
d20 1
@


1.10
log
@try to shrink the i386 floppy by omitting the fdisk and disklabel
built-in manpages - hopefully doesn't affect i386 bsd.rd and sparc all
@
text
@d1 1
a1 1
# $MirOS: src/distrib/special/Makefile,v 1.9 2006/08/17 20:13:28 tg Exp $
d9 1
a9 1
  SUBDIR+=	disklabel	# without integrated manpage
@


1.9
log
@remove the need for an explicit directory 'ramtools'
by using the CRUNCHSPECIAL foo SRCDIR special/foo
directive and not using SRCDIR special in i386-big.

XXX look to reduce this - can we use stock less+ppp, simplify sshd?
@
text
@d1 1
a1 1
# $MirOS: src/distrib/special/Makefile,v 1.8 2006/08/17 19:58:06 tg Exp $
d9 1
d12 3
@


1.8
log
@* new Makefile structure
* move i386/livecd into baselive/ and sub-directory-structure appropriately
* rid unneeded files
* ifdef out build of rescue tools not needed on certain arches
@
text
@d1 1
a1 1
# $MirOS: src/distrib/special/Makefile,v 1.7 2006/05/26 18:49:49 tg Exp $
d12 4
d18 1
d20 1
@


1.7
log
@remove "no-libz" grep, we add libz anyway
@
text
@d1 1
a1 1
# $MirOS: src/distrib/special/Makefile,v 1.6 2006/05/15 19:20:17 tg Exp $
d7 1
d9 1
d13 1
d15 1
@


1.6
log
@use the SMALL tools only for the floppy
@
text
@d1 1
a1 1
# $MirOS$
a9 1
  SUBDIR+=	grep
@


1.5
log
@add a stub lib so that OpenSSL is not pulled in,
but normal vnconfig(8) operation is not hindered
on the floppy and in addition, cryptographic use
is not prevented on the big ramdisk (as it would
if we'd add -DSMALL and special/vnconfig).
@
text
@d1 5
a5 1
# $MirOS: src/distrib/special/Makefile,v 1.4 2005/12/21 18:02:14 tg Exp $
d7 7
a13 1
SUBDIR=	chat dmesg ftp grep init isdnd less more nocrypto ppp pppd sshd
@


1.4
log
@the special dhclient is no longer needed
@
text
@d1 1
a1 1
# $MirOS: src/distrib/special/Makefile,v 1.3 2005/07/24 16:44:17 tg Exp $
d3 1
a3 1
SUBDIR=	chat dmesg ftp grep init isdnd less more ppp pppd sshd
@


1.3
log
@merge and obsolete special kbd (we just use the generic one)
@
text
@d1 1
a1 2
# $MirOS: src/distrib/special/Makefile,v 1.2 2005/03/06 18:58:08 tg Exp $
# $OpenBSD: Makefile,v 1.12 2004/12/25 11:22:18 deraadt Exp $
d3 1
a3 2
SUBDIR=	chat dhclient dmesg ftp grep init \
	isdnd less more ppp pppd sshd
@


1.2
log
@merge src/distrib
@
text
@d1 2
a2 2
# $MirOS$
# $OpenBSD: Makefile,v 1.11 2004/01/03 00:19:30 deraadt Exp $
d5 1
a5 1
	isdnd kbd less more ppp pppd sshd
@


1.1
log
@Initial revision
@
text
@d1 2
a2 1
#	$OpenBSD: Makefile,v 1.11 2004/01/03 00:19:30 deraadt Exp $
d4 2
a5 1
SUBDIR=	ftp pppd rsh dhclient init dmesg grep kbd less more gzip ccdconfig
@


1.1.1.1
log
@Import the OpenBSD foundation of MirOS BSD
@
text
@@


1.1.1.2
log
@Import almost everything (no ancontrol, ifconfig, pfctl, wicontrol)
of (the undeleted parts of) OpenBSD-current's userland of about 3 hours ago.
Warning: this introduces major breakage!
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.12 2004/12/25 11:22:18 deraadt Exp $
d3 1
a3 2
SUBDIR=	ftp pppd rsh dhclient init dmesg grep kbd less more \
	gzip ccdconfig ifconfig
@

