head	1.6;
access;
symbols;
locks; strict;
comment	@# @;


1.6
date	2014.02.19.17.43.25;	author tg;	state Exp;
branches;
next	1.5;
commitid	1005304ED413F0CF25C;

1.5
date	2014.01.11.15.59.41;	author tg;	state Exp;
branches;
next	1.4;
commitid	10052D168AB69B928FD;

1.4
date	2011.11.20.18.54.41;	author tg;	state Exp;
branches;
next	1.3;
commitid	1004EC94CC144CEC290;

1.3
date	2011.11.20.04.57.10;	author tg;	state Exp;
branches;
next	1.2;
commitid	1004EC8880406A80564;

1.2
date	2011.07.06.22.22.08;	author tg;	state Exp;
branches;
next	1.1;
commitid	1004E14E010182825E7;

1.1
date	2008.09.06.22.32.01;	author tg;	state Exp;
branches;
next	;
commitid	10048C304E12697A3C1;


desc
@@


1.6
log
@replace OAAT, NZAT, NZAAT with BAFH in virtually all places; bump libc major
@
text
@# $MirOS: src/kern/include/Makefile,v 1.5 2014/01/11 15:59:41 tg Exp $

HDRS=		libckern.h md5.h mirhash.h mirtime.h
HDRDST=		${DESTDIR}/usr/include/syskern

_includes: includedirs

includedirs: .PHONY
	${INSTALL} -d -o ${BINOWN} -g ${BINGRP} -m ${DIRMODE} ${HDRDST}

.include <bsd.prog.mk>
@


1.5
log
@add BAFH: Better Avalanche for the Jenkins hash

This uses NZAAT Init and Update, and AES MixColumns for Finish.
For hashtables this will need XOR with uint32_t then rotation
with uint5_t (so a total of 37 bit of entropy) for mitigation.
For entropy avalanche this needs mixing, and better handling
of the IV and/or the first four bytes, see BAFHHost* macros.

Thanks to Bob Jenkins for the one-at-a-time hash, Bret Mulvey for
the Hash.cs AvalancheTest, Jonathan “ciruZ” Schleifer and Dominik
“Natureshadow” George for discussion, Theodore “Ted” Ts'o for valuable
input on arc4random_roundhash, “poncho” for suggesting and Orson
“nightcracker” Peters for implementing MixColumns, tarent GmbH for
letting me test this empirically on a 64 GiB RAM machine.
@
text
@d1 1
a1 1
# $MirOS: src/kern/include/Makefile,v 1.4 2011/11/20 18:54:41 tg Exp $
d3 1
a3 1
HDRS=		libckern.h md5.h mirhash.h mirtime.h nzat.h
@


1.4
log
@• use common <syskern/md5.h> with /usr/include/md5.h@@ for userspace compat
• switch kernel <crypto/md5.h> users to <syskern/md5.h>
• fix underestimated __attribute__((__bounded__ …)) argument
• this is an interface definition and as such not copyrightable
@
text
@d1 1
a1 1
# $MirOS: src/kern/include/Makefile,v 1.3 2011/11/20 04:57:10 tg Exp $
d3 1
a3 1
HDRS=		libckern.h md5.h mirtime.h nzat.h
@


1.3
log
@first steps toward a new time API
• no DJB code (actual code) any more, only reimplementation of algorithms
  whose code is placed in USA PD
• no struct returns any more
• skip the extra tai_t step
• no _t suffix for types I define
• try to be a bit more elegant – I learned a lot since then, after all

the old ABI is still provided until we bump libc major
‣ the new API might wander off libc into libmbfun then, _too_

goal is functional equivalence (after all, it’s been proven correct)
@
text
@d1 1
a1 1
# $MirOS: src/kern/include/Makefile,v 1.2 2011/07/06 22:22:08 tg Exp $
d3 1
a3 1
HDRS=		libckern.h mirtime.h nzat.h
@


1.2
log
@replace uses of OAAT hash in all its variants by NZAT (mksh internal) or NZAAT (all others)
@
text
@d1 1
a1 1
# $MirOS: src/kern/include/Makefile,v 1.1 2008/09/06 22:32:01 tg Exp $
d3 1
a3 1
HDRS=		libckern.h nzat.h
@


1.1
log
@install libckern.h and change path so that LKMs can be built with
an empty /usr/src (tested with kqemu)
@
text
@d1 1
a1 1
# $MirOS$
d3 1
a3 1
HDRS=		libckern.h
@

