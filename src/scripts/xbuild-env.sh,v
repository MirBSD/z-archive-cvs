head	1.34;
access;
symbols
	MIRBSD_10:1.33.0.2
	MIRBSD_10_BASE:1.33
	MIRBSD_9_BASE:1.29
	MIRBSD_8:1.3.0.2
	MIRBSD_8_BASE:1.3;
locks; strict;
comment	@# @;


1.34
date	2009.03.29.13.04.20;	author tg;	state Exp;
branches;
next	1.33;
commitid	10049CF71B654F9EF54;

1.33
date	2007.06.12.15.05.26;	author tg;	state Exp;
branches;
next	1.32;
commitid	100466EB6472F007A9B;

1.32
date	2007.06.10.11.12.52;	author tg;	state Exp;
branches;
next	1.31;
commitid	100466BDCC8718EF100;

1.31
date	2007.06.10.11.05.11;	author tg;	state Exp;
branches;
next	1.30;
commitid	100466BDADD299EBB0F;

1.30
date	2006.10.15.00.16.49;	author tg;	state Exp;
branches;
next	1.29;
commitid	10045317E073EC69753;

1.29
date	2006.06.16.23.54.59;	author tg;	state Exp;
branches;
next	1.28;
commitid	100449344E34741EB4E;

1.28
date	2006.06.16.19.29.11;	author tg;	state Exp;
branches;
next	1.27;
commitid	100449306862172BE87;

1.27
date	2006.06.16.13.03.09;	author tg;	state Exp;
branches;
next	1.26;
commitid	1004492AC13063DDD0B;

1.26
date	2006.06.11.21.16.08;	author tg;	state Exp;
branches;
next	1.25;
commitid	100448C8824701F1BF8;

1.25
date	2006.06.11.01.00.24;	author tg;	state Exp;
branches;
next	1.24;
commitid	100448B6B3F2F66A14D;

1.24
date	2006.06.11.00.50.44;	author tg;	state Exp;
branches;
next	1.23;
commitid	100448B68F611D337DE;

1.23
date	2006.06.11.00.48.35;	author tg;	state Exp;
branches;
next	1.22;
commitid	100448B686B100A84BD;

1.22
date	2006.06.11.00.22.37;	author tg;	state Exp;
branches;
next	1.21;
commitid	100448B625D0B7E3769;

1.21
date	2006.03.01.21.06.46;	author tg;	state Exp;
branches;
next	1.20;
commitid	10044060CF9677CD2B9;

1.20
date	2006.03.01.21.06.06;	author tg;	state Exp;
branches;
next	1.19;
commitid	10044060CD14CAF5C30;

1.19
date	2006.03.01.21.00.44;	author tg;	state Exp;
branches;
next	1.18;
commitid	10044060B8E4A5947AF;

1.18
date	2006.03.01.20.56.32;	author tg;	state Exp;
branches;
next	1.17;
commitid	10044060A8F28B2A8DC;

1.17
date	2006.03.01.20.51.25;	author tg;	state Exp;
branches;
next	1.16;
commitid	1004406096253A8963A;

1.16
date	2006.03.01.20.14.37;	author tg;	state Exp;
branches;
next	1.15;
commitid	100440600C3660EBECD;

1.15
date	2006.03.01.20.13.58;	author tg;	state Exp;
branches;
next	1.14;
commitid	1004406007B04AC0974;

1.14
date	2006.03.01.20.08.10;	author tg;	state Exp;
branches;
next	1.13;
commitid	1004405FF327F754F6C;

1.13
date	2006.03.01.14.16.11;	author tg;	state Exp;
branches;
next	1.12;
commitid	1004405ACBF103F01C8;

1.12
date	2006.03.01.14.15.14;	author tg;	state Exp;
branches;
next	1.11;
commitid	1004405AC876F10E5BC;

1.11
date	2006.03.01.14.06.54;	author tg;	state Exp;
branches;
next	1.10;
commitid	1004405AA8D2B7B0B5E;

1.10
date	2006.03.01.14.04.32;	author tg;	state Exp;
branches;
next	1.9;
commitid	1004405AA035EC057F4;

1.9
date	2006.03.01.14.04.07;	author tg;	state Exp;
branches;
next	1.8;
commitid	1004405A9D105C38CE4;

1.8
date	2006.03.01.13.40.11;	author tg;	state Exp;
branches;
next	1.7;
commitid	1004405A44E6779F408;

1.7
date	2006.03.01.13.32.42;	author tg;	state Exp;
branches;
next	1.6;
commitid	1004405A29166884807;

1.6
date	2006.03.01.13.28.34;	author tg;	state Exp;
branches;
next	1.5;
commitid	1004405A18D13142B04;

1.5
date	2006.02.28.22.13.25;	author tg;	state Exp;
branches;
next	1.4;
commitid	1004404CB1449B351BE;

1.4
date	2006.02.28.21.22.20;	author tg;	state Exp;
branches;
next	1.3;
commitid	1004404BF1E3187ED98;

1.3
date	2005.12.17.05.46.23;	author tg;	state Exp;
branches;
next	1.2;
commitid	10043A3A3E65E20A413;

1.2
date	2005.06.05.15.22.56;	author tg;	state Exp;
branches;
next	1.1;
commitid	663a42a318e15dac;

1.1
date	2005.03.06.16.08.16;	author tg;	state Exp;
branches;
next	;


desc
@@


1.34
log
@• take care of dbins
• #!/bin/mksh shebang, in most places
• rcsid while here
@
text
@#!/bin/mksh
# $MirOS: src/scripts/xbuild-env.sh,v 1.33 2007/06/12 15:05:26 tg Exp $
#-
# Copyright (c) 2004, 2005, 2006, 2007
#	Thorsten Glaser <tg@@mirbsd.de>
#
# Provided that these terms and disclaimer and all copyright notices
# are retained or reproduced in an accompanying document, permission
# is granted to deal in this work without restriction, including un-
# limited rights to use, publicly perform, distribute, sell, modify,
# merge, give away, or sublicence.
#
# Advertising materials mentioning features or use of this work must
# display the following acknowledgement:
#	This product includes material provided by Thorsten Glaser.
#
# This work is provided "AS IS" and WITHOUT WARRANTY of any kind, to
# the utmost extent permitted by applicable law, neither express nor
# implied; without malicious intent or gross negligence. In no event
# may a licensor, author or contributor be held liable for indirect,
# direct, other damage, loss, or other issues arising in any way out
# of dealing in the work, even if advised of the possibility of such
# damage or existence of a defect, except proven that it results out
# of said person's immediate fault when using the work as intended.
#-
# call this with the machine as first parameter and canonical target
# name as second parameter; optionally the machine arch as third.

MACHINE=$1
TARGET=$2

: ${HOSTCC:=/usr/bin/mgcc}

if [[ -z $TARGET && $MACHINE = *-* ]]; then
	TARGET=$MACHINE
	MACHINE=${TARGET%%-*}
fi

[[ -z $MACHINE && -n $TARGET ]] && MACHINE=${TARGET%%-*}

if [[ -z $MACHINE ]]; then
	print -u2 No target or machine given.
	exit 1
fi

case $MACHINE {
(alpha|amd64|hppa|i386|m68k|m88k|powerpc|sparc|sparc64|vax)
	MARCH=$MACHINE ;;
(amiga|hp300|mac68k|mvme68k)
	MARCH=m68k ;;
(luna88k|mvme88k)
	MARCH=m88k ;;
(macppc|mvmeppc)
	MARCH=powerpc ;;
(sgi)
	MARCH=mips ;;
(*)
	[[ -n $3 ]] && MARCH=$3
	if [[ -z $MARCH ]]; then
		print -u2 "Cannot guess machine arch for $MACHINE,"
		print -u2 "target $TARGET - please supply."
		exit 1
	fi
	;;
}

[[ -z $TARGET ]] && TARGET=${MARCH}-unknown-mirbsd$(uname -r)
[[ -z $BSDSRCDIR ]] && BSDSRCDIR=/usr/src
if [[ -z $MKSH ]]; then
	if [[ -x /bin/mksh ]]; then
		MKSH=/bin/mksh
	else
		MKSH="/usr/bin/env mksh"
	fi
fi
export MKSH SHELL=$MKSH BINOWN=$(id -un) BINGRP=$(id -gn)
if ! FOO=$($SHELL $BSDSRCDIR/gnu/share/config.sub "$TARGET" 2>/dev/null); then
	print -u2 "Invalid target $TARGET chosen, exiting."
	exit 1
else
	TARGET=$FOO
fi
[[ -z $CROSSDIR ]] && CROSSDIR=${DESTDIR}/usr/cross/${TARGET}
HOST=$(make -f /dev/null ___DISPLAY_MAKEVARS=OStriplet)
[[ -n $CFLAGS ]] || CFLAGS="$(cd $BSDSRCDIR/etc; make ___DISPLAY_MAKEVARS=CFLAGS)"

set -e
set -x

mkdir -p $CROSSDIR/host-tools/{{,$TARGET/}bin,include,lib}
(cd $CROSSDIR/host-tools/$TARGET; ln -sf ../include; ln -sf ../lib)
sed -e 's/[ug]name=[a-z]*//g' \
    -e '/^.set/s/   / uname='$BINOWN' gname='$BINGRP' /' \
    <$BSDSRCDIR/etc/mtree/4.4BSD.dist \
    | mtree -qde -p $CROSSDIR -U

print -r -- "$MACHINE" >$CROSSDIR/T_MACHINE
print -r -- "$MARCH" >$CROSSDIR/T_MACHINE_ARCH
print -r -- "$TARGET" >$CROSSDIR/T_CANON
print -r -- "$HOST" >$CROSSDIR/H_CANON

BUILDLDFLAGS="$LDFLAGS -static"
CROSSLDFLAGS="$CROSSLDFLAGS -static"
[[ -z $CROSSCFLAGS && $TARGET = *-mirbsd* && \
    -s $BSDSRCDIR/etc/etc.${MACHINE}/make.cfg.md ]] && \
    CROSSCFLAGS="$(cat $BSDSRCDIR/etc/etc.${MACHINE}/make.cfg.md \
    $BSDSRCDIR/etc/make.cfg | make -f - ___DISPLAY_MAKEVARS=_DEFCOPTS)"
[[ -z $CROSSCFLAGS ]] && CROSSCFLAGS="-O2 -fhonour-copts"

cat >$CROSSDIR/T_BASEENV <<-EOF
	# generated by \$MirOS: src/scripts/xbuild-env.sh,v 1.33 2007/06/12 15:05:26 tg Exp $
	BINOWN='$BINOWN'
	BINGRP='$BINGRP'
	BSDSRCDIR='$BSDSRCDIR'
	BSDOBJDIR='$CROSSDIR/usr/obj'
	CROSSCFLAGS='$CROSSCFLAGS $CROSSCPPFLAGS'
	CROSSDIR='$CROSSDIR'
	HOST='$HOST'
	MACHINE='$MACHINE'
	MACHINE_ARCH='$MARCH'
	MKSH='$MKSH'
	PATH='$CROSSDIR/host-tools/bin:'\$PATH
	SUDO=
	TARGET='$TARGET'
	TARGET_CC='$CROSSDIR/host-tools/bin/$TARGET-gcc -isystem $CROSSDIR/usr/include'
	export BINOWN BINGRP CROSSDIR MKSH PATH SUDO
EOF

cat >$CROSSDIR/T_ENV <<-EOF
	# generated by \$MirOS: src/scripts/xbuild-env.sh,v 1.33 2007/06/12 15:05:26 tg Exp $
	AR='$CROSSDIR/host-tools/bin/$TARGET-ar'
	AS='$CROSSDIR/host-tools/bin/$TARGET-as'
	CC='$CROSSDIR/host-tools/bin/$TARGET-gcc -isystem $CROSSDIR/usr/include'
	CFLAGS='$CROSSCFLAGS $CROSSCPPFLAGS'
	CPP='/usr/bin/mcpp -isystem $CROSSDIR/usr/include'
	CPPFLAGS='$CROSSCPPFLAGS'
	CROSS_MODE=yes
	DESTDIR='$CROSSDIR'
	HOSTCC='$HOSTCC'
	HOSTCFLAGS='$CFLAGS -Wno-error'
	HOSTLDFLAGS='$LDFLAGS'
	LD='$CROSSDIR/host-tools/bin/$TARGET-ld'
	LDFLAGS='$CROSSLDFLAGS'
	LORDER=/usr/bin/lorder
	NM='$CROSSDIR/host-tools/bin/$TARGET-nm'
	NOMAN=yes
	NOPIC=yes
	OBJCOPY='$CROSSDIR/host-tools/bin/$TARGET-objcopy'
	OBJDUMP='$CROSSDIR/host-tools/bin/$TARGET-objdump'
	PATH='$CROSSDIR/host-tools/bin:'\$PATH
	RANLIB='$CROSSDIR/host-tools/bin/$TARGET-ranlib'
	SIZE='$CROSSDIR/host-tools/bin/$TARGET-size'
	STRIP='$CROSSDIR/host-tools/bin/$TARGET-strip'
	TARGET_CC='$CROSSDIR/host-tools/bin/$TARGET-gcc -isystem $CROSSDIR/usr/include'
EOF

cat >$CROSSDIR/T_MAKE <<EOF
#!/bin/mksh
# generated by \$MirOS: src/scripts/xbuild-env.sh,v 1.33 2007/06/12 15:05:26 tg Exp $
exec env \\
	CFLAGS="\${CFLAGS-$CROSSCFLAGS $CROSSCPPFLAGS}" \\
	CPPFLAGS="\${CPPFLAGS-$CROSSCPPFLAGS}" \\
	HOSTCFLAGS="\${HOSTCFLAGS-$CFLAGS -Wno-error}" \\
	LDFLAGS='$(print -r -- $BUILDLDFLAGS | sed s/-static//)' \\
	MACHINE="\${MACHINE-$MACHINE}" \\
	MACHINE_ARCH="\${MACHINE_ARCH-$MARCH}" \\
	OStriplet="\${OStriplet-$HOST}" \\
	GCCHOST="\${GCCHOST-$TARGET}" \\
	GCCTARGET="\${GCCTARGET-$TARGET}" \\
	PATH='$CROSSDIR/host-tools/bin:'\$PATH \\
    make MAKE=\$0 \\
	__objdir='obj.$MACHINE' \\
	BSDSRCDIR='$BSDSRCDIR' \\
	BSDOBJDIR='$CROSSDIR/usr/obj' \\
	HOST='$HOST' \\
	AR='$CROSSDIR/host-tools/bin/$TARGET-ar' \\
	AS='$CROSSDIR/host-tools/bin/$TARGET-as' \\
	CC='$CROSSDIR/host-tools/bin/$TARGET-gcc -isystem $CROSSDIR/usr/include' \\
	CPP='/usr/bin/mcpp -isystem $CROSSDIR/usr/include' \\
	CROSS_MODE=yes \\
	CRTI= \\
	CRTBEGIN= \\
	LIBCRT0= \\
	CRTEND= \\
	CRTN= \\
	DESTDIR='$CROSSDIR' \\
	HOSTCC='$HOSTCC' \\
	HOSTLDFLAGS='$LDFLAGS' \\
	LD='$CROSSDIR/host-tools/bin/$TARGET-ld' \\
	LDSTATIC=-static \\
	LORDER=/usr/bin/lorder \\
	NM='$CROSSDIR/host-tools/bin/$TARGET-nm' \\
	NOMAN=yes \\
	NOPIC=yes \\
	OBJCOPY='$CROSSDIR/host-tools/bin/$TARGET-objcopy' \\
	OBJDUMP='$CROSSDIR/host-tools/bin/$TARGET-objdump' \\
	RANLIB='$CROSSDIR/host-tools/bin/$TARGET-ranlib' \\
	SIZE='$CROSSDIR/host-tools/bin/$TARGET-size' \\
	STRIP='$CROSSDIR/host-tools/bin/$TARGET-strip' \\
	TARGET_CC='$CROSSDIR/host-tools/bin/$TARGET-gcc -isystem $CROSSDIR/usr/include' \\
    "\$@@"
EOF
chmod 755 $CROSSDIR/T_MAKE

[[ -n $NOOBJ ]] || ( cd $BSDSRCDIR; \
    BSDSRCDIR=$BSDSRCDIR \
    BSDOBJDIR=$CROSSDIR/usr/obj \
    OStriplet=$HOST \
    MACHINE=$MACHINE \
    MACHINE_ARCH=$MARCH \
    MAKEOBJDIR=obj.$MACHINE \
    make obj )

set +x
print
print Building on $HOST for $TARGET
exit 0
@


1.33
log
@fix cpp stuff ☹
@
text
@d2 1
a2 1
# $MirOS: src/scripts/xbuild-env.sh,v 1.32 2007/06/10 11:12:52 tg Exp $
d76 1
a76 1
export SHELL=$MKSH BINOWN=$(id -un) BINGRP=$(id -gn)
d111 1
a111 1
	# generated by \$MirOS: src/scripts/xbuild-env.sh,v 1.32 2007/06/10 11:12:52 tg Exp $
d130 1
a130 1
	# generated by \$MirOS: src/scripts/xbuild-env.sh,v 1.32 2007/06/10 11:12:52 tg Exp $
d159 1
a159 1
# generated by \$MirOS: src/scripts/xbuild-env.sh,v 1.32 2007/06/10 11:12:52 tg Exp $
@


1.32
log
@use correcter pathnames
@
text
@d2 1
a2 1
# $MirOS: src/scripts/xbuild-env.sh,v 1.31 2007/06/10 11:05:11 tg Exp $
d111 1
a111 1
	# generated by \$MirOS: src/scripts/xbuild-env.sh,v 1.31 2007/06/10 11:05:11 tg Exp $
d125 1
a125 1
	TARGET_CC='$CROSSDIR/host-tools/bin/$TARGET-gcc'
d130 1
a130 1
	# generated by \$MirOS: src/scripts/xbuild-env.sh,v 1.31 2007/06/10 11:05:11 tg Exp $
d133 1
a133 1
	CC='$CROSSDIR/host-tools/bin/$TARGET-gcc'
d135 1
a135 1
	CPP=/usr/bin/cpp
d154 1
a154 1
	TARGET_CC='$CROSSDIR/host-tools/bin/$TARGET-gcc'
d159 1
a159 1
# generated by \$MirOS: src/scripts/xbuild-env.sh,v 1.31 2007/06/10 11:05:11 tg Exp $
d178 2
a179 2
	CC='$CROSSDIR/host-tools/bin/$TARGET-gcc' \\
	CPP=/usr/bin/cpp \\
d200 1
a200 1
	TARGET_CC='$CROSSDIR/host-tools/bin/$TARGET-gcc' \\
@


1.31
log
@• xbuild-*.sh: fix host-tools/bin ./. host-tools/$TARGET/bin issue,
  add host-tools/bin to $PATH
• all: sync licence with current template
@
text
@d2 1
a2 1
# $MirOS: src/scripts/xbuild-env.sh,v 1.30 2006/10/15 00:16:49 tg Exp $
d111 1
a111 1
	# generated by \$MirOS: src/scripts/xbuild-env.sh,v 1.30 2006/10/15 00:16:49 tg Exp $
d130 3
a132 3
	# generated by \$MirOS: src/scripts/xbuild-env.sh,v 1.30 2006/10/15 00:16:49 tg Exp $
	AR='$CROSSDIR/host-tools/bin/ar'
	AS='$CROSSDIR/host-tools/bin/as'
d142 1
a142 1
	LD='$CROSSDIR/host-tools/bin/ld'
d145 1
a145 1
	NM='$CROSSDIR/host-tools/bin/nm'
d148 2
a149 2
	OBJCOPY='$CROSSDIR/host-tools/bin/objcopy'
	OBJDUMP='$CROSSDIR/host-tools/bin/objdump'
d151 3
a153 3
	RANLIB='$CROSSDIR/host-tools/bin/ranlib'
	SIZE='$CROSSDIR/host-tools/bin/size'
	STRIP='$CROSSDIR/host-tools/bin/strip'
d159 1
a159 1
# generated by \$MirOS: src/scripts/xbuild-env.sh,v 1.30 2006/10/15 00:16:49 tg Exp $
d176 2
a177 2
	AR='$CROSSDIR/host-tools/bin/ar' \\
	AS='$CROSSDIR/host-tools/bin/as' \\
d189 1
a189 1
	LD='$CROSSDIR/host-tools/bin/ld' \\
d192 1
a192 1
	NM='$CROSSDIR/host-tools/bin/nm' \\
d195 5
a199 5
	OBJCOPY='$CROSSDIR/host-tools/bin/objcopy' \\
	OBJDUMP='$CROSSDIR/host-tools/bin/objdump' \\
	RANLIB='$CROSSDIR/host-tools/bin/ranlib' \\
	SIZE='$CROSSDIR/host-tools/bin/size' \\
	STRIP='$CROSSDIR/host-tools/bin/strip' \\
@


1.30
log
@sync licences
@
text
@d2 1
a2 1
# $MirOS: src/share/misc/licence.template,v 1.14 2006/08/09 19:35:23 tg Rel $
d4 1
a4 1
# Copyright (c) 2004, 2005, 2006
d7 5
a11 6
# Licensee is hereby permitted to deal in this work without restric-
# tion, including unlimited rights to use, publicly perform, modify,
# merge, distribute, sell, give away or sublicence, provided all co-
# pyright notices above, these terms and the disclaimer are retained
# in all redistributions or reproduced in accompanying documentation
# or other materials provided with binary redistributions.
d17 8
a24 8
# Licensor offers the work "AS IS" and WITHOUT WARRANTY of any kind,
# express, or implied, to the maximum extent permitted by applicable
# law, without malicious intent or gross negligence; in no event may
# licensor, an author or contributor be held liable for any indirect
# or other damage, or direct damage except proven a consequence of a
# direct error of said person and intended use of this work, loss or
# other issues arising in any way out of its use, even if advised of
# the possibility of such damage or existence of a defect.
d90 2
a91 2
mkdir -p $CROSSDIR/host-tools/{bin,include,lib}
( cd $CROSSDIR/host-tools; ln -sf . $TARGET)
d111 1
a111 1
	# generated by \$MirOS: src/scripts/xbuild-env.sh,v 1.29 2006/06/16 23:54:59 tg Exp $
d122 1
d126 1
a126 1
	export BINOWN BINGRP CROSSDIR MKSH SUDO
d130 1
a130 1
	# generated by \$MirOS: src/scripts/xbuild-env.sh,v 1.29 2006/06/16 23:54:59 tg Exp $
d150 1
d159 1
a159 1
# generated by \$MirOS: src/scripts/xbuild-env.sh,v 1.29 2006/06/16 23:54:59 tg Exp $
d170 1
@


1.29
log
@LDFLAGS are overridable...
@
text
@d2 1
a2 1
# $MirOS: src/scripts/xbuild-env.sh,v 1.28 2006/06/16 19:29:11 tg Exp $
d14 2
a15 2
# All advertising materials mentioning features or use of this soft-
# ware must display the following acknowledgement:
d25 1
a25 1
# the possibility of such damage or existence of a nontrivial bug.
d112 1
a112 1
	# generated by \$MirOS: src/scripts/xbuild-env.sh,v 1.28 2006/06/16 19:29:11 tg Exp $
d130 1
a130 1
	# generated by \$MirOS: src/scripts/xbuild-env.sh,v 1.28 2006/06/16 19:29:11 tg Exp $
d158 1
a158 1
# generated by \$MirOS: src/scripts/xbuild-env.sh,v 1.28 2006/06/16 19:29:11 tg Exp $
@


1.28
log
@* expose TARGET_CC
* remove superfluous ''
@
text
@d2 1
a2 1
# $MirOS: src/scripts/xbuild-env.sh,v 1.27 2006/06/16 13:03:09 tg Exp $
d112 1
a112 1
	# generated by \$MirOS: src/scripts/xbuild-env.sh,v 1.27 2006/06/16 13:03:09 tg Exp $
d130 1
a130 1
	# generated by \$MirOS: src/scripts/xbuild-env.sh,v 1.27 2006/06/16 13:03:09 tg Exp $
d158 1
a158 1
# generated by \$MirOS: src/scripts/xbuild-env.sh,v 1.27 2006/06/16 13:03:09 tg Exp $
d163 1
a187 1
	LDFLAGS='$(print -r -- $BUILDLDFLAGS | sed s/-static//)' \\
@


1.27
log
@* pull in _DEFCOPTS on mirbsd arches
* fix args to print
@
text
@d2 1
a2 1
# $MirOS: src/scripts/xbuild-env.sh,v 1.26 2006/06/11 21:16:08 tg Exp $
d112 1
a112 1
	# generated by \$MirOS: src/scripts/xbuild-env.sh,v 1.26 2006/06/11 21:16:08 tg Exp $
d123 1
d125 2
a126 1
	export BINOWN BINGRP CROSSDIR MKSH SUDO=''
d130 1
a130 1
	# generated by \$MirOS: src/scripts/xbuild-env.sh,v 1.26 2006/06/11 21:16:08 tg Exp $
d153 1
d158 1
a158 1
# generated by \$MirOS: src/scripts/xbuild-env.sh,v 1.26 2006/06/11 21:16:08 tg Exp $
d178 5
a182 5
	CRTI='' \\
	CRTBEGIN='' \\
	LIBCRT0='' \\
	CRTEND='' \\
	CRTN='' \\
d198 1
@


1.26
log
@no stoopid bin/cc link for us
@
text
@d2 1
a2 1
# $MirOS: src/scripts/xbuild-env.sh,v 1.25 2006/06/11 01:00:24 tg Exp $
d105 4
d112 1
a112 1
	# generated by \$MirOS: src/scripts/xbuild-env.sh,v 1.25 2006/06/11 01:00:24 tg Exp $
d128 1
a128 1
	# generated by \$MirOS: src/scripts/xbuild-env.sh,v 1.25 2006/06/11 01:00:24 tg Exp $
d155 1
a155 1
# generated by \$MirOS: src/scripts/xbuild-env.sh,v 1.25 2006/06/11 01:00:24 tg Exp $
d184 1
a184 1
	LDFLAGS='$(print $BUILDLDFLAGS | sed s/-static//)' \\
@


1.25
log
@fix cross-compiler build
@
text
@d2 1
a2 1
# $MirOS: src/scripts/xbuild-env.sh,v 1.24 2006/06/11 00:50:44 tg Exp $
d33 2
d108 1
a108 1
	# generated by \$MirOS: src/scripts/xbuild-env.sh,v 1.24 2006/06/11 00:50:44 tg Exp $
d124 1
a124 1
	# generated by \$MirOS: src/scripts/xbuild-env.sh,v 1.24 2006/06/11 00:50:44 tg Exp $
d127 1
a127 1
	CC='$CROSSDIR/host-tools/bin/cc'
d133 1
a133 1
	HOSTCC=/usr/bin/mgcc
d151 1
a151 1
# generated by \$MirOS: src/scripts/xbuild-env.sh,v 1.24 2006/06/11 00:50:44 tg Exp $
d168 1
a168 1
	CC='$CROSSDIR/host-tools/bin/cc' \\
d177 1
a177 1
	HOSTCC=/usr/bin/mgcc \\
@


1.24
log
@we need one more symlink
@
text
@d2 1
a2 1
# $MirOS: src/scripts/xbuild-env.sh,v 1.23 2006/06/11 00:48:35 tg Exp $
d89 2
a90 3
mkdir -p $CROSSDIR/host-tools/bin
( cd $CROSSDIR/host-tools; ln -sf ../usr/include; ln -sf ../usr/lib; \
    ln -sf . $TARGET)
d106 1
a106 1
	# generated by \$MirOS: src/scripts/xbuild-env.sh,v 1.23 2006/06/11 00:48:35 tg Exp $
d122 1
a122 1
	# generated by \$MirOS: src/scripts/xbuild-env.sh,v 1.23 2006/06/11 00:48:35 tg Exp $
d149 1
a149 1
# generated by \$MirOS: src/scripts/xbuild-env.sh,v 1.23 2006/06/11 00:48:35 tg Exp $
@


1.23
log
@don't pollute the cross /usr/bin and clean up crossdir/usr/obj
@
text
@d2 1
a2 1
# $MirOS: src/scripts/xbuild-env.sh,v 1.22 2006/06/11 00:22:37 tg Exp $
d90 2
a91 1
( cd $CROSSDIR/host-tools; ln -sf ../usr/include; ln -sf ../usr/lib)
d107 1
a107 1
	# generated by \$MirOS: src/scripts/xbuild-env.sh,v 1.22 2006/06/11 00:22:37 tg Exp $
d123 1
a123 1
	# generated by \$MirOS: src/scripts/xbuild-env.sh,v 1.22 2006/06/11 00:22:37 tg Exp $
d150 1
a150 1
# generated by \$MirOS: src/scripts/xbuild-env.sh,v 1.22 2006/06/11 00:22:37 tg Exp $
@


1.22
log
@export CROSSDIR
don't force -static
@
text
@d2 1
a2 1
# $MirOS: src/scripts/xbuild-env.sh,v 1.21 2006/03/01 21:06:46 tg Exp $
d89 2
a90 2
mkdir -p $CROSSDIR/usr/$TARGET/bin
( cd $CROSSDIR/usr/$TARGET; ln -sf ../include .; ln -sf ../lib . )
d106 1
a106 1
	# generated by \$MirOS: src/scripts/xbuild-env.sh,v 1.21 2006/03/01 21:06:46 tg Exp $
d122 4
a125 4
	# generated by \$MirOS: src/scripts/xbuild-env.sh,v 1.21 2006/03/01 21:06:46 tg Exp $
	AR='$CROSSDIR/usr/$TARGET/bin/ar'
	AS='$CROSSDIR/usr/$TARGET/bin/as'
	CC='$CROSSDIR/usr/$TARGET/bin/cc'
d134 1
a134 1
	LD='$CROSSDIR/usr/$TARGET/bin/ld'
d137 1
a137 1
	NM='$CROSSDIR/usr/$TARGET/bin/nm'
d140 5
a144 5
	OBJCOPY='$CROSSDIR/usr/$TARGET/bin/objcopy'
	OBJDUMP='$CROSSDIR/usr/$TARGET/bin/objdump'
	RANLIB='$CROSSDIR/usr/$TARGET/bin/ranlib'
	SIZE='$CROSSDIR/usr/$TARGET/bin/size'
	STRIP='$CROSSDIR/usr/$TARGET/bin/strip'
d149 1
a149 1
# generated by \$MirOS: src/scripts/xbuild-env.sh,v 1.21 2006/03/01 21:06:46 tg Exp $
d164 3
a166 3
	AR='$CROSSDIR/usr/$TARGET/bin/ar' \\
	AS='$CROSSDIR/usr/$TARGET/bin/as' \\
	CC='$CROSSDIR/usr/$TARGET/bin/cc' \\
d177 1
a177 1
	LD='$CROSSDIR/usr/$TARGET/bin/ld' \\
d181 1
a181 1
	NM='$CROSSDIR/usr/$TARGET/bin/nm' \\
d184 5
a188 5
	OBJCOPY='$CROSSDIR/usr/$TARGET/bin/objcopy' \\
	OBJDUMP='$CROSSDIR/usr/$TARGET/bin/objdump' \\
	RANLIB='$CROSSDIR/usr/$TARGET/bin/ranlib' \\
	SIZE='$CROSSDIR/usr/$TARGET/bin/size' \\
	STRIP='$CROSSDIR/usr/$TARGET/bin/strip' \\
@


1.21
log
@fix overrides
@
text
@d2 1
a2 1
# $MirOS: src/scripts/xbuild-env.sh,v 1.20 2006/03/01 21:06:06 tg Exp $
d106 1
a106 1
	# generated by \$MirOS: src/scripts/xbuild-env.sh,v 1.20 2006/03/01 21:06:06 tg Exp $
d118 1
a118 1
	export BINOWN BINGRP MKSH SUDO=''
d122 1
a122 1
	# generated by \$MirOS: src/scripts/xbuild-env.sh,v 1.20 2006/03/01 21:06:06 tg Exp $
d149 1
a149 1
# generated by \$MirOS: src/scripts/xbuild-env.sh,v 1.20 2006/03/01 21:06:06 tg Exp $
d178 2
a179 1
	LDFLAGS='$BUILDLDFLAGS' \\
@


1.20
log
@if NOOBJ don't make obj
@
text
@d2 1
a2 1
# $MirOS: src/scripts/xbuild-env.sh,v 1.19 2006/03/01 21:00:44 tg Exp $
d106 1
a106 1
	# generated by \$MirOS: src/scripts/xbuild-env.sh,v 1.19 2006/03/01 21:00:44 tg Exp $
d122 1
a122 1
	# generated by \$MirOS: src/scripts/xbuild-env.sh,v 1.19 2006/03/01 21:00:44 tg Exp $
d149 1
a149 1
# generated by \$MirOS: src/scripts/xbuild-env.sh,v 1.19 2006/03/01 21:00:44 tg Exp $
d151 8
a158 8
	CFLAGS=\${CFLAGS-'$CROSSCFLAGS $CROSSCPPFLAGS'} \\
	CPPFLAGS=\${CPPFLAGS-'$CROSSCPPFLAGS'} \\
	HOSTCFLAGS=\${HOSTCFLAGS-'$CFLAGS -Wno-error'} \\
	MACHINE=\${MACHINE-'$MACHINE'} \\
	MACHINE_ARCH=\${MACHINE_ARCH-'$MARCH'} \\
	OStriplet=\${OStriplet-'$HOST'} \\
	GCCHOST=\${GCCHOST-'$TARGET'} \\
	GCCTARGET=\${GCCTARGET-'$TARGET'} \\
@


1.19
log
@move objdir generation to the end
@
text
@d2 1
a2 1
# $MirOS: src/scripts/xbuild-env.sh,v 1.18 2006/03/01 20:56:32 tg Exp $
d106 1
a106 1
	# generated by \$MirOS: src/scripts/xbuild-env.sh,v 1.18 2006/03/01 20:56:32 tg Exp $
d122 1
a122 1
	# generated by \$MirOS: src/scripts/xbuild-env.sh,v 1.18 2006/03/01 20:56:32 tg Exp $
d149 1
a149 1
# generated by \$MirOS: src/scripts/xbuild-env.sh,v 1.18 2006/03/01 20:56:32 tg Exp $
d192 1
a192 1
( cd $BSDSRCDIR; \
@


1.18
log
@allow command-line and environ overrides in T_MAKE
@
text
@d2 1
a2 1
# $MirOS: src/scripts/xbuild-env.sh,v 1.17 2006/03/01 20:51:25 tg Exp $
a100 9
( cd $BSDSRCDIR; \
    BSDSRCDIR=$BSDSRCDIR \
    BSDOBJDIR=$CROSSDIR/usr/obj \
    OStriplet=$HOST \
    MACHINE=$MACHINE \
    MACHINE_ARCH=$MARCH \
    MAKEOBJDIR=obj.$MACHINE \
    make obj )

d106 1
a106 1
	# generated by \$MirOS: src/scripts/xbuild-env.sh,v 1.17 2006/03/01 20:51:25 tg Exp $
d122 1
a122 1
	# generated by \$MirOS: src/scripts/xbuild-env.sh,v 1.17 2006/03/01 20:51:25 tg Exp $
d149 1
a149 1
# generated by \$MirOS: src/scripts/xbuild-env.sh,v 1.17 2006/03/01 20:51:25 tg Exp $
d192 9
@


1.17
log
@fix RCS ID
@
text
@d2 1
a2 1
# $MirOS: src/scripts/xbuild-env.sh,v 1.16 2006/03/01 20:14:37 tg Exp $
d115 1
a115 1
	# generated by \$MirOS: src/scripts/xbuild-env.sh,v 1.16 2006/03/01 20:14:37 tg Exp $
d131 1
a131 1
	# generated by \$MirOS: src/scripts/xbuild-env.sh,v 1.16 2006/03/01 20:14:37 tg Exp $
d158 1
a158 1
# generated by \$MirOS: src/scripts/xbuild-env.sh,v 1.16 2006/03/01 20:14:37 tg Exp $
d160 8
a167 8
	CFLAGS='$CROSSCFLAGS $CROSSCPPFLAGS' \\
	CPPFLAGS='$CROSSCPPFLAGS' \\
	HOSTCFLAGS='$CFLAGS -Wno-error' \\
	MACHINE='$MACHINE' \\
	MACHINE_ARCH='$MARCH' \\
	OStriplet='$HOST' \\
	GCCHOST='$TARGET' \\
	GCCTARGET='$TARGET' \\
@


1.16
log
@more RCS IDs
@
text
@d2 1
a2 1
# $MirOS: src/scripts/xbuild-env.sh,v 1.15 2006/03/01 20:13:58 tg Exp $
d115 1
a115 1
	# generated by $MirOS$
d131 1
a131 1
	# generated by $MirOS$
d158 1
a158 1
# generated by $MirOS$
@


1.15
log
@use sysroot (try)
@
text
@d2 1
a2 1
# $MirOS: src/scripts/xbuild-env.sh,v 1.14 2006/03/01 20:08:10 tg Exp $
d115 1
d131 1
d158 1
@


1.14
log
@something more closely resembling a cross-built toolchain
@
text
@d2 1
a2 1
# $MirOS: src/scripts/xbuild-env.sh,v 1.13 2006/03/01 14:16:11 tg Exp $
d110 2
a111 3
CROSSCPPFLAGS="$CROSSCPPFLAGS -nostdinc -isystem ${CROSSDIR}/usr/include"
BUILDLDFLAGS="$CROSSLDFLAGS -L${CROSSDIR}/usr/lib -static"
CROSSLDFLAGS="$CROSSLDFLAGS -nostdlib -L${CROSSDIR}/usr/lib -static"
@


1.13
log
@look better
@
text
@d2 1
a2 1
# $MirOS: src/scripts/xbuild-env.sh,v 1.12 2006/03/01 14:15:14 tg Exp $
d110 1
a110 1
CROSSCPPFLAGS="$CROSSCPPFLAGS -nostdinc -I${CROSSDIR}/usr/include"
d113 1
a113 1
CROSSCFLAGS="-O2 $CROSSCFLAGS $CROSSCPPFLAGS"
d120 1
d134 1
a134 1
	CFLAGS=''$CROSSCFLAGS''
a143 1
	LDSTATIC=-static
d158 1
a158 1
	CFLAGS='$CROSSCFLAGS' \\
d176 5
a185 1
	LDSTATIC=-static \\
@


1.12
log
@unset SUDO
@
text
@d2 1
a2 1
# $MirOS: src/scripts/xbuild-env.sh,v 1.11 2006/03/01 14:06:54 tg Exp $
d155 1
a155 1
cat >$CROSSDIR/T_MAKE <<-EOF
d157 34
a190 34
exec env \
	CFLAGS='$CROSSCFLAGS' \
	CPPFLAGS='$CROSSCPPFLAGS' \
	HOSTCFLAGS='$CFLAGS -Wno-error' \
	MACHINE='$MACHINE' \
	MACHINE_ARCH='$MARCH' \
	OStriplet='$HOST' \
	GCCHOST='$TARGET' \
	GCCTARGET='$TARGET' \
    make MAKE=\$0 \
	__objdir='obj.$MACHINE' \
	BSDSRCDIR='$BSDSRCDIR' \
	BSDOBJDIR='$CROSSDIR/usr/obj' \
	HOST='$HOST' \
	AR='$CROSSDIR/usr/$TARGET/bin/ar' \
	AS='$CROSSDIR/usr/$TARGET/bin/as' \
	CC='$CROSSDIR/usr/$TARGET/bin/cc' \
	CPP=/usr/bin/cpp \
	CROSS_MODE=yes \
	DESTDIR='$CROSSDIR' \
	HOSTCC=/usr/bin/mgcc \
	HOSTLDFLAGS='$LDFLAGS' \
	LD='$CROSSDIR/usr/$TARGET/bin/ld' \
	LDFLAGS='$BUILDLDFLAGS' \
	LDSTATIC=-static \
	LORDER=/usr/bin/lorder \
	NM='$CROSSDIR/usr/$TARGET/bin/nm' \
	NOMAN=yes \
	NOPIC=yes \
	OBJCOPY='$CROSSDIR/usr/$TARGET/bin/objcopy' \
	OBJDUMP='$CROSSDIR/usr/$TARGET/bin/objdump' \
	RANLIB='$CROSSDIR/usr/$TARGET/bin/ranlib' \
	SIZE='$CROSSDIR/usr/$TARGET/bin/size' \
	STRIP='$CROSSDIR/usr/$TARGET/bin/strip' \
@


1.11
log
@allow to specify target as first param too
@
text
@d2 1
a2 1
# $MirOS: src/scripts/xbuild-env.sh,v 1.10 2006/03/01 14:04:32 tg Exp $
d126 1
a126 1
	export BINOWN BINGRP MKSH
@


1.10
log
@fix a quite funny typo
@
text
@d2 1
a2 1
# $MirOS: src/scripts/xbuild-env.sh,v 1.9 2006/03/01 14:04:07 tg Exp $
d33 5
@


1.9
log
@use the /usr/$TARGET/bin directory instead of /usr/bin for
the cross tools with simple name (as ld nm ...) because in
/usr/bin the target tools will reside
@
text
@d2 1
a2 1
# $MirOS: src/scripts/xbuild-env.sh,v 1.8 2006/03/01 13:40:11 tg Exp $
d156 5
a160 5
	MACHINE='$MACHINE \'
	MACHINE_ARCH='$MARCH \'
	OStriplet='$HOST \'
	GCCHOST='$TARGET \'
	GCCTARGET='$TARGET \'
d162 7
a168 7
	__objdir='obj.$MACHINE \'
	BSDSRCDIR='$BSDSRCDIR \'
	BSDOBJDIR='$CROSSDIR/usr/obj \'
	HOST='$HOST \'
	AR='$CROSSDIR/usr/$TARGET/bin/ar \'
	AS='$CROSSDIR/usr/$TARGET/bin/as \'
	CC='$CROSSDIR/usr/$TARGET/bin/cc \'
d171 1
a171 1
	DESTDIR='$CROSSDIR \'
d174 1
a174 1
	LD='$CROSSDIR/usr/$TARGET/bin/ld \'
d178 1
a178 1
	NM='$CROSSDIR/usr/$TARGET/bin/nm \'
d181 5
a185 5
	OBJCOPY='$CROSSDIR/usr/$TARGET/bin/objcopy \'
	OBJDUMP='$CROSSDIR/usr/$TARGET/bin/objdump \'
	RANLIB='$CROSSDIR/usr/$TARGET/bin/ranlib \'
	SIZE='$CROSSDIR/usr/$TARGET/bin/size \'
	STRIP='$CROSSDIR/usr/$TARGET/bin/strip \'
@


1.8
log
@user'fy the mtree call
@
text
@d2 1
a2 1
# $MirOS: src/scripts/xbuild-env.sh,v 1.7 2006/03/01 13:32:42 tg Exp $
d125 3
a127 3
	AR='$CROSSDIR/usr/bin/ar'
	AS='$CROSSDIR/usr/bin/as'
	CC='$CROSSDIR/usr/bin/cc'
d129 1
a129 1
	CPP='$CROSSDIR/usr/bin/cpp'
d136 1
a136 1
	LD='$CROSSDIR/usr/bin/ld'
d138 3
a140 3
	LDSTATIC='-static'
	LORDER='/usr/bin/lorder'
	NM='$CROSSDIR/usr/bin/nm'
d143 5
a147 5
	OBJCOPY='$CROSSDIR/usr/bin/objcopy'
	OBJDUMP='$CROSSDIR/usr/bin/objdump'
	RANLIB='$CROSSDIR/usr/bin/ranlib'
	SIZE='$CROSSDIR/usr/bin/size'
	STRIP='$CROSSDIR/usr/bin/strip'
d166 4
a169 4
	AR='$CROSSDIR/usr/bin/ar \'
	AS='$CROSSDIR/usr/bin/as \'
	CC='$CROSSDIR/usr/bin/cc \'
	CPP='$CROSSDIR/usr/bin/cpp \'
d174 1
a174 1
	LD='$CROSSDIR/usr/bin/ld \'
d176 3
a178 3
	LDSTATIC='-static \'
	LORDER='/usr/bin/lorder \'
	NM='$CROSSDIR/usr/bin/nm \'
d181 5
a185 5
	OBJCOPY='$CROSSDIR/usr/bin/objcopy \'
	OBJDUMP='$CROSSDIR/usr/bin/objdump \'
	RANLIB='$CROSSDIR/usr/bin/ranlib \'
	SIZE='$CROSSDIR/usr/bin/size \'
	STRIP='$CROSSDIR/usr/bin/strip \'
@


1.7
log
@oops
@
text
@d2 1
a2 1
# $MirOS: src/scripts/xbuild-env.sh,v 1.6 2006/03/01 13:28:34 tg Exp $
d86 4
a89 1
( cd $BSDSRCDIR; DESTDIR=$CROSSDIR make distrib-dirs )
@


1.6
log
@* some more steps toward cross-gcc again
* BINOWN/BINGRP
@
text
@d2 1
a2 1
# $MirOS: src/scripts/xbuild-env.sh,v 1.5 2006/02/28 22:13:25 tg Exp $
d59 1
a59 1
esac
@


1.5
log
@modernising, stage 2 (gcc still unfinished)
@
text
@d2 1
a2 1
# $MirOS: src/scripts/xbuild-env.sh,v 1.4 2006/02/28 21:22:20 tg Exp $
d70 1
a70 1
export SHELL=$MKSH
d108 2
d118 1
@


1.4
log
@first attempts at modernising
@
text
@d2 1
a2 1
# $MirOS: src/share/misc/licence.template,v 1.6 2006/01/24 22:24:02 tg Rel $
d70 1
a70 1
SHELL=$MKSH
d115 1
@


1.3
log
@big fat licence update (I left some which are bsiegert@@'s alone though)
also, remove licence boilerplate from some .h files who don't deserve it
and remove and add some advertising clauses because I say so
@
text
@d2 1
a2 1
# $MirOS: src/scripts/xbuild-env.sh,v 1.2 2005/06/05 15:22:56 tg Exp $
d4 2
a5 2
# Copyright (c) 2004, 2005
#	Thorsten "mirabile" Glaser <tg@@66h.42h.de>
d36 1
a36 1
	print No target or machine given.
d40 2
a41 2
case $MACHINE in
alpha|amd64|hppa|i386|m68k|m88k|powerpc|sparc|sparc64|vax)
d43 1
a43 1
amiga|hp300|mac68k|mvme68k)
d45 1
a45 1
luna88k|mvme88k)
d47 1
a47 1
macppc|mvmeppc)
d49 1
a49 1
sgi)
d51 1
a51 1
*)
d54 2
a55 2
		print Cannot guess machine arch for $MACHINE,
		print target $TARGET - please supply.
d63 10
a72 3
[[ -z $SHELL ]] && SHELL=/bin/mksh
if ! FOO=$($SHELL $BSDSRCDIR/gnu/share/config.sub $TARGET 2>/dev/null); then
	print Invalid target $TARGET chosen, exiting.
d77 2
a78 2
CROSSDIR=${DESTDIR}/usr/cross/${TARGET}
HOST=$(cd $BSDSRCDIR/etc; make ___DISPLAY_MAKEVARS=OStriplet)
d88 4
a91 4
print $MACHINE >$CROSSDIR/T_MACHINE
print $MARCH >$CROSSDIR/T_MACHINE_ARCH
print $TARGET >$CROSSDIR/T_CANON
print $HOST >$CROSSDIR/H_CANON
a99 1
    SKIPDIR="$SKIPDIR X-Window" \
d108 7
a114 5
	BSDSRCDIR=$BSDSRCDIR
	BSDOBJDIR=$CROSSDIR/usr/obj
	HOST=$HOST
	MACHINE=$MACHINE
	MACHINE_ARCH=$MARCH
d118 5
a122 5
	AR=$CROSSDIR/usr/bin/ar
	AS=$CROSSDIR/usr/bin/as
	CC=$CROSSDIR/usr/bin/cc
	CFLAGS='$CROSSCFLAGS'
	CPP=$CROSSDIR/usr/bin/cpp
d125 2
a126 2
	DESTDIR=$CROSSDIR
	HOSTCC=/usr/bin/gcc
d129 1
a129 1
	LD=$CROSSDIR/usr/bin/ld
d131 3
a133 3
	LDSTATIC=-static
	LORDER=/usr/bin/lorder
	NM=$CROSSDIR/usr/bin/nm
d136 5
a140 5
	OBJCOPY=$CROSSDIR/usr/bin/objcopy
	OBJDUMP=$CROSSDIR/usr/bin/objdump
	RANLIB=$CROSSDIR/usr/bin/ranlib
	SIZE=$CROSSDIR/usr/bin/size
	STRIP=$CROSSDIR/usr/bin/strip
d149 5
a153 5
	MACHINE=$MACHINE \
	MACHINE_ARCH=$MARCH \
	OStriplet=$HOST \
	GCCHOST=$TARGET \
	GCCTARGET=$TARGET \
d155 8
a162 8
	__objdir=obj.$MACHINE \
	BSDSRCDIR=$BSDSRCDIR \
	BSDOBJDIR=$CROSSDIR/usr/obj \
	HOST=$HOST \
	AR=$CROSSDIR/usr/bin/ar \
	AS=$CROSSDIR/usr/bin/as \
	CC=$CROSSDIR/usr/bin/cc \
	CPP=$CROSSDIR/usr/bin/cpp \
d164 2
a165 2
	DESTDIR=$CROSSDIR \
	HOSTCC=/usr/bin/gcc \
d167 1
a167 1
	LD=$CROSSDIR/usr/bin/ld \
d169 3
a171 3
	LDSTATIC=-static \
	LORDER=/usr/bin/lorder \
	NM=$CROSSDIR/usr/bin/nm \
d174 5
a178 5
	OBJCOPY=$CROSSDIR/usr/bin/objcopy \
	OBJDUMP=$CROSSDIR/usr/bin/objdump \
	RANLIB=$CROSSDIR/usr/bin/ranlib \
	SIZE=$CROSSDIR/usr/bin/size \
	STRIP=$CROSSDIR/usr/bin/strip \
@


1.2
log
@mksh sweep
@
text
@d2 1
a2 1
# $MirOS: src/scripts/xbuild-env.sh,v 1.1 2005/03/06 16:08:16 tg Exp $
d18 8
a25 7
# Licensor hereby provides this work "AS IS" and WITHOUT WARRANTY of
# any kind, expressed or implied, to the maximum extent permitted by
# applicable law, but with the warranty of being written without ma-
# licious intent or gross negligence; in no event shall licensor, an
# author or contributor be held liable for any damage, direct, indi-
# rect or other, however caused, arising in any way out of the usage
# of this work, even if advised of the possibility of such damage.
@


1.1
log
@ye good olde tools
@
text
@d1 2
a2 2
#!/bin/ksh
# $MirOS: src/share/misc/licence.template,v 1.2 2005/03/03 19:43:30 tg Rel $
d62 1
a62 1
[[ -z $SHELL ]] && SHELL=/bin/ksh
d135 1
a135 1
#!/bin/ksh
@

