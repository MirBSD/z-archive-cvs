head	1.5;
access;
symbols
	MIRBSD_10:1.5.0.2
	MIRBSD_10_BASE:1.5
	MIRBSD_9_BASE:1.4
	cvs-200601311430:1.1.3.1
	netbsd:1.1.3;
locks; strict;
comment	@# @;


1.5
date	2007.06.12.20.30.31;	author tg;	state Exp;
branches;
next	1.4;
commitid	100466F026F35582336;

1.4
date	2006.01.31.15.59.29;	author tg;	state Exp;
branches;
next	1.3;
commitid	10043DF897631FD3B71;

1.3
date	2006.01.31.15.23.05;	author tg;	state Exp;
branches;
next	1.2;
commitid	10043DF80F0463F4C67;

1.2
date	2006.01.31.15.19.08;	author tg;	state Exp;
branches;
next	1.1;
commitid	10043DF8002028C4832;

1.1
date	2006.01.31.14.38.18;	author tg;	state Exp;
branches
	1.1.3.1;
next	;
commitid	10043DF766A2E4773F3;

1.1.3.1
date	2006.01.31.14.38.18;	author tg;	state Exp;
branches;
next	;
commitid	10043DF766A2E4773F3;


desc
@@


1.5
log
@make cross-compilable
@
text
@# $MirOS: src/share/i18n/csmapper/Makefile,v 1.4 2006/01/31 15:59:29 tg Exp $
# $NetBSD: Makefile,v 1.6 2005/03/27 22:30:06 tnozaki Exp $

NOMAN=

.include <bsd.own.mk>

.SUFFIXES: .src .646 .mps

BINDIR?= /usr/share/i18n/csmapper
SRCS_mapper.dir+= mapper.dir.src
SRCS_charset.pivot+= charset.pivot.src

XSUBDIR= CNS CP EBCDIC GB ISO646 ISO-8859 JIS KS MISC
.for i in ${XSUBDIR}
.  if exists(${.CURDIR}/$i/Makefile.inc)
.    include "${.CURDIR}/$i/Makefile.inc"
.  endif
.endfor

SUBDIR+= mkcsmapper
TOOL_MKCSMAPPER=${.CURDIR}/mkcsmapper/${__objdir}/mkcsmapper

# ----------------------------------------------------------------------

mapper.dir: ${SRCS_mapper.dir}
	${_MKTARGET_CREATE}
	cat $> > $@@
mapper.dir.db: mapper.dir
	${_MKTARGET_CREATE}
	${TOOL_MKCSMAPPER} -m -o $@@ $>
FILES+= mapper.dir mapper.dir.db
CLEANFILES+= mapper.dir mapper.dir.db

charset.pivot: ${SRCS_charset.pivot}
	${_MKTARGET_CREATE}
	cat $> > $@@
charset.pivot.pvdb: charset.pivot
	${_MKTARGET_CREATE}
	${TOOL_MKCSMAPPER} -p -o $@@ $>
FILES+= charset.pivot charset.pivot.pvdb
CLEANFILES+= charset.pivot charset.pivot.pvdb

.src.mps:
	${_MKTARGET_CREATE}
	${TOOL_MKCSMAPPER} -o $@@ $>

all: _SUBDIRUSE .WAIT ${TOOL_MKCSMAPPER} ${FILES}
realall: ${FILES}

${TOOL_MKCSMAPPER}:
	cd ${.CURDIR}/mkcsmapper && \
	    ${MAKE} CC=${HOSTCC:Q} CFLAGS=${HOSTCFLAGS:M*:Q}

.include <bsd.prog.mk>
@


1.4
log
@commit current state of affairs
@
text
@d1 1
a1 1
# $MirOS: src/share/i18n/csmapper/Makefile,v 1.3 2006/01/31 15:23:05 tg Exp $
d52 2
a53 1
	cd ${.CURDIR}/mkcsmapper && ${MAKE}
@


1.3
log
@typo
@
text
@d1 1
a1 1
# $MirOS: src/share/i18n/csmapper/Makefile,v 1.2 2006/01/31 15:19:08 tg Exp $
a6 1
_MKTARGET_CREATE?=@@:
a50 2
${FILES}: ${TOOL_MKCSMAPPER}

a53 5
FILESDIR?= ${BINDIR}
afterinstall:
	cd ${.CURDIR} && ${INSTALL} ${INSTALL_COPY} -o ${BINOWN} -g ${BINGRP} \
	    -m ${BINMODE} ${FILES} ${DESTDIR}${FILESDIR}/

@


1.2
log
@initial MirOSification
@
text
@d1 1
a1 1
# $MirOS$
d55 1
a55 1
	cd ${.CURDIR}/mkcswrapper && ${MAKE}
@


1.1
log
@Initial revision
@
text
@d1 1
d7 1
d15 5
a19 5
SUBDIR= CNS CP EBCDIC GB ISO646 ISO-8859 JIS KS MISC
.for i in ${SUBDIR}
.if exists(${.CURDIR}/$i/Makefile.inc)
.include "${.CURDIR}/$i/Makefile.inc"
.endif
d22 3
d49 1
a49 1
all: ${FILES}
d52 10
@


1.1.3.1
log
@Import I18N data files from TNF
@
text
@@
