head	1.6;
access;
symbols
	MIRBSD_10:1.6.0.2
	MIRBSD_10_BASE:1.6
	MIRBSD_9_BASE:1.4
	cvs-200601311430:1.1.3.1
	netbsd:1.1.3;
locks; strict;
comment	@# @;


1.6
date	2007.06.12.20.30.31;	author tg;	state Exp;
branches;
next	1.5;
commitid	100466F026F35582336;

1.5
date	2006.09.07.19.00.32;	author tg;	state Exp;
branches;
next	1.4;
commitid	10045006C6657420527;

1.4
date	2006.01.31.16.26.48;	author tg;	state Exp;
branches;
next	1.3;
commitid	10043DF8FD027294506;

1.3
date	2006.01.31.15.59.31;	author tg;	state Exp;
branches;
next	1.2;
commitid	10043DF897631FD3B71;

1.2
date	2006.01.31.15.19.09;	author tg;	state Exp;
branches;
next	1.1;
commitid	10043DF8002028C4832;

1.1
date	2006.01.31.14.38.24;	author tg;	state Exp;
branches
	1.1.3.1;
next	;
commitid	10043DF766A2E4773F3;

1.1.3.1
date	2006.01.31.14.38.24;	author tg;	state Exp;
branches;
next	;
commitid	10043DF766A2E4773F3;


desc
@@


1.6
log
@make cross-compilable
@
text
@# $MirOS: src/share/i18n/esdb/Makefile,v 1.5 2006/09/07 19:00:32 tg Exp $
# $NetBSD: Makefile,v 1.4 2003/10/21 10:01:21 lukem Exp $

NOMAN=

.include <bsd.own.mk>

BINDIR?=	/usr/share/i18n/esdb

.SUFFIXES: .src .esdb

.src.esdb:
	${_MKTARGET_CREATE}
	${TOOL_MKESDB} -o $@@ $>

XSUBDIR=	CP EUC EBCDIC ISO-2022 ISO-8859 ISO646 MISC UTF

.for i in ${XSUBDIR}
.  include "${.CURDIR}/$i/Makefile.inc"
.endfor

SUBDIR+= mkesdb
TOOL_MKESDB=${.CURDIR}/mkesdb/${__objdir}/mkesdb

# ----------------------------------------------------------------------
# esdb.{dir,alias}
#

esdb.dir: ${SRC_esdb.dir}
	${_MKTARGET_CREATE}
	cat $> | unexpand -a >$@@

esdb.dir.db: esdb.dir
	${_MKTARGET_CREATE}
	${TOOL_MKESDB} -m -o $@@ $>

esdb.alias: ${SRC_esdb.alias}
	${_MKTARGET_CREATE}
	cat $> | unexpand -a >$@@

esdb.alias.db: esdb.alias
	${_MKTARGET_CREATE}
	${TOOL_MKESDB} -m -o $@@ $>

FILES+=		esdb.dir esdb.dir.db esdb.alias esdb.alias.db
CLEANFILES+=	esdb.dir esdb.dir.db esdb.alias esdb.alias.db
FILESDIR:=	${BINDIR}

all: _SUBDIRUSE .WAIT ${TOOL_MKESDB} ${FILES}
realall: ${FILES}

${TOOL_MKESDB}:
	cd ${.CURDIR}/mkesdb && \
	    ${MAKE} CC=${HOSTCC:Q} CFLAGS=${HOSTCFLAGS:M*:Q}

.include <bsd.prog.mk>
@


1.5
log
@more style
@
text
@d1 1
a1 1
# $MirOS: src/share/i18n/esdb/Makefile,v 1.4 2006/01/31 16:26:48 tg Exp $
d53 2
a54 1
	cd ${.CURDIR}/mkesdb && ${MAKE}
@


1.4
log
@finish; works now, looks like on a netbsd system; CLEANFILES in sync too
@
text
@d1 1
a1 1
# $MirOS: src/share/i18n/esdb/Makefile,v 1.3 2006/01/31 15:59:31 tg Exp $
d31 2
a32 1
	cat $> > $@@
d39 2
a40 1
	cat $> > $@@
@


1.3
log
@commit current state of affairs
@
text
@d1 1
a1 1
# $MirOS: src/share/i18n/esdb/Makefile,v 1.2 2006/01/31 15:19:09 tg Exp $
a52 5
FILESDIR?= ${BINDIR}
afterinstall:
	cd ${.CURDIR} && ${INSTALL} ${INSTALL_COPY} -o ${BINOWN} -g ${BINGRP} \
	    -m ${BINMODE} ${FILES} ${DESTDIR}${FILESDIR}/

@


1.2
log
@initial MirOSification
@
text
@d1 1
a1 1
# $MirOS$
a6 1
_MKTARGET_CREATE?=@@:
a49 2
${FILES}: ${TOOL_MKESDB}

@


1.1
log
@Initial revision
@
text
@d1 1
d7 1
d17 1
a17 1
SUBDIR=	CP EUC EBCDIC ISO-2022 ISO-8859 ISO646 MISC UTF
d19 2
a20 2
.for i in ${SUBDIR}
.include "${.CURDIR}/$i/Makefile.inc"
d23 3
d48 1
a48 1
all: ${FILES}
d51 10
@


1.1.3.1
log
@Import I18N data files from TNF
@
text
@@
