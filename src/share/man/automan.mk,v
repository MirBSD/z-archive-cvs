head	1.2;
access;
symbols
	MIRBSD_10:1.2.0.4
	MIRBSD_10_BASE:1.2
	MIRBSD_9_BASE:1.2
	MIRBSD_8:1.2.0.2
	MIRBSD_8_BASE:1.2;
locks; strict;
comment	@# @;


1.2
date	2005.03.28.22.39.38;	author tg;	state Exp;
branches;
next	1.1;

1.1
date	2005.03.28.22.34.15;	author tg;	state Exp;
branches;
next	;


desc
@@


1.2
log
@we want subdirs, too
@
text
@# $MirOS: src/share/man/automan.mk,v 1.1 2005/03/28 22:34:15 tg Exp $

.ifndef _MODSRC_SHARE_MAN_AUTOMAN_MK
_MODSRC_SHARE_MAN_AUTOMAN_MK=1

.if defined(MANSECT)
_MANR!=		cd ${.CURDIR} && echo *.$(MANSECT)
_MANT!=		cd ${.CURDIR} && echo *.$(MANSECT)tbl
_MANE!=		cd ${.CURDIR} && echo *.$(MANSECT)eqn
.  if ${_MANR} != "*.$(MANSECT)"
MAN+=		${_MANR}
.  endif
.  if ${_MANT} != "*.$(MANSECT)tbl"
MAN+=		${_MANT}
.  endif
.  if ${_MANE} != "*.$(MANSECT)eqn"
MAN+=		${_MANE}
.  endif
.endif

.if exists(man$(MANSECT).${MACHINE})
SUBDIR+=	man$(MANSECT).${MACHINE}
.elif exists(man$(MANSECT).${MACHINE_ARCH})
SUBDIR+=	man$(MANSECT).${MACHINE_ARCH}
.endif

.endif
@


1.1
log
@after ports/books/gfdl-books and <bsd.port.subdir.mk> the wonderful
world of automatic inclusion list generation arrives here, too

just make sure you don't put in files not to be generated
@
text
@d1 1
a1 1
# $MirOS$
d21 6
@

