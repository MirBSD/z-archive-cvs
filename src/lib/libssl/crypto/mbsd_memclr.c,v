head	1.1;
access;
symbols;
locks; strict;
comment	@ * @;


1.1
date	2014.11.29.23.00.29;	author tg;	state Exp;
branches;
next	;
commitid	100547A50124DCAD6B0;


desc
@@


1.1
log
@add compiler memory barrier to explicit_bzero; use that for OPENSSL_cleanse
@
text
@#include <string.h>
#include <openssl/crypto.h>

__RCSID("$MirOS: src/kern/c/explicit_bzero.c,v 1.2 2011/07/17 20:39:26 tg Exp $");

void
OPENSSL_cleanse(void *p, size_t n)
{
	bzero(p, n);
	/* protect from reordering */
	__asm __volatile("":::"memory");
}
@
