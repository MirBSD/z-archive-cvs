head	1.2;
access;
symbols;
locks; strict;
comment	@ * @;


1.2
date	2014.12.15.21.04.21;	author tg;	state Exp;
branches;
next	1.1;
commitid	100548F4CC703E2776F;

1.1
date	2014.11.30.00.51.29;	author tg;	state Exp;
branches;
next	;
commitid	100547A6A2908978BDA;


desc
@@


1.2
log
@inline wrappers instead of having one more function call plus some
assorted stack shuffling (especially where argument order differs)
which gives us a small but nice speedup and another size reduction
@
text
@#include <openssl/rc4.h>

#undef RC4_version
#undef RC4_options
#undef RC4_set_key
#undef RC4

const char RC4_version[] __attribute__((__used__)) = "$MirOS: src/lib/libssl/crypto/mbsd_rc4.c,v 1.1 2014/11/30 00:51:29 tg Exp $";

const char *
RC4_options(void)
{
	char RC4_INT_correct_size[(sizeof(RC4_INT) == 1) ? 1 : -1];

	return ("rc4(ptr,char)");
}

void
RC4_set_key(RC4_KEY *key, int len, const unsigned char *data)
{
	arcfour_init(key);
	arcfour_ksa(key, data, len);
}

void
RC4(RC4_KEY *key, unsigned long len, const unsigned char *indata,
    unsigned char *outdata)
{
	while (len--)
		*outdata++ = *indata++ ^ arcfour_byte(key);
}
@


1.1
log
@â€¦ and aRC4
@
text
@d3 6
a8 1
const char RC4_version[] __attribute__((__used__)) = "$MirOS: src/lib/libssl/crypto/mbsd_md4.c,v 1.1 2014/11/29 23:47:03 tg Exp $";
@

