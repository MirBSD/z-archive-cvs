head	1.15;
access;
symbols
	MIRBSD_10:1.7.0.2
	MIRBSD_10_BASE:1.7
	MIRBSD_9_BASE:1.4
	MIRBSD_8:1.3.0.2
	MIRBSD_8_BASE:1.3
	mirbsd:1.1.7;
locks; strict;
comment	@# @;


1.15
date	2014.11.29.22.18.30;	author tg;	state Exp;
branches;
next	1.14;
commitid	100547A46266F534C4C;

1.14
date	2014.11.26.21.39.31;	author tg;	state Exp;
branches;
next	1.13;
commitid	100547648AA1D766814;

1.13
date	2014.11.26.21.38.04;	author tg;	state Exp;
branches;
next	1.12;
commitid	1005476485432E8CE58;

1.12
date	2014.11.26.21.30.47;	author tg;	state Exp;
branches;
next	1.11;
commitid	1005476468C1794A72A;

1.11
date	2014.11.26.19.52.50;	author tg;	state Exp;
branches;
next	1.10;
commitid	10054762FA77E4200D6;

1.10
date	2014.11.26.19.35.59;	author tg;	state Exp;
branches;
next	1.9;
commitid	10054762BB730B9824E;

1.9
date	2014.11.26.19.22.06;	author tg;	state Exp;
branches;
next	1.8;
commitid	1005476283E2526F9BB;

1.8
date	2013.08.01.16.30.45;	author tg;	state Exp;
branches;
next	1.7;
commitid	10051FA8D4A10F6FE4D;

1.7
date	2006.10.15.00.53.04;	author tg;	state Exp;
branches;
next	1.6;
commitid	1004531867C62C7E39E;

1.6
date	2006.09.20.20.38.14;	author tg;	state Exp;
branches;
next	1.5;
commitid	1004511A6C160F978C8;

1.5
date	2006.06.30.23.18.04;	author tg;	state Exp;
branches;
next	1.4;
commitid	10044A5B12A66F53B0F;

1.4
date	2006.06.17.22.11.32;	author tg;	state Exp;
branches;
next	1.3;
commitid	10044947A600871A477;

1.3
date	2005.10.21.11.02.53;	author tg;	state Exp;
branches;
next	1.2;
commitid	6c0b4358cac0ef88;

1.2
date	2005.03.15.18.51.37;	author tg;	state Exp;
branches;
next	1.1;

1.1
date	2005.03.06.16.33.39;	author tg;	state Exp;
branches
	1.1.7.1;
next	;

1.1.7.1
date	2005.03.06.16.33.39;	author tg;	state Exp;
branches;
next	;


desc
@@


1.15
log
@• clean up CPPFLAGS
• move most of the Makefile.inc-ish stuff into the header
• while here, switch from i386 to i486 for assembly CPU level
@
text
@# $MirOS: src/lib/libssl/Makefile.inc,v 1.14 2014/11/26 21:39:31 tg Exp $

.if !defined(_MODSRC_LIB_LIBSSL_MAKEFILE_INC)
_MODSRC_LIB_LIBSSL_MAKEFILE_INC=1

.include <bsd.own.mk>

.if ${NOPIC:L} == "no"
CPPFLAGS+=	-DDSO_DLFCN -DHAVE_DLFCN_H
.endif
CPPFLAGS+=	-DTERMIOS

.if exists(${.CURDIR}/../../Makefile.inc)
.  include "${.CURDIR}/../../Makefile.inc"
.endif

.endif
@


1.14
log
@sort the flags
@
text
@d1 1
a1 1
# $MirOS: src/lib/libssl/Makefile.inc,v 1.13 2014/11/26 21:38:04 tg Exp $
a7 2
COPTS+=		-fno-builtin-pow10

d11 1
a11 10
CPPFLAGS+=	-DTERMIOS -DANSI_SOURCE
CPPFLAGS+=	-DOPENSSL_NO_ACSS
CPPFLAGS+=	-DOPENSSL_NO_ASM
CPPFLAGS+=	-DOPENSSL_NO_COMP
CPPFLAGS+=	-DOPENSSL_NO_IDEA
CPPFLAGS+=	-DOPENSSL_NO_KRB5
CPPFLAGS+=	-DOPENSSL_NO_MDC2
CPPFLAGS+=	-DOPENSSL_NO_RC5
CPPFLAGS+=	-DOPENSSL_NO_SSL2
CPPFLAGS+=	-DOPENSSL_NO_SSL3
@


1.13
log
@disable SSLv3 too… more tricky!
@
text
@d1 1
a1 1
# $MirOS: src/lib/libssl/Makefile.inc,v 1.12 2014/11/26 21:30:47 tg Exp $
d13 10
a22 4
CPPFLAGS+=	-DTERMIOS -DANSI_SOURCE -DOPENSSL_NO_ASM -DOPENSSL_NO_KRB5
CPPFLAGS+=	-DOPENSSL_NO_RC5 -DOPENSSL_NO_MDC2 -DOPENSSL_NO_IDEA
CPPFLAGS+=	-DOPENSSL_NO_ACSS -DOPENSSL_NO_COMP
CPPFLAGS+=	-DOPENSSL_NO_SSL2 -DOPENSSL_NO_SSL3
@


1.12
log
@wow, that worked. remove SSLv2, which also works, with the deficiency
that s_client now defaults to -ssl3
@
text
@d1 1
a1 1
# $MirOS: src/lib/libssl/Makefile.inc,v 1.11 2014/11/26 19:52:50 tg Exp $
d16 1
a16 1
CPPFLAGS+=	-DOPENSSL_NO_SSL2
@


1.11
log
@drop compression
@
text
@d1 1
a1 1
# $MirOS: src/lib/libssl/Makefile.inc,v 1.10 2014/11/26 19:35:59 tg Exp $
d16 1
@


1.10
log
@drop acss
@
text
@d1 1
a1 1
# $MirOS: src/lib/libssl/Makefile.inc,v 1.9 2014/11/26 19:22:06 tg Exp $
d15 1
a15 1
CPPFLAGS+=	-DOPENSSL_NO_ACSS
@


1.9
log
@bump libcrypto and libssl major in preparation of things to come
while here, remove IDEA, MDC2 and RC5 (make MKC_USAP a nop) – as
they are ancient algorithms not really used in OpenSSL, with not
few more to come…
@
text
@d1 1
a1 1
# $MirOS: src/lib/libssl/Makefile.inc,v 1.8 2013/08/01 16:30:45 tg Exp $
d15 1
@


1.8
log
@… oh, and IDEA was freed.
@
text
@d1 1
a1 1
# $MirOS: src/lib/libssl/Makefile.inc,v 1.7 2006/10/15 00:53:04 tg Exp $
a9 3
.if ${MKC_USAP:L} == "yes"
CPPFLAGS+=	-DOPENSSL_NO_RC5 -DOPENSSL_NO_MDC2
.endif
d14 1
@


1.7
log
@make it harder to not sync these
@
text
@d1 1
a1 1
# $MirOS: src/lib/libssl/Makefile.inc,v 1.6 2006/09/20 20:38:14 tg Exp $
d11 1
a11 1
CPPFLAGS+=	-DOPENSSL_NO_RC5 -DOPENSSL_NO_MDC2 -DOPENSSL_NO_IDEA
@


1.6
log
@try to clean up the openssl mess
@
text
@d1 1
a1 1
# $MirOS: src/lib/libssl/Makefile.inc,v 1.5 2006/06/30 23:18:04 tg Exp $
d10 8
@


1.5
log
@check MACHINE_ARCH not MACHINE for same-userland stuff
@
text
@d1 1
a1 1
# $MirOS: src/lib/libssl/Makefile.inc,v 1.4 2006/06/17 22:11:32 tg Exp $
a9 10
.if ${MACHINE_ARCH} == "i386"
CPPFLAGS+=	-DL_ENDIAN
.elif ${MACHINE_ARCH} == "sparc"
CPPFLAGS+=	-DB_ENDIAN
.else
.BEGIN:
	@@echo No endianness defined.
	@@exit 1
.endif

@


1.4
log
@remove more of these AMD64 remains
@
text
@d1 1
a1 1
# $MirOS: src/lib/libssl/Makefile.inc,v 1.3 2005/10/21 11:02:53 tg Exp $
d10 1
a10 1
.if ${MACHINE} == "i386"
d12 1
a12 1
.elif ${MACHINE} == "sparc"
@


1.3
log
@* merge bin and lib completely
* convert some ancient RCSID styles etc. to more modern stuff
* fix use of CDIAGFLAGS+=, CFLAGS+= and COPTS+= to the correct
  variant (include bsd.own.mk _then_ COPTS+=) so they're added
  after any user-specified flags
  (this is probably lurking in more places than I can imagine)
* fix some indenting, comments, etc.
* make stuff compile (fix warnings/errors)
* add script to review _all_ shlib_version after an openbsd import
* remove two more obsolete /usr/lib/debug/ references
* bin/ps: comment out some SMP code
@
text
@d1 1
a1 1
# $MirOS: src/lib/libssl/Makefile.inc,v 1.2 2005/03/15 18:51:37 tg Exp $
d10 1
a10 1
.if (${MACHINE} == "amd64") || (${MACHINE} == "i386")
d12 1
a12 1
.elif (${MACHINE_ARCH} == "powerpc") || (${MACHINE} == "sparc")
@


1.2
log
@better, unified, endianness detection
@
text
@d1 1
a1 1
# $MirOS: src/lib/libssl/Makefile.inc,v 1.1.7.1 2005/03/06 16:33:39 tg Exp $
d6 4
a23 2
CFLAGS+= -fno-builtin-pow10

@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $MirOS$
d6 10
@


1.1.7.1
log
@Add some missing files, such as some ISDN4BSD stuff,
documentation, tmac and tab files, TAI64 etc.
@
text
@@
