head	1.11;
access;
symbols
	MIRBSD_9_BASE:1.8
	cvs-200601301245:1.1.1.1
	openbsd:1.1.1;
locks; strict;
comment	@# @;


1.11
date	2006.11.21.20.20.01;	author tg;	state dead;
branches;
next	1.10;
commitid	10045635F7B1F325778;

1.10
date	2006.11.21.20.15.31;	author tg;	state Exp;
branches;
next	1.9;
commitid	10045635E587418AB20;

1.9
date	2006.11.20.23.50.48;	author tg;	state Exp;
branches;
next	1.8;
commitid	10045623E721D637299;

1.8
date	2006.06.01.22.42.39;	author tg;	state Exp;
branches;
next	1.7;
commitid	100447F6D124881EFA8;

1.7
date	2006.06.01.22.30.12;	author tg;	state Exp;
branches;
next	1.6;
commitid	100447F6A5E5E5D04C9;

1.6
date	2006.06.01.22.17.26;	author tg;	state Exp;
branches;
next	1.5;
commitid	100447F676243262322;

1.5
date	2006.06.01.21.58.13;	author tg;	state Exp;
branches;
next	1.4;
commitid	100447F62F21BBF9816;

1.4
date	2006.05.26.14.12.22;	author tg;	state Exp;
branches;
next	1.3;
commitid	10044770CD91F24039A;

1.3
date	2006.05.21.12.45.55;	author tg;	state Exp;
branches;
next	1.2;
commitid	1004470610F15692B5A;

1.2
date	2006.01.30.13.01.45;	author tg;	state Exp;
branches;
next	1.1;
commitid	10043DE0E35275412D7;

1.1
date	2006.01.30.12.51.38;	author tg;	state Exp;
branches
	1.1.1.1;
next	;
commitid	10043DE0BE73819FB87;

1.1.1.1
date	2006.01.30.12.51.38;	author tg;	state Exp;
branches;
next	;
commitid	10043DE0BE73819FB87;


desc
@@


1.11
log
@ok, we don't need Makefile.inc here at all I suppose,
and remove lies (no setrunelocale() in MirOS)
@
text
@# $MirOS: src/lib/libc/locale/Makefile.inc,v 1.10 2006/11/21 20:15:31 tg Exp $
#
# THIS FILE IS *NOT* USED, use ../i18n/Makefile.inc instead!
# This is only a reference for what we import from OpenBSD.

#	$OpenBSD: Makefile.inc,v 1.10 2005/08/08 05:53:01 espie Exp $

# locale sources
.PATH: ${LIBCSRCDIR}/arch/${MACHINE_ARCH}/locale ${LIBCSRCDIR}/locale

SRCS+=	_def_messages.c _def_monetary.c _def_numeric.c _def_time.c \
	localeconv.c nl_langinfo.c setlocale.c iswctype.c mbrtowc_sb.c \
	multibyte_sb.c \
	__mb_cur_max.c wcstod.c wcstol.c wcstoul.c wcstoll.c wcstoull.c \
	setrunelocale.c runeglue.c rune.c runetable.c ___runetype_mb.c \
	_wctrans.c

MAN+=	nl_langinfo.3 setlocale.3 iswalnum.3 towlower.3 \
	btowc.3 mblen.3 mbrlen.3 mbrtowc.3 mbsinit.3 mbsrtowcs.3 \
	mbstowcs.3 mbtowc.3 wcrtomb.3 wcsrtombs.3 wcstombs.3 wctob.3 \
	wctomb.3 wctype.3 iswctype.3 wctrans.3 towctrans.3
MLINKS+=setlocale.3 localeconv.3 \
	iswalnum.3 iswalpha.3 \
	iswalnum.3 iswblank.3 \
	iswalnum.3 iswcntrl.3 \
	iswalnum.3 iswdigit.3 \
	iswalnum.3 iswgraph.3 \
	iswalnum.3 iswlower.3 \
	iswalnum.3 iswprint.3 \
	iswalnum.3 iswpunct.3 \
	iswalnum.3 iswspace.3 \
	iswalnum.3 iswupper.3 \
	iswalnum.3 iswxdigit.3 \
	towlower.3 towupper.3

CFLAGS+=-I${.CURDIR}
@


1.10
log
@lib/libc/locale/Makefile.inc is actually unused, thus (add a warning and)
place MLINKS for lib/libc/locale/*.3 stuff in lib/libc/i18n/Makefile.inc,
and correct a typo in the dist set
@
text
@d1 1
a1 1
# $MirOS$
@


1.9
log
@implement mbsnrtowcs(3) and wcsnrtombs(3) - including manual pages

these are only visible if any of
	_GNU_SOURCE and not __STRICT_ANSI__ (gcc -ansi)
	(_OPENBSD_SOURCE or _NETBSD_SOURCE) and none of (_ANSI_SOURCE,
	    XPG and POSIX stuff) and not __STRICT_ANSI__ (gcc -ansi)
	_ALL_SOURCE and not __STRICT_ANSI__ (gcc -ansi)
are defined, since they're GNU (and MirOS) extensions
@
text
@d1 5
a35 3
MLINKS+=mbsrtowcs.3 mbsnrtowcs.3
MLINKS+=wcsrtombs.3 wcsnrtombs.3

@


1.8
log
@* write an iswctype(3) from scratch, based upon manual page,
  the UCD-autogenerated attribute tables and Bruno's defines
  but without the special cases for the C locale
* don't include locale/Makefile.inc any more, revert it
@
text
@d31 3
@


1.7
log
@add a cunning (small, not even worth the adv clause ;) isw*() implementation
@
text
@d1 1
a1 2
# $MirOS: src/lib/libc/locale/Makefile.inc,v 1.6 2006/06/01 22:17:26 tg Exp $
# $OpenBSD: Makefile.inc,v 1.10 2005/08/08 05:53:01 espie Exp $
a2 1
.ifdef __LIBC_OPENBSD_LOCALE
a31 52
.else

.PATH: ${LIBCSRCDIR}/locale
CPPFLAGS+= -I${LIBCSRCDIR}/locale

SRCS+=	wcstod.c
SRCS+=	wcstol.c
SRCS+=	wcstoll.c
SRCS+=	wcstoul.c
SRCS+=	wcstoull.c

CFLAGS_wcstod.o+=	-Wno-cast-qual
CFLAGS_wcstol.o+=	-Wno-cast-qual
CFLAGS_wcstoll.o+=	-Wno-cast-qual
CFLAGS_wcstoul.o+=	-Wno-cast-qual
CFLAGS_wcstoull.o+=	-Wno-cast-qual

MAN+=	btowc.3
MAN+=	mblen.3
MAN+=	mbrlen.3
MAN+=	mbrtowc.3
MAN+=	mbsinit.3
MAN+=	mbsrtowcs.3
MAN+=	mbstowcs.3
MAN+=	mbtowc.3
MAN+=	nl_langinfo.3
MAN+=	setlocale.3
MAN+=	wcrtomb.3
MAN+=	wcsrtombs.3
MAN+=	wcstombs.3
MAN+=	wctob.3
MAN+=	wctomb.3
MAN+=	wctrans.3
MAN+=	wctype.3
MLINKS+=setlocale.3 localeconv.3

# stubs
MAN+=	iswalnum.3 towlower.3
MLINKS+=iswalnum.3 iswalpha.3
MLINKS+=iswalnum.3 iswblank.3
MLINKS+=iswalnum.3 iswcntrl.3
MLINKS+=iswalnum.3 iswdigit.3
MLINKS+=iswalnum.3 iswgraph.3
MLINKS+=iswalnum.3 iswlower.3
MLINKS+=iswalnum.3 iswprint.3
MLINKS+=iswalnum.3 iswpunct.3
MLINKS+=iswalnum.3 iswspace.3
MLINKS+=iswalnum.3 iswupper.3
MLINKS+=iswalnum.3 iswxdigit.3
MLINKS+=towlower.3 towupper.3

.endif
@


1.6
log
@move freely licenced functions from libhaible into libc;
add missing wcsxfrm(3); sort and style; remove some stubs
@
text
@d1 1
a1 1
# $MirOS: src/lib/libc/locale/Makefile.inc,v 1.5 2006/06/01 21:58:13 tg Exp $
d73 4
d78 3
d82 1
@


1.5
log
@move Makefile entries for a few reachover functions
@
text
@d1 1
a1 1
# $MirOS: src/lib/libc/locale/Makefile.inc,v 1.4 2006/05/26 14:12:22 tg Exp $
d51 17
a67 2
MAN+=	btowc.3 mbrtowc.3 mbsinit.3 nl_langinfo.3 setlocale.3 \
	wcrtomb.3 wctob.3
d71 5
a75 6
MAN+=	iswalnum.3 towlower.3 mblen.3 mbstowcs.3 mbtowc.3 \
	wcstombs.3 wctomb.3
MLINKS+=iswalnum.3 iswalpha.3 \
	iswalnum.3 iswlower.3 \
	iswalnum.3 iswupper.3 \
	towlower.3 towupper.3
@


1.4
log
@we have mbsinit(3)
@
text
@d1 1
a1 1
# $MirOS: src/lib/libc/locale/Makefile.inc,v 1.3 2006/05/21 12:45:55 tg Exp $
d37 13
@


1.3
log
@install manpages for the functions supported,
even if they're just stubs
@
text
@d1 1
a1 1
# $MirOS: src/lib/libc/locale/Makefile.inc,v 1.2 2006/01/30 13:01:45 tg Exp $
d38 2
a39 1
MAN+=	btowc.3 mbrtowc.3 nl_langinfo.3 setlocale.3 wcrtomb.3 wctob.3
@


1.2
log
@add (some) OpenBSD I18N manual pages to build

XXX fix multibyte.c or better port libutf8
XXX add nl_langinfo(CODESET)
@
text
@d1 1
a1 1
# $MirOS$
d41 8
@


1.1
log
@Initial revision
@
text
@d1 2
a2 1
#	$OpenBSD: Makefile.inc,v 1.10 2005/08/08 05:53:01 espie Exp $
d4 1
d34 8
@


1.1.1.1
log
@Import I18N manual pages for functions we either have or will have
@
text
@@
