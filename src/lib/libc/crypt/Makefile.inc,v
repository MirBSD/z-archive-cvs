head	1.9;
access;
symbols
	MIRBSD_10:1.3.0.2
	MIRBSD_10_BASE:1.3
	MIRBSD_9_BASE:1.2
	MIRBSD_8:1.2.0.2
	MIRBSD_8_BASE:1.2
	cvs-200509212000:1.1.1.1
	cvs-200507211800:1.1.1.1
	openbsd:1.1.1;
locks; strict;
comment	@# @;


1.9
date	2012.02.20.03.21.24;	author tg;	state Exp;
branches;
next	1.8;
commitid	1004F41BC4B364A7B74;

1.8
date	2010.09.21.19.38.21;	author tg;	state Exp;
branches;
next	1.7;
commitid	1004C99098A59EF7F86;

1.7
date	2010.09.12.17.10.50;	author tg;	state Exp;
branches;
next	1.6;
commitid	1004C8D0939027D8BE7;

1.6
date	2010.01.07.22.34.49;	author tg;	state Exp;
branches;
next	1.5;
commitid	1004B46615B7479BC1B;

1.5
date	2008.12.27.21.56.26;	author tg;	state Exp;
branches;
next	1.4;
commitid	1004956A49966DC2D4B;

1.4
date	2008.04.06.16.35.16;	author tg;	state Exp;
branches;
next	1.3;
commitid	10047F8FBC509338948;

1.3
date	2006.08.18.13.44.33;	author tg;	state Exp;
branches;
next	1.2;
commitid	10044E5C4543E62F99B;

1.2
date	2005.03.06.20.28.34;	author tg;	state Exp;
branches;
next	1.1;

1.1
date	2005.02.05.17.24.38;	author tg;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2005.02.05.17.24.38;	author tg;	state Exp;
branches;
next	;


desc
@@


1.9
log
@rename arc4random_push✲_old.c into arc4random_pushb_old.c to accomodate cvs-genperm; we already lose "www/files/f/Attic/MirOS #10-current (FrOSCon 2010) [2C7AF16C].torrent,v" but that’s no biggie
@
text
@# $MirOS: src/lib/libc/crypt/Makefile.inc,v 1.8 2010/09/21 19:38:21 tg Exp $
# $OpenBSD: Makefile.inc,v 1.15 2003/08/12 01:22:17 deraadt Exp $

.PATH: ${LIBCSRCDIR}/arch/${MACHINE_ARCH}/crypt ${LIBCSRCDIR}/crypt

SRCS+=	cast.c crypt.c crypt2.c md5crypt.c blowfish.c
SRCS+=  bcrypt.c pwd_gensalt.c skipjack.c to64.c

MAN+=	crypt.3 blowfish.3 arc4random.3
MLINKS+=crypt.3 encrypt.3 crypt.3 setkey.3 crypt.3 des_cipher.3
MLINKS+=crypt.3 bcrypt_gensalt.3 crypt.3 bcrypt.3 crypt.3 md5crypt.3
MLINKS+=crypt.3 des_setkey.3 blowfish.3 blf_key.3 blowfish.3 blf_enc.3
MLINKS+=blowfish.3 blf_dec.3 blowfish.3 blf_ecb_encrypt.3
MLINKS+=blowfish.3 blf_ecb_decrypt.3 blowfish.3 blf_cbc_encrypt.3
MLINKS+=blowfish.3 blf_cbc_decrypt.3

SRCS+=	arc4random_addrandom.c
SRCS+=	arc4random_base.c
SRCS+=	arc4random_buf.c
SRCS+=	arc4random_pushb_fast.c
SRCS+=	arc4random_pushb_old.c
SRCS+=	arc4random_stir.c
MLINKS+=arc4random.3 arc4random_buf.3
MLINKS+=arc4random.3 arc4random_uniform.3
MLINKS+=arc4random.3 arc4random_stir.3
MLINKS+=arc4random.3 arc4random_addrandom.3
MLINKS+=arc4random.3 arc4random_push.3
MLINKS+=arc4random.3 arc4random_pushb.3
MLINKS+=arc4random.3 arc4random_pushb_fast.3
MLINKS+=arc4random.3 arc4random_pushk.3
@


1.8
log
@* discourage arc4random_addrandom if arc4random_pushb_fast is faster but
  doesn’t harm (i.e. for everything that doesn’t specifically require KSA)
* discovered configure checks for symbols, not macros, so keep the older
  push* API around
@
text
@d1 1
a1 1
# $MirOS: src/lib/libc/crypt/Makefile.inc,v 1.7 2010/09/12 17:10:50 tg Exp $
d21 1
a21 1
SRCS+=	arc4random_push✲_old.c
@


1.7
log
@new implementation of arc4random(3) API (except arc4random_uniform(3),
which though has been split off earlier today)

deprecate arc4random_push arc4random_pushb arc4random_pushk
in favour of arc4random_pushb_fast as well

hide internal symbols from user with a version script (only some,
until the next major bump)

make deprecated functions into macros already

switch some kernel code to use the new shared code already; rewrite
of kernel arc4random(9) will come next/later
@
text
@d1 1
a1 1
# $MirOS: src/lib/libc/crypt/Makefile.inc,v 1.6 2010/01/07 22:34:49 tg Exp $
d17 12
a28 4
SRCS+=	arc4random_addrandom.c arc4random_base.c arc4random_buf.c \
	arc4random_pushb.c arc4random_stir.c
MLINKS+=arc4random.3 arc4random_stir.3 arc4random.3 arc4random_addrandom.3
MLINKS+=arc4random.3 arc4random_buf.3 arc4random.3 arc4random_uniform.3
a29 3

SRCS+=	arc4pushk.c
MLINKS+=arc4random.3 arc4random_push.3 arc4random.3 arc4random_pushb.3
@


1.6
log
@facilitate code and data sharing: move some passwd(8) functions
sources by other stuff into libc or libutil; make commons out of
things like digits, base64 data or code, etc. (publish the data
parts as well, justin case) plus do some const cleanup
@
text
@d1 1
a1 1
# $MirOS: src/lib/libc/crypt/Makefile.inc,v 1.5 2008/12/27 21:56:26 tg Exp $
d6 1
a6 1
SRCS+=	cast.c crypt.c crypt2.c md5crypt.c arc4random.c blowfish.c
d16 3
d21 1
a21 1
MLINKS+=arc4random.3 arc4random_push.3 arc4random.3 arc4random_pushb.3
d24 1
@


1.5
log
@gotta have some more MLINKS now
@
text
@d1 1
a1 1
# $MirOS: src/lib/libc/crypt/Makefile.inc,v 1.4 2008/04/06 16:35:16 tg Exp $
d7 1
a7 1
SRCS+=  bcrypt.c skipjack.c
@


1.4
log
@new function (and macro with 1:1 definition): arc4random_pushk(3)
for use in applications that do not need to pull in all of arc4random.c
@
text
@d1 1
a1 1
# $MirOS: src/lib/libc/crypt/Makefile.inc,v 1.3 2006/08/18 13:44:33 tg Exp $
d17 1
@


1.3
log
@missed MLINKS
@
text
@d1 1
a1 1
# $MirOS: src/lib/libc/crypt/Makefile.inc,v 1.2 2005/03/06 20:28:34 tg Exp $
d18 3
@


1.2
log
@merge src/lib
@
text
@d1 1
a1 1
# $MirOS$
d17 1
a17 1
MLINKS+=arc4random.3 arc4random_push.3
@


1.1
log
@Initial revision
@
text
@d1 2
a2 1
#	$OpenBSD: Makefile.inc,v 1.15 2003/08/12 01:22:17 deraadt Exp $
d17 1
@


1.1.1.1
log
@Import the OpenBSD foundation of MirOS BSD
@
text
@@
