head	1.3;
access;
symbols
	MIRBSD_10:1.3.0.2
	MIRBSD_10_BASE:1.3
	MIRBSD_9_BASE:1.3;
locks; strict;
comment	@# @;


1.3
date	2006.06.02.20.18.41;	author tg;	state Exp;
branches;
next	1.2;
commitid	10044809D232E99ACFD;

1.2
date	2006.02.01.14.40.14;	author tg;	state Exp;
branches;
next	1.1;
commitid	10043E0C82F27B079A6;

1.1
date	2006.01.31.19.13.45;	author tg;	state Exp;
branches;
next	;
commitid	10043DFB6DF5492A8E6;


desc
@@


1.3
log
@add test for //TRANSLIT (not really well supported in either)
@
text
@# $MirOS: src/lib/libcitrus_iconv/test/Makefile,v 1.2 2006/02/01 14:40:14 tg Exp $

PROG=		iconv_test
NOMAN=		yes

test: .NOTMAIN all
	./${PROG}

.ifdef GNU
LDADD+=		-L/usr/mpkg/lib -lgiconv
CPPFLAGS+=	-Diconv=libiconv \
		-Diconv_open=libiconv_open \
		-Diconv_close=libiconv_close \
		-DGNU
.else
LDADD+=		-L/usr/lib -liconv
.endif

.include <bsd.prog.mk>
@


1.2
log
@Install as libiconv.{a,so.4.4} because it's compatible with GNU libiconv,
the functions are weak, and the internal functions are namespace'd with
_citrus. For everything else, add a symbol versioning script which doesn't
really version, just set visibility (global/local) of symbols.
@
text
@d1 1
a1 1
# $MirOS: src/lib/libcitrus_iconv/test/Makefile,v 1.1 2006/01/31 19:13:45 tg Exp $
d10 1
a10 1
LDADD+=		-L/usr/mpkg/lib -liconv
d13 2
a14 1
		-Diconv_close=libiconv_close
@


1.1
log
@commit a working, stripped-down (may be cleaning up the attic later,
but not for now) BSD-licenced libiconv replacement
@
text
@d1 1
a1 1
# $MirOS$
d15 1
a15 1
LDADD+=		-lcitrus_iconv
@

