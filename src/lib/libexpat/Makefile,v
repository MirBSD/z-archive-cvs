head	1.6;
access;
symbols
	MIRBSD_10:1.6.0.2
	MIRBSD_10_BASE:1.6
	MIRBSD_9_BASE:1.5
	MIRBSD_8:1.4.0.2
	MIRBSD_8_BASE:1.4
	mirbsd:1.1.7;
locks; strict;
comment	@# @;


1.6
date	2007.05.17.18.38.31;	author tg;	state Exp;
branches;
next	1.5;
commitid	100464CA0BC3310E768;

1.5
date	2006.06.01.23.33.35;	author tg;	state Exp;
branches;
next	1.4;
commitid	100447F794E00D3F849;

1.4
date	2005.11.03.22.28.10;	author tg;	state Exp;
branches;
next	1.3;
commitid	7afc436a8eca13dd;

1.3
date	2005.10.21.11.33.30;	author tg;	state dead;
branches;
next	1.2;
commitid	275f4358cfde0f84;

1.2
date	2005.10.21.11.02.44;	author tg;	state Exp;
branches;
next	1.1;
commitid	6c0b4358cac0ef88;

1.1
date	2005.03.06.16.33.39;	author tg;	state Exp;
branches
	1.1.7.1;
next	;

1.1.7.1
date	2005.03.06.16.33.39;	author tg;	state Exp;
branches;
next	;


desc
@@


1.6
log
@more includes-target overhaul:
â€¢ document it
â€¢ do it for <bsd.prog.mk> too
â€¢ move it to <bsd.sys.mk>, handle generation by <bsd.subdir.mk>
â€¢ add /usr/include/openssl to mtree(8) base system tree file
â€¢ have all libs and flex use the generic target
â€¢ clean them up; repair a few bugs
@
text
@# $MirOS: src/lib/libexpat/Makefile,v 1.5 2006/06/01 23:33:35 tg Exp $
# $OpenBSD: Makefile,v 1.2 2004/09/22 21:37:35 espie Exp $

SHLIB_VERSION?= 6.0
LIB=		expat
.PATH: ${.CURDIR}/lib
SRCS=		xmlparse.c xmltok.c xmlrole.c
HDRS=		lib/expat.h lib/expat_external.h

.include <bsd.own.mk>
COPTS+=		-Wall
CPPFLAGS+=	-DHAVE_EXPAT_CONFIG_H

.include <bsd.lib.mk>
@


1.5
log
@* sync expat_config.h
* get rid of expat_config.h.in in -rHEAD
* bump major
* sync import script
@
text
@d1 1
a1 1
# $MirOS: src/lib/libexpat/Makefile,v 1.4 2005/11/03 22:28:10 tg Exp $
d8 1
a8 1
HDRS=		expat.h expat_external.h
a13 7
includes:
.for _i in ${HDRS}
	@@cmp -s ${DESTDIR}/usr/include/${_i} ${.CURDIR}/lib/${_i} \
	    || ${INSTALL} ${INSTALL_COPY} -o ${BINOWN} -g ${BINGRP} \
	    -m ${NONBINMODE} ${.CURDIR}/lib/${_i} ${DESTDIR}/usr/include/
.endfor

@


1.4
log
@revive expat, after "discovering" it's being used by XFree86®...

The plan is that, after the release, when the base system (including
X11 and GCC) is split up into several ports, we'll just have a depen-
dency on expat in X11 ports where needed, and until then, we'll just
keep it in base.
@
text
@d1 1
a1 1
# $MirOS: src/lib/libexpat/Makefile,v 1.2 2005/10/21 11:02:44 tg Exp $
d4 1
a4 1
SHLIB_VERSION?= 5.0
@


1.3
log
@* un-hook bin/ksh, usr.bin/xmlwf and lib/libexpat from the build
  - expat as discussed with bsiegert@@ today on the phone
  - ksh as announced earlier on the lists
* un-hook lib/libexpat from make includes
* remove /usr/include/{,open}ssl upgrade workaround from includes/Makefile
* nuke old bin/ksh
* nuke libexpat and xmlwf
@
text
@@


1.2
log
@* merge bin and lib completely
* convert some ancient RCSID styles etc. to more modern stuff
* fix use of CDIAGFLAGS+=, CFLAGS+= and COPTS+= to the correct
  variant (include bsd.own.mk _then_ COPTS+=) so they're added
  after any user-specified flags
  (this is probably lurking in more places than I can imagine)
* fix some indenting, comments, etc.
* make stuff compile (fix warnings/errors)
* add script to review _all_ shlib_version after an openbsd import
* remove two more obsolete /usr/lib/debug/ references
* bin/ps: comment out some SMP code
@
text
@d1 1
a1 1
# $MirOS: src/lib/libexpat/Makefile,v 1.1.7.1 2005/03/06 16:33:39 tg Exp $
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $MirOS$
d10 2
a11 1
CFLAGS+=	-Wall
@


1.1.7.1
log
@Add some missing files, such as some ISDN4BSD stuff,
documentation, tmac and tab files, TAI64 etc.
@
text
@@
