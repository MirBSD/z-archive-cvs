head	1.4;
access;
symbols
	MIRBSD_10:1.2.0.4
	MIRBSD_10_BASE:1.2
	MIRBSD_9_BASE:1.2
	MIRBSD_8:1.2.0.2
	MIRBSD_8_BASE:1.2
	TNF:1.1.3;
locks; strict;
comment	@ * @;


1.4
date	2013.10.31.20.06.15;	author tg;	state Exp;
branches;
next	1.3;
commitid	1005272B7081B0E5655;

1.3
date	2008.12.26.16.25.51;	author tg;	state Exp;
branches;
next	1.2;
commitid	100495505845E06BC20;

1.2
date	2005.03.06.20.28.21;	author tg;	state Exp;
branches;
next	1.1;

1.1
date	2005.02.05.01.21.35;	author tg;	state Exp;
branches
	1.1.3.1;
next	;

1.1.3.1
date	2005.02.05.01.21.35;	author tg;	state Exp;
branches;
next	;


desc
@@


1.4
log
@adapt most __attribute__((â€¦)) occurrences to new KNF style(9)
@
text
@/*	$NetBSD: crtend.c,v 1.11 2004/08/28 00:19:22 thorpej Exp $	*/

#include <sys/cdefs.h>
#include "dot_init.h"

__RCSID("$MirOS: src/lib/csu/common_elf/crtend.c,v 1.3 2008/12/26 16:25:51 tg Exp $");

/*
 * WE SHOULD BE USING GCC-SUPPLIED crtend.o FOR GCC 3.3 AND
 * LATER!!!
 */
#if !defined(HAVE_VERSION_SPECIFIC_GCC_LIBS) && __GNUC_PREREQ__(3, 3)
#error "Use GCC-supplied crtend.o"
#endif

static void (*__CTOR_LIST__[1])(void)
    __attribute__((__unused__))
    __attribute__((__section__(".ctors"))) = { (void *)0 };	/* XXX */
static void (*__DTOR_LIST__[1])(void)
    __attribute__((__unused__))
    __attribute__((__section__(".dtors"))) = { (void *)0 };	/* XXX */

#ifdef DWARF2_EH
static unsigned int __FRAME_END__[]
    __attribute__((__unused__))
    __attribute__((__section__(".eh_frame"))) = { 0 };
#endif

#if defined(JCR) && defined(__GNUC__)
static void *__JCR_END__[1]
    __attribute__((__unused__, __section__(".jcr"))) = { (void *) 0 };
#endif
@


1.3
log
@enable compiling the TNF derived CSU files again, for pcc
(working even though built with mgcc)

tested

XXX pending partial rewrite
@
text
@a0 1
/**	$MirOS: src/lib/csu/common_elf/crtend.c,v 1.2 2005/03/06 20:28:21 tg Exp $ */
d6 1
a6 1
__RCSID("$MirOS: src/lib/csu/common_elf/crtend.c,v 1.2 2005/03/06 20:28:21 tg Exp $");
d18 1
a18 1
    __attribute__((section(".ctors"))) = { (void *)0 };		/* XXX */
d21 1
a21 1
    __attribute__((section(".dtors"))) = { (void *)0 };		/* XXX */
d26 1
a26 1
    __attribute__((section(".eh_frame"))) = { 0 };
d31 1
a31 1
    __attribute__((__unused__, section(".jcr"))) = { (void *) 0 };
@


1.2
log
@merge src/lib
@
text
@d1 1
a1 1
/**	$MirOS$ */
d7 1
a7 1
__RCSID("$MirOS$");
d13 1
a13 1
#if __GNUC_PREREQ__(3, 3)
@


1.1
log
@Initial revision
@
text
@d1 1
d7 4
a10 2
/* 
 * WE SHOULD BE USING GCC-SUPPLIED crtend.o FOR GCC 3.3 AND      
d17 1
a17 1
static void (*__CTOR_LIST__[1]) __P((void))
d20 1
a20 1
static void (*__DTOR_LIST__[1]) __P((void))
@


1.1.3.1
log
@The whole bunch of code we took from NetBSD(tm)
@
text
@@
