head	1.9;
access;
symbols
	MIRBSD_10:1.2.0.2
	MIRBSD_10_BASE:1.2
	MIRBSD_9_BASE:1.1.1.3
	MIRBSD_8:1.1.1.3.0.2
	MIRBSD_8_BASE:1.1.1.3
	cvs-200507211800:1.1.1.3
	cvs-200504170300:1.1.1.2
	openbsd:1.1.1;
locks; strict;
comment	@# @;


1.9
date	2016.05.09.21.09.52;	author tg;	state Exp;
branches;
next	1.8;
commitid	1005730FCB575301A82;

1.8
date	2016.05.09.21.07.51;	author tg;	state Exp;
branches;
next	1.7;
commitid	1005730FC3F663134C1;

1.7
date	2014.07.14.13.07.28;	author tg;	state Exp;
branches;
next	1.6;
commitid	10053C3D627172FDEB4;

1.6
date	2013.05.22.19.44.53;	author tg;	state Exp;
branches;
next	1.5;
commitid	100519D204D1D1ED08F;

1.5
date	2013.05.17.22.28.21;	author tg;	state Exp;
branches;
next	1.4;
commitid	1005196AF14710F3E85;

1.4
date	2009.07.18.14.09.08;	author tg;	state Exp;
branches;
next	1.3;
commitid	1004A61D73A7953CBB8;

1.3
date	2008.05.07.12.45.52;	author tg;	state Exp;
branches;
next	1.2;
commitid	1004821A4976E50F329;

1.2
date	2007.03.09.13.05.11;	author tg;	state Exp;
branches;
next	1.1;
commitid	10045F15B4849447B32;

1.1
date	2005.02.05.17.22.11;	author tg;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2005.02.05.17.22.11;	author tg;	state Exp;
branches;
next	1.1.1.2;

1.1.1.2
date	2005.04.17.03.08.34;	author tg;	state Exp;
branches;
next	1.1.1.3;

1.1.1.3
date	2005.07.21.20.45.39;	author tg;	state Exp;
branches;
next	1.1.1.4;
commitid	560042e0092f571e;

1.1.1.4
date	2016.05.09.21.02.54;	author tg;	state Exp;
branches;
next	;
commitid	1005730FB16189322DF;


desc
@@


1.9
log
@drop uatraps: discontinued, empty
@
text
@# $MirSecuCron$
# $MirOS: src/etc/spamd.conf,v 1.8 2016/05/09 21:07:51 tg Exp $
# $OpenBSD: spamd.conf,v 1.5 2016/03/14 21:36:52 jmc Exp $
#
# spamd(8) configuration file, read by spamd-setup(8).
# See also spamd.conf(5).
#
# Configures lists for spamd(8).
#
# Strings follow getcap(3) convention escapes, except you
# can have a bare colon (:) inside a quoted string and it
# will deal with it. See spamd-setup(8) for more details.
#
# "all" must be here, and defines the order in which lists are applied.
# Lists specified with the :white: capability apply to the previous
# list with a :black: capability.
#
# As of November 2004, a place to search for blacklists is
#     http://spamlinks.net/filter-bl.htm
#
# Files removed with reason:
# * china, korea: “files don't mirror reliably and have been stubbed anyway”
# * uatraps: “This service has been discontinued by the University of Alberta”

all:\
	:nixspam:bsdly:

# example; add to all if needed
myblack:\
	:msg="Your address %A is spamming and will not be accepted as sender for a while.":\
	:black:method=file:file=/etc/mail/spamd.black

# See http://www.bsdly.net/~peter/traplist_ethics.shtml
bsdly:\
	:black:\
	:msg="SPAM. Your address %A has sent spam within the last 24 hours\n\
	See http://www.bsdly.net/~peter/nameandshame.html for details.":\
	:method=http:\
	:file=www.bsdly.net/~peter/bsdly.net.traplist:

# Nixspam recent sources list.
# Mirrored from http://www.heise.de/ix/nixspam
nixspam:\
	:black:\
	:msg="Your address %A is in the nixspam list\n\
	See http://www.heise.de/ix/nixspam/dnsbl_en/ for details":\
	:method=http:\
	:file=www.openbsd.org/spamd/nixspam.gz

# An example of a list containing addresses which should not talk to spamd.
#
#override:\
#	:white:\
#	:method=file:\
#	:file=/var/db/override.txt:
@


1.8
log
@merge
@
text
@d2 1
a2 1
# $MirOS: src/etc/spamd.conf,v 1.7 2014/07/14 13:07:28 tg Exp $
d23 1
d26 1
a26 1
	:uatraps:nixspam:bsdly:
a40 9
# University of Alberta greytrap hits.
# Addresses stay in it for 24 hours from time they misbehave.
uatraps:\
	:black:\
	:msg="Your address %A has sent mail to a ualberta.ca spamtrap\n\
	within the last 24 hours":\
	:method=http:\
	:file=www.openbsd.org/spamd/traplist.gz

@


1.7
log
@update file URI for bsdly
@
text
@d2 2
a3 2
# $MirOS: src/etc/spamd.conf,v 1.6 2013/05/22 19:44:53 tg Exp $
# $OpenBSD: src/etc/mail/spamd.conf,v 1.3 2007/05/12 00:43:41 cnst Exp $
d10 1
a10 1
# Strings follow getcap(3) convention escapes, other than you
d20 3
d25 1
a25 1
	:uatraps:nixspam:china:korea:bsdly:
a57 16
# Mirrored from http://www.okean.com/chinacidr.txt
china:\
	:black:\
	:msg="SPAM. Your address %A appears to be from China\n\
	See http://www.okean.com/asianspamblocks.html for more details":\
	:method=http:\
	:file=www.openbsd.org/spamd/chinacidr.txt.gz:

# Mirrored from http://www.okean.com/koreacidr.txt
korea:\
	:black:\
	:msg="SPAM. Your address %A appears to be from Korea\n\
	See http://www.okean.com/asianspamblocks.html for more details":\
	:method=http:\
	:file=www.openbsd.org/spamd/koreacidr.txt.gz:

@


1.6
log
@an improvement in wording
@
text
@d2 1
a2 1
# $MirOS: src/etc/spamd.conf,v 1.5 2013/05/17 22:28:21 tg Exp $
d35 1
a35 1
	:file=home.nuug.no/~peter/bsdly.net.traplist:
@


1.5
log
@found another blacklist for spamd, from an openbsd associate apparently
@
text
@d2 1
a2 1
# $MirOS: src/etc/spamd.conf,v 1.4 2009/07/18 14:09:08 tg Exp $
d26 2
a27 4
	:black:\
	:msg="We do not accept any mail from spammers.":\
	:method=file:\
	:file=/etc/mail/spamd.black:
@


1.4
log
@prevent data corruption from /etc/security’s automated backup cronjob
by using “MirSecuCron” as RCS ID for these and preventing it from ex-
panding any of the default keywords

also, add RCS IDs to almost all configuration files and enhance the
default changelist file
@
text
@d2 1
a2 1
# $MirOS: src/etc/spamd.conf,v 1.3 2008/05/07 12:45:52 tg Exp $
d22 16
a37 1
	:uatraps:nixspam:china:korea:
@


1.3
log
@merge from obsd
@
text
@d1 2
a2 2
# $Id$
# $MirOS$
@


1.2
log
@sync spamd upgrades and libpcap, and some /etc stuff; read
• http://undeadly.org/cgi?action=article&sid=20070304035922&mode=expanded
• http://www.openbsd.org/faq/current.html#20070226
for details. In short:
• change rc.conf[.local]
• spamd.conf now lies in /etc/mail/
• greylisting is on by default
• the database has a new format
• there's some database sync stuff
@
text
@d1 1
d3 1
a3 1
# $OpenBSD: src/etc/mail/spamd.conf,v 1.2 2007/03/06 10:29:44 jmc Exp $
a19 5
#
# Some of the URLs below point to www.openbsd.org locations.  Those
# files are likely to be mirrored to other OpenBSD www mirrors located
# around the world.  Hence, it is possible to edit this file and rewrite
# www.openbsd.org with, for instance, to www.de.openbsd.org.
@


1.1
log
@Initial revision
@
text
@d1 2
a2 1
# $OpenBSD: spamd.conf,v 1.11 2004/11/06 22:14:37 david Exp $
d4 2
a5 1
# spamd config file, read by spamd-setup(8) for spamd(8)
d7 1
a7 3
# See spamd.conf(5)
#
# Configures whitelists and blacklists for spamd
d13 3
a15 3
# "all" must be here, and defines the order in which lists are applied
# whitelists apply to the previous blacklist. more than one whitelist
# may be applied to each blacklist
d17 1
a17 1
# As of November 2004, a place to search for black lists is
d23 1
a23 1
# www.openbsd.org with, for instance, to www.de.openbsd.org
d26 1
a26 10
	:spamhaus:china:korea:

# Mirrored from http://spfilter.openrbl.org/data/sbl/SBL.cidr.bz2
spamhaus:\
	:black:\
	:msg="SPAM. Your address %A is in the Spamhaus Block List\n\
	See http://www.spamhaus.org/sbl and\
	http://www.abuse.net/sbl.phtml?IP=%A for more details":\
	:method=http:\
	:file=www.openbsd.org/spamd/SBL.cidr.gz
d28 3
a30 2
# Mirrored from http://www.spews.org/spews_list_level1.txt
spews1:\
d32 2
a33 2
	:msg="SPAM. Your address %A is in the spews level 1 database\n\
	See http://www.spews.org/ask.cgi?x=%A for more details":\
d35 1
a35 1
	:file=www.openbsd.org/spamd/spews_list_level1.txt.gz
d37 3
a39 2
# Mirrored from http://www.spews.org/spews_list_level2.txt
spews2:\
d41 2
a42 2
	:msg="SPAM. Your address %A is in the spews level 2 database\n\
	See http://www.spews.org/ask.cgi?x=%A for more details":\
d44 1
a44 1
	:file=www.openbsd.org/spamd/spews_list_level2.txt.gz
d52 1
a52 1
	:file=www.openbsd.org/spamd/chinacidr.txt.gz
d60 1
a60 1
	:file=www.openbsd.org/spamd/koreacidr.txt.gz
d62 1
a62 3

# Whitelists are done like this, and must be added to "all" after each
# blacklist from which you want the addresses in the whitelist removed.
d64 1
a64 1
#whitelist:\
d66 2
a67 12
#	:file=/var/mail/whitelist.txt

relaydb-black:\
	:black:\
	:msg="SPAM. Your address %A is in my relaydb list.":\
	:method=exec:\
	:file=relaydb -4lb:

relaydb-white:\
	:white:\
	:method=exec:\
	:file=relaydb -4lw:
@


1.1.1.1
log
@Import the OpenBSD foundation of MirOS BSD
@
text
@@


1.1.1.2
log
@spamd improvements
@
text
@d1 1
a1 1
# $OpenBSD: spamd.conf,v 1.12 2005/01/16 17:16:44 deraadt Exp $
d35 1
a35 1
	:file=www.openbsd.org/spamd/SBL.cidr.gz:
d43 1
a43 1
	:file=www.openbsd.org/spamd/spews_list_level1.txt.gz:
d51 1
a51 1
	:file=www.openbsd.org/spamd/spews_list_level2.txt.gz:
d59 1
a59 1
	:file=www.openbsd.org/spamd/chinacidr.txt.gz:
d67 1
a67 1
	:file=www.openbsd.org/spamd/koreacidr.txt.gz:
d75 1
a75 1
#	:file=/var/mail/whitelist.txt:
@


1.1.1.3
log
@Import almost everything (no ancontrol, ifconfig, pfctl, wicontrol)
of (the undeleted parts of) OpenBSD-current's userland of about 3 hours ago.
Warning: this introduces major breakage!
@
text
@d1 1
a1 1
# $OpenBSD: spamd.conf,v 1.15 2005/06/06 16:03:33 jmc Exp $
d13 3
a15 3
# "all" must be here, and defines the order in which lists are applied.
# Whitelists apply to the previous blacklist. More than one whitelist
# may be applied to each blacklist.
a68 10
#relaydb-black:\
#	:black:\
#	:msg="SPAM. Your address %A is in my relaydb list.":\
#	:method=exec:\
#	:file=relaydb -4lb:

#relaydb-white:\
#	:white:\
#	:method=exec:\
#	:file=relaydb -4lw:
a74 1
#	:method=file:\
d76 11
@


1.1.1.4
log
@update from OpenBSD
@
text
@d1 1
a1 1
# $OpenBSD: spamd.conf,v 1.5 2016/03/14 21:36:52 jmc Exp $
d3 1
a3 2
# spamd(8) configuration file, read by spamd-setup(8).
# See also spamd.conf(5).
d5 1
a5 1
# Configures lists for spamd(8).
d7 3
a9 1
# Strings follow getcap(3) convention escapes, except you
d14 2
a15 2
# Lists specified with the :white: capability apply to the previous
# list with a :black: capability.
d17 1
a17 1
# As of November 2004, a place to search for blacklists is
d19 5
d26 26
a51 1
	:uatraps:nixspam:
d53 2
a54 3
# University of Alberta greytrap hits.
# Addresses stay in it for 24 hours from time they misbehave.
uatraps:\
d56 2
a57 2
	:msg="Your address %A has sent mail to a ualberta.ca spamtrap\n\
	within the last 24 hours":\
d59 1
a59 1
	:file=www.openbsd.org/spamd/traplist.gz
d61 2
a62 3
# Nixspam recent sources list.
# Mirrored from http://www.heise.de/ix/nixspam
nixspam:\
d64 2
a65 2
	:msg="Your address %A is in the nixspam list\n\
	See http://www.heise.de/ix/nixspam/dnsbl_en/ for details":\
d67 12
a78 1
	:file=www.openbsd.org/spamd/nixspam.gz
d80 2
a81 1
# An example of a list containing addresses which should not talk to spamd.
d83 1
a83 1
#override:\
d86 1
a86 1
#	:file=/var/db/override.txt:
@


