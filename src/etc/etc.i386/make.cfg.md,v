head	1.8;
access;
symbols
	MIRBSD_10:1.4.0.2
	MIRBSD_10_BASE:1.4
	MIRBSD_9_BASE:1.3
	MIRBSD_8:1.3.0.2
	MIRBSD_8_BASE:1.3;
locks; strict;
comment	@# @;


1.8
date	2017.04.08.20.43.54;	author tg;	state Exp;
branches;
next	1.7;
commitid	10058E94B880C810E8A;

1.7
date	2017.04.08.16.05.44;	author tg;	state Exp;
branches;
next	1.6;
commitid	10058E90A645BB20D20;

1.6
date	2009.12.19.15.27.44;	author tg;	state Exp;
branches;
next	1.5;
commitid	1004B2CF0EE13A5EEBF;

1.5
date	2008.11.10.20.43.06;	author tg;	state Exp;
branches;
next	1.4;
commitid	10049189CF038F460F4;

1.4
date	2006.09.20.19.26.51;	author tg;	state Exp;
branches;
next	1.3;
commitid	100451195FE092D5A41;

1.3
date	2005.10.21.20.00.12;	author tg;	state Exp;
branches;
next	1.2;
commitid	7c2f435948d43637;

1.2
date	2005.08.28.22.41.25;	author tg;	state Exp;
branches;
next	1.1;
commitid	14a543123d39f391;

1.1
date	2005.08.21.11.45.46;	author tg;	state Exp;
branches;
next	;
commitid	1c13430869647d4b;


desc
@@


1.8
log
@make -masm=intel the default for compilation to .s files from <bsd.*.mk>
now that itâ€™s actually useful
@
text
@# $MirOS: src/etc/etc.i386/make.cfg.md,v 1.5 2008/11/10 20:43:06 tg Exp $
#
# machdep part of ${MAKE}.cfg for i386

_DEFCOPTS:=	-march=i486 -mpush-args -mpreferred-stack-boundary=2 \
		-momit-leaf-frame-pointer
_DEFCOPTS_llvm:=-march=i486 -mtune=pentium-mmx -mpreferred-stack-boundary=2
_DEFCOPTS_pcc:=	# nothing
_DEFcTOsOPTS:=	-masm=intel
@


1.7
log
@add -fverbose-asm and MD options to compile-to-.s by default
@
text
@d9 1
a9 1
_DEFcTOsOPTS:=	# nothing yet
@


1.6
log
@build gcc-3.4.6/i386 with -momit-leaf-frame-pointer to get one more
register available while not breaking debugging or CFrustFrust code
@
text
@d9 1
@


1.5
log
@somewhat sensible DEFCOPTS
@
text
@d1 1
a1 1
# $MirOS: src/etc/etc.i386/make.cfg.md,v 1.4 2006/09/20 19:26:51 tg Exp $
d5 2
a6 1
_DEFCOPTS:=	-march=i486 -mpush-args -mpreferred-stack-boundary=2
@


1.4
log
@while wondering why -Wbounded wasn't active by default, add a few
others and merge same code
@
text
@d1 1
a1 1
# $MirOS: src/etc/etc.i386/make.cfg.md,v 1.3 2005/10/21 20:00:12 tg Exp $
d6 2
@


1.3
log
@* DEFCOPTS -> _DEFCOPTS
* add them in MirMake, too
@
text
@d1 1
a1 1
# $MirOS: src/etc/etc.i386/make.cfg.md,v 1.2 2005/08/28 22:41:25 tg Exp $
d5 1
a5 3
_DEFCOPTS=	-Os -Wstrict-aliasing -Wformat -fno-align-functions \
		-fno-align-labels -falign-loops=4 -falign-jumps=4 \
		-march=i486 -mpush-args -mpreferred-stack-boundary=2
@


1.2
log
@* -fno-strict-aliasing -fno-strength-reduce are unneeded, since mgcc
  (not stock gcc) only enables them at -O3 (or the old unroller)
* use new -Wstrict-aliasing instead to warn at such corner cases
* don't use -fno-unit-at-a-time any more
* if MKC_DEBG use new DEBUGPROGS instead of disabling INSTALL_STRIP
* don't build a release floppy for now
@
text
@d1 1
a1 1
# $MirOS: src/etc/etc.i386/make.cfg.md,v 1.1 2005/08/21 11:45:46 tg Exp $
d5 1
a5 1
DEFCOPTS=	-Os -Wstrict-aliasing -Wformat -fno-align-functions \
@


1.1
log
@mk.conf -> make.cfg (uses basename of $MAKE, for portable mirmake's sake)
@
text
@d1 1
a1 1
# $MirOS: src/etc/etc.i386/mk.conf.md,v 1.6 2005/04/23 22:06:42 tg Exp $
d5 3
a7 4
DEFCOPTS=	-Os -fno-strict-aliasing -fno-strength-reduce -Wformat \
		-fno-unit-at-a-time -fno-align-functions -fno-align-labels \
		-falign-loops=4 -falign-jumps=4 -march=i486 -mpush-args \
		-mpreferred-stack-boundary=2
@

