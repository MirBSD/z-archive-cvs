head	1.14;
access;
symbols
	MIRBSD_10:1.8.0.2
	MIRBSD_10_BASE:1.8
	MIRBSD_9_BASE:1.6
	MIRBSD_8:1.3.0.2
	MIRBSD_8_BASE:1.3
	cvs-200507211800:1.1.1.2
	openbsd:1.1.1;
locks; strict;
comment	@# @;


1.14
date	2018.05.03.00.08.02;	author tg;	state Exp;
branches;
next	1.13;
commitid	1005AEA52EF6990A4F5;

1.13
date	2018.05.02.22.48.32;	author tg;	state Exp;
branches;
next	1.12;
commitid	1005AEA4052579113D7;

1.12
date	2014.05.13.22.30.50;	author tg;	state Exp;
branches;
next	1.11;
commitid	10053729D1C4DADD3B9;

1.11
date	2009.10.29.00.47.45;	author tg;	state Exp;
branches;
next	1.10;
commitid	1004AE8E62C03A506A0;

1.10
date	2009.10.27.19.09.41;	author tg;	state Exp;
branches;
next	1.9;
commitid	1004AE7457C1645499A;

1.9
date	2009.07.18.14.09.04;	author tg;	state Exp;
branches;
next	1.8;
commitid	1004A61D73A7953CBB8;

1.8
date	2007.06.16.23.34.59;	author tg;	state Exp;
branches;
next	1.7;
commitid	100467473A13286283E;

1.7
date	2007.04.17.22.32.42;	author tg;	state Exp;
branches;
next	1.6;
commitid	10046254B016F1B38C7;

1.6
date	2006.03.02.11.32.40;	author tg;	state Exp;
branches;
next	1.5;
commitid	1004406D653125D5DDC;

1.5
date	2006.01.03.18.10.13;	author tg;	state Exp;
branches;
next	1.4;
commitid	10043BABE131E0A62B4;

1.4
date	2006.01.03.03.54.56;	author tg;	state Exp;
branches;
next	1.3;
commitid	10043B9F56C65A5546E;

1.3
date	2005.07.24.15.45.28;	author tg;	state Exp;
branches;
next	1.2;
commitid	777042e3b7a03843;

1.2
date	2005.03.06.19.05.54;	author tg;	state Exp;
branches;
next	1.1;

1.1
date	2005.02.05.17.22.11;	author tg;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2005.02.05.17.22.11;	author tg;	state Exp;
branches;
next	1.1.1.2;

1.1.1.2
date	2005.07.21.20.45.36;	author tg;	state Exp;
branches;
next	;
commitid	560042e0092f571e;


desc
@@


1.14
log
@fixup the values; also, keep syslog and apache log for up to 60 hrs by default
@
text
@# $MirSecuCron$
# $MirOS: src/etc/newsyslog.conf,v 1.12 2014/05/13 22:30:50 tg Exp $
# $OpenBSD: newsyslog.conf,v 1.25 2005/02/07 06:08:10 david Exp $
#
# configuration file for newsyslog
#
# logfile_name			owner:group     mode count size  when    flags
/var/log/lpd-errs		root:wheel	640  3     10    *       Z
/var/log/pflog			root:wheel	600  4     250   *       ZB /var/run/pflogd.pid

# to keep logs for three weeks (plus the current day) uncomment
#/var/log/messages		root:wheel	640  21    *     24      Z
# to keep logs for 48 hours plus another 12-hour period, uncomment
/var/log/messages		root:wheel	640  4     *     12      ZA

/var/log/suexec_log		root:wheel	640  1     *     24      Z
# not enabled by default as it conflicts with running httpd in chroot
#/var/www/logs/ssl_engine_log	root:wheel	640  1     *     24      ZA /var/www/logs/httpd.pid SIGUSR1
#/var/www/logs/access_log	root:wheel	640  4     *     12      ZA /var/www/logs/httpd.pid SIGUSR1
#/var/www/logs/error_log		root:wheel	640  4     *     12      ZA /var/www/logs/httpd.pid SIGUSR1
@


1.13
log
@document the current sadly broken state of affairs
@
text
@d2 1
a2 1
# $MirOS: src/etc/newsyslog.conf,v 1.11 2009/10/29 00:47:45 tg Exp $
d8 2
a9 2
/var/log/lpd-errs		root:wheel	640  2     10    *       Z
/var/log/pflog			root:wheel	600  3     250   *       ZB /var/run/pflogd.pid
d12 3
a14 3
#/var/log/messages		root:wheel	640  20    *     24      Z
# to keep logs for two (plus the current) days uncomment
/var/log/messages		root:wheel	640  1     *     24      Z
d17 4
a20 4
# not enabled by default, since it conflicts with httpd chroot
#/var/www/logs/ssl_engine_log	root:wheel	640  1     *     24      Z /var/www/logs/httpd.pid SIGUSR1
#/var/www/logs/access_log	root:wheel	640  2     *     24      Z /var/www/logs/httpd.pid SIGUSR1
#/var/www/logs/error_log		root:wheel	640  3     *     24      Z /var/www/logs/httpd.pid SIGUSR1
@


1.12
log
@use same user:group for all newsyslog'd files; add acronyms from Vutral
@
text
@d11 3
a13 3
# to keep logs for three weeks uncomment
#/var/log/messages		root:wheel	640  21    *     24      Z
# to keep logs for two days uncomment
@


1.11
log
@SIGUSR1 restarts of httpd just don't work with chroot, period.
(and I don't know why, but since I'm building a release, revert.)
@
text
@d2 1
a2 1
# $MirOS: src/etc/newsyslog.conf,v 1.9 2009/07/18 14:09:04 tg Exp $
d7 3
a9 3
# logfile_name		owner:group     mode count size  when    flags
/var/log/lpd-errs	root:wheel	640  2     10    *       Z
/var/log/pflog		root:wheel	600  3     250   *       ZB /var/run/pflogd.pid
d12 1
a12 1
#/var/log/messages	root:wheel	640  21    *     24      Z
d14 1
a14 1
/var/log/messages	root:wheel	640  1     *     24      Z
d16 1
a16 1
/var/log/suexec_log	root:wheel	640  1     *     24      Z
d18 3
a20 3
#/var/www/logs/ssl_engine_log		640  1     *     24      Z /var/www/logs/httpd.pid SIGUSR1
#/var/www/logs/access_log		640  2     *     24      Z /var/www/logs/httpd.pid SIGUSR1
#/var/www/logs/error_log			640  3     *     24      Z /var/www/logs/httpd.pid SIGUSR1
@


1.10
log
@now we can enable httpd log rotating by default
(also shorten log keep times, like was done for messages)
@
text
@d17 4
a20 3
/var/www/logs/ssl_engine_log		640  1     *     24      Z /var/www/logs/httpd.pid SIGUSR1
/var/www/logs/access_log		640  2     *     24      Z /var/www/logs/httpd.pid SIGUSR1
/var/www/logs/error_log			640  3     *     24      Z /var/www/logs/httpd.pid SIGUSR1
@


1.9
log
@prevent data corruption from /etc/security’s automated backup cronjob
by using “MirSecuCron” as RCS ID for these and preventing it from ex-
panding any of the default keywords

also, add RCS IDs to almost all configuration files and enhance the
default changelist file
@
text
@d2 1
a2 1
# $MirOS: src/etc/newsyslog.conf,v 1.8 2007/06/16 23:34:59 tg Exp $
d16 4
a19 4
/var/log/suexec_log	root:wheel	640  1     *     168     Z
#/var/www/logs/ssl_engine_log		640  3     *     24      Z /var/www/logs/httpd.pid SIGUSR1
#/var/www/logs/access_log		644  7     *     168     Z /var/www/logs/httpd.pid SIGUSR1
#/var/www/logs/error_log 		644  7     *     168     Z /var/www/logs/httpd.pid SIGUSR1
@


1.8
log
@leave the /var/log/wtmp rotating to the monthly script, it's run more
reliably than “newsyslog within one hour of the specified time”…
@
text
@d1 2
a2 2
# $Id$
# $MirOS: src/etc/newsyslog.conf,v 1.7 2007/04/17 22:32:42 tg Exp $
@


1.7
log
@compress log files again, gzip(1) now (#10n14) uses arc4random_push(3) too
@
text
@d2 1
a2 1
# $MirOS: src/etc/newsyslog.conf,v 1.6 2006/03/02 11:32:40 tg Exp $
a8 1
/var/log/wtmp		root:wheel	640  1     *     @@01T00  ZB
@


1.6
log
@* reduce default all-log (messages) keep time to two days,
  comment out the previous three week default
* rotate suexec log if it exists
* keep other logs for slightly less time

after all, logs are free for hunt in the EU now...
@
text
@d2 1
a2 1
# $MirOS: src/etc/newsyslog.conf,v 1.5 2006/01/03 18:10:13 tg Exp $
d9 1
a9 1
/var/log/wtmp		root:wheel	640  1     *     @@01T00  B
d15 1
a15 1
/var/log/messages	root:wheel	640  1     *     24
@


1.5
log
@add commented-out stubs for httpd's log files
@
text
@d2 1
a2 1
# $MirOS: src/etc/newsyslog.conf,v 1.4 2006/01/03 03:54:56 tg Exp $
d8 2
a9 3
/var/log/lpd-errs	root:wheel	640  7     10    *       Z
/var/log/messages	root:wheel	640  21    *     24      Z
/var/log/wtmp		root:wheel	640  3     *     @@01T00  B
d11 7
a17 1
#/var/log/suexec_log	root:wheel	640  1     *     168     Z
@


1.4
log
@* /var/cron/log is unused
* rotate wtmp only once per month (on the 1st at midnight)
* fix login accounting (to look at the wtmp of last month)
@
text
@d2 1
a2 1
# $MirOS: src/etc/newsyslog.conf,v 1.3 2005/07/24 15:45:28 tg Exp $
d12 4
@


1.3
log
@merge [A-Za-p] and improve where possible/necessary
@
text
@d2 1
a2 1
# $MirOS: src/etc/newsyslog.conf,v 1.2 2005/03/06 19:05:54 tg Exp $
d7 5
a11 6
# logfile_name		owner:group     mode count size when  flags
/var/cron/log		root:wheel	600  3     10   *     Z
/var/log/lpd-errs			640  7     10   *     Z
/var/log/messages	root:wheel	640  21    *    24    Z
/var/log/wtmp				644  3     *    720   ZB
/var/log/pflog				600  3     250  *     ZB /var/run/pflogd.pid
@


1.2
log
@merge src/etc minus generated files
@
text
@d2 2
a3 2
# $MirOS$
# $OpenBSD: newsyslog.conf,v 1.24 2003/11/11 17:00:50 jmc Exp $
d7 1
a7 1
# logfile_name          owner:group     mode count size when  flags
@


1.1
log
@Initial revision
@
text
@d1 3
a3 1
#	$OpenBSD: newsyslog.conf,v 1.24 2003/11/11 17:00:50 jmc Exp $
a8 3
/var/log/aculog		uucp:dialer	660  7     *    24    Z
/var/log/authlog	root:wheel	640  7     *    168   Z
/var/log/daemon				640  5     30   *     Z
d10 2
a11 6
/var/log/maillog			600  7     *    24    Z
/var/log/messages			644  5     30   *     Z
/var/log/secure				600  7     *    168   Z
/var/log/wtmp				644  7     *    168   ZB
/var/log/xferlog			640  7     250  *     Z
/var/log/ppp.log			640  7     250  *     Z
@


1.1.1.1
log
@Import the OpenBSD foundation of MirOS BSD
@
text
@@


1.1.1.2
log
@Import almost everything (no ancontrol, ifconfig, pfctl, wicontrol)
of (the undeleted parts of) OpenBSD-current's userland of about 3 hours ago.
Warning: this introduces major breakage!
@
text
@d1 1
a1 1
#	$OpenBSD: newsyslog.conf,v 1.25 2005/02/07 06:08:10 david Exp $
d5 1
a5 1
# logfile_name		owner:group     mode count size when  flags
@

