head	1.13;
access;
symbols
	MIRBSD_10:1.13.0.2
	MIRBSD_10_BASE:1.13
	MIRBSD_9_BASE:1.12
	MIRBSD_8:1.8.0.2
	MIRBSD_8_BASE:1.8
	cvs-200507211800:1.1.1.2
	openbsd:1.1.1;
locks; strict;
comment	@# @;


1.13
date	2006.06.30.23.18.04;	author tg;	state Exp;
branches;
next	1.12;
commitid	10044A5B12A66F53B0F;

1.12
date	2006.06.17.22.12.39;	author tg;	state Exp;
branches;
next	1.11;
commitid	10044947A600871A477;

1.11
date	2006.06.16.23.35.36;	author tg;	state Exp;
branches;
next	1.10;
commitid	10044934042741B467A;

1.10
date	2006.06.16.20.29.14;	author tg;	state Exp;
branches;
next	1.9;
commitid	100449314AA4E499916;

1.9
date	2006.06.09.00.46.29;	author tg;	state Exp;
branches;
next	1.8;
commitid	1004488C4ED197B0928;

1.8
date	2005.11.23.18.11.57;	author tg;	state Exp;
branches;
next	1.7;
commitid	66184384b0e8a2fa;

1.7
date	2005.11.23.16.43.49;	author tg;	state Exp;
branches;
next	1.6;
commitid	560c43849c55498d;

1.6
date	2005.07.01.12.05.17;	author tg;	state Exp;
branches;
next	1.5;
commitid	2e0642c531928f77;

1.5
date	2005.03.15.18.39.16;	author tg;	state Exp;
branches;
next	1.4;

1.4
date	2005.03.15.18.32.34;	author tg;	state Exp;
branches;
next	1.3;

1.3
date	2005.03.14.22.16.04;	author tg;	state Exp;
branches;
next	1.2;

1.2
date	2005.03.06.19.49.47;	author tg;	state Exp;
branches;
next	1.1;

1.1
date	2005.02.05.17.26.26;	author tg;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2005.02.05.17.26.26;	author tg;	state Exp;
branches;
next	1.1.1.2;

1.1.1.2
date	2005.07.21.20.56.49;	author tg;	state Exp;
branches;
next	;
commitid	560042e0092f571e;


desc
@@


1.13
log
@check MACHINE_ARCH not MACHINE for same-userland stuff
@
text
@# $MirOS: src/sbin/Makefile,v 1.12 2006/06/17 22:12:39 tg Exp $

.include <bsd.own.mk>

.if ${MACHINE_ARCH} == "i386"
  SUBDIR+= ancontrol
.endif
  SUBDIR+= atactl
  SUBDIR+= badsect
# SUBDIR+= bioctl
  SUBDIR+= brconfig
  SUBDIR+= ccdconfig
  SUBDIR+= clri
  SUBDIR+= dhclient
  SUBDIR+= disklabel
  SUBDIR+= dmesg
  SUBDIR+= dump
  SUBDIR+= dumpfs
.if ${MACHINE_ARCH} == "i386"
  SUBDIR+= fdisk
.endif
  SUBDIR+= ffsinfo
  SUBDIR+= fsck
  SUBDIR+= fsck_ext2fs
  SUBDIR+= fsck_ffs
  SUBDIR+= fsck_msdos
  SUBDIR+= fsdb
  SUBDIR+= growfs
  SUBDIR+= ifconfig
  SUBDIR+= init
.if ${MACHINE_ARCH} == "i386"
  SUBDIR+= iopctl
.endif
# SUBDIR+= ipsecctl
  SUBDIR+= isakmpd
  SUBDIR+= kbd
  SUBDIR+= lmccontrol
  SUBDIR+= mknod
  SUBDIR+= modload
  SUBDIR+= modunload
  SUBDIR+= mount
  SUBDIR+= mount_cd9660
  SUBDIR+= mount_ext2fs
  SUBDIR+= mount_fdesc
  SUBDIR+= mount_ffs
  SUBDIR+= mount_kernfs
  SUBDIR+= mount_msdos
  SUBDIR+= mount_nfs
.if ${MACHINE_ARCH} == "i386"
  SUBDIR+= mount_ntfs
.endif
  SUBDIR+= mount_portal
  SUBDIR+= mount_procfs
  SUBDIR+= mountd
  SUBDIR+= ncheck_ffs
  SUBDIR+= newfs
  SUBDIR+= newfs_msdos
  SUBDIR+= nfsd
  SUBDIR+= nologin
  SUBDIR+= pfctl
  SUBDIR+= pflogd
  SUBDIR+= ping
  SUBDIR+= ping6
  SUBDIR+= quotacheck
  SUBDIR+= raidctl
  SUBDIR+= reboot
  SUBDIR+= restore
  SUBDIR+= route
  SUBDIR+= routed
  SUBDIR+= rtsol
  SUBDIR+= savecore
  SUBDIR+= scan_ffs
  SUBDIR+= scsi
  SUBDIR+= shutdown
  SUBDIR+= slattach
  SUBDIR+= swapctl
  SUBDIR+= sysctl
  SUBDIR+= ttyflags
  SUBDIR+= tunefs
  SUBDIR+= umount
  SUBDIR+= wicontrol
  SUBDIR+= wsconsctl

.include <bsd.subdir.mk>
@


1.12
log
@remove more of these AMD64 remains
@
text
@d1 1
a1 1
# $MirOS: src/sbin/Makefile,v 1.11 2006/06/16 23:35:36 tg Exp $
d5 1
a5 1
.if ${MACHINE} == "i386"
d19 1
a19 1
.if ${MACHINE} == "i386"
d31 1
a31 1
.if ${MACHINE} == "i386"
d49 1
a49 1
.if ${MACHINE} == "i386"
@


1.11
log
@build as many programme that can be cross-built as possible,
even if it doesn't necessarily make sense, because of pride,
and being better than the Other BSD
@
text
@d1 1
a1 1
# $MirOS: src/sbin/Makefile,v 1.10 2006/06/16 20:29:14 tg Exp $
d5 1
a5 1
.if (${MACHINE} == "amd64") || (${MACHINE} == "i386")
d19 1
a19 1
.if (${MACHINE} == "amd64") || (${MACHINE} == "i386")
d31 1
a31 1
.if (${MACHINE} == "amd64") || (${MACHINE} == "i386")
d49 1
a49 1
.if (${MACHINE} == "amd64") || (${MACHINE} == "i386")
@


1.10
log
@fdisk only on i386 and amd64
XXX macppc?
@
text
@d1 1
a1 1
# $MirOS: src/sbin/Makefile,v 1.9 2006/06/09 00:46:29 tg Exp $
a34 1
.if ${CROSS_MODE:L} != "yes"
a35 1
.endif
@


1.9
log
@* ipsecadm is already dead in openbsd
* ipsecctl is still useless in mirbsd
@
text
@d1 1
a1 1
# $MirOS: src/sbin/Makefile,v 1.8 2005/11/23 18:11:57 tg Exp $
d19 1
d21 1
@


1.8
log
@* make this build (many #ifdef notyet)
* comment out bioctl (not in kernel)
* scrap macppc
@
text
@d1 1
a1 1
# $MirOS: src/sbin/Makefile,v 1.6 2005/07/01 12:05:17 tg Exp $
d32 1
a32 2
  SUBDIR+= ipsecadm
  SUBDIR+= ipsecctl
@


1.7
log
@fastmerge
@
text
@d10 1
a10 1
  SUBDIR+= bioctl
d29 1
a29 2
.if (${MACHINE} == "amd64") || (${MACHINE} == "i386") \
    || (${MACHINE} == "macppc")
a60 3
.if ${MACHINE} == "macppc"
  SUBDIR+= pdisk
.endif
a81 2
.if (${MACHINE} == "amd64") || (${MACHINE} == "i386") \
    || (${MACHINE} == "sparc") || (${MACHINE_ARCH} == "powerpc")
a82 1
.endif
@


1.6
log
@bye bye layer filesystems
@
text
@d1 1
a1 1
# $MirOS: src/sbin/Makefile,v 1.5 2005/03/15 18:39:16 tg Exp $
d10 1
d34 1
@


1.5
log
@only descend into archdep subdirs if building for that arch
@
text
@d1 1
a1 1
# $MirOS: src/sbin/Makefile,v 1.4 2005/03/15 18:32:34 tg Exp $
a51 1
  SUBDIR+= mount_null
a53 2
  SUBDIR+= mount_umap
  SUBDIR+= mount_union
@


1.4
log
@only descend into pdisk on mirppc
@
text
@d1 1
a1 1
# $MirOS: src/sbin/Makefile,v 1.3 2005/03/14 22:16:04 tg Exp $
d5 1
d7 1
d28 2
d31 1
d49 1
d51 1
d87 2
d90 1
@


1.3
log
@remove references to sbin/bootsys; MBR will be back in fdisk
where it's only needed, and pregen'd
(though it shouldn't be too hard to build it natively even on ppc)
@
text
@d1 1
a1 1
# $MirOS: src/sbin/Makefile,v 1.2 2005/03/06 19:49:47 tg Exp $
d56 1
d58 1
@


1.2
log
@merge src/sbin
@
text
@d1 1
a1 1
# $MirOS$
a7 1
  SUBDIR+= bootsys
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.68 2004/04/05 13:37:56 deraadt Exp $
d3 1
a3 2
# Not ported: XNSrouted enpload scsiformat startslip
# Missing: icheck
d5 76
a80 30
SUBDIR= atactl badsect brconfig ccdconfig disklabel dmesg dhclient \
	fsck growfs ifconfig init iopctl ipsecadm isakmpd kbd lmccontrol \
	mknod modload modunload mount mountd ncheck_ffs nfsd nologin \
	pfctl pflogd ping quotacheck raidctl reboot route routed \
	savecore scan_ffs scsi shutdown slattach swapctl sysctl \
	ttyflags umount

# support for various file systems
SUBDIR+= mount_ados
SUBDIR+= mount_cd9660
SUBDIR+= mount_fdesc
SUBDIR+= mount_ffs	newfs fsck_ffs fsdb dumpfs dump restore clri tunefs fsirand
SUBDIR+= mount_kernfs
# mount_mfs -> newfs
SUBDIR+= mount_msdos	newfs_msdos fsck_msdos
SUBDIR+= mount_nfs
SUBDIR+= mount_ntfs
SUBDIR+= mount_null
SUBDIR+= mount_portal
SUBDIR+= mount_procfs
SUBDIR+= mount_umap
SUBDIR+= mount_union
SUBDIR+= mount_ext2fs fsck_ext2fs
SUBDIR+= mount_xfs

# IPv6
SUBDIR+= ping6 rtsol

# Man pages (and manpages to do)
SUBDIR+= fdisk pdisk ancontrol wicontrol wsconsctl
@


1.1.1.1
log
@Import the OpenBSD foundation of MirOS BSD
@
text
@@


1.1.1.2
log
@Import almost everything (no ancontrol, ifconfig, pfctl, wicontrol)
of (the undeleted parts of) OpenBSD-current's userland of about 3 hours ago.
Warning: this introduces major breakage!
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.74 2005/05/26 01:29:02 pedro Exp $
d6 4
a9 4
SUBDIR= atactl badsect bioctl brconfig ccdconfig disklabel dmesg dhclient \
	fsck growfs ifconfig init iopctl ipsecadm ipsecctl isakmpd kbd \
	lmccontrol mknod modload modunload mount mountd ncheck_ffs nfsd \
	nologin pfctl pflogd ping quotacheck raidctl reboot route routed \
d23 1
d26 2
a27 1
SUBDIR+= mount_udf
@

