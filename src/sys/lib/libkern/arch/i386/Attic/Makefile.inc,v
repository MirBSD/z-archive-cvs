head	1.9;
access;
symbols
	MIRBSD_10:1.6.0.2
	MIRBSD_10_BASE:1.6
	MIRBSD_9_BASE:1.3
	MIRBSD_8:1.3.0.2
	MIRBSD_8_BASE:1.3;
locks; strict;
comment	@# @;


1.9
date	2008.08.01.18.39.59;	author tg;	state dead;
branches;
next	1.8;
commitid	1004893589041A05FFB;

1.8
date	2008.08.01.18.09.35;	author tg;	state Exp;
branches;
next	1.7;
commitid	1004893513244B11E80;

1.7
date	2008.08.01.16.35.26;	author tg;	state Exp;
branches;
next	1.6;
commitid	10048933B5E5B20CA97;

1.6
date	2007.02.06.16.24.44;	author tg;	state Exp;
branches;
next	1.5;
commitid	10045C8ABB857CB69A4;

1.5
date	2007.02.05.20.16.16;	author tg;	state Exp;
branches;
next	1.4;
commitid	10045C78FD963274EDA;

1.4
date	2006.11.21.02.28.27;	author tg;	state Exp;
branches;
next	1.3;
commitid	100456263EF126F4A4E;

1.3
date	2005.03.14.22.39.47;	author tg;	state Exp;
branches;
next	1.2;

1.2
date	2005.03.06.21.28.06;	author tg;	state Exp;
branches;
next	1.1;

1.1
date	2005.02.05.17.28.58;	author tg;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2005.02.05.17.28.58;	author tg;	state Exp;
branches;
next	;


desc
@@


1.9
log
@move kernel-only files
@
text
@# $MirOS: src/sys/lib/libkern/arch/i386/Makefile.inc,v 1.8 2008/08/01 18:09:35 tg Exp $
# $OpenBSD: Makefile.inc,v 1.8 2003/06/01 17:00:30 deraadt Exp $
# $NetBSD: Makefile.inc,v 1.10 1996/04/13 01:17:41 cgd Exp $

SRCS+=	__main.c imax.c imin.c lmax.c lmin.c max.c min.c ulmax.c ulmin.c \
	strncmp.c \
	strncpy.c scanc.S skpc.S locc.S \
	strncasecmp.c
@


1.8
log
@more migration

(in case you wonder: goal is to make libc, kernel and bootloaders share
the code currently in libkern, (some of) libsa, and libz, and to move
the bootloaders out of src/sys/ and into some more sane place)
@
text
@d1 1
a1 1
# $MirOS: src/sys/lib/libkern/arch/i386/Makefile.inc,v 1.7 2008/08/01 16:35:26 tg Exp $
@


1.7
log
@migrate strlcat/strlcpy/strxfrm and wcs* equivalents
@
text
@d1 1
a1 1
# $MirOS: src/sys/lib/libkern/arch/i386/Makefile.inc,v 1.6 2007/02/06 16:24:44 tg Exp $
a5 2
	memchr.S memcmp.S \
	ffs.S memset.S strcmp.S \
@


1.6
log
@next proof-of-concept move: strlen (no asm yet)
XXX libkern/libsa include path might be missing
XXX libkern/libsa/MD-libkern/MD-libsa build is ugly
@
text
@d1 1
a1 1
# $MirOS: src/sys/lib/libkern/arch/i386/Makefile.inc,v 1.5 2007/02/05 20:16:16 tg Exp $
d7 1
a7 1
	ffs.S memset.S strcmp.S strlfun.c \
@


1.5
log
@proof-of-concept implementation of a few functions for the
new "kern" directory containing stuff shared between
* userland (-fhosted -lgcc)
* kernel (-ffreestanding -D_KERNEL -nostdlib)
* bootloader (-ffreestanding -D_STANDALONE -nostdlib)

Here, userland and kernel share some functions not for the
bootloader (e.g. utf-8 stuff), while kernel and bootloader
share a few libgcc replacement functions.

I took the htonl() &c. functions because they were pretty
easy to implement; no sparc assembly version because it's
a 'no-op' and I trust gcc so much as to produce optimised
output for the type foo(type x) { return (x); } case.

Not tested.

Most of the functions will be written "on demand" and re-
written from scratch by me.
@
text
@d1 1
a1 1
# $MirOS: src/sys/lib/libkern/arch/i386/Makefile.inc,v 1.4 2006/11/21 02:28:27 tg Exp $
d8 1
a8 1
	strlen.S strncmp.c \
@


1.4
log
@sync with libc

attention: possible regressions:
* everything with RCS IDs, SCCS IDs, ident, indentation, weak aliases,
  and the .gnu.warning.* stuff
* these:
  - sys/lib/libkern/qdivrem.c
  - sys/lib/libkern/strcat.c
  - sys/lib/libkern/strcpy.c
* especially these:
  - sys/lib/libkern/arch/i386/SYS.h
  - sys/lib/libkern/arch/sparc/SYS.h
* I reverted these and did NOT commit the change, because they
  look bogus to me:
  - sys/lib/libkern/arch/sparc/_setjmp.S
  - sys/lib/libkern/arch/sparc/divrem.m4

Also, __P() and so on were introduced e.g. in strcat(), and IMHO,
this code needs more work in libc as well.
@
text
@d1 1
a1 1
# $MirOS: src/sys/lib/libkern/arch/i386/Makefile.inc,v 1.3 2005/03/14 22:39:47 tg Exp $
d9 1
a9 1
	strncpy.c scanc.S skpc.S locc.S htonl.S \
@


1.3
log
@use our strlcpy/strlcat implementation here, too
@
text
@d1 1
a1 1
# $MirOS: src/sys/lib/libkern/arch/i386/Makefile.inc,v 1.2 2005/03/06 21:28:06 tg Exp $
d7 1
a7 1
	bcmp.S ffs.S memset.S strcmp.S strlfun.c \
@


1.2
log
@* merge src/sys/
  (at least the better part of it)
* revert IPv6 networking to OpenBSD, since
  I didn't get IPV4_MAPPED addresses working :(
@
text
@d1 3
a3 3
#	$MirOS$
#	$OpenBSD: Makefile.inc,v 1.8 2003/06/01 17:00:30 deraadt Exp $
#	$NetBSD: Makefile.inc,v 1.10 1996/04/13 01:17:41 cgd Exp $
d7 1
a7 1
	bcmp.S ffs.S memset.S strcmp.S strlcat.c strlcpy.c \
@


1.1
log
@Initial revision
@
text
@d1 1
d9 1
a9 1
	strncpy.c scanc.S skpc.S locc.S htonl.S htons.S ntohl.S ntohs.S \
@


1.1.1.1
log
@Import the OpenBSD foundation of MirOS BSD
@
text
@@
