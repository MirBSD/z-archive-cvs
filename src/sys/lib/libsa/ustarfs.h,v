head	1.2;
access;
symbols;
locks; strict;
comment	@ * @;


1.2
date	2010.01.16.19.25.22;	author tg;	state Exp;
branches;
next	1.1;
commitid	1004B5212A314628975;

1.1
date	2010.01.10.19.21.38;	author tg;	state Exp;
branches;
next	;
commitid	1004B4A28CB0F23DD4D;


desc
@@


1.2
log
@introduce USTARFS_FIRSTSEC (we MUST skip one sector on sparc for the
Sun disklabel)
@
text
@/* $MirOS: src/sys/lib/libsa/ustarfs.h,v 1.1 2010/01/10 19:21:38 tg Exp $ */

#ifndef _SYS_LIB_LIBSA_USTARFS_H
#define _SYS_LIB_LIBSA_USTARFS_H

/* ustarfs: offset of ustar archive from begin of filesystem */
#ifdef __sparc__
#define USTARFS_FIRSTSEC	1
#else
#define USTARFS_FIRSTSEC	0
#endif

int ustarfs_open(char *, struct open_file *);
int ustarfs_close(struct open_file *);
int ustarfs_read(struct open_file *, void *, size_t, size_t *);
int ustarfs_write(struct open_file *, void *, size_t, size_t *);
off_t ustarfs_seek(struct open_file *, off_t, int);
int ustarfs_stat(struct open_file *, struct stat *);
int ustarfs_readdir(struct open_file *, char *);

#endif
@


1.1
log
@new ustarfs for the bootloader (fdboot only ATM, since bootâ€™s too huge)
@
text
@d1 1
a1 1
/* $MirOS: src/sys/lib/libsa/fat.h,v 1.2 2005/12/17 05:46:26 tg Exp $ */
d6 7
@

