head	1.6;
access;
symbols
	tg-beforemerge-ksrc10:1.1.1.2
	MIRBSD_10:1.6.0.2
	MIRBSD_10_BASE:1.6
	MIRBSD_9_BASE:1.6
	MIRBSD_8:1.5.0.2
	MIRBSD_8_BASE:1.5
	cvs-200507032030:1.1.1.2
	openbsd:1.1.1;
locks; strict;
comment	@# @;


1.6
date	2006.01.09.18.34.15;	author tg;	state Exp;
branches;
next	1.5;
commitid	10043C2AC720D0CE075;

1.5
date	2005.10.18.21.03.06;	author tg;	state Exp;
branches;
next	1.4;
commitid	35c04355627135d7;

1.4
date	2005.08.02.11.16.29;	author tg;	state Exp;
branches;
next	1.3;
commitid	222542ef55eafb75;

1.3
date	2005.07.03.21.18.54;	author tg;	state Exp;
branches;
next	1.2;
commitid	1f8042c856302611;

1.2
date	2005.03.06.21.27.28;	author tg;	state Exp;
branches;
next	1.1;

1.1
date	2005.02.05.17.27.43;	author tg;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2005.02.05.17.27.43;	author tg;	state Exp;
branches;
next	1.1.1.2;

1.1.1.2
date	2005.07.03.20.50.11;	author tg;	state Exp;
branches;
next	;
commitid	363142c84f99970a;


desc
@@


1.6
log
@Revert Changeset #35c04355627135d7 - once again, no COMPAT_78 any more
(we don't need it in -current; people who need it should use -stable),
basically, 7K savings but slightly less confusing code

Also removes the compat option from syscalls.conf
@
text
@# $MirOS: src/sys/compat/common/Makefile,v 1.5 2005/10/18 21:03:06 tg Exp $
# $OpenBSD: Makefile,v 1.19 2004/09/16 13:57:47 miod Exp $
# $NetBSD: Makefile,v 1.8 1996/05/18 15:52:19 christos Exp $

LIB=	compat
NOPIC=	Yes

MACHINE=	${XMACHINE}
MACHINE_ARCH=	${XMACHINE_ARCH}

.PATH:	${COMPATDIR}

SRCS=	compat_dir.c compat_util.c kern_exit_43.c kern_gen.c \
	kern_info_09.c kern_info_43.c kern_ipc_10.c kern_ipc_23.c \
	kern_ipc_35.c kern_resource_35.c kern_resource_43.c kern_sig_43.c \
	tty_43.c uipc_syscalls_43.c vfs_syscalls_43.c vm_43.c

install:

.include <bsd.lib.mk>
@


1.5
log
@Cluefully revert changeset #222542ef55eafb75 allowing a kernel built
to be executed on systems with various degrees of #7-current and old
#8-beta again (as on thor), with few or no failures.

Still containing COMPAT_78 option is kern/syscalls.conf (compatopts)
besides files touched by this commit.
@
text
@d1 1
a1 1
# $MirOS: src/sys/compat/common/Makefile,v 1.4 2005/08/02 11:16:29 tg Exp $
d16 1
a16 2
	tty_43.c uipc_syscalls_43.c vfs_syscalls_25.c vfs_syscalls_35.c \
	vfs_syscalls_43.c vm_43.c compat_vm.c vfs_syscalls_25.c vfs_syscalls_35.c
@


1.4
log
@strip some obsolete COMPAT_* options for OpenBSD 2.5 and
some older MirOS #7-current snapshot compatibility

This shouldn't affect running OpenBSD 3.x or MirOS #7 binaries.

Also, clean up some comments.
@
text
@d1 1
a1 1
# $MirOS: src/sys/compat/common/Makefile,v 1.3 2005/07/03 21:18:54 tg Exp $
d16 2
a17 1
	tty_43.c uipc_syscalls_43.c vfs_syscalls_43.c vm_43.c
@


1.3
log
@first stage of merging
@
text
@d1 1
a1 1
# $MirOS: src/sys/compat/common/Makefile,v 1.2 2005/03/06 21:27:28 tg Exp $
d13 1
a13 1
SRCS=	compat_dir.c compat_util.c compat_vm.c kern_exit_43.c kern_gen.c \
d16 1
a16 2
	tty_43.c uipc_syscalls_43.c vfs_syscalls_25.c vfs_syscalls_35.c \
	vfs_syscalls_43.c vm_43.c
@


1.2
log
@* merge src/sys/
  (at least the better part of it)
* revert IPv6 networking to OpenBSD, since
  I didn't get IPV4_MAPPED addresses working :(
@
text
@d1 2
a2 2
# $MirOS$
# $OpenBSD: Makefile,v 1.18 2004/07/13 21:04:29 millert Exp $
@


1.1
log
@Initial revision
@
text
@d1 3
a3 2
#	$OpenBSD: Makefile,v 1.18 2004/07/13 21:04:29 millert Exp $
#	$NetBSD: Makefile,v 1.8 1996/05/18 15:52:19 christos Exp $
d6 1
a6 1
NOPIC=
d13 4
a16 4
SRCS=	compat_exec.c compat_util.c compat_dir.c compat_vm.c \
	kern_exit_43.c kern_ipc_23.c kern_ipc_35.c kern_info_09.c \
	kern_info_43.c kern_resource_43.c kern_sig_43.c tty_43.c \
	uipc_syscalls_43.c vfs_syscalls_25.c vfs_syscalls_35.c \
a18 6
# really, all machines where sizeof(int) != sizeof(long)
.if (${MACHINE_ARCH} != "alpha") && (${MACHINE_ARCH} != "amd64") && \
    (${MACHINE_ARCH} != "sparc64")
SRCS+=	kern_ipc_10.c 
.endif

@


1.1.1.1
log
@Import the OpenBSD foundation of MirOS BSD
@
text
@@


1.1.1.2
log
@more stuff
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.19 2004/09/16 13:57:47 miod Exp $
d20 1
a20 1
    (${MACHINE_ARCH} != "mips64") && (${MACHINE_ARCH} != "sparc64")
@

