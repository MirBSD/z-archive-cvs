head	1.22;
access;
symbols
	tg-use_ldscript:1.19.0.2
	tg-beforemerge-ksrc10:1.1.1.2
	cvs-200808011000:1.1.1.2
	MIRBSD_10:1.12.0.2
	MIRBSD_10_BASE:1.12
	MIRBSD_9_BASE:1.9
	MIRBSD_8:1.3.0.2
	MIRBSD_8_BASE:1.3
	cvs-200507032030:1.1.1.1
	cvs-200505050030:1.1.1.1
	cvs-200504291700:1.1.1.1
	openbsd:1.1.1;
locks; strict;
comment	@.\" @;


1.22
date	2018.10.07.01.10.59;	author tg;	state Exp;
branches;
next	1.21;
commitid	1005BB95CA10BF418E8;

1.21
date	2017.08.07.20.18.13;	author tg;	state Exp;
branches;
next	1.20;
commitid	1005988C69344442E37;

1.20
date	2009.11.22.14.53.41;	author tg;	state Exp;
branches;
next	1.19;
commitid	1004B09507705A9F610;

1.19
date	2009.06.07.13.22.38;	author tg;	state Exp;
branches;
next	1.18;
commitid	1004A2BBF317CC51CA6;

1.18
date	2009.06.07.11.46.28;	author tg;	state Exp;
branches;
next	1.17;
commitid	1004A2BA8982BB20062;

1.17
date	2009.01.31.19.09.18;	author tg;	state Exp;
branches;
next	1.16;
commitid	1004984A1DE7E1C3D25;

1.16
date	2009.01.31.18.48.57;	author tg;	state Exp;
branches;
next	1.15;
commitid	10049849D266DE84247;

1.15
date	2009.01.20.21.33.15;	author tg;	state Exp;
branches;
next	1.14;
commitid	1004976433352DACE68;

1.14
date	2009.01.10.14.49.04;	author tg;	state Exp;
branches;
next	1.13;
commitid	1004968B5690CAD8165;

1.13
date	2008.08.01.11.24.58;	author tg;	state Exp;
branches;
next	1.12;
commitid	1004892F2924667C00D;

1.12
date	2007.02.26.17.39.10;	author tg;	state Exp;
branches;
next	1.11;
commitid	10045E31B486EF8EEF1;

1.11
date	2007.02.26.02.52.46;	author tg;	state Exp;
branches;
next	1.10;
commitid	10045E24B6E7262EB74;

1.10
date	2006.07.23.23.41.28;	author tg;	state Exp;
branches;
next	1.9;
commitid	10044C409313E5D0B2B;

1.9
date	2006.04.08.00.09.12;	author tg;	state Exp;
branches;
next	1.8;
commitid	1004436FF382FA3C464;

1.8
date	2006.04.08.00.03.00;	author tg;	state Exp;
branches;
next	1.7;
commitid	1004436FDBF0901CB05;

1.7
date	2006.04.08.00.00.08;	author tg;	state Exp;
branches;
next	1.6;
commitid	1004436FD0C32ACE3F2;

1.6
date	2006.04.07.23.53.07;	author tg;	state Exp;
branches;
next	1.5;
commitid	1004436FB712C575223;

1.5
date	2006.04.07.23.25.29;	author tg;	state Exp;
branches;
next	1.4;
commitid	1004436F47C35376972;

1.4
date	2006.04.06.11.07.31;	author tg;	state Exp;
branches;
next	1.3;
commitid	1004434F66517D09156;

1.3
date	2005.12.04.13.27.00;	author tg;	state Exp;
branches;
next	1.2;
commitid	75d74392eea76843;

1.2
date	2005.03.06.21.27.05;	author tg;	state Exp;
branches;
next	1.1;

1.1
date	2005.02.05.17.27.28;	author tg;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2005.02.05.17.27.28;	author tg;	state Exp;
branches;
next	1.1.1.2;

1.1.1.2
date	2008.08.01.10.28.37;	author tg;	state Exp;
branches;
next	;
commitid	1004892E54805BE97AB;


desc
@@


1.22
log
@spelling cleanup: â€œprogrammeâ€ is distinct from â€œprogramâ€; even in
British English, the latter is used for computer programs, while
the former serves for things like the TV programme, or a programme
to plant trees
@
text
@.\"	$MirOS: src/sys/arch/i386/stand/installboot/installboot.8,v 1.21 2017/08/07 20:18:13 tg Exp $
.\"	$OpenBSD: installboot.8,v 1.28 2007/05/31 19:20:03 jmc Exp $
.\"
.\" Copyright (c) 1997 Michael Shalayeff
.\" All rights reserved.
.\"
.\" Redistribution and use in source and binary forms, with or without
.\" modification, are permitted provided that the following conditions
.\" are met:
.\" 1. Redistributions of source code must retain the above copyright
.\"    notice, this list of conditions and the following disclaimer.
.\" 2. Redistributions in binary form must reproduce the above copyright
.\"    notice, this list of conditions and the following disclaimer in the
.\"    documentation and/or other materials provided with the distribution.
.\"
.\" THIS SOFTWARE IS PROVIDED BY THE AUTHOR ``AS IS'' AND ANY EXPRESS OR
.\" IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
.\" WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
.\" ARE DISCLAIMED.  IN NO EVENT SHALL THE REGENTS OR CONTRIBUTORS BE LIABLE
.\" FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
.\" DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS
.\" OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
.\" HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT
.\" LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY
.\" OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
.\" SUCH DAMAGE.
.\"
.\"
.Dd $Mdocdate: August 7 2017 $
.Dt INSTALLBOOT 8 i386
.Os
.Sh NAME
.Nm installboot
.Nd installs a bootstrap on an FFS disk or partition
.Sh SYNOPSIS
.Nm installboot
.Op Fl Anv
.Oo Fl s Ar sectors-per-track Oc
.Oo Fl h Ar tracks-per-cyl Oc
.Op Fl P Ar partition-type
.Ar boot
.Ar bootxx
.Ar disk
.Sh DESCRIPTION
.Nm installboot
is used to install a
.Dq first-stage
boot program into the boot area
of an FFS disk partition, and initialize the table of block numbers the
PBR program uses to load the second-stage boot program.
.Pp
The options are as follows:
.Bl -tag -width flag_opt
.It Fl A
Tell
.Nm bootxx
to use automatic geometry detection.
.It Fl n
Do not actually write anything on the disk.
.It Fl v
Be verbose, printing out the LBA addresses that are to be stored in
.Ar bootxx
along with lots of other information.
.It Fl s Ar sectors-per-track
Used to specify the sectors-per-track value if the drive has
sector translation activated, and
.Nm
is unable to determine the translated geometry.
If not specified, this defaults to d_nsectors from the disklabel.
If not specified, this defaults to the value retrieved from the BIOS
at boot time, available via
.Xr sysctl 8 .
If not available, automatic geometry detection is used.
Valid are values from 1 to 63, inclusive.
.It Fl h Ar tracks-per-cyl
Used to specify the tracks-per-cylinder value if the drive has
sector translation activated, and
.Nm
is unable to determine the translated geometry.
If not specified, this defaults to d_ntracks from the disklabel.
If not specified, this defaults to the value retrieved from the BIOS
at boot time, available via
.Xr sysctl 8 .
If not available, automatic geometry detection is used.
Valid are values from 1 to 256, inclusive.
.It Fl P Ar partition-type
Use the
.Ar partition-type
value in decimal (on
.Mx
also sedecimal or octal values are allowed, provided
they are prefixed with 0x or 0, respectively) as user-specified
partition type to search before the standard 0x27 and the fallback
0xA6, 0xA9 and 0xA5 types.
.El
.Pp
The arguments are:
.Bl -tag -width biosboot
.It Ar boot
The name of the second-stage boot program in the mounted filesystem
where the first-stage boot program is to be installed.
This should be a full pathname.
.It Ar bootxx
The name of the prototype file for the first stage boot program,
usually
.Pa /usr/mdec/bootxx .
.It Ar disk
The name of the disk containing the partition in which the second-stage
boot program resides and the first-stage boot program is to be installed.
This can either be specified in short form (i.e.,
.Sq sd0
or
.Sq wd0 ) ,
or as the explicit raw device node, such as
.Pa /dev/rsd0c
or
.Pa /dev/rwd0c .
.Pp
Note that you must be in single-user mode or have your kernel in
insecure mode (see the
.Xr sysctl 8
.Va kern.securelevel
variable or
.Pa /etc/rc.securelevel )
to enable access to the raw partition of a mounted disk.
.Pp
The
.Sq c
partition is always used to represent the
.Dq entire
disk on i386.
.El
.Sh EXAMPLES
The typical use is
.Pp
.Dl # cp /usr/mdec/boot /boot
.Dl # /usr/mdec/installboot -v -n /boot /usr/mdec/bootxx wd0
.Pp
And if the information supplied looks right, run the above without the
.Fl n
flag.
If you are upgrading an old system, you may need to preface
the above steps with some more steps... and do the following:
.Pp
.Dl boot the floppy.fs filesystem floppy
.Dl # fsck /dev/rsd0a
.Dl # mount /dev/sd0a /mnt
.Dl # cp /usr/mdec/boot /mnt/boot
.Dl # /usr/mdec/installboot -v /mnt/boot /usr/mdec/bootxx sd0
.Pp
If you need to find the BIOS geometry of the disk for
.Fl s
and
.Fl h
you can use the boot block command:
.Pp
.Dl boot> machine diskinfo
.Pp
Make a CD-ROM bootable for i386 (both as CD and as HD/CF/USB):
.Pp
.Bd -literal -offset ident
getextent_cd9660 -f cdrom10.iso boot \*(Ba \e
    mksh /usr/mdec/bootxx.sh -S 2 \*(Ba \e
    dd of=cdrom10.iso conv=notrunc
getextent_cd9660 -f cdrom10.iso boot \*(Ba \e
    mksh /usr/mdec/bootxx.sh -B 11 \*(Ba \e
    dd of=cdrom10.iso conv=notrunc bs=2048 \e
    seek=$(getextent_cd9660 -f cdrom10.iso -b '$BootImage$')
.Ed
.Sh SEE ALSO
.Xr boot 8 ,
.Xr disklabel 8 ,
.Xr fdisk 8 ,
.Xr init 8
.Sh HISTORY
The
.Fl A
option is supported by
.Nm bootxx
0AA8 and up.
.Sh BUGS
The disklabel
.Va d_type
field must be set to a value of
.Dq 4.2FFS .
.Pp
You cannot run
.Nm installboot
for a drive/partition other than the one you want the
.Pa /boot
to be loaded from.
@


1.21
log
@filesystem
@
text
@d1 1
a1 1
.\"	$MirOS: src/sys/arch/i386/stand/installboot/installboot.8,v 1.20 2009/11/22 14:53:41 tg Exp $
d29 1
a29 1
.Dd $Mdocdate: November 22 2009 $
d50 1
a50 1
PBR programme uses to load the second-stage boot program.
@


1.20
log
@if -h and/or -s not given and both disklabel and sysctl fail,
enable -A automagically
@
text
@d1 1
a1 1
.\"	$MirOS: src/sys/arch/i386/stand/installboot/installboot.8,v 1.19 2009/06/07 13:22:38 tg Exp $
d29 1
a29 1
.Dd $Mdocdate: June 7 2009 $
d100 1
a100 1
The name of the second-stage boot program in the mounted file system
@


1.19
log
@mention since when -A works
@
text
@d1 1
a1 1
.\"	$MirOS: src/sys/arch/i386/stand/installboot/installboot.8,v 1.18 2009/06/07 11:46:28 tg Exp $
d73 1
d84 1
@


1.18
log
@add the -A flag to installboot, too
I was able to successfully boot a grub2 rescue prompt with this
@
text
@d1 1
a1 1
.\"	$MirOS: src/sys/arch/i386/stand/installboot/installboot.8,v 1.17 2009/01/31 19:09:18 tg Exp $
d29 1
a29 1
.Dd $Mdocdate: January 31 2009 $
d173 6
@


1.17
log
@â€¢ disdocument never working -M
â€¢ document self-installing bootblocks
@
text
@d1 1
a1 1
.\"	$MirOS: src/sys/arch/i386/stand/installboot/installboot.8,v 1.16 2009/01/31 18:48:57 tg Exp $
d37 1
a37 1
.Op Fl nv
d54 4
@


1.16
log
@disdocument -I and -i, use the self-installing bootblocks for that
@
text
@d1 1
a1 1
.\"	$MirOS: src/sys/arch/i386/stand/installboot/installboot.8,v 1.15 2009/01/20 21:33:15 tg Exp $
d29 1
a29 1
.Dd $Mdocdate: January 20 2009 $
d37 1
a37 1
.Op Fl Mnv
a88 9
.It Fl M
Installs the first-stage boot loader,
.Nm bootxx ,
into the master boot record.
The partition table does not get overwritten.
The
.Pa /boot
file had better be not too fragmented for this to work.
This option is not yet supported.
d152 12
@


1.15
log
@cleanup
@
text
@d1 1
a1 1
.\"	$MirOS: src/sys/arch/i386/stand/installboot/installboot.8,v 1.14 2009/01/10 14:49:04 tg Exp $
d29 1
a29 1
.Dd $Mdocdate: January 10 2009 $
d37 1
a37 1
.Op Fl 1Mnv
a43 20
.Pp
.Nm
.Op Fl 1nv
.Oo Fl s Ar sectors-per-track Oc
.Oo Fl h Ar tracks-per-cyl Oc
.Op Fl P Ar partition-type
.Op Fl S Ar sector
.Fl I Ar bootstart bootend
.Ar bootxx
.Ar image.iso
.Pp
.Nm
.Op Fl 1nv
.Oo Fl s Ar sectors-per-track Oc
.Oo Fl h Ar tracks-per-cyl Oc
.Op Fl P Ar partition-type
.Op Fl p | Fl S Ar sector
.Fl i Ar bootstart bootlen
.Ar bootxx
.Ar disc.ima
a53 4
.It Fl 1
Teach
.Nm bootxx
to load only one sector at a time.
a97 28
.It Fl i
Instead of installing the first-stage boot loader on a disc,
write it to the beginning (sector 0, unless
.Fl S
is used) of a hard disc image file.
The arguments
.Ar bootstart
and
.Ar bootlen
are hard disc sectors (512 bytes each).
.Pp
Example:
.Pp
.Dl # /usr/mdec/installboot -v -i 1000 82 /usr/mdec/bootxx hda.ima
.It Fl p
Specify that the
.Fl i
boot loader should be written to the beginning of a partition
(default to the MirOS or OpenBSD partition, unless
.Fl P
is given as well) instead of sector 0 or a sector given with
.Fl S .
.It Fl S Ar sector
Specifies the (512-byte) sector the first stage boot loader for
.Fl I
or
.Fl i
should be written to, instead of sector 0.
a105 5
This argument is omitted when
.Fl I
or
.Fl i
are used.
a176 8
.Pp
Both the
.Fl I
and
.Fl i
options require the
.Pa /boot
programme to be present in one piece, i.e. not fragmented.
@


1.14
log
@comment out tori stuff, will be merged into biosdev access
@
text
@d1 1
a1 1
.\"	$MirOS: src/sys/arch/i386/stand/installboot/installboot.8,v 1.13 2008/08/01 11:24:58 tg Exp $
d29 1
a29 1
.Dd $Mdocdate: August 1 2008 $
a135 3
.Pp
Support for porting this to GNU/Linux welcome; contact
.An Thorsten Glaser Aq tg@@mirbsd.de .
d219 1
@


1.13
log
@merge and reduce diff to obsd
XXX not yet tested
@
text
@d1 1
a1 1
.\"	$MirOS: src/sys/arch/i386/stand/installboot/installboot.8,v 1.12 2007/02/26 17:39:10 tg Exp $
a121 28
.It Fl I
Instead of installing the first-stage boot loader on a disc,
write it to the beginning (sector 0, unless
.Fl S
is used) of an ISO 9660 image file.
The arguments
.Ar bootstart
and
.Ar bootend
are ISO sectors (2048 bytes each) as given in the
.Xr mkisofs 8
verbose output format.
.Pp
Example:
.Pp
.Dl # /usr/mdec/installboot -v -I 94376 94396 /usr/mdec/bootxx livecd8.iso
.Pp
Note:
If you use the
.Fl boot-info-table
option of
.Xr mkisofs 8 ,
the resulting bootloader (i.e. the
.Fl b Ar eltorito_boot_image
argument to
.Nm mkisofs )
cannot be used to boot the same image from hard disc any more.
Use another copy of the second-stage loader.
@


1.12
log
@if 256 heads are allowed, don't pass them as 0 heads, d'oh
@
text
@d1 2
a2 2
.\"	$MirOS: src/sys/arch/i386/stand/installboot/installboot.8,v 1.11 2007/02/26 02:52:46 tg Exp $
.\"	$OpenBSD: installboot.8,v 1.26 2003/06/06 21:45:33 jmc Exp $
d29 1
a29 1
.Dd February 26, 2007
@


1.11
log
@no, we do need the sectors count for CHS conversation;
on the other hand, the high bytes of head (and sector)
count values are free to use, e.g. for flagsâ€¦
@
text
@d1 1
a1 1
.\"	$MirOS: src/sys/arch/i386/stand/installboot/installboot.8,v 1.10 2006/07/23 23:41:28 tg Exp $
d89 1
a89 1
.\" If not specified, this defaults to d_nsectors from the disklabel.
d93 1
d99 1
a99 1
.\" If not specified, this defaults to d_ntracks from the disklabel.
d103 1
@


1.10
log
@rename ldsec to bootxx to match all other arches
@
text
@d1 1
a1 1
.\"	$MirOS: src/sys/arch/i386/stand/installboot/installboot.8,v 1.9 2006/04/08 00:09:12 tg Exp $
d29 1
a29 1
.Dd September 1, 1997
d37 1
a37 3
.Op Fl n
.Op Fl M
.Op Fl v
d46 1
a46 2
.Op Fl n
.Op Fl v
d56 1
a56 2
.Op Fl n
.Op Fl v
d74 4
@


1.9
log
@can use MBR partitions with -i now
@
text
@d1 1
a1 1
.\"	$MirOS: src/sys/arch/i386/stand/installboot/installboot.8,v 1.8 2006/04/08 00:03:00 tg Exp $
d44 1
a44 1
.Ar ldsec
d55 1
a55 1
.Ar ldsec
d66 1
a66 1
.Ar ldsec
d82 1
a82 1
.Ar ldsec
d113 1
a113 1
.Nm ldsec ,
d135 1
a135 1
.Dl # /usr/mdec/installboot -v -I 94376 94396 /usr/mdec/ldsec livecd8.iso
d161 1
a161 1
.Dl # /usr/mdec/installboot -v -i 1000 82 /usr/mdec/ldsec hda.ima
d192 1
a192 1
.It Ar ldsec
d195 1
a195 1
.Pa /usr/mdec/ldsec .
d226 1
a226 1
.Dl # /usr/mdec/installboot -v -n /boot /usr/mdec/ldsec wd0
d238 1
a238 1
.Dl # /usr/mdec/installboot -v /mnt/boot /usr/mdec/ldsec sd0
@


1.8
log
@clarify (man) and fix (code) sector size for new -S option
@
text
@d1 1
a1 1
.\"	$MirOS: src/sys/arch/i386/stand/installboot/installboot.8,v 1.7 2006/04/08 00:00:08 tg Exp $
d64 1
a64 1
.Op Fl S Ar sector
d165 8
d174 5
a178 2
Specifies the (512-byte) sector the first stage boot loader should be
written to, instead of sector 0.
@


1.7
log
@implement -S startsector option for writing the -I or -i first-stage
boot loader sector to anyplace else than sector 0
@
text
@d1 1
a1 1
.\"	$MirOS: src/sys/arch/i386/stand/installboot/installboot.8,v 1.6 2006/04/07 23:53:07 tg Exp $
d166 1
a166 1
Specifies the sector the first stage boot loader should be
@


1.6
log
@-P -h -s actually do make sense with -I -i
@
text
@d1 1
a1 1
.\"	$MirOS: src/sys/arch/i386/stand/installboot/installboot.8,v 1.5 2006/04/07 23:25:29 tg Exp $
d53 1
d64 1
d122 3
a124 1
write it to the beginning (sector 0) of an ISO 9660 image file.
d150 3
a152 1
write it to the beginning (sector 0) of a hard disc image file.
d165 3
d176 5
@


1.5
log
@* Add the ability to install the first-stage boot loader onto the first
  sector of either a CD-ROM image (ISO 9660) or a normal hard disc ima-
  ge file (or even real hard disc) and insert the block map for a /boot
  which is stored as contiguous set of CD (2048 bytes) or HD (512 bytes
  of course) sectors. Since our /boot can read FFS and ISO9660 and does
  not care whether it's a CD or hard disc or floppy, this actually does
  work in contrast to what I tried... add caveats to manual page.
* rant about the above in my wlog
@
text
@d1 1
a1 1
.\"	$MirOS: src/sys/arch/i386/stand/installboot/installboot.8,v 1.4 2006/04/06 11:07:31 tg Exp $
d50 3
d60 3
d120 1
a120 1
write it to the beginning of an ISO 9660 image file.
d146 1
a146 1
write it to the beginning of a hard disc image file.
@


1.4
log
@rename ffspbr to ldsec - it's not UFS specific anyway,
it's just the loading sector with map (á la lilo)

also simplify
@
text
@d1 1
a1 1
.\"	$MirOS: src/sys/arch/i386/stand/installboot/installboot.8,v 1.3 2005/12/04 13:27:00 tg Exp $
d46 14
d111 42
d231 8
@


1.3
log
@use strtonum not atoi, and document -P kludge
XXX installboot(8,i386) sucks and should be replaced
@
text
@d1 1
a1 1
.\"	$MirOS: src/sys/arch/i386/stand/installboot/installboot.8,v 1.2 2005/03/06 21:27:05 tg Exp $
d44 1
a44 1
.Ar ffspbr
d59 2
a60 2
Be verbose, printing out the LBA addresses that are stored in
.Ar ffspbr
d91 1
a91 1
.Nm ffspbr ,
d105 1
a105 1
.It Ar ffspbr
d108 1
a108 1
.Pa /usr/mdec/ffspbr .
d139 1
a139 1
.Dl # /usr/mdec/installboot -v -n /boot /usr/mdec/ffspbr wd0
d151 1
a151 1
.Dl # /usr/mdec/installboot -v /mnt/boot /usr/mdec/ffspbr sd0
@


1.2
log
@* merge src/sys/
  (at least the better part of it)
* revert IPv6 networking to OpenBSD, since
  I didn't get IPV4_MAPPED addresses working :(
@
text
@d1 1
a1 1
.\"	$MirOS$
d42 1
d80 9
@


1.1
log
@Initial revision
@
text
@d1 2
a2 1
.\"	$OpenBSD: installboot.8,v 1.27 2004/01/26 23:21:49 tom Exp $
d29 1
a29 1
.Dd December 23, 2003
d37 5
a41 1
.Op Fl nv
d43 1
a43 1
.Ar biosboot
d46 1
a46 1
.Nm
d49 3
a51 8
boot program into the boot area of an FFS disk partition.
It inserts the block number and offset of the inode of
the second-stage boot program
.Xr boot 8
so that the
.Xr biosboot 8
program can load it.
Various filesystem parameters are also patched into the boot block.
d58 2
a59 2
Be verbose, printing out the data that are stored in
.Ar biosboot
d61 26
d95 1
a95 1
.It Ar biosboot
d98 1
a98 1
.Pa /usr/mdec/biosboot .
d102 1
a102 1
This can either be specified in short form (e.g.,
d106 1
a106 1
or as the explicit device node, such as
d127 3
a129 4
.Bd -literal -offset indent
# cp /usr/mdec/boot /boot
# /usr/mdec/installboot -n -v /boot /usr/mdec/biosboot sd0
.Ed
d134 16
a149 10
If you are upgrading an old system, you may need to perform
some additional steps first.
For example:
.Bd -literal -offset indent
boot the floppy.fs filesystem floppy
# fsck /dev/rsd0a
# mount /dev/sd0a /mnt
# cp /usr/mdec/boot /mnt/boot
# /usr/mdec/installboot -v /mnt/boot /usr/mdec/biosboot sd0
.Ed
a150 2
.Xr biosboot 8 ,
.Xr boot 8 ,
d154 1
a154 1
.Sh CAVEATS
d157 2
a158 2
field must be set to a value other than
.Dq unknown .
d160 3
d164 1
a164 4
must be on the drive/partition specified by
.Pa disk ;
you cannot perform cross-device
.Nm Ns s .
@


1.1.1.1
log
@Import the OpenBSD foundation of MirOS BSD
@
text
@@


1.1.1.2
log
@import bootloader-related pieces from openbsd, as first part of the
aspired 4.4 mergeâ€¦ and something else
@
text
@d1 1
a1 1
.\"	$OpenBSD: installboot.8,v 1.28 2007/05/31 19:20:03 jmc Exp $
d28 1
a28 1
.Dd $Mdocdate: May 31 2007 $
@

