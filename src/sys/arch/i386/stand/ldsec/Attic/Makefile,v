head	1.4;
access;
symbols
	MIRBSD_9_BASE:1.2;
locks; strict;
comment	@# @;


1.4
date	2007.02.26.02.11.33;	author tg;	state dead;
branches;
next	1.3;
commitid	10045E241DC524D9D5F;

1.3
date	2006.07.23.23.41.28;	author tg;	state Exp;
branches;
next	1.2;
commitid	10044C409313E5D0B2B;

1.2
date	2006.06.15.18.25.16;	author tg;	state Exp;
branches;
next	1.1;
commitid	1004491A61A59C31B19;

1.1
date	2006.04.06.11.07.32;	author tg;	state Exp;
branches;
next	;
commitid	1004434F66517D09156;


desc
@@


1.4
log
@switch to a newer, more compact, PBR as well
@
text
@# $MirOS: src/sys/arch/i386/stand/ldsec/Makefile,v 1.3 2006/07/23 23:41:28 tg Exp $

SADIR=		${.CURDIR}/..

PROG=		bootxx
SRCS+=		ldsec.S
NOMAN=		Yes
INSTALL_STRIP=	# set to empty value
LDFLAGS=	-nostdlib -Ttext 0 -N -x -Bstatic
CPPFLAGS+=	${DEBUGFLAGS}

${PROG}: $(OBJS) $(DPADD)
	$(LD) $(LDFLAGS) -o $(PROG) $(OBJS) $(LDADD)
	@@size $(PROG)

disasm: ${PROG}
	objcopy -O binary ${PROG} ${.OBJDIR}/.tmp; \
	ndisasm -b 16 ${.OBJDIR}/.tmp >${.CURDIR}/disasm

CLEANFILES+=	.tmp ${.CURDIR}/disasm

.include <bsd.prog.mk>
@


1.3
log
@rename ldsec to bootxx to match all other arches
@
text
@d1 1
a1 1
# $MirOS: src/sys/arch/i386/stand/ldsec/Makefile,v 1.2 2006/06/15 18:25:16 tg Exp $
@


1.2
log
@remove DEBUGPROGS remnants, that flag is long dead
@
text
@d1 1
a1 1
# $MirOS: src/sys/arch/i386/stand/ldsec/Makefile,v 1.1 2006/04/06 11:07:32 tg Exp $
d5 1
a5 1
PROG=		ldsec
@


1.1
log
@rename ffspbr to ldsec - it's not UFS specific anyway,
it's just the loading sector with map (á la lilo)

also simplify
@
text
@d1 1
a1 1
# $MirOS: src/sys/arch/i386/stand/pbr/ffs/Makefile,v 1.1.7.1 2005/03/06 16:33:43 tg Exp $
a10 1
DEBUGPROGS=	No
@

