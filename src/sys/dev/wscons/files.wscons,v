head	1.2;
access;
symbols
	tg-beforemerge-ksrc10:1.1.1.3
	MIRBSD_10:1.2.0.2
	MIRBSD_10_BASE:1.2
	cvs-200702062030:1.1.1.3
	MIRBSD_9_BASE:1.1.1.2
	MIRBSD_8:1.1.1.2.0.2
	MIRBSD_8_BASE:1.1.1.2
	cvs-200507032030:1.1.1.2
	openbsd:1.1.1;
locks; strict;
comment	@# @;


1.2
date	2007.08.10.00.28.33;	author tg;	state Exp;
branches;
next	1.1;
commitid	10046BBB12C08165C02;

1.1
date	2005.02.05.17.28.42;	author tg;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2005.02.05.17.28.42;	author tg;	state Exp;
branches;
next	1.1.1.2;

1.1.1.2
date	2005.07.04.01.13.57;	author tg;	state Exp;
branches;
next	1.1.1.3;
commitid	76bf42c88d6bc5d8;

1.1.1.3
date	2007.02.06.20.51.47;	author tg;	state Exp;
branches;
next	;
commitid	10045C8EA6658CBB47A;


desc
@@


1.2
log
@• change sparc config from wsemul_sun to wsemul_vt100
• remove support for wsemul_sun entirely

untested, but compiles fine
@
text
@# $OpenBSD: files.wscons,v 1.14 2006/12/09 20:06:48 miod Exp $
# $NetBSD: files.wscons,v 1.34 2005/05/04 01:52:16 augustss Exp $

#
# "Workstation Console" glue; attaches frame buffer to emulator & keyboard,
# plus deals with kernel mouse drivers.
#
# These files are included with strange conditions because of the hairy
# interactions between them.  In particular, chunks of the glue,
# keyboard, and mouse code are called directly by other chunks.  Also,
# each hardware driver can make calls into its (child) interface driver.
# This could all be cleaned up, but it's not clear that it's worth the
# trouble.
#

# this loses, but there's no way to define attributes which have attributes
device	wsdisplay #tty?
attach	wsdisplay at wsemuldisplaydev with wsdisplay_emul
device	wskbd
attach	wskbd at wskbddev
define	wskbd_hotkey
device	wsmouse
attach	wsmouse at wsmousedev

file	dev/wscons/wsdisplay.c			wsdisplay	needs-flag
file	dev/wscons/wsdisplay_compat_usl.c	wsdisplay & wsdisplay_compat_usl
file	dev/wscons/wsevent.c			wsdisplay | wskbd |
						wsmouse | wsmux
file	dev/wscons/wskbd.c			wskbd		needs-flag
file	dev/wscons/wskbdutil.c			wskbd
file	dev/wscons/wskbd_hotkey.c		wskbd & wskbd_hotkey &
						!small_kernel	needs-flag
file	dev/wscons/wsmouse.c			wsmouse		needs-flag

pseudo-device	wsmux
file	dev/wscons/wsmux.c			wsmux		needs-flag

# emulation code
file	dev/wscons/wsemulconf.c			wsdisplay
file	dev/wscons/wsemul_dumb.c		wsdisplay & wsemul_dumb
file	dev/wscons/wsemul_vt100.c		wsdisplay
file	dev/wscons/wsemul_vt100_subr.c		wsdisplay
file	dev/wscons/wsemul_vt100_chars.c		wsdisplay
file	dev/wscons/wsemul_vt100_keys.c		wsdisplay
@


1.1
log
@Initial revision
@
text
@d1 2
a2 2
# $OpenBSD: files.wscons,v 1.7 2004/03/10 00:31:40 deraadt Exp $
# $NetBSD: files.wscons,v 1.19 1999/12/12 08:17:28 scottr Exp $
a18 1
attach	wsdisplay at wsdisplaydev with wsdisplay_noemul
d21 1
d25 1
a25 1
file	dev/wscons/wsdisplay.c			wsdisplay needs-flag
d27 7
a33 17
file	dev/wscons/wsemulconf.c			wsdisplay
file	dev/wscons/wsemul_dumb.c		wsdisplay & wsemul_dumb
file	dev/wscons/wsemul_vt100.c		wsdisplay & !wsemul_no_vt100
file	dev/wscons/wsemul_vt100_subr.c		wsdisplay & !wsemul_no_vt100
file	dev/wscons/wsemul_vt100_chars.c		wsdisplay & !wsemul_no_vt100
file	dev/wscons/wsemul_vt100_keys.c		wsdisplay & !wsemul_no_vt100
file	dev/wscons/wsevent.c			wskbd | wsmouse
file	dev/wscons/wskbd.c			wskbd needs-flag
file	dev/wscons/wskbdutil.c			wskbd needs-flag
file	dev/wscons/wsmouse.c			wsmouse needs-flag

file	dev/rcons/raster_op.c			wsrasteremulops
file	dev/rcons/raster_text.c			wsrasteremulops
file	dev/wscons/wscons_rinit.c		wsrasteremulops
file	dev/wscons/wscons_rops.c		wsrasteremulops
file    dev/wscons/wscons_gallant19.c		wsrasteremulops
file	dev/wscons/wscons_font8x16.c		wsrasteremulops
d36 1
a36 1
file	dev/wscons/wsmux.c			wsmux | wsdisplay needs-flag
d38 7
a44 2
define	wsemul_sun
file	dev/wscons/wsemul_sun.c			wsdisplay & wsemul_sun needs-flag
@


1.1.1.1
log
@Import the OpenBSD foundation of MirOS BSD
@
text
@@


1.1.1.2
log
@lastly some drivers
@
text
@d1 2
a2 2
# $OpenBSD: files.wscons,v 1.10 2005/06/02 07:34:14 miod Exp $
# $NetBSD: files.wscons,v 1.34 2005/05/04 01:52:16 augustss Exp $
d19 1
d25 1
a25 1
file	dev/wscons/wsdisplay.c			wsdisplay	needs-flag
d33 4
a36 5
file	dev/wscons/wsevent.c			wsdisplay | wskbd |
						wsmouse | wsmux
file	dev/wscons/wskbd.c			wskbd		needs-flag
file	dev/wscons/wskbdutil.c			wskbd
file	dev/wscons/wsmouse.c			wsmouse		needs-flag
d42 1
a42 1
file	dev/wscons/wscons_gallant19.c		wsrasteremulops
d46 1
a46 1
file	dev/wscons/wsmux.c			wsmux		needs-flag
d49 1
a49 2
file	dev/wscons/wsemul_sun.c			wsdisplay &
						wsemul_sun	needs-flag
@


1.1.1.3
log
@import current wscons & friends code from OpenBSD
in the hope it will be useful
@
text
@d1 1
a1 1
# $OpenBSD: files.wscons,v 1.14 2006/12/09 20:06:48 miod Exp $
a20 1
define	wskbd_hotkey
d26 6
a35 2
file	dev/wscons/wskbd_hotkey.c		wskbd & wskbd_hotkey &
						!small_kernel	needs-flag
d38 7
d48 3
a50 8
# emulation code
file	dev/wscons/wsemulconf.c			wsdisplay
file	dev/wscons/wsemul_dumb.c		wsdisplay & wsemul_dumb
file	dev/wscons/wsemul_sun.c			wsdisplay & wsemul_sun
file	dev/wscons/wsemul_vt100.c		wsdisplay & !wsemul_no_vt100
file	dev/wscons/wsemul_vt100_subr.c		wsdisplay & !wsemul_no_vt100
file	dev/wscons/wsemul_vt100_chars.c		wsdisplay & !wsemul_no_vt100
file	dev/wscons/wsemul_vt100_keys.c		wsdisplay & !wsemul_no_vt100
@


