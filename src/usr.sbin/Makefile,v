head	1.25;
access;
symbols
	MIRBSD_10:1.23.0.2
	MIRBSD_10_BASE:1.23
	MIRBSD_9_BASE:1.16
	MIRBSD_8:1.11.0.2
	MIRBSD_8_BASE:1.11
	cvs-200507211800:1.1.1.2
	openbsd:1.1.1;
locks; strict;
comment	@# @;


1.25
date	2009.08.08.13.36.52;	author tg;	state Exp;
branches;
next	1.24;
commitid	1004A7D7F8711E46007;

1.24
date	2008.08.05.22.36.05;	author tg;	state Exp;
branches;
next	1.23;
commitid	1004898D5CE6FD0A887;

1.23
date	2007.10.29.20.38.46;	author tg;	state Exp;
branches;
next	1.22;
commitid	100472644E65A1C8B47;

1.22
date	2007.10.20.21.59.47;	author tg;	state Exp;
branches;
next	1.21;
commitid	100471A7A5A6F57E677;

1.21
date	2007.07.09.18.34.15;	author tg;	state Exp;
branches;
next	1.20;
commitid	10046927EFA5F897708;

1.20
date	2006.08.16.23.12.05;	author tg;	state Exp;
branches;
next	1.19;
commitid	10044E3A6064DC98451;

1.19
date	2006.07.08.21.42.55;	author tg;	state Exp;
branches;
next	1.18;
commitid	10044B026E94C0157F8;

1.18
date	2006.07.05.20.42.45;	author tg;	state Exp;
branches;
next	1.17;
commitid	10044AC2459587495FB;

1.17
date	2006.06.30.23.18.06;	author tg;	state Exp;
branches;
next	1.16;
commitid	10044A5B12A66F53B0F;

1.16
date	2006.06.17.22.12.57;	author tg;	state Exp;
branches;
next	1.15;
commitid	10044947A600871A477;

1.15
date	2006.06.16.23.35.37;	author tg;	state Exp;
branches;
next	1.14;
commitid	10044934042741B467A;

1.14
date	2006.06.16.20.53.55;	author tg;	state Exp;
branches;
next	1.13;
commitid	10044931A6B5A140980;

1.13
date	2006.06.09.00.55.24;	author tg;	state Exp;
branches;
next	1.12;
commitid	1004488C6C72BD56C3F;

1.12
date	2006.01.01.15.43.48;	author tg;	state Exp;
branches;
next	1.11;
commitid	10043B7F8B77609F7C3;

1.11
date	2005.12.20.18.53.48;	author tg;	state Exp;
branches;
next	1.10;
commitid	10043A8534704B82254;

1.10
date	2005.12.04.18.57.08;	author tg;	state Exp;
branches;
next	1.9;
commitid	482643933c16d7be;

1.9
date	2005.12.04.15.02.20;	author tg;	state Exp;
branches;
next	1.8;
commitid	3de943930506ef14;

1.8
date	2005.12.04.14.27.05;	author tg;	state Exp;
branches;
next	1.7;
commitid	4e8e4392fcc8b6d7;

1.7
date	2005.08.02.11.36.03;	author tg;	state Exp;
branches;
next	1.6;
commitid	718b42ef5ab6d2b6;

1.6
date	2005.07.01.12.40.56;	author tg;	state Exp;
branches;
next	1.5;
commitid	437b42c539e9c7f0;

1.5
date	2005.04.27.08.54.39;	author tg;	state Exp;
branches;
next	1.4;

1.4
date	2005.04.26.22.35.05;	author tg;	state Exp;
branches;
next	1.3;

1.3
date	2005.03.15.18.33.53;	author tg;	state Exp;
branches;
next	1.2;

1.2
date	2005.03.13.19.16.11;	author tg;	state Exp;
branches;
next	1.1;

1.1
date	2005.02.05.17.30.22;	author tg;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2005.02.05.17.30.22;	author tg;	state Exp;
branches;
next	1.1.1.2;

1.1.1.2
date	2005.07.21.21.01.38;	author tg;	state Exp;
branches;
next	;
commitid	560042e0092f571e;


desc
@@


1.25
log
@+wake(8)
@
text
@# $MirOS: src/usr.sbin/Makefile,v 1.24 2008/08/05 22:36:05 tg Exp $
# $OpenBSD: Makefile,v 1.110 2004/05/04 23:27:21 deraadt Exp $

.include <bsd.own.mk>

  SUBDIR+= ac
  SUBDIR+= accton
  SUBDIR+= adduser
.if ${MACHINE_ARCH} == "i386"
  SUBDIR+= apm
  SUBDIR+= apmd
.endif
  SUBDIR+= arp
# SUBDIR+= authpf
  SUBDIR+= bad144
# SUBDIR+= bgpctl
# SUBDIR+= bgpd
  SUBDIR+= chroot
  SUBDIR+= config
  SUBDIR+= cron
  SUBDIR+= dev_mkdb
  SUBDIR+= dhcpd
  SUBDIR+= dhcrelay
  SUBDIR+= edquota
.if ${MACHINE_ARCH} == "sparc"
  SUBDIR+= eeprom
.endif
  SUBDIR+= faithd
  SUBDIR+= fdformat
# SUBDIR+= ftp-proxy
  SUBDIR+= getextent_cd9660
# SUBDIR+= gpioctl
# SUBDIR+= hostapd
# SUBDIR+= hotplugd
.if ${CROSS_MODE:L} != "yes"
  SUBDIR+= httpd
.endif
  SUBDIR+= installboot
# SUBDIR+= ifstated
  SUBDIR+= ifwatchd
  SUBDIR+= inetd
  SUBDIR+= iostat
.if ${MACHINE_ARCH} == "i386"
  SUBDIR+= isdn
.endif
  SUBDIR+= kvm_mkdb
  SUBDIR+= lpr
  SUBDIR+= mailwrapper
  SUBDIR+= makefs
  SUBDIR+= map-mbone
  SUBDIR+= memconfig
  SUBDIR+= mrinfo
  SUBDIR+= mrouted
  SUBDIR+= mtrace
  SUBDIR+= mtree
  SUBDIR+= ndp
  SUBDIR+= ntpd
  SUBDIR+= openssl
# SUBDIR+= ospfctl
# SUBDIR+= ospfd
  SUBDIR+= popa3d
  SUBDIR+= portmap
  SUBDIR+= ppp
  SUBDIR+= pppd
  SUBDIR+= pppoe
  SUBDIR+= procmap
  SUBDIR+= pstat
  SUBDIR+= pwd_mkdb
  SUBDIR+= quot
  SUBDIR+= quotaon
  SUBDIR+= rarpd
  SUBDIR+= rbootd
  SUBDIR+= rdate
  SUBDIR+= rdconfig
  SUBDIR+= repquota
  SUBDIR+= rip6query
  SUBDIR+= rmt
  SUBDIR+= route6d
  SUBDIR+= rpc.bootparamd
  SUBDIR+= rpc.lockd
  SUBDIR+= rtadvd
  SUBDIR+= rtsold
  SUBDIR+= rwhod
  SUBDIR+= sa
# SUBDIR+= sasyncd
  SUBDIR+= sensorsd
  SUBDIR+= sliplogin
  SUBDIR+= slstats
  SUBDIR+= spamdb
  SUBDIR+= spppcontrol
  SUBDIR+= spray
  SUBDIR+= syslogc
  SUBDIR+= syslogd
  SUBDIR+= tcpdrop
  SUBDIR+= timed
  SUBDIR+= tokenadm
  SUBDIR+= tokeninit
  SUBDIR+= traceroute
  SUBDIR+= traceroute6
  SUBDIR+= trpt
# SUBDIR+= upkg
  SUBDIR+= usbdevs
  SUBDIR+= vipw
  SUBDIR+= vnconfig
  SUBDIR+= wake
  SUBDIR+= wsconscfg
  SUBDIR+= wsconfig
.if ${MACHINE_ARCH} == "i386"
  SUBDIR+= wsfontload
.endif
  SUBDIR+= wsmoused
.if ${MACHINE_ARCH} == "i386"
  SUBDIR+= wssetfont
.endif
  SUBDIR+= zdump
  SUBDIR+= zic

.include <bsd.subdir.mk>
@


1.24
log
@we have a new tool, yay!

hacked at Chaostreff Basel in Muttenz, in the train from Basel to Delémont,
and over here at Tonnerre’s place
@
text
@d1 1
a1 1
# $MirOS: src/usr.sbin/Makefile,v 1.23 2007/10/29 20:38:46 tg Exp $
d105 1
@


1.23
log
@wsconfig is by no means i386-only
@
text
@d1 1
a1 1
# $MirOS: src/usr.sbin/Makefile,v 1.22 2007/10/20 21:59:47 tg Exp $
d31 1
@


1.22
log
@• enable the i386 self-installing bootblocks
• enable to install these
@
text
@d1 1
a1 1
# $MirOS: src/usr.sbin/Makefile,v 1.21 2007/07/09 18:34:15 tg Exp $
d105 1
a106 1
  SUBDIR+= wsconfig
@


1.21
log
@remove tcpdump, as I don't want to be in violation of the
new §202c StGB (German penal code), which I hereby oppose
but still have to formally obey.

I hope this is the only thing in base we could offend the
criminal persecutors with; we'll provide a port for it as
a way to shoot yourself into the foot but will not be le-
gally able to provide it ourselves. (As far as I'm infor-
med, existing installations and historic codebases aren't
affected as the law has yet to become effective.) It's an
utterly stupid law passed against experts' opinions, but…

Anyway, this code was ugly and a security nightmare.
@
text
@d1 1
a1 1
# $MirOS: src/usr.sbin/Makefile,v 1.20 2006/08/16 23:12:05 tg Exp $
d37 1
@


1.20
log
@Add a new utility, wsconfig(8) - manpage follows - which will,
in MirOS #9-current, replace wsfontload and wssetfont as well,
and maybe wsconscfg, but for now offers wsswitch functionality
(tested), because we're in #9-stable.
@
text
@d1 1
a1 1
# $MirOS: src/usr.sbin/Makefile,v 1.19 2006/07/08 21:42:55 tg Exp $
a92 1
  SUBDIR+= tcpdump
@


1.19
log
@write a menu-driven adduser(8) in shell
no TFM yet :(
@
text
@d1 1
a1 1
# $MirOS: src/usr.sbin/Makefile,v 1.18 2006/07/05 20:42:45 tg Exp $
d106 1
@


1.18
log
@build makefs(8)
@
text
@d1 1
a1 1
# $MirOS: src/usr.sbin/Makefile,v 1.17 2006/06/30 23:18:06 tg Exp $
d8 1
@


1.17
log
@check MACHINE_ARCH not MACHINE for same-userland stuff
@
text
@d1 1
a1 1
# $MirOS: src/usr.sbin/Makefile,v 1.16 2006/06/17 22:12:57 tg Exp $
d46 1
@


1.16
log
@remove more of these AMD64 remains
@
text
@d1 1
a1 1
# $MirOS: src/usr.sbin/Makefile,v 1.15 2006/06/16 23:35:37 tg Exp $
d8 1
a8 1
.if ${MACHINE} == "i386"
d24 1
a24 1
.if ${MACHINE} == "sparc"
d40 1
a40 1
.if ${MACHINE} == "i386"
@


1.15
log
@build as many programme that can be cross-built as possible,
even if it doesn't necessarily make sense, because of pride,
and being better than the Other BSD
@
text
@d1 1
a1 1
# $MirOS: src/usr.sbin/Makefile,v 1.14 2006/06/16 20:53:55 tg Exp $
d8 1
a8 1
.if (${MACHINE} == "amd64") || (${MACHINE} == "i386")
@


1.14
log
@... and I was under the impression that sparcen had apm...

XXX what about macppc?
@
text
@d1 1
a1 1
# $MirOS: src/usr.sbin/Makefile,v 1.13 2006/06/09 00:55:24 tg Exp $
a27 1
.if ${CROSS_MODE:L} != "yes"
d33 1
@


1.13
log
@* remove ctm, we don't use/support it at the moment,
  unslack base, and the code isn't audited anyway
* remove netgroup_mkdb, it doesn't suit MirOS' target
  audience (only makes sense in large/YP? environments)
* comment out ifstated, people might use ifwatchd instead,
  ifstated can't be used for pppoe(8) anyway; will be back
  on complaints, nuked else
@
text
@d1 1
a1 1
# $MirOS: src/usr.sbin/Makefile,v 1.12 2006/01/01 15:43:48 tg Exp $
d8 1
d11 1
@


1.12
log
@as announced, remove perl-based, advertising-clause-tainted, user
management suite originated in TNF
@
text
@d1 1
a1 1
# $MirOS: src/usr.sbin/Makefile,v 1.11 2005/12/20 18:53:48 tg Exp $
a17 1
  SUBDIR+= ctm
d34 1
a34 1
  SUBDIR+= ifstated
a50 1
  SUBDIR+= netgroup_mkdb
@


1.11
log
@Well... in my opinion, FTP deserves to die anyway...
@
text
@d1 1
a1 1
# $MirOS: src/usr.sbin/Makefile,v 1.10 2005/12/04 18:57:08 tg Exp $
a7 1
  SUBDIR+= adduser
a99 1
  SUBDIR+= user
@


1.10
log
@no authpf for now
@
text
@d1 1
a1 1
# $MirOS: src/usr.sbin/Makefile,v 1.9 2005/12/04 15:02:20 tg Exp $
d30 1
a30 1
  SUBDIR+= ftp-proxy
@


1.9
log
@fastmerge usr.sbin except tcpdump and httpd
@
text
@d1 1
a1 1
# $MirOS: src/usr.sbin/Makefile,v 1.8 2005/12/04 14:27:05 tg Exp $
d12 1
a12 1
  SUBDIR+= authpf
@


1.8
log
@merge top-level src/usr.sbin
@
text
@d1 1
a1 1
# $MirOS: src/usr.sbin/Makefile,v 1.7 2005/08/02 11:36:03 tg Exp $
d105 1
d107 1
d109 1
d111 1
@


1.7
log
@sesd is dead
@
text
@d1 1
a1 1
# $MirOS: src/usr.sbin/Makefile,v 1.6 2005/07/01 12:40:56 tg Exp $
d30 4
d36 1
d56 2
d82 1
d99 1
@


1.6
log
@extattrs just died
@
text
@d1 1
a1 1
# $MirOS: src/usr.sbin/Makefile,v 1.5 2005/04/27 08:54:39 tg Exp $
a75 1
  SUBDIR+= sesd
@


1.5
log
@sync, and disable bgpctl too, it's useless w/o bgpd
(I didn't bother about bgpd.conf yet)
@
text
@d1 1
a1 1
# $MirOS: src/usr.sbin/Makefile,v 1.4 2005/04/26 22:35:05 tg Exp $
a26 1
  SUBDIR+= extattrctl
a29 3
.endif
  SUBDIR+= getextattr
.if ${CROSS_MODE:L} != "yes"
a76 1
  SUBDIR+= setextattr
@


1.4
log
@disable ancient version of programme we never could test anyway for #8
will come back after big big obsd sync for #9, though
@
text
@d1 1
a1 1
# $MirOS: src/usr.sbin/Makefile,v 1.3 2005/03/15 18:33:53 tg Exp $
d14 1
a14 1
  SUBDIR+= bgpctl
@


1.3
log
@only descend into eeprom on sparc
@
text
@d1 1
a1 1
# $MirOS: src/usr.sbin/Makefile,v 1.2 2005/03/13 19:16:11 tg Exp $
d15 1
a15 1
  SUBDIR+= bgpd
@


1.2
log
@fast merge src/usr.sbin
@
text
@d1 1
a1 1
# $MirOS$
d24 1
d26 1
@


1.1
log
@Initial revision
@
text
@d1 2
a2 1
#	$OpenBSD: Makefile,v 1.110 2004/05/04 23:27:21 deraadt Exp $
d6 27
a32 24
SUBDIR=	ac accton adduser amd arp authpf bgpctl bgpd bind chroot \
	config cron dev_mkdb dhcpd dhcrelay edquota httpd inetd \
	iostat kgmon kvm_mkdb lpr mailwrapper mopd mtree mrouted \
	mrinfo mtrace map-mbone netgroup_mkdb openssl pkg_add popa3d \
	portmap ppp pppd pppoe procmap pstat pwd_mkdb quot quotaon \
	rarpd rbootd rdconfig rdate repquota rmt rpc.bootparamd \
	rpc.lockd rwhod sa sensorsd sesd sliplogin slstats spamdb \
	spppcontrol spray syslogc syslogd tcpdrop tcpdump timed \
	tokenadm tokeninit traceroute trpt usbdevs user vipw vnconfig \
	wsmoused zdump zic

# IPv6
SUBDIR+=faithd ndp rip6query route6d rtadvd rtsold traceroute6

# Arch dependent tools, with manpages
SUBDIR+=bad144 apm apmd fdformat memconfig
SUBDIR+=eeprom grfinfo hilinfo
SUBDIR+=wsconscfg wsfontload

# Extended Attribute tools
SUBDIR+=extattrctl setextattr getextattr

.if (${AFS:L} == "yes")
SUBDIR+=afs
d34 5
a38 3

.if (${YP:L} == "yes")
SUBDIR+=ypbind yppoll ypset ypserv
d40 65
@


1.1.1.1
log
@Import the OpenBSD foundation of MirOS BSD
@
text
@@


1.1.1.2
log
@Import almost everything (no ancontrol, ifconfig, pfctl, wicontrol)
of (the undeleted parts of) OpenBSD-current's userland of about 3 hours ago.
Warning: this introduces major breakage!
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.121 2005/06/17 20:35:18 drahn Exp $
d6 9
a14 9
	config cron dev_mkdb dhcpd dhcrelay edquota hostapd hotplugd \
	httpd ifstated inetd iostat kgmon kvm_mkdb lpr mailwrapper mopd mtree \
	mrouted mrinfo mtrace map-mbone netgroup_mkdb ntpd openssl \
	ospfctl ospfd pkg_add popa3d portmap ppp pppd pppoe procmap \
	pstat pwd_mkdb quot quotaon rarpd rbootd rdconfig rdate repquota \
	rmt rpc.bootparamd rpc.lockd rwhod sa sasyncd sensorsd sesd sliplogin \
	slstats spamdb spppcontrol spray syslogc syslogd tcpdrop \
	tcpdump timed tokenadm tokeninit traceroute trpt usbdevs user \
	vipw vnconfig wsmoused zdump zic ztsscale
d20 2
a21 2
SUBDIR+=bad144 acpid acpidump apm apmd fdformat memconfig
SUBDIR+=eeprom gpioctl hotplugd
d24 3
@

