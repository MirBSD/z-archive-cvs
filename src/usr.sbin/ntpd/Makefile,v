head	1.6;
access;
symbols
	tg-ntpd-sigusr1-branch:1.3.0.6
	MIRBSD_10:1.3.0.4
	MIRBSD_10_BASE:1.3
	MIRBSD_9_BASE:1.3
	MIRBSD_8:1.3.0.2
	MIRBSD_8_BASE:1.3
	cvs-200512032330:1.1.1.1
	cvs-200510270930:1.1.1.1
	cvs-200507211800:1.1.1.1
	cvs-200504291700:1.1.1.1
	cvs-200504141900:1.1.1.1
	openbsd:1.1.1;
locks; strict;
comment	@# @;


1.6
date	2014.03.13.05.48.24;	author tg;	state Exp;
branches;
next	1.5;
commitid	100532146A3061EE0CD;

1.5
date	2014.03.12.23.42.59;	author tg;	state Exp;
branches;
next	1.4;
commitid	1005320F11C6DC81D52;

1.4
date	2010.07.03.18.33.56;	author tg;	state Exp;
branches;
next	1.3;
commitid	1004C2F828601C66EBF;

1.3
date	2005.04.14.21.18.48;	author tg;	state Exp;
branches;
next	1.2;

1.2
date	2005.03.13.19.17.09;	author tg;	state Exp;
branches;
next	1.1;

1.1
date	2005.02.05.17.30.58;	author tg;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2005.02.05.17.30.58;	author tg;	state Exp;
branches;
next	;


desc
@@


1.6
log
@meh, stop already with exposing libc interna like that
just invent our own private interface for RNG state hackery if needed
@
text
@# $MirOS: src/usr.sbin/ntpd/Makefile,v 1.5 2014/03/12 23:42:59 tg Exp $
# $OpenBSD: Makefile,v 1.7 2004/07/04 11:01:49 alexander Exp $

PROG=		ntpd
SRCS=		buffer.c client.c config.c cutil.c imsg.c log.c ntp.c \
		ntp_msg.c ntpd.c parse.y server.c util.c
CPPFLAGS+=	-DIN_NTPD
CFLAGS+=	-Wall -Wextra
CFLAGS+=	-Wstrict-prototypes -Wmissing-prototypes
CFLAGS+=	-Wmissing-declarations
CFLAGS+=	-Wshadow -Wpointer-arith -Wcast-qual
CFLAGS+=	-Wsign-compare
YFLAGS=
MAN=		ntpd.8 ntpd.conf.5

# for cutil.c
.PATH: ${.CURDIR}/../rdate

.include <bsd.prog.mk>
@


1.5
log
@stop using arc4random_stir in ntpd; same hack as in init
@
text
@d1 1
a1 1
# $MirOS: src/usr.sbin/ntpd/Makefile,v 1.4 2010/07/03 18:33:56 tg Exp $
a7 1
CPPFLAGS+=	-I${BSDSRCDIR:Q}/lib/libc/include
@


1.4
log
@• put log_sockaddr() into a shared file (XXX share more rdate⇐⇒ntpd)
• make rdate -d output the destination IP sending packets to
@
text
@d1 1
a1 1
# $MirOS: src/usr.sbin/ntpd/Makefile,v 1.3 2005/04/14 21:18:48 tg Exp $
d8 1
@


1.3
log
@merge and reduce diff
@
text
@d1 1
a1 1
# $MirOS: src/usr.sbin/ntpd/Makefile,v 1.2 2005/03/13 19:17:09 tg Exp $
d4 9
a12 8
PROG=	ntpd
SRCS=	ntpd.c buffer.c log.c imsg.c ntp.c ntp_msg.c parse.y config.c \
	server.c client.c util.c
CFLAGS+= -Wall -Wextra
CFLAGS+= -Wstrict-prototypes -Wmissing-prototypes
CFLAGS+= -Wmissing-declarations
CFLAGS+= -Wshadow -Wpointer-arith -Wcast-qual
CFLAGS+= -Wsign-compare
d14 4
a17 1
MAN=	ntpd.8 ntpd.conf.5
@


1.2
log
@fast merge src/usr.sbin
@
text
@d1 1
a1 1
# $MirOS$
d7 1
a7 1
CFLAGS+= -Wall -Werror -Wextra
@


1.1
log
@Initial revision
@
text
@d1 2
a2 3
#	$OpenBSD: Makefile,v 1.7 2004/07/04 11:01:49 alexander Exp $

.PATH:		${.CURDIR}/..
d7 1
a7 1
CFLAGS+= -Wall -I${.CURDIR}
@


1.1.1.1
log
@Import the OpenBSD foundation of MirOS BSD
@
text
@@
