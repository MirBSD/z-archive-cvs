head	1.7;
access;
symbols
	MIRBSD_10:1.2.0.4
	MIRBSD_10_BASE:1.2
	MIRBSD_9_BASE:1.2
	MIRBSD_8:1.2.0.2
	MIRBSD_8_BASE:1.2
	cvs-200507211800:1.1.1.1
	openbsd:1.1.1;
locks; strict;
comment	@# @;


1.7
date	2015.10.26.21.36.47;	author tg;	state Exp;
branches;
next	1.6;
commitid	100562E9CFF50C18F66;

1.6
date	2009.03.29.13.04.25;	author tg;	state Exp;
branches;
next	1.5;
commitid	10049CF71B654F9EF54;

1.5
date	2009.01.24.13.02.11;	author tg;	state Exp;
branches;
next	1.4;
commitid	100497B115F1B102253;

1.4
date	2008.03.27.14.53.25;	author tg;	state Exp;
branches;
next	1.3;
commitid	10047EBB4DA2B6DE010;

1.3
date	2008.03.27.13.41.34;	author tg;	state Exp;
branches;
next	1.2;
commitid	10047EBA38C76760782;

1.2
date	2005.03.15.18.46.52;	author tg;	state Exp;
branches;
next	1.1;

1.1
date	2005.02.05.17.31.06;	author tg;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2005.02.05.17.31.06;	author tg;	state Exp;
branches;
next	;


desc
@@


1.7
log
@/dev/MAKEDEV needs user uucp on the ramdisc
@
text
@# $MirOS: src/usr.sbin/pwd_mkdb/Makefile,v 1.6 2009/03/29 13:04:25 tg Exp $
# $OpenBSD: Makefile,v 1.8 2002/06/27 20:01:59 art Exp $

PROG=		pwd_mkdb
MAN=		pwd_mkdb.8
LDADD+=		-lutil
DPADD+=		${LIBUTIL}

LDSTATIC=	-static

.ifdef SMALL
BSIZE?=		1024
NELEM?=		32
CPPFLAGS+=	-DPWD_MKDB_FOR_BSD_RD -DBSIZE=${BSIZE} -DNELEM=${NELEM}
PROG=		pwd_mkdb_${BSIZE}_${NELEM}
NOMAN=		Yes

pwd_mkdb_${BSIZE}_${NELEM}.c: pwd_mkdb.c
	@@cp $> $@@
.endif

.include <bsd.prog.mk>
@


1.6
log
@• take care of dbins
• #!/bin/mksh shebang, in most places
• rcsid while here
@
text
@d1 1
a1 1
# $MirOS: src/usr.sbin/pwd_mkdb/Makefile,v 1.5 2009/01/24 13:02:11 tg Exp $
d12 1
a12 1
BSIZE?=		256
@


1.5
log
@• __CRAZY clean while here
• hack special SMALL stuff for the installer
@
text
@d1 1
a1 1
# $MirOS: src/usr.sbin/pwd_mkdb/Makefile,v 1.4 2008/03/27 14:53:25 tg Exp $
d8 2
a9 1
BINDIR?=	/usr/dsbin
@


1.4
log
@• install these into /usr/dbin, /usr/dsbin instead
• split compressutil (zmore, zdiff, etc.) from compress
  and install them into /usr/bin as usual
@
text
@d1 1
a1 1
# $MirOS: src/usr.sbin/pwd_mkdb/Makefile,v 1.3 2008/03/27 13:41:34 tg Exp $
d10 11
@


1.3
log
@• do not make these statically linked any more:
  ‣ kdump, ktrace, timedc
• temporarily remove ${STATIC} from LDSTATIC for:
  ‣ ping, ping6, portmap, traceroute, traceroute6 (/sbin)
  ‣ compress, ftp, chroot, vnconfig (system recovery)
  ‣ encrypt, pwd_mkdb (used by ramdisc installer for now)
• hardcode LDSTATIC=-static for ldconfig, as ${STATIC} can
  be set to "" by the user (for dynamically linked /bin /sbin)
@
text
@d1 1
a1 1
# $MirOS: src/usr.sbin/pwd_mkdb/Makefile,v 1.2 2005/03/15 18:46:52 tg Exp $
d8 1
@


1.2
log
@no m68k
@
text
@d1 1
a1 1
# $MirOS$
a3 3
# static because it's used by the boot floppy through a chroot.

LDSTATIC=	${STATIC}
@


1.1
log
@Initial revision
@
text
@d1 2
a2 1
#	$OpenBSD: Makefile,v 1.8 2002/06/27 20:01:59 art Exp $
d7 4
a10 8
PROG=	pwd_mkdb
MAN=	pwd_mkdb.8
LDADD+=	-lutil
DPADD+=	${LIBUTIL}

.if (${MACHINE_ARCH} == "m68k")
CFLAGS+=-O1
.endif
@


1.1.1.1
log
@Import the OpenBSD foundation of MirOS BSD
@
text
@@
