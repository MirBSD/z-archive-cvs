head	1.7;
access;
symbols
	MIRBSD_10:1.4.0.4
	MIRBSD_10_BASE:1.4
	tg-crypto-improvements:1.4.0.2
	MIRBSD_9_BASE:1.3
	MIRBSD_8:1.1.1.1.0.2
	MIRBSD_8_BASE:1.1.1.1
	cvs-200507211800:1.1.1.1
	openbsd:1.1.1;
locks; strict;
comment	@# @;


1.7
date	2009.03.29.13.04.27;	author tg;	state Exp;
branches;
next	1.6;
commitid	10049CF71B654F9EF54;

1.6
date	2008.03.27.14.53.25;	author tg;	state Exp;
branches;
next	1.5;
commitid	10047EBB4DA2B6DE010;

1.5
date	2008.03.27.13.41.35;	author tg;	state Exp;
branches;
next	1.4;
commitid	10047EBA38C76760782;

1.4
date	2006.08.30.04.28.13;	author tg;	state Exp;
branches;
next	1.3;
commitid	10044F513DD53B5D0D0;

1.3
date	2006.05.15.19.12.05;	author tg;	state Exp;
branches;
next	1.2;
commitid	1004468D29727327CBD;

1.2
date	2006.02.21.23.42.54;	author tg;	state Exp;
branches;
next	1.1;
commitid	10043FBA5725B27D71B;

1.1
date	2005.02.05.17.31.13;	author tg;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2005.02.05.17.31.13;	author tg;	state Exp;
branches;
next	;


desc
@@


1.7
log
@• take care of dbins
• #!/bin/mksh shebang, in most places
• rcsid while here
@
text
@# $MirOS: src/usr.sbin/vnconfig/Makefile,v 1.6 2008/03/27 14:53:25 tg Exp $
# $OpenBSD: Makefile,v 1.3 1997/09/21 11:44:35 deraadt Exp $

PROG=		vnconfig
MAN=		vnconfig.8
DPADD+=		${LIBUTIL}
LDADD+=		-lutil

.if defined(SMALL) && ${SMALL:L} != "no"
CPPFLAGS+=	-DSMALL
.else
DPADD+=		${LIBCRYPTO}
LDADD+=		-lcrypto
.endif

LDSTATIC=	-static

.include <bsd.prog.mk>
@


1.6
log
@• install these into /usr/dbin, /usr/dsbin instead
• split compressutil (zmore, zdiff, etc.) from compress
  and install them into /usr/bin as usual
@
text
@d1 1
a1 1
# $MirOS: src/usr.sbin/vnconfig/Makefile,v 1.5 2008/03/27 13:41:35 tg Exp $
a7 1
BINDIR?=	/usr/dsbin
d16 2
@


1.5
log
@• do not make these statically linked any more:
  ‣ kdump, ktrace, timedc
• temporarily remove ${STATIC} from LDSTATIC for:
  ‣ ping, ping6, portmap, traceroute, traceroute6 (/sbin)
  ‣ compress, ftp, chroot, vnconfig (system recovery)
  ‣ encrypt, pwd_mkdb (used by ramdisc installer for now)
• hardcode LDSTATIC=-static for ldconfig, as ${STATIC} can
  be set to "" by the user (for dynamically linked /bin /sbin)
@
text
@d1 1
a1 1
# $MirOS: src/usr.sbin/vnconfig/Makefile,v 1.4 2006/08/30 04:28:13 tg Exp $
d8 1
@


1.4
log
@link this statically too
helps if you have just fragged your ld.so and your only
backup lies within an iso9660 filesystem image ;)
@
text
@d1 1
a1 1
# $MirOS: src/usr.sbin/vnconfig/Makefile,v 1.3 2006/05/15 19:12:05 tg Exp $
a7 1
LDSTATIC?=	${STATIC}
@


1.3
log
@make -DSMALL capable
@
text
@d1 1
a1 1
# $MirOS: src/usr.sbin/vnconfig/Makefile,v 1.2 2006/02/21 23:42:54 tg Exp $
d8 1
@


1.2
log
@implement support for external keyfile, but differently
from what Markus Popp suggested, using PEM encoded secrets
encrypted with arbitrary algorithms (like RSA private keys)
@
text
@d1 1
a1 1
# $MirOS$
d4 11
a14 4
PROG=	vnconfig
MAN=	vnconfig.8
DPADD=	${LIBUTIL} ${LIBCRYPTO}
LDADD=	-lutil -lcrypto
@


1.1
log
@Initial revision
@
text
@d1 2
a2 1
#	$OpenBSD: Makefile,v 1.3 1997/09/21 11:44:35 deraadt Exp $
d6 2
a7 2
DPADD=	${LIBUTIL}
LDADD=	-lutil
@


1.1.1.1
log
@Import the OpenBSD foundation of MirOS BSD
@
text
@@
