head	1.30;
access;
symbols
	lynx-2_8_8dev_16:1.1.109.25
	lynx-2_8_8dev_15e:1.1.109.24
	lynx-2_8_8dev_15:1.1.109.23
	lynx-2_8_8dev_14:1.1.109.22
	lynx-2_8_8dev_12:1.1.109.21
	lynx-2_8_8dev_11:1.1.109.20
	lynx-2_8_8dev_10a:1.1.109.19
	lynx-2_8_8dev_7a:1.1.109.17
	lynx-2_8_8dev_7:1.1.109.17
	lynx-2_8_7rel_1:1.1.109.16
	lynx-2_8_7dev_12:1.1.109.15
	lynx-2_8_7dev_11a:1.1.109.14
	MIRBSD_10:1.18.0.2
	MIRBSD_10_BASE:1.18
	lynx-2_8_7dev_8:1.1.109.13
	lynx-2_8_7dev_7:1.1.109.12
	lynx-2_8_7dev_5:1.1.109.11
	lynx-2_8_7dev_2:1.1.109.10
	lynx-2_8_6pre_5:1.1.109.9
	lynx-2_8_6pre_4:1.1.109.8
	lynx-2_8_6pre_3:1.1.109.7
	MIRBSD_9_BASE:1.10
	lynx-2_8_6dev_18c:1.1.109.6
	lynx-2_8_6dev_18:1.1.109.5
	MIRBSD_8:1.5.0.2
	MIRBSD_8_BASE:1.5
	lynx-2_8_6dev_16:1.1.109.4
	lynx:1.1.109;
locks; strict;
comment	@# @;


1.30
date	2013.08.06.20.42.53;	author tg;	state Exp;
branches;
next	1.29;
commitid	10052015FDA30F39400;

1.29
date	2013.05.18.14.59.30;	author tg;	state Exp;
branches;
next	1.28;
commitid	1005197975F6A2B23A5;

1.28
date	2012.12.31.21.19.40;	author tg;	state Exp;
branches;
next	1.27;
commitid	10050E2017B122CED3C;

1.27
date	2012.08.23.18.36.02;	author tg;	state Exp;
branches;
next	1.26;
commitid	1005036781D23C1E744;

1.26
date	2012.03.03.18.41.29;	author tg;	state Exp;
branches;
next	1.25;
commitid	1004F5265E717A6953D;

1.25
date	2012.02.20.02.54.31;	author tg;	state Exp;
branches;
next	1.24;
commitid	1004F41B5FA50E82A6E;

1.24
date	2012.02.19.19.37.49;	author tg;	state Exp;
branches;
next	1.23;
commitid	1004F414F917991F461;

1.23
date	2011.12.18.04.53.29;	author tg;	state Exp;
branches;
next	1.22;
commitid	1004EED71D23F6FA4F2;

1.22
date	2010.12.19.19.22.20;	author tg;	state Exp;
branches;
next	1.21;
commitid	1004D0E5B7B7150A62A;

1.21
date	2009.08.09.15.09.54;	author tg;	state Exp;
branches;
next	1.20;
commitid	1004A7EE6D4601C9EC9;

1.20
date	2009.01.18.19.40.51;	author tg;	state Exp;
branches;
next	1.19;
commitid	100497385D57954483F;

1.19
date	2008.12.16.23.27.05;	author tg;	state Exp;
branches;
next	1.18;
commitid	1004948395D7D988D96;

1.18
date	2008.03.09.18.19.38;	author tg;	state Exp;
branches;
next	1.17;
commitid	10047D42A4E0C2308F6;

1.17
date	2007.08.03.15.20.21;	author tg;	state Exp;
branches;
next	1.16;
commitid	10046B347BE53E79AC8;

1.16
date	2007.05.20.09.43.20;	author tg;	state Exp;
branches;
next	1.15;
commitid	1004650182E2FFFB588;

1.15
date	2006.11.10.20.19.25;	author tg;	state Exp;
branches;
next	1.14;
commitid	1004554DEE07ED10095;

1.14
date	2006.10.02.23.12.14;	author tg;	state Exp;
branches;
next	1.13;
commitid	10045219CDF7E09CCE1;

1.13
date	2006.09.20.22.03.14;	author tg;	state Exp;
branches;
next	1.12;
commitid	1004511BAB13A15D124;

1.12
date	2006.09.13.19.18.32;	author tg;	state Exp;
branches;
next	1.11;
commitid	1004508599C49FD4FBA;

1.11
date	2006.06.30.20.58.57;	author tg;	state Exp;
branches;
next	1.10;
commitid	10044A590916A489828;

1.10
date	2006.06.15.19.36.59;	author tg;	state Exp;
branches;
next	1.9;
commitid	1004491B6ED1834657C;

1.9
date	2006.06.02.19.32.50;	author tg;	state Exp;
branches;
next	1.8;
commitid	1004480926F0D407628;

1.8
date	2006.02.01.14.42.27;	author tg;	state Exp;
branches;
next	1.7;
commitid	10043E0C8D97363D035;

1.7
date	2006.01.31.19.21.56;	author tg;	state Exp;
branches;
next	1.6;
commitid	10043DFB8EB1F9185AA;

1.6
date	2006.01.31.19.18.15;	author tg;	state Exp;
branches;
next	1.5;
commitid	10043DFB80911D53D40;

1.5
date	2005.12.19.23.56.59;	author tg;	state Exp;
branches;
next	1.4;
commitid	10043A748DE6DD64E1F;

1.4
date	2005.10.21.21.42.31;	author tg;	state Exp;
branches;
next	1.3;
commitid	7eea435960d851d7;

1.3
date	2005.06.22.11.15.43;	author tg;	state Exp;
branches;
next	1.2;
commitid	a6342b948710d62;

1.2
date	2005.03.27.22.42.31;	author tg;	state Exp;
branches;
next	1.1;

1.1
date	2005.03.27.22.11.53;	author tg;	state Exp;
branches
	1.1.109.1;
next	;

1.1.109.1
date	2005.03.27.22.11.53;	author tg;	state Exp;
branches;
next	1.1.109.2;

1.1.109.2
date	2005.06.22.11.11.38;	author tg;	state Exp;
branches;
next	1.1.109.3;
commitid	408242b94777c7d4;

1.1.109.3
date	2005.10.21.21.33.44;	author tg;	state Exp;
branches;
next	1.1.109.4;
commitid	2f9543595ec47e83;

1.1.109.4
date	2005.12.19.23.10.37;	author tg;	state Exp;
branches;
next	1.1.109.5;
commitid	10043A73DF946372F3D;

1.1.109.5
date	2006.06.02.19.16.44;	author tg;	state Exp;
branches;
next	1.1.109.6;
commitid	10044808E727319C3F7;

1.1.109.6
date	2006.06.15.19.33.34;	author tg;	state Exp;
branches;
next	1.1.109.7;
commitid	1004491B61C19ABA389;

1.1.109.7
date	2006.09.13.19.11.21;	author tg;	state Exp;
branches;
next	1.1.109.8;
commitid	100450857B406EB1869;

1.1.109.8
date	2006.09.20.21.51.36;	author tg;	state Exp;
branches;
next	1.1.109.9;
commitid	1004511B7EF6E3BA055;

1.1.109.9
date	2006.10.02.22.55.49;	author tg;	state Exp;
branches;
next	1.1.109.10;
commitid	100452198D23E36C6DC;

1.1.109.10
date	2006.11.10.20.04.53;	author tg;	state Exp;
branches;
next	1.1.109.11;
commitid	1004554DB4E3D3CA612;

1.1.109.11
date	2007.05.19.22.29.28;	author tg;	state Exp;
branches;
next	1.1.109.12;
commitid	100464F7A1519624932;

1.1.109.12
date	2007.08.03.15.10.21;	author tg;	state Exp;
branches;
next	1.1.109.13;
commitid	10046B3450C0C128495;

1.1.109.13
date	2008.03.09.17.32.13;	author tg;	state Exp;
branches;
next	1.1.109.14;
commitid	10047D41E626DF0F5D0;

1.1.109.14
date	2008.12.16.23.13.03;	author tg;	state Exp;
branches;
next	1.1.109.15;
commitid	100494835F965A87026;

1.1.109.15
date	2009.01.18.19.31.23;	author tg;	state Exp;
branches;
next	1.1.109.16;
commitid	1004973839C3B701938;

1.1.109.16
date	2009.08.09.14.37.47;	author tg;	state Exp;
branches;
next	1.1.109.17;
commitid	1004A7EDF4952738297;

1.1.109.17
date	2010.12.19.18.12.39;	author tg;	state Exp;
branches;
next	1.1.109.18;
commitid	1004D0E4B24304015D1;

1.1.109.18
date	2011.12.18.04.50.12;	author tg;	state Exp;
branches;
next	1.1.109.19;
commitid	1004EED71133F1D38BA;

1.1.109.19
date	2012.02.19.18.28.07;	author tg;	state Exp;
branches;
next	1.1.109.20;
commitid	1004F413EF328BF0E26;

1.1.109.20
date	2012.02.20.02.48.46;	author tg;	state Exp;
branches;
next	1.1.109.21;
commitid	1004F41B47B3CD46F18;

1.1.109.21
date	2012.03.03.17.34.06;	author tg;	state Exp;
branches;
next	1.1.109.22;
commitid	1004F52560E10C1B66B;

1.1.109.22
date	2012.08.23.17.47.35;	author tg;	state Exp;
branches;
next	1.1.109.23;
commitid	10050366CBF479FD80F;

1.1.109.23
date	2012.12.31.21.09.33;	author tg;	state Exp;
branches;
next	1.1.109.24;
commitid	10050E1FF02228195F0;

1.1.109.24
date	2013.05.18.14.43.54;	author tg;	state Exp;
branches;
next	1.1.109.25;
commitid	100519793BB3FCC7E2F;

1.1.109.25
date	2013.08.06.20.31.28;	author tg;	state Exp;
branches;
next	;
commitid	10052015D37118B3894;


desc
@@


1.30
log
@fastmerge
@
text
@dnl $LynxId: configure.in,v 1.247 2013/05/01 08:54:16 tom Exp $
dnl
dnl Process this file with autoconf to produce a configure script.
dnl
dnl created jan/1997
dnl by T.E.Dickey <dickey@@invisible-island.net>
dnl and Jim Spath <jspath@@mail.bcpl.lib.md.us>
dnl
dnl ---------------------------------------------------------------------------
dnl Copyright 1997-2012,2013 by Thomas E. Dickey
dnl 
dnl Permission to use, copy, modify, and distribute this software and its
dnl documentation for any purpose and without fee is hereby granted,
dnl provided that the above copyright notice appear in all copies and that
dnl both that copyright notice and this permission notice appear in
dnl supporting documentation, and that the name of the above listed
dnl copyright holder(s) not be used in advertising or publicity pertaining
dnl to distribution of the software without specific, written prior
dnl permission.
dnl 
dnl THE ABOVE LISTED COPYRIGHT HOLDER(S) DISCLAIM ALL WARRANTIES WITH REGARD
dnl TO THIS SOFTWARE, INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
dnl AND FITNESS, IN NO EVENT SHALL THE ABOVE LISTED COPYRIGHT HOLDER(S) BE
dnl LIABLE FOR ANY SPECIAL, INDIRECT OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
dnl WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
dnl ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
dnl OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
dnl ---------------------------------------------------------------------------
dnl
dnl ask PRCS to plug-in the project-version for the configure-script.
dnl $Format: "AC_REVISION($ProjectVersion$)"$
AC_REVISION(2.8.8dev.16)

# Save the original $CFLAGS so we can distinguish whether the user set those
# in the environment, or whether autoconf added -O and -g options:
ORIGINAL_CFLAGS="$CFLAGS"

# For autoconf 2.13, make sure we have no cache file at the beginning of this
# script.  That fixes problems with tests whose cached values change from one
# run to the next, as well as with tests that are order-dependent.
rm -f config.cache

AC_PREREQ(2.13.20020210)
AC_INIT(userdefs.h)

# autoconf 2.5x defaults to no cache file; we need the cache file's information
# for building the config page.  But start with it empty to avoid confusion by
# people who don't do a "make distclean" after applying patches.
cache_file=config.cache
rm -f config.cache; touch config.cache

CONFIG_H=lynx_cfg.h
AC_CONFIG_HEADER($CONFIG_H:config.hin)
AC_SUBST(CONFIG_H)

CF_CHECK_CACHE([AC_CANONICAL_SYSTEM])
AC_ARG_WITH(system-type,
[  --with-system-type=XXX  test: override derived host system-type],
[AC_MSG_WARN(overriding system type $host_os to $withval)
 host_os=$withval])

AC_ARG_PROGRAM

PACKAGE=lynx
dnl ask PRCS to plug-in the project-version for the packages.
# $Format: "VERSION=$ProjectVersion$"$
VERSION=2.8.8dev.16

AC_SUBST(PACKAGE)
AC_SUBST(VERSION)

AC_MSG_CHECKING(for DESTDIR)
CF_WITH_PATH(destdir,
[  --with-destdir=XXX      set DESTDIR destination for install],
DESTDIR,
[$DESTDIR],
[$DESTDIR])
AC_MSG_RESULT($DESTDIR)

AC_PREFIX_DEFAULT(/usr/local)

dnl --------------------------------------------------------------------------
dnl Checks for location of programs
dnl --------------------------------------------------------------------------

dnl Only add to this case statement when a system has a compiler that is not
dnl detected by AC_PROG_CC. 
case $host_os in
openedition)
	: ${CFLAGS="-D_ALL_SOURCE -Wl,EDIT=NO"}
	: ${CC=c89}
	;;
esac

CF_PROG_CC
AC_PROG_CPP
AC_PROG_LN_S
case $host_os in
mingw*)
LN_S="cp -p"
AC_MSG_RESULT(Override: No symbolic links in mingw.)
	;;
*)
	;;
esac
AC_PROG_MAKE_SET
AC_PROG_INSTALL
AC_PROG_YACC
CF_PROG_LINT
CF_MAKEFLAGS
CF_MAKE_TAGS

CF_ACVERSION_CHECK(2.52,
	[AC_PATH_TOOL(WINDRES, windres, none)],
	[AC_PATH_PROG(WINDRES, windres, none)])

CF_BUILD_CC([#],[])

CF_PROG_RANLIB
CF_AR_FLAGS

dnl --------------------------------------------------------------------------
dnl Debug/development/test
dnl --------------------------------------------------------------------------

CF_HELP_MESSAGE(
Development Options:)

CF_DISABLE_ECHO

# special case for WWW/*
if test -n "$ECHO_CC" ; then
	DONT_ECHO_CC="$SHOW_CC ;"
else
	DONT_ECHO_CC=''
fi
AC_SUBST(DONT_ECHO_CC)

AC_MSG_CHECKING(if you want to check memory-leaks)
CF_ARG_ENABLE(find-leaks,
	[  --enable-find-leaks     logic for testing memory leaks],
	[with_leak_checks=yes],
	[with_leak_checks=no])
AC_MSG_RESULT($with_leak_checks)
test "$with_leak_checks" = "yes" && AC_DEFINE(LY_FIND_LEAKS,1,[Define to 1 if you want to check memory-leaks])

# The comment about adding -g to $CFLAGS is unclear.  Autoconf tries to add
# a -g flag; we remove it if the user's $CFLAGS was not set and debugging is
# disabled.
AC_MSG_CHECKING(if you want to enable debug-code)
CF_ARG_ENABLE(debug,
	[  --enable-debug          compile w/ debugging (if \$CFLAGS is set, add -g there, too)],
	[with_debug=yes],
	[with_debug=no])
AC_MSG_RESULT($with_debug)
if test "$with_debug" = "yes" ; then
	case $host_os in
	ultrix*|osf*)
		test -z "$ORIGINAL_CFLAGS" && CF_STRIP_O_OPT(CFLAGS)
		if test -z "$GCC" ; then
			CFLAGS="$CFLAGS -g3"
		fi
		;;
	esac
else
	case $host_os in
	osf*) #(vi
		test -z "$GCC" && CFLAGS="$CFLAGS -std1"
		test -z "$ORIGINAL_CFLAGS" && CF_STRIP_G_OPT(CFLAGS)
		;;
	*)
		test -z "$ORIGINAL_CFLAGS" && CF_STRIP_G_OPT(CFLAGS)
		;;
	esac
fi

AC_MSG_CHECKING(if you want to enable lynx trace code *recommended* )
CF_ARG_DISABLE(trace,
	[  --disable-trace         disable logic for trace code],
	[with_trace=$enableval],
	[with_trace=yes])
AC_MSG_RESULT($with_trace)
test $with_trace = no && AC_DEFINE(NO_LYNX_TRACE,1,[Define to 1 if you want to enable lynx trace code])

AC_MSG_CHECKING(if you want verbose trace code)
CF_ARG_ENABLE(vertrace,
	[  --enable-vertrace       verbose trace code],
	[with_vertrace=yes],
	[with_vertrace=no])
AC_MSG_RESULT($with_vertrace)
test $with_vertrace = yes && AC_DEFINE(LY_TRACELINE,__LINE__,[Define to __LINE__ if you want verbose trace code])

if test -n "$GCC"
then
AC_MSG_CHECKING(if you want to turn on gcc warnings)
CF_ARG_ENABLE(warnings,
	[  --enable-warnings       GCC compiler warnings],
	[with_warnings=yes],
	[with_warnings=no])
AC_MSG_RESULT($with_warnings)
if test "$with_warnings" = "yes"
then
	CF_GCC_ATTRIBUTES
	CF_GCC_WARNINGS(Wno-cast-qual Wno-cast-align)
fi
fi

CF_WITH_DBMALLOC
CF_WITH_DMALLOC

dnl --------------------------------------------------------------------------
dnl Checks for compiler & standard-library characteristics
dnl --------------------------------------------------------------------------

dnl If we're able to run this script, this is true!
AC_DEFINE(UNIX,1,[Define to 1 if we can run a configure script])

dnl Only add to this case statement things that we cannot design tests for.
TRY_CFLAGS=
case $host_os in
aix4*)
	TRY_CFLAGS="$TRY_CFLAGS -DAIX4 -D_BSD=44 -D_AIX"
	LIBS="$LIBS -lbsd"
	;;
aix*)
	TRY_CFLAGS="$TRY_CFLAGS -D_ACS_COMPAT_CODE"
	LIBS="$LIBS -lbsd"
	;;
apollo*)
	TRY_CFLAGS="$TRY_CFLAGS -D_BUILTINS -W0,-opt,4"
	;;
bsdi*)
	TRY_CFLAGS="$TRY_CFLAGS -DBSDI"
	;;
clix*)
	# Tested on CLIX 3.1 (T.Dickey).  The original makefile entry
	# contributed by Alex Matulich (matuli_a@@marlin.navsea.navy.mil) also
	# references -lmalloc and -lbsd.
	AC_CHECK_LIB(c_s,strcmp)
	;;
convex*)
	TRY_CFLAGS="$TRY_CFLAGS -D__STDC__ -Dunix"
	;;
cygwin*)
	TRY_CFLAGS="$TRY_CFLAGS -DWIN_EX -D_WINDOWS_NSL"
	LIBS="$LIBS -luser32"
	;;
dgux*)
	TRY_CFLAGS="$TRY_CFLAGS -DDGUX"
	;;
hpux*)
	TRY_CFLAGS="$TRY_CFLAGS -DSNAKE -D_XOPEN_SOURCE_EXTENDED"
	test -z "$GCC" && TRY_CFLAGS="$TRY_CFLAGS -Wp,-H600000 -DSYS_HPUX"
	;;
isc*)
	# -DPOSIX_JC is necessary, else LYBookmark.c never finds out what a mode_t is.
	TRY_CFLAGS="$TRY_CFLAGS -DISC -DPOSIX_JC"
	LIBS="$LIBS -linet -lnsl_s -lcposix"
	;;
irix6.*) #(vi
	TRY_CFLAGS="$TRY_CFLAGS -DSYS_IRIX64"
	;;
irix*)
	# The original makefile used the $CFLAGS option -cckr for some form
	# of K&R compatibility.  However, this causes compilation warnings for
	# varargs on IRIX 5.2, and does not appear to be needed.
	;;
linux*)
	TRY_CFLAGS="$TRY_CFLAGS -DLINUX"
	;;
mingw*)
	# put these directly in CPPFLAGS since they will not work in lynx_cfg.h
	CF_ADD_CFLAGS(\
		-DWIN32_LEAN_AND_MEAN \
		-DDOSPATH \
		-DNOSIGHUP \
		-DNOUSERS \
		-DWIN_EX \
		-D_CONSOLE \
		-D_MBCS \
		-D_WINDOWS \
		-D_WIN_CC \
		-D__WIN32__ \
	)
	EXTRA_OBJS="$EXTRA_OBJS Xsystem\$o"
	;;
msdosdjgpp*)
	LIBS="$LIBS -lwatt"
	TRY_CFLAGS="$TRY_CFLAGS -DDOSPATH -DNOUSERS"
	;;
next*)
	TRY_CFLAGS="$TRY_CFLAGS -DNEXT"
	;;
openbsd* | ekkobsd* | mirbsd*)
	LIBS="$LIBS -lcompat"
	;;
osf4*)
	# The -Olimit flag (see below) is no longer available with
	# Digital C 5.2, which is bundled with Digital UNIX 4.0.
	TRY_CFLAGS="$TRY_CFLAGS -DDSYS5 -DSYS_TRU64"
	;;
osf*)
	# Increase the maximum size of functions that will be optimized.
	test -z "$GCC" && TRY_CFLAGS="$TRY_CFLAGS -O -Olimit 4000"
	TRY_CFLAGS="$TRY_CFLAGS -DDSYS5 -DSYS_TRU64"
	;;
sco3.2v5*)
	test $ac_cv_prog_gcc != yes && TRY_CFLAGS="$TRY_CFLAGS -belf"
	;;
sco*)
	LIBS="$LIBS -lmalloc"
	# It's a little late to do much, but try to warn user if he's using
	# SCO's cc (which is reported to have broken const/volatile).
	case "$CC" in #(vi
	cc|*/cc)
		AC_MSG_WARN(You should consider using gcc or rcc if available)
		unset ac_cv_prog_CC
		AC_CHECK_PROGS(CC,gcc rcc,$CC)
		;;
	esac
	;;
sequent-ptx)
	TRY_CFLAGS="$TRY_CFLAGS -DSVR4_BSDSELECT -DNO_IOCTL -DUSE_FCNTL"
	;;
sequent-ptx2)
	TRY_CFLAGS="$TRY_CFLAGS -DSVR4_BSDSELECT"
	;;
sony-newsos*)
	TRY_CFLAGS="$TRY_CFLAGS -I/usr/sony/include"
	AC_CHECK_HEADERS(jcurses.h)
	;;
svr4)
	TRY_CFLAGS="$TRY_CFLAGS -DSVR4_BSDSELECT -DSVR4"
	;;
sunos3*)
	TRY_CFLAGS="$TRY_CFLAGS -DSUN"
	;;
sunos4*)
	TRY_CFLAGS="$TRY_CFLAGS -DSUN -DSUN4"
	;;
ultrix*)
	# Increase the maximum size of functions that will be optimized.
	test -z "$GCC" && TRY_CFLAGS="$TRY_CFLAGS -O -Olimit 600 -G 7"
	TRY_CFLAGS="$TRY_CFLAGS -DULTRIX"
	AC_CHECK_HEADERS(cursesX.h,
		[AC_DEFINE(HAVE_CURSESX_H,1,[Define to 1 if we have cursesX.h])
		 cf_cv_ncurses_header=cursesX.h])
	;;
esac

case $host_os in
mingw*)
	EXTRA_OBJS="$EXTRA_OBJS LYIcon\$o"
	;;
esac

CF_ANSI_CC_REQD

dnl --------------------------------------------------------------------------
dnl --------------------------------------------------------------------------

CF_HELP_MESSAGE(
Basic Configuration Options:)

CF_LARGEFILE

dnl --------------------------------------------------------------------------
dnl internationalization macros
dnl --------------------------------------------------------------------------

dnl Set of available languages (based on source distribution)
if test -z "$ALL_LINGUAS" ; then
	ALL_LINGUAS=`test -d $srcdir/po && cd $srcdir/po && echo *.po|sed -e 's/\.po//g' -e 's/*//'`
	AM_PATH_PROG_WITH_TEST(MSGINIT, msginit,
		[$ac_dir/$ac_word --no-translator --version /dev/null >/dev/null 2>&1], :)
	if test "$MSGINIT" != ":" ; then
		CF_VERBOSE(adding en.po)
		ALL_LINGUAS="$ALL_LINGUAS en"
	fi
fi

CF_BUNDLED_INTL(makefile,disable)

INTLDIR_CPPFLAGS="#"
if test -z "$INTLDIR_MAKE" ; then
	INTLDIR_CPPFLAGS=
fi

AC_SUBST(INTLDIR_CPPFLAGS)

CF_WITH_PATH(nls-datadir,
[  --with-nls-datadir=DIR  NLS data, parent of locale],
NLS_DATADIR,
[PREFIX/DATADIR],
[$prefix/$DATADIRNAME])

dnl --------------------------------------------------------------------------
AC_MSG_CHECKING(if you want full utility pathnames)
CF_ARG_DISABLE(full-paths,
	[  --disable-full-paths    control whether full utility pathnames are used],
	[with_full_paths=no],
	[with_full_paths=yes])
AC_MSG_RESULT($with_full_paths)
test $with_full_paths = no && AC_DEFINE(USE_EXECVP,1,[Define to 1 if you want full utility pathnames])

CF_DEFINE_PROG(system mailer, SYSTEM_MAIL,
	/usr/mmdf/bin/submit \
	/usr/sbin/sendmail \
	/usr/lib/sendmail  \
	)
CF_SYSTEM_MAIL_FLAGS
if test -n "$SYSTEM_MAIL" ; then
if test $with_full_paths = no ; then
	SYSTEM_MAIL=`basename $SYSTEM_MAIL`
fi
fi

dnl --------------------------------------------------------------------------
CF_XOPEN_SOURCE(500,199506L)
CF_SIGWINCH

dnl Collect tests for compiler options into one place
if test -n "$TRY_CFLAGS" ; then
	CF_CHECK_CFLAGS($TRY_CFLAGS)
fi

dnl --------------------------------------------------------------------------
dnl Checks for library configuration (added right-to-left)
dnl --------------------------------------------------------------------------

### Look for network libraries first, since some functions (such as gethostname)
### are used in a lot of places.
AC_CACHE_CHECK(if you want NSS compatible SSL libraries,cf_cv_use_libnss_compat,[
AC_ARG_WITH(nss-compat,
	[  --with-nss-compat{=path}       link with nss_compat library if available],
	[cf_cv_use_libnss_compat=$withval],
	[cf_cv_use_libnss_compat=no])
])

AC_CACHE_CHECK(if you want ssl library,cf_cv_use_libssl,[
AC_ARG_WITH(ssl,
	[  --with-ssl{=path}       link with ssl library if available],
	[cf_cv_use_libssl=$withval],
	[cf_cv_use_libssl=no])
])

AC_CACHE_CHECK(if you want gnutls support,cf_cv_use_libgnutls,[
AC_ARG_WITH(gnutls,
	[  --with-gnutls{=path}    link with gnutls support],
	[cf_cv_use_libgnutls=$withval],
	[cf_cv_use_libgnutls=no])
])

# this option is mainly for comparing with/without Lynx' wrapper for GNUTLS.
AC_CACHE_CHECK(if you want gnutls-openssl compat,cf_cv_gnutls_compat,[
AC_ARG_ENABLE(gnutls-compat,
	[  --enable-gnutls-compat  link with gnutls-openssl compat],
	[cf_cv_gnutls_compat=$enableval],
	[cf_cv_gnutls_compat=no])
])

AC_CACHE_CHECK(if you want socks library,cf_cv_use_libsocks,[
AC_ARG_WITH(socks,
	[  --with-socks{=path}     link with socks library if available],
	[cf_cv_use_libsocks=$withval],
	[cf_cv_use_libsocks=no])
])

AC_CACHE_CHECK(if you want socks5 library,cf_cv_use_libsocks5,[
AC_ARG_WITH(socks5,
	[  --with-socks5{=path}    link with socks5 library if available],
	[cf_cv_use_libsocks5=$withval],
	[cf_cv_use_libsocks5=no])
])

if test "x$cf_cv_use_libsocks" != xno ; then
	CF_SOCKS($cf_cv_use_libsocks)
elif test "x$cf_cv_use_libsocks5" != xno ; then
	CF_SOCKS5($cf_cv_use_libsocks5)
else
	CF_NETLIBS
fi

CF_INET_ADDR

CF_PKG_CONFIG

if test "x$cf_cv_use_libssl"  != xno ; then
	CF_SSL($cf_cv_use_libssl)
elif test "x$cf_cv_use_libgnutls" != xno ; then
    if test "x$cf_cv_gnutls_compat" = xno ; then
        CF_GNUTLS($cf_cv_use_libgnutls,tidy_tls\$o)
		AC_CHECK_FUNCS(gnutls_priority_set_direct)
    else
        CF_GNUTLS($cf_cv_use_libgnutls)
    fi
elif test "x$cf_cv_use_libnss_compat"  != xno ; then
	CF_NSS_COMPAT($cf_cv_use_libnss_compat)
fi

dnl --------------------------------------------------------------------------
### check for ipv6 support
AC_MSG_CHECKING([whether to enable ipv6])
CF_ARG_ENABLE(ipv6,
[  --enable-ipv6           use ipv6 (with ipv4) support],
	[AC_DEFINE(ENABLE_IPV6,1,[Define to 1 if we should enable ipv6])])
AC_MSG_RESULT($enableval)
if test "$enableval" = "yes"; then
	CF_CHECK_IPV6
fi
dnl AC_REPLACE_FUNCS(getaddrinfo getnameinfo)

dnl --------------------------------------------------------------------------
dnl This has to be cached, since there's a lot of interdependent tests.
AC_CACHE_CHECK(for screen type, cf_cv_screen,[
AC_ARG_WITH(screen,
[  --with-screen=XXX       select screen type (XXX is curses (default),
                          ncurses, ncursesw, pdcurses or slang)],
	[
case $withval in
curses|ncurses|ncursesw|pdcurses|slang)
	cf_cv_screen=$withval
	;;
*)	AC_ERROR(Unexpected value)
	;;
esac],
	[cf_cv_screen=curses])])

case $cf_cv_screen in
curses|ncurses*)
	CF_WITH_CURSES_DIR
	;;
esac

cf_wide_curses=no
dft_color_style=yes
case $cf_cv_screen in
curses)
	CF_CURSES_CONFIG
	CF_CURS_PERFORMANCE
	CF_CURS_TOUCHLINE
	;;
ncurses)
	CF_NCURSES_CONFIG
	;;
ncursesw)
	CF_UTF8_LIB
	CF_NCURSES_CONFIG(ncursesw)
	cf_wide_curses=yes
	;;
pdcurses)
	cf_cv_ncurses_header=xcurses.h
	# do this last, since it changes definition of main: CF_PDCURSES_X11
	;;
slang)
	CF_SLANG_UNIX_DEFS
	dft_color_style=no
	;;
esac

CF_CURSES_CHTYPE

AC_MSG_CHECKING(if you want the wide-curses features)
CF_ARG_ENABLE(widec, 
[  --enable-widec          enable wide-curses features], 
	[use_wide_curses=$enableval],
	[use_wide_curses=$cf_wide_curses])
AC_MSG_RESULT($use_wide_curses)

AC_MSG_CHECKING(if color-style code should be used)
CF_ARG_DISABLE(color-style,
[  --disable-color-style   use color style (ncurses/curses)],
	[use_color_style=$enableval],
	[use_color_style=$dft_color_style])

case $use_color_style in
no)
	AC_MSG_RESULT(no)
	INSTALL_LSS=
	;;
*)
	AC_DEFINE(USE_COLOR_STYLE,1,[Define to 1 if we should enable color-style])
	AC_MSG_RESULT(yes)

	AC_MSG_CHECKING(for location of style-sheet file)

CF_WITH_PATH(lss-file,
[  --with-lss-file{=path}  specify the default style-sheet file
                         ],
LYNX_LSS_FILE,
SYSCONFDIR/lynx.lss,
$sysconfdir/lynx.lss)

	AC_MSG_RESULT($LYNX_LSS_FILE)

	test "$LYNX_LSS_FILE" = no && LYNX_LSS_FILE=
	AC_DEFINE_UNQUOTED(LYNX_LSS_FILE,"$LYNX_LSS_FILE",[Define to default path for Lynx lss-file])

	INSTALL_LSS=install-lss
	;;
esac
AC_SUBST(INSTALL_LSS)

dnl --------------------------------------------------------------------------

AC_MSG_CHECKING(for the default configuration-file)

CF_WITH_PATH(cfg-file,
[  --with-cfg-file{=path}  specify the default configuration file
                         ],
LYNX_CFG_FILE,
SYSCONFDIR/lynx.cfg,
$sysconfdir/lynx.cfg)

dnl --------------------------------------------------------------------------

AC_MSG_RESULT($LYNX_CFG_FILE)

test "$LYNX_CFG_FILE" = no && LYNX_CFG_FILE=
AC_DEFINE_UNQUOTED(LYNX_CFG_FILE,"$LYNX_CFG_FILE",[Define to default path for Lynx cfg-file])

dnl --------------------------------------------------------------------------
AC_MSG_CHECKING(if htmlized lynx.cfg should be built)
CF_ARG_ENABLE(htmlized-cfg,
[  --enable-htmlized-cfg   build htmlized lynx.cfg],
	[use_htmlized_cfg=$enableval],
	[use_htmlized_cfg=no])
AC_MSG_RESULT($use_htmlized_cfg)

LYNXCFG_MAKE=''
if test $use_htmlized_cfg = no ; then
	LYNXCFG_MAKE='#'
fi
AC_SUBST(LYNXCFG_MAKE)

dnl --------------------------------------------------------------------------
AC_MSG_CHECKING(if local doc directory should be linked to help page)
CF_ARG_ENABLE(local-docs,
[  --enable-local-docs     link local doc-directory to help-page],
	[use_local_docs=$enableval],
	[use_local_docs=no])
AC_MSG_RESULT($use_local_docs)

LYNXDOC_MAKE=''
if test $use_local_docs = no ; then
	LYNXDOC_MAKE='#'
fi
AC_SUBST(LYNXDOC_MAKE)

dnl --------------------------------------------------------------------------

AC_MSG_CHECKING(for MIME library directory)
CF_WITH_PATH(mime-libdir,
[  --with-mime-libdir=DIR  MIME data, mime.types and mailcap],
MIME_LIBDIR,
[/etc])
AC_MSG_RESULT($MIME_LIBDIR)
MIME_LIBDIR=`echo "$MIME_LIBDIR" | sed -e 's,/$,,' -e 's,$,/,'`
AC_DEFINE_UNQUOTED(MIME_LIBDIR,"$MIME_LIBDIR",[Define to default path for MIME library])

dnl --------------------------------------------------------------------------
AC_MSG_CHECKING(if locale-charset selection logic should be used)
CF_ARG_ENABLE(locale-charset,
[  --enable-locale-charset use locale-charset selection logic],
	[use_locale_charset=$enableval],
	[use_locale_charset=yes])
AC_MSG_RESULT($use_locale_charset)
test $use_locale_charset != no && AC_DEFINE(USE_LOCALE_CHARSET,1,[Define to 1 if locale-charset selection logic should be used])

dnl --------------------------------------------------------------------------
dnl Check for subsets of compiled-in tables.
dnl --------------------------------------------------------------------------
CHARSET_DEFS=
AC_SUBST(CHARSET_DEFS)

AC_MSG_CHECKING(if you want only a few charsets)
AC_ARG_WITH(charsets,
[  --with-charsets=list    limit charsets to given list of MIME names],
[cf_charsets=$withval],
[cf_charsets=])

if test -n "$cf_charsets" ; then
	AC_MSG_RESULT(yes)
	AC_DEFINE(ALL_CHARSETS,0,[Define to 0 if xxx])
	cf_min_charsets=us-ascii,iso-8859-1,utf-8
	if test "$cf_charsets" = "no" ; then
		cf_charsets=minimal
	fi
	if test "$cf_charsets" = "minimal" ; then
		CF_VERBOSE(using minimal list of charsets: $cf_min_charsets)
	fi
	cf_charsets=`echo $cf_charsets | sed -e "s/minimal/$cf_min_charsets/g" -e 's/,/ /g'`
	for cf_charset in $cf_charsets
	do
		cf_def_charset=`echo $cf_charset | sed -e 's/+/_/g' -e 's/-/_/g'`
		cf_use_charset=no
		# check charsets that are defined via .tbl files
		if ( egrep '^M'$cf_charset'$' $srcdir/src/chrtrans/*.tbl 2>/dev/null >/dev/null )
		then
			cf_use_charset=yes
		# check charsets that are "built-in"
		else
			for cf_tst_charset in big5 euc_cn euc_jp euc_kr shift_jis x_transparent
			do
				if test "$cf_tst_charset" = "$cf_def_charset"
				then
					cf_use_charset=yes
					break
				fi
			done
		fi
		if test $cf_use_charset=yes
		then
			CF_VERBOSE(found $cf_charset)
			CHARSET_DEFS="-DNO_CHARSET_${cf_def_charset}=0 $CHARSET_DEFS"
		else
			CF_VERBOSE(not found $cf_charset)
		fi
	done
else
	AC_MSG_RESULT(no)
fi

dnl --------------------------------------------------------------------------
dnl Checks for standard headers
dnl --------------------------------------------------------------------------

AC_HEADER_STDC
AC_HEADER_TIME
AC_HEADER_DIRENT
dnl Don't check for sys/wait.h here since it is covered by another test.
AC_CHECK_HEADERS( \
	arpa/inet.h \
	fcntl.h \
	limits.h \
	stdlib.h \
	string.h \
	sys/fcntl.h \
	sys/filio.h \
	sys/ioctl.h \
	sys/param.h \
	sys/timeb.h \
	sys/time.h \
	syslog.h \
	termio.h \
	termios.h \
	unistd.h \
	vfork.h \
)
CF_TERMIO_AND_TERMIOS
CF_FUNC_SIGACTION
CF_FUNC_WAIT
AC_TYPE_GETGROUPS
AC_TYPE_OFF_T
AC_TYPE_PID_T
AC_TYPE_UID_T
AC_TYPE_MODE_T
CF_CHECK_TYPE(ssize_t, int)
CF_CHECK_TYPE(socklen_t, int, [
#include <sys/types.h>
#include <sys/socket.h>
])
CF_TYPE_LONG_LONG
CF_TM_GMTOFF

CF_CHECK_SIZEOF(int,4)
CF_CHECK_SIZEOF(long,4)
CF_CHECK_SIZEOF(off_t,4)
CF_CHECK_SIZEOF(time_t,4)
AC_CHECK_TYPE(intptr_t, long)

dnl --------------------------------------------------------------------------
dnl Checks for library units
dnl --------------------------------------------------------------------------

AC_FUNC_ALLOCA
AC_FUNC_VFORK
CF_FIONBIO
CF_REMOVE_BROKEN
CF_FUNC_LSTAT
AC_CHECK_FUNCS( \
	atoll \
	ctermid \
	cuserid \
	ftime \
	getcwd \
	getgroups \
	gettimeofday \
	getuid \
	mktemp \
	mkdtemp \
	popen \
	putenv \
	readdir \
	setuid \
	strerror \
	truncate \
	ttyname \
	unsetenv \
	usleep \
	vasprintf \
	waitpid \
)
AC_REPLACE_FUNCS( \
	mktime \
	strstr \
)

CF_SRAND(lynx_)
CF_CHECK_FUNCDECLS([#include <string.h>], strstr)
CF_CHECK_FUNCDECLS([
#include <stdio.h>
#include <grp.h>], getgrgid getgrnam)

dnl --------------------------------------------------------------------------
dnl Checks for external-data
dnl --------------------------------------------------------------------------

CF_BOOL_DEFS
CF_ERRNO
CF_SET_ERRNO
CF_LOCALE
CF_NGROUPS
CF_SYS_ERRLIST
CF_UTMP
CF_CHECK_EXTERN_DATA(h_errno,int)

AC_SUBST(EXTRA_OBJS)

dnl --------------------------------------------------------------------------
dnl Experimental options that don't need to test system features
dnl --------------------------------------------------------------------------

CF_HELP_MESSAGE(
Experimental Options:)

dnl --------------------------------------------------------------------------
AC_MSG_CHECKING(if bibp: URLs should be supported)
CF_ARG_DISABLE(bibp-urls,
[  --disable-bibp-urls     disable support for bibp: URLs],
	[use_bibp_urls=$enableval],
	[use_bibp_urls=yes])
AC_MSG_RESULT($use_bibp_urls)
test $use_bibp_urls = no && AC_DEFINE(DISABLE_BIBP,1,[Define to 1 if bibp: URLs should be supported])

dnl --------------------------------------------------------------------------
AC_MSG_CHECKING(if configuration info should be browsable)
CF_ARG_DISABLE(config-info,
[  --disable-config-info   disable browsable configuration-info],
	[use_config_info=$enableval],
	[use_config_info=yes])
AC_MSG_RESULT($use_config_info)
test $use_config_info = no && AC_DEFINE(NO_CONFIG_INFO,1,[Define to 1 if configuration info should be browsable])

dnl --------------------------------------------------------------------------
AC_MSG_CHECKING(if new-style forms-based options screen should be used)
CF_ARG_DISABLE(forms-options,
[  --disable-forms-options disable forms-based options],
	[use_forms_options=$enableval],
	[use_forms_options=yes])
AC_MSG_RESULT($use_forms_options)
test $use_forms_options = no && AC_DEFINE(NO_OPTION_FORMS,1,[Define to 1 if new-style forms-based options screen should be used])

dnl --------------------------------------------------------------------------
AC_MSG_CHECKING(if old-style options menu should be used)
CF_ARG_DISABLE(menu-options,
[  --disable-menu-options  disable old-style option menu],
	[use_menu_options=$enableval],
	[use_menu_options=yes])
AC_MSG_RESULT($use_menu_options)
test $use_menu_options = no && AC_DEFINE(NO_OPTION_MENU,1,[Define to 1 if old-style options menu should be used])

dnl --------------------------------------------------------------------------
AC_MSG_CHECKING(if sessions code should be used)
CF_ARG_DISABLE(sessions,
[  --disable-sessions      use sessions code],
	[use_sessions=$enableval],
	[use_sessions=yes])
AC_MSG_RESULT($use_sessions)
if test $use_sessions != no ; then
	AC_DEFINE(USE_SESSIONS,1,[Define to 1 if sessions code should be used])
	EXTRA_OBJS="$EXTRA_OBJS LYSession\$o"
fi

dnl --------------------------------------------------------------------------
AC_MSG_CHECKING(if session-caching code should be used)
CF_ARG_DISABLE(session-cache,
[  --disable-session-cache use session-caching code],
	[use_session_cache=$enableval],
	[use_session_cache=yes])
AC_MSG_RESULT($use_session_cache)
if test $use_session_cache != no ; then
    AC_DEFINE(USE_CACHEJAR,1,[Define to 1 if session-caching code should be used])
fi

dnl --------------------------------------------------------------------------
AC_MSG_CHECKING(if address-list page should be used)
CF_ARG_DISABLE(addrlist-page,
[  --disable-addrlist-page disable address-list page],
	[use_addrlist_page=$enableval],
	[use_addrlist_page=yes])
AC_MSG_RESULT($use_addrlist_page)
test $use_addrlist_page != no && AC_DEFINE(USE_ADDRLIST_PAGE,1,[Define to 1 if address-list page should be used])

dnl --------------------------------------------------------------------------
AC_MSG_CHECKING(if experimental CJK logic should be used)
CF_ARG_ENABLE(cjk,
[  --enable-cjk            use experimental CJK logic],
	[use_cjk=$enableval],
	[use_cjk=no])
AC_MSG_RESULT($use_cjk)
test $use_cjk != no && AC_DEFINE(CJK_EX,1,[Define to 1 if experimental CJK logic should be used])

dnl --------------------------------------------------------------------------
AC_MSG_CHECKING(if experimental Japanese UTF-8 logic should be used)
CF_ARG_ENABLE(japanese-utf8,
[  --enable-japanese-utf8  use experimental Japanese UTF-8 logic],
	[use_ja_utf8=$enableval],
	[use_ja_utf8=no])
AC_MSG_RESULT($use_ja_utf8)
if test $use_ja_utf8 != no ; then
	AC_DEFINE(EXP_JAPANESEUTF8_SUPPORT,1,[Define to 1 if experimental Japanese UTF-8 logic should be used])
	AM_ICONV
	if test "$USE_NLS" != yes ; then
	  LIBS="$LIBICONV $LIBS"
	fi
fi

use_dft_colors=no
case $cf_cv_screen in
curses|slang|ncurses*)
	use_dft_colors=maybe
	;;
esac

dnl --------------------------------------------------------------------------
if test "$use_dft_colors" != no ; then
AC_MSG_CHECKING(if you want to use default-colors)
CF_ARG_ENABLE(default-colors,
[  --enable-default-colors enable use of default-colors (ncurses/slang)],
	[use_dft_colors=yes],
	[use_dft_colors=no])
AC_MSG_RESULT($use_dft_colors)
test $use_dft_colors = "yes" && AC_DEFINE(USE_DEFAULT_COLORS,1,[Define to 1 if you want to use default-colors])
fi

dnl --------------------------------------------------------------------------
AC_MSG_CHECKING(if experimental keyboard-layout logic should be used)
CF_ARG_ENABLE(kbd-layout,
[  --enable-kbd-layout     use experimental keyboard-layout support],
	[use_kbd_layout=$enableval],
	[use_kbd_layout=no])
AC_MSG_RESULT($use_kbd_layout)
test $use_kbd_layout != no && AC_DEFINE(EXP_KEYBOARD_LAYOUT,1,[Define to 1 if experimental keyboard-layout logic should be used])

dnl --------------------------------------------------------------------------
AC_MSG_CHECKING(if experimental nested-table logic should be used)
CF_ARG_ENABLE(nested-tables,
[  --enable-nested-tables  use experimental nested-table support],
	[use_nested_tables=$enableval],
	[use_nested_tables=no])
AC_MSG_RESULT($use_nested_tables)
test $use_nested_tables != no && AC_DEFINE(EXP_NESTED_TABLES,1,[Define to 1 if experimental nested-table logic should be used])

dnl --------------------------------------------------------------------------
dnl Miscellaneous options that don't need to test system features
dnl --------------------------------------------------------------------------

CF_HELP_MESSAGE(
Miscellaneous Options:)

dnl --------------------------------------------------------------------------
AC_MSG_CHECKING(if alternative line-edit bindings should be used)
CF_ARG_ENABLE(alt-bindings,
[  --disable-alt-bindings  disable alternative line-edit bindings],
	[use_alt_bindings=$enableval],
	[use_alt_bindings=yes])
AC_MSG_RESULT($use_alt_bindings)
test $use_alt_bindings != no && AC_DEFINE(USE_ALT_BINDINGS,1,[Define to 1 if alternative line-edit bindings should be used])

dnl --------------------------------------------------------------------------
AC_MSG_CHECKING(if ascii case-conversion should be used)
CF_ARG_DISABLE(ascii-ctypes,
[  --disable-ascii-ctypes  disable use of ascii case-conversion],
	[use_ascii_ctypes=$enableval],
	[use_ascii_ctypes=yes])
AC_MSG_RESULT($use_ascii_ctypes)
test $use_ascii_ctypes != no && AC_DEFINE(USE_ASCII_CTYPES,1,[Define to 1 if ascii case-conversion should be used])

dnl --------------------------------------------------------------------------
AC_MSG_CHECKING(if you want to use extended HTML DTD logic)
CF_ARG_DISABLE(extended-dtd,
[  --disable-extended-dtd  disable extended HTML DTD logic],
	[use_ext_htmldtd=no],
	[use_ext_htmldtd=yes])
AC_MSG_RESULT($use_ext_htmldtd)
test $use_ext_htmldtd = "no" && AC_DEFINE(NO_EXTENDED_HTMLDTD,1,[Define to 1 if you want to use extended HTML DTD logic])

dnl --------------------------------------------------------------------------
AC_MSG_CHECKING(if file-upload logic should be used)
CF_ARG_DISABLE(file-upload,
[  --disable-file-upload   disable file-upload support],
	[use_file_upload=$enableval],
	[use_file_upload=yes])
AC_MSG_RESULT($use_file_upload)
test $use_file_upload != no && AC_DEFINE(USE_FILE_UPLOAD,1,[Define to 1 if file-upload logic should be used])

dnl --------------------------------------------------------------------------
AC_MSG_CHECKING(if IDNA support should be used)
CF_ARG_DISABLE(idna,
[  --disable-idna          disable IDNA support],
	[use_idna=$enableval],
	[use_idna=yes])
AC_MSG_RESULT($use_idna)

if test "$use_idna" = yes ; then
	CF_WITH_IDNA($use_idna)
fi

dnl --------------------------------------------------------------------------
AC_MSG_CHECKING(if element-justification logic should be used)
CF_ARG_DISABLE(justify-elts,
[  --disable-justify-elts  disable element-justification logic],
	[use_justify_elts=$enableval],
	[use_justify_elts=yes])
AC_MSG_RESULT($use_justify_elts)
test $use_justify_elts != no && AC_DEFINE(USE_JUSTIFY_ELTS,1,[Define to 1 if element-justification logic should be used])

dnl --------------------------------------------------------------------------
AC_MSG_CHECKING(if partial-display should be used)
CF_ARG_DISABLE(partial,
[  --disable-partial       disable partial-display logic],
	[use_partial_display=$enableval],
	[use_partial_display=yes])
AC_MSG_RESULT($use_partial_display)
test $use_partial_display != no && AC_DEFINE(DISP_PARTIAL,1,[Define to 1 if partial-display should be used])

dnl --------------------------------------------------------------------------
AC_MSG_CHECKING(if persistent-cookie logic should be used)
CF_ARG_DISABLE(persistent-cookies,
[  --disable-persistent-cookies  disable persistent-cookie support],
	[use_filed_cookies=$enableval],
	[use_filed_cookies=yes])
AC_MSG_RESULT($use_filed_cookies)
test $use_filed_cookies != no && AC_DEFINE(USE_PERSISTENT_COOKIES,1,[Define to 1 if persistent-cookie logic should be used])

dnl --------------------------------------------------------------------------
AC_MSG_CHECKING(if html source should be colorized)
CF_ARG_DISABLE(prettysrc,
[  --disable-prettysrc     disable colorization of HTML source],
	[use_prettysrc=$enableval],
	[use_prettysrc=yes])
AC_MSG_RESULT($use_prettysrc)
test $use_prettysrc != no && AC_DEFINE(USE_PRETTYSRC,1,[Define to 1 if html source should be colorized])

dnl --------------------------------------------------------------------------
AC_MSG_CHECKING(if progress-bar code should be used)
CF_ARG_DISABLE(progressbar,
[  --disable-progressbar   disable progress-bar],
	[use_progressbar=$enableval],
	[use_progressbar=yes])
AC_MSG_RESULT($use_progressbar)
test $use_progressbar != no && AC_DEFINE(USE_PROGRESSBAR,1,[Define to 1 if progress-bar code should be used])

dnl --------------------------------------------------------------------------
AC_MSG_CHECKING(if read-progress message should show ETA)
CF_ARG_DISABLE(read-eta,
[  --disable-read-eta      disable read-progress message shows ETA],
	[use_read_eta=$enableval],
	[use_read_eta=yes])
AC_MSG_RESULT($use_read_eta)
test $use_read_eta != no && AC_DEFINE(USE_READPROGRESS,1,[Define to 1 if read-progress message should show ETA])

dnl --------------------------------------------------------------------------
AC_MSG_CHECKING(if source caching should be used)
CF_ARG_DISABLE(source-cache,
[  --disable-source-cache  do not cache HTML source for parse mode changes],
	[use_source_cache=$enableval],
	[use_source_cache=yes])
AC_MSG_RESULT($use_source_cache)
test $use_source_cache != no && AC_DEFINE(USE_SOURCE_CACHE,1,[Define to 1 if source caching should be used])

dnl --------------------------------------------------------------------------
AC_MSG_CHECKING(if scrollbar code should be used)
CF_ARG_DISABLE(scrollbar,
[  --disable-scrollbar     disable scrollbar with mouse],
	[use_scrollbar=$enableval],
	[use_scrollbar=yes])
AC_MSG_RESULT($use_scrollbar)

dnl --------------------------------------------------------------------------
AC_MSG_CHECKING(if charset-selection logic should be used)
CF_ARG_ENABLE(charset-choice,
[  --enable-charset-choice use charset-selection logic],
	[use_charset_choice=$enableval],
	[use_charset_choice=no])
AC_MSG_RESULT($use_charset_choice)
test $use_charset_choice != no && AC_DEFINE(USE_CHARSET_CHOICE,1,[Define to 1 if charset-selection logic should be used])

dnl --------------------------------------------------------------------------
AC_MSG_CHECKING(if you want to use external commands)
CF_ARG_ENABLE(externs,
[  --enable-externs        use external commands],
	[use_externs=yes],
	[use_externs=no])
AC_MSG_RESULT($use_externs)
if test $use_externs != "no" ; then
	AC_DEFINE(USE_EXTERNALS,1,[Define to 1 if you want to use external commands])
	EXTRA_OBJS="$EXTRA_OBJS LYExtern\$o"
fi

dnl --------------------------------------------------------------------------
AC_MSG_CHECKING(if you want to use setfont support)
CF_ARG_ENABLE(font-switch,
[  --enable-font-switch    use Linux setfont for character-translation],
	[use_setfont=yes],
	[use_setfont=no])
AC_MSG_RESULT($use_setfont)
if test $use_setfont = yes ; then
	case $host_os in
	linux*)
		CF_PATH_PROG(SETFONT, consolechars, setfont)
		;;
	os2*)
		SETFONT=built-in
		CF_VERBOSE(Assume $host_os has font-switching)
		;;
	*)
		SETFONT=unknown
		CF_VERBOSE(Assume $host_os has no font-switching)
		;;
	esac
	if test -z "$SETFONT" ; then
		AC_MSG_WARN(Cannot find a font-setting program)
	elif test "$SETFONT" != unknown ; then
		AC_DEFINE(EXP_CHARTRANS_AUTOSWITCH,1,[Define to 1 if you want to use setfont support])
	fi
fi

dnl --------------------------------------------------------------------------
AC_MSG_CHECKING(if you want cgi-link support)
CF_ARG_ENABLE(cgi-links,
[  --enable-cgi-links      support cgi links w/o a http daemon],
	[AC_DEFINE(LYNXCGI_LINKS,1,[Define to 1 if you want cgi-link support])])
AC_MSG_RESULT($enableval)

dnl --------------------------------------------------------------------------
AC_MSG_CHECKING(if you want change-exec support)
CF_ARG_ENABLE(change-exec,
[  --enable-change-exec    allow users to change exec options],
	[use_change_exec=yes],
	[use_change_exec=no])
AC_MSG_RESULT($use_change_exec)
test $use_change_exec = yes && AC_DEFINE(ENABLE_OPTS_CHANGE_EXEC,1,[Define to 1 if you want change-exec support])

dnl --------------------------------------------------------------------------
AC_MSG_CHECKING(if you want exec-links support)
CF_ARG_OPTION(exec-links,
[  --enable-exec-links     allow lynx to execute programs accessed via a link],
	[use_exec_links=$enableval],
	[use_exec_links=$enableval],
	[$use_change_exec])
AC_MSG_RESULT($use_exec_links)
test $use_exec_links = yes && AC_DEFINE(EXEC_LINKS,1,[Define to 1 if you want exec-links support])

dnl --------------------------------------------------------------------------
AC_MSG_CHECKING(if you want exec-scripts support)
CF_ARG_OPTION(exec-scripts,
[  --enable-exec-scripts   allow lynx to execute programs inferred from a link],
	[use_exec_scripts=$enableval],
	[use_exec_scripts=$enableval],
	[$use_change_exec])
AC_MSG_RESULT($use_exec_scripts)
test $use_exec_scripts = yes && AC_DEFINE(EXEC_SCRIPTS,1,[Define to 1 if you want exec-scripts support])

dnl --------------------------------------------------------------------------
AC_MSG_CHECKING(if you want internal-links feature)
CF_ARG_ENABLE(internal-links,
[  --enable-internal-links handle following links to same doc differently],
	[use_internal_links=yes],
	[use_internal_links=no])
AC_MSG_RESULT($use_internal_links)
test $use_internal_links = yes && AC_DEFINE(TRACK_INTERNAL_LINKS,1,[Define to 1 if you want internal-links feature])

dnl --------------------------------------------------------------------------
AC_MSG_CHECKING(if you want to fork NSL requests)
CF_ARG_ENABLE(nsl-fork,
[  --enable-nsl-fork       fork NSL requests, allowing them to be aborted],
	[use_nsl_fork=yes],
	[use_nsl_fork=no])
AC_MSG_RESULT($use_nsl_fork)
if test $use_nsl_fork = yes ; then
	case $host_os in
	mingw*)
		AC_DEFINE(_WINDOWS_NSL,1,[Define to 1 if we want NSL-fork with Windows])
		;;
	*)
		AC_DEFINE(NSL_FORK,1,[Define to 1 if we want NSL-fork])
		;;
	esac
fi

dnl --------------------------------------------------------------------------
AC_MSG_CHECKING(if you want to log URL requests via syslog)
CF_ARG_ENABLE(syslog,
[  --enable-syslog         log URL requests via syslog],
	[use_syslog=yes],
	[use_syslog=no])
AC_MSG_RESULT($use_syslog)
test $use_syslog = yes && AC_DEFINE(SYSLOG_REQUESTED_URLS,1,[Define to 1 if you want to log URL requests via syslog])

dnl --------------------------------------------------------------------------
AC_MSG_CHECKING(if you want to underline links)
CF_ARG_ENABLE(underlines,
[  --enable-underlines     underline links rather than using boldface],
	[use_underline=yes],
	[use_underline=no])
AC_MSG_RESULT($use_underline)
test $use_underline = yes && AC_DEFINE(UNDERLINE_LINKS,1,[Define to 1 if xxx])
test $use_underline = no  && AC_DEFINE(UNDERLINE_LINKS,0,[Define to 0 if xxx])

dnl --------------------------------------------------------------------------
AC_MSG_CHECKING(if help files should be gzip'ed)
CF_ARG_ENABLE(gzip-help,
[  --enable-gzip-help      install gzip'ed help files],
	[use_gzip_help=$enableval],
	[use_gzip_help=no])
AC_MSG_RESULT($use_gzip_help)

dnl --------------------------------------------------------------------------
AC_MSG_CHECKING(if you want to use libbz2 for decompression of some bzip2 files)
AC_ARG_WITH(bzlib,
[  --with-bzlib            use libbz2 for decompression of some bzip2 files],
	[use_bzlib=$withval],
	[use_bzlib=no])
AC_MSG_RESULT($use_bzlib)

if test ".$use_bzlib" != ".no" ; then
	CF_WITH_BZLIB($use_bzlib)
	test "x$cf_cv_find_linkage_bz2" = "xyes" && AC_DEFINE(USE_BZLIB,1,[Define to 1 if you want to use libbz2 for decompression of some bzip2 files])
fi

dnl --------------------------------------------------------------------------
AC_MSG_CHECKING(if you want to use zlib for decompression of some gzip files)
AC_ARG_WITH(zlib,
[  --with-zlib             use zlib for decompression of some gzip files],
	[use_zlib=$withval],
	[use_zlib=no])
AC_MSG_RESULT($use_zlib)

if test ".$use_zlib" != ".no" ; then
	CF_WITH_ZLIB($use_zlib)
	test "x$cf_cv_find_linkage_z" = "xyes" && AC_DEFINE(USE_ZLIB,1,[Define to 1 if you want to use zlib for decompression of some gzip files])
fi

dnl --------------------------------------------------------------------------
CF_HELP_MESSAGE(
Other Network Services:)

dnl --------------------------------------------------------------------------
AC_MSG_CHECKING(if you want to exclude FINGER code)
CF_ARG_DISABLE(finger,
[  --disable-finger        disable FINGER logic],
	[use_finger=yes],
	[use_finger=no])
AC_MSG_RESULT($use_finger)
test $use_finger != "no" && AC_DEFINE(DISABLE_FINGER,1,[Define to 1 if you want to exclude FINGER code])

dnl --------------------------------------------------------------------------
AC_MSG_CHECKING(if you want to exclude GOPHER code)
CF_ARG_DISABLE(gopher,
[  --disable-gopher        disable GOPHER logic],
	[use_gopher=yes],
	[use_gopher=no])
AC_MSG_RESULT($use_gopher)
test $use_gopher != "no" && AC_DEFINE(DISABLE_GOPHER,1,[Define to 1 if you want to exclude GOPHER code])

dnl --------------------------------------------------------------------------
AC_MSG_CHECKING(if you want to exclude NEWS code)
CF_ARG_DISABLE(news,
[  --disable-news          disable NEWS logic],
      [use_news=yes],
      [use_news=no])
AC_MSG_RESULT($use_news)
test $use_news != "no" && AC_DEFINE(DISABLE_NEWS,1,[Define to 1 if you want to exclude NEWS code])

dnl --------------------------------------------------------------------------
AC_MSG_CHECKING(if you want to exclude FTP code)
CF_ARG_DISABLE(ftp,
[  --disable-ftp           disable FTP logic],
      [use_ftp=yes],
      [use_ftp=no])
AC_MSG_RESULT($use_ftp)
test $use_ftp != "no" && AC_DEFINE(DISABLE_FTP,1,[Define to 1 if you want to exclude FTP code])

dnl --------------------------------------------------------------------------
AC_MSG_CHECKING(if you want to include WAIS code)
CF_ARG_ENABLE(wais,
[  --enable-wais           enable WAIS logic],
      [use_wais=yes],
      [use_wais=no])
AC_MSG_RESULT($use_wais)

MAKE_WAIS="#"
if test $use_wais != "no"
then
	AC_CHECK_LIB(wais,fs_free,[
		CF_MATH_LIB
		CF_ADD_LIB(wais)
		AC_CHECK_HEADERS(wais.h)
		MAKE_WAIS=
		],[AC_MSG_WARN(could not find WAIS library)])
fi
AC_SUBST(MAKE_WAIS)

dnl --------------------------------------------------------------------------
dnl DirEd (directory-editor) options
dnl --------------------------------------------------------------------------

CF_HELP_MESSAGE(
Directory Editor Options:)

# All DirEd functions that were enabled on compilation can be disabled
# or modified at run time via DIRED_MENU symbols in lynx.cfg.
AC_MSG_CHECKING(if directory-editor code should be used)
CF_ARG_DISABLE(dired,
[  --disable-dired          disable optional directory-editor, DirEd],
	[use_dired=$enableval],
	[use_dired=yes])
AC_MSG_RESULT($use_dired)

if test ".$use_dired" != ".no" ; then
	EXTRA_OBJS="$EXTRA_OBJS LYLocal\$o"
	AC_DEFINE(DIRED_SUPPORT,1,[Define to 1 if we want dired support])

	AC_MSG_CHECKING(if you wish to allow extracting from archives via DirEd)
	CF_ARG_DISABLE(dired-dearchive,
	[  --disable-dired-dearchive disable dearchiving commands],[AC_DEFINE(ARCHIVE_ONLY,1,[Define to 1 if you wish to allow extracting from archives via DirEd])])
	AC_MSG_RESULT($enableval)

	AC_MSG_CHECKING(if DirEd mode should override keys)
	CF_ARG_DISABLE(dired-override,
	[  --disable-dired-override disable DirEd override keymap],,[AC_DEFINE(OK_OVERRIDE,1,[Define to 1 if DirEd mode should override keys])])
	AC_MSG_RESULT($enableval)

	AC_MSG_CHECKING(if you wish to allow permissions commands via DirEd)
	CF_ARG_DISABLE(dired-permit,
	[  --disable-dired-permit  disable chmod/attrib commands],,[AC_DEFINE(OK_PERMIT,1,[Define to 1 if you wish to allow permissions commands via DirEd])])
	AC_MSG_RESULT($enableval)

	AC_MSG_CHECKING(if you wish to allow executable-permission commands via DirEd)
	CF_ARG_DISABLE(dired-xpermit,
	[  --disable-dired-xpermit disable chmod/attrib commands],[AC_DEFINE(NO_CHANGE_EXECUTE_PERMS,1,[Define to 1 if you wish to allow executable-permission commands via DirEd])])
	AC_MSG_RESULT($enableval)

	AC_MSG_CHECKING(if you wish to allow "tar" commands from DirEd)
	CF_ARG_DISABLE(dired-tar,
	[  --disable-dired-tar     disable "tar" command],,[AC_DEFINE(OK_TAR,1,[Define to 1 if if you wish to allow "tar" commands from DirEd])])
	AC_MSG_RESULT($enableval)

	AC_MSG_CHECKING(if you wish to allow "uudecode" commands from DirEd)
	CF_ARG_DISABLE(dired-uudecode,
	[  --disable-dired-uudecode disable "uudecode" command],,[AC_DEFINE(OK_UUDECODE,1,[Define to 1 if you wish to allow "uudecode" commands from DirEd])])
	AC_MSG_RESULT($enableval)

	AC_MSG_CHECKING(if you wish to allow "zip" and "unzip" commands from DirEd)
	CF_ARG_DISABLE(dired-zip,
	[  --disable-dired-zip     disable "zip", "unzip"  commands],,[AC_DEFINE(OK_ZIP,1,[Define to 1 if you wish to allow "zip" and "unzip" commands from DirEd])])
	AC_MSG_RESULT($enableval)

	AC_MSG_CHECKING(if you wish to allow "gzip" and "gunzip" commands from DirEd)
	CF_ARG_DISABLE(dired-gzip,
	[  --disable-dired-gzip    disable "gzip", "gunzip" commands],,[AC_DEFINE(OK_GZIP,1,[Define to 1 if you wish to allow "gzip" and "gunzip" commands from DirEd])])
	AC_MSG_RESULT($enableval)
fi

dnl --------------------------------------------------------------------------
AC_MSG_CHECKING(if you want long-directory listings)
CF_ARG_DISABLE(long-list,
[  --disable-long-list     disable long "ls -l" directory listings],,
	[AC_DEFINE(LONG_LIST,1,[Define to 1 if you want long-directory listings])])
AC_MSG_RESULT($enableval)

dnl --------------------------------------------------------------------------
AC_MSG_CHECKING(if parent-directory references are permitted)
CF_ARG_DISABLE(parent-dir-refs,
[  --disable-parent-dir-refs
                          disable "Up-to" links in directory listings],
	[AC_DEFINE(NO_PARENT_DIR_REFERENCE,1,[Define to 1 if parent-directory references are permitted])])
AC_MSG_RESULT($enableval)

dnl --------------------------------------------------------------------------
CF_PATH_PROG(TELNET,	telnet)
CF_PATH_PROG(TN3270,	tn3270)
CF_PATH_PROG(RLOGIN,	rlogin)

CF_PATH_PROG(MV,	mv)

CF_PATH_PROG(GZIP,	gzip)
CF_PATH_PROG(UNCOMPRESS,gunzip)
CF_PATH_PROG(UNZIP,	unzip)
CF_PATH_PROG(BZIP2,	bzip2)

CF_PATH_PROG(TAR,	tar, pax gtar gnutar bsdtar star)
CF_TAR_OPTIONS($TAR)
AC_DEFINE_UNQUOTED(TAR_UP_OPTIONS,   "$TAR_UP_OPTIONS",[Define to command for tar'ing up files])
AC_DEFINE_UNQUOTED(TAR_DOWN_OPTIONS, "$TAR_DOWN_OPTIONS",[Define to command for untar'ing files])
AC_DEFINE_UNQUOTED(TAR_FILE_OPTIONS, "$TAR_FILE_OPTIONS",[Define to options for tar to work with files])
AC_DEFINE_UNQUOTED(TAR_PIPE_OPTIONS, "$TAR_PIPE_OPTIONS",[Define to options for tar to work with pipes])

dnl --------------------------------------------------------------------------
dnl Test features that rely on configure-definitions
dnl --------------------------------------------------------------------------
if test ".$use_dired" != ".no" ; then

CF_PATH_PROG(COMPRESS,	compress)
CF_PATH_PROG(RM,	rm)
CF_PATH_PROG(UUDECODE,	uudecode)
CF_PATH_PROG(ZCAT,	zcat)
CF_PATH_PROG(ZIP,	zip)

dnl 'INSTALL' is a special case, since the configure script has to find a
dnl BSD-compatible one so the build/install works properly.
case "$INSTALL" in
$srcdir*) # (vi
	AC_DEFINE_UNQUOTED(INSTALL_PATH,"install")
	;;
*) # (vi
	cf_save_INSTALL="$INSTALL"
	CF_PATH_PROG(INSTALL,	install)
	INSTALL="$cf_save_INSTALL"
	;;
esac
fi

COMPRESS_PROG=
COMPRESS_EXT=
if test $use_gzip_help = yes ; then
	COMPRESS_PROG="$ac_cv_path_GZIP -9"
	COMPRESS_EXT=.gz
fi
AC_SUBST(COMPRESS_PROG)
AC_SUBST(COMPRESS_EXT)

if test $cf_cv_screen = pdcurses ; then
	CF_HELP_MESSAGE(Special Libraries for PDCurses X11:)
	CF_PDCURSES_X11
else
	CF_TERMIO_AND_CURSES(LYCurses.h)
fi

### These tests must be run after establishing the curses library.
if test $cf_cv_screen != slang ; then
	AC_CHECK_HEADERS($cf_cv_screen/term.h term.h)
	CF_ALT_CHAR_SET
	CF_FANCY_CURSES
	CF_FUNC_CURSES_VERSION
	CF_NCURSES_BROKEN
	CF_COLOR_CURSES
	CF_SIZECHANGE
	CF_TTYTYPE
	if test "$use_wide_curses" = yes ; then
		CF_WIDEC_CURSES
	fi
	CF_CURSES_FUNCS( \
		assume_default_colors \
		cbreak \
		define_key \
		delscreen \
		getattrs \
		getbegx \
		getbegy \
		keypad \
		napms \
		newpad \
		newterm \
		pnoutrefresh \
		resizeterm \
		touchline \
		touchwin \
		use_default_colors \
		use_legacy_coding \
		wattr_get \
		wborder \
		wredrawln \
		wresize \
		)
	AC_CHECK_FUNCS( \
		_nc_free_and_exit \
		_nc_freeall \
		)
fi

if test $use_color_style != no ; then
	if test .$cf_cv_color_curses != .yes ; then
		AC_ERROR(Configuration does not support color-styles)
	fi
	if test $cf_cv_screen = slang ; then
		AC_ERROR(Configuration does not support color-styles)
	fi
fi

if test $use_scrollbar != no ; then
	if test .$cf_cv_fancy_curses != .yes ; then
		AC_MSG_WARN(Configuration does not support ACS_xxx definitions)
	else
		AC_DEFINE(USE_SCROLLBAR,1,[Define to 1 if configuration supports ACS_xxx definitions])
	fi
fi

# use rpath for libraries in unusual places
CF_DISABLE_RPATH_HACK

### Finally, build config.h and the makefiles
test -z "$CONFIG_SHELL" && CONFIG_SHELL=/bin/sh
AC_SUBST(CONFIG_SHELL)

CFLAGS="$CFLAGS $EXTRA_CFLAGS"
srcdir="$srcdir"
SRCDIR_CLEAN="#"
if test -n "$srcdir" ; then
	echo srcdir is $srcdir
	mkdir -p WWW/Library/Implementation
	mkdir -p src/chrtrans
	test "$USE_INCLUDED_LIBINTL" = yes && mkdir -p intl
	test "$srcdir" != "." && SRCDIR_CLEAN=""
fi

AC_SUBST(SRCDIR_CLEAN)
AC_OUTPUT(
	[makefile \
	WWW/Library/Implementation/makefile \
	src/makefile \
	src/chrtrans/makefile \
	$SUB_MAKEFILE
	],[
	if test "$USE_NLS" = yes ; then
	if test "$use_our_messages" = yes ; then
		echo creating po/makefile
		rm -f	po/temp$$
		sed	-e 's%^.*LYMessages.c%	../LYMessages.c%' \
			-e '$s/\\//' po/POTFILES >po/temp$$
		sed	-e "/POTFILES =/r po/temp$$" \
			po/makefile.in > po/makefile
		rm -f	po/temp$$
	fi
	fi
	],[
	USE_NLS=$USE_NLS
	use_our_messages=$use_our_messages
	]
)
@


1.29
log
@fastmerge
@
text
@d32 1
a32 1
AC_REVISION(2.8.8dev.15e)
d67 1
a67 1
VERSION=2.8.8dev.15e
@


1.28
log
@fastmerge
@
text
@d1 1
a1 1
dnl $LynxId: configure.in,v 1.244 2012/11/09 10:28:16 tom Exp $
d10 1
a10 1
dnl Copyright 1997-2010,2011 by Thomas E. Dickey
d32 1
a32 1
AC_REVISION(2.8.8dev.15)
d67 1
a67 1
VERSION=2.8.8dev.15
d770 1
d1183 1
a1183 1
test $use_internal_links = no && AC_DEFINE(DONT_TRACK_INTERNAL_LINKS,1,[Define to 1 if you want internal-links feature])
@


1.27
log
@fastmerge
@
text
@d1 1
a1 1
dnl $LynxId: configure.in,v 1.239 2012/08/10 15:31:34 tom Exp $
d32 1
a32 1
AC_REVISION(2.8.8dev.14)
d67 1
a67 1
VERSION=2.8.8dev.14
d95 1
a95 1
AC_PROG_CC
a116 3
AC_AIX
AC_ISC_POSIX

d145 1
a145 1
test "$with_leak_checks" = "yes" && AC_DEFINE(LY_FIND_LEAKS)
d183 1
a183 1
test $with_trace = no && AC_DEFINE(NO_LYNX_TRACE)
d191 1
a191 1
test $with_vertrace = yes && AC_DEFINE(LY_TRACELINE,__LINE__)
d216 1
a216 3
AC_DEFINE(UNIX)

AC_C_CONST
a218 1
CF_PROG_EXT
d346 1
a346 1
		[AC_DEFINE(HAVE_CURSESX_H)
d404 1
a404 1
test $with_full_paths = no && AC_DEFINE(USE_EXECVP)
d506 1
a506 1
	[AC_DEFINE(ENABLE_IPV6)])
d582 1
a582 1
	AC_DEFINE(USE_COLOR_STYLE)
d597 1
a597 1
	AC_DEFINE_UNQUOTED(LYNX_LSS_FILE,"$LYNX_LSS_FILE")
d620 1
a620 1
AC_DEFINE_UNQUOTED(LYNX_CFG_FILE,"$LYNX_CFG_FILE")
d659 1
a659 1
AC_DEFINE_UNQUOTED(MIME_LIBDIR,"$MIME_LIBDIR")
d668 1
a668 1
test $use_locale_charset != no && AC_DEFINE(USE_LOCALE_CHARSET)
d684 1
a684 1
	AC_DEFINE(ALL_CHARSETS,0)
d843 1
a843 1
test $use_bibp_urls = no && AC_DEFINE(DISABLE_BIBP)
d852 1
a852 1
test $use_config_info = no && AC_DEFINE(NO_CONFIG_INFO)
d861 1
a861 1
test $use_forms_options = no && AC_DEFINE(NO_OPTION_FORMS)
d870 1
a870 1
test $use_menu_options = no && AC_DEFINE(NO_OPTION_MENU)
d880 1
a880 1
	AC_DEFINE(USE_SESSIONS)
d892 1
a892 1
    AC_DEFINE(USE_CACHEJAR)
d902 1
a902 1
test $use_addrlist_page != no && AC_DEFINE(USE_ADDRLIST_PAGE)
d911 1
a911 1
test $use_cjk != no && AC_DEFINE(CJK_EX)
d921 1
a921 1
	AC_DEFINE(EXP_JAPANESEUTF8_SUPPORT)
d943 1
a943 1
test $use_dft_colors = "yes" && AC_DEFINE(USE_DEFAULT_COLORS)
d953 1
a953 1
test $use_kbd_layout != no && AC_DEFINE(EXP_KEYBOARD_LAYOUT)
d962 1
a962 1
test $use_nested_tables != no && AC_DEFINE(EXP_NESTED_TABLES)
d978 1
a978 1
test $use_alt_bindings != no && AC_DEFINE(USE_ALT_BINDINGS)
d987 1
a987 1
test $use_ascii_ctypes != no && AC_DEFINE(USE_ASCII_CTYPES)
d996 1
a996 1
test $use_ext_htmldtd = "no" && AC_DEFINE(NO_EXTENDED_HTMLDTD)
d1005 1
a1005 1
test $use_file_upload != no && AC_DEFINE(USE_FILE_UPLOAD)
d1026 1
a1026 1
test $use_justify_elts != no && AC_DEFINE(USE_JUSTIFY_ELTS)
d1035 1
a1035 1
test $use_partial_display != no && AC_DEFINE(DISP_PARTIAL)
d1044 1
a1044 1
test $use_filed_cookies != no && AC_DEFINE(USE_PERSISTENT_COOKIES)
d1053 1
a1053 1
test $use_prettysrc != no && AC_DEFINE(USE_PRETTYSRC)
d1062 1
a1062 1
test $use_progressbar != no && AC_DEFINE(USE_PROGRESSBAR)
d1071 1
a1071 1
test $use_read_eta != no && AC_DEFINE(USE_READPROGRESS)
d1080 1
a1080 1
test $use_source_cache != no && AC_DEFINE(USE_SOURCE_CACHE)
d1097 1
a1097 1
test $use_charset_choice != no && AC_DEFINE(USE_CHARSET_CHOICE)
d1107 1
a1107 1
	AC_DEFINE(USE_EXTERNALS)
d1135 1
a1135 1
		AC_DEFINE(EXP_CHARTRANS_AUTOSWITCH)
d1143 1
a1143 1
	[AC_DEFINE(LYNXCGI_LINKS)])
d1153 1
a1153 1
test $use_change_exec = yes && AC_DEFINE(ENABLE_OPTS_CHANGE_EXEC)
d1163 1
a1163 1
test $use_exec_links = yes && AC_DEFINE(EXEC_LINKS)
d1173 1
a1173 1
test $use_exec_scripts = yes && AC_DEFINE(EXEC_SCRIPTS)
d1182 1
a1182 1
test $use_internal_links = no && AC_DEFINE(DONT_TRACK_INTERNAL_LINKS)
d1194 1
a1194 1
		AC_DEFINE(_WINDOWS_NSL)
d1197 1
a1197 1
		AC_DEFINE(NSL_FORK)
d1209 1
a1209 1
test $use_syslog = yes && AC_DEFINE(SYSLOG_REQUESTED_URLS)
d1218 2
a1219 2
test $use_underline = yes && AC_DEFINE(UNDERLINE_LINKS,1)
test $use_underline = no  && AC_DEFINE(UNDERLINE_LINKS,0)
d1239 1
a1239 1
	test "x$cf_cv_find_linkage_bz2" = "xyes" && AC_DEFINE(USE_BZLIB)
d1252 1
a1252 1
	test "x$cf_cv_find_linkage_z" = "xyes" && AC_DEFINE(USE_ZLIB)
d1266 1
a1266 1
test $use_finger != "no" && AC_DEFINE(DISABLE_FINGER)
d1275 1
a1275 1
test $use_gopher != "no" && AC_DEFINE(DISABLE_GOPHER)
d1284 1
a1284 1
test $use_news != "no" && AC_DEFINE(DISABLE_NEWS)
d1293 1
a1293 1
test $use_ftp != "no" && AC_DEFINE(DISABLE_FTP)
d1333 1
a1333 1
	AC_DEFINE(DIRED_SUPPORT)
d1337 1
a1337 1
	[  --disable-dired-dearchive disable dearchiving commands],[AC_DEFINE(ARCHIVE_ONLY)])
d1342 1
a1342 1
	[  --disable-dired-override disable DirEd override keymap],,[AC_DEFINE(OK_OVERRIDE)])
d1347 1
a1347 1
	[  --disable-dired-permit  disable chmod/attrib commands],,[AC_DEFINE(OK_PERMIT)])
d1352 1
a1352 1
	[  --disable-dired-xpermit disable chmod/attrib commands],[AC_DEFINE(NO_CHANGE_EXECUTE_PERMS)])
d1357 1
a1357 1
	[  --disable-dired-tar     disable "tar" command],,[AC_DEFINE(OK_TAR)])
d1362 1
a1362 1
	[  --disable-dired-uudecode disable "uudecode" command],,[AC_DEFINE(OK_UUDECODE)])
d1367 1
a1367 1
	[  --disable-dired-zip     disable "zip", "unzip"  commands],,[AC_DEFINE(OK_ZIP)])
d1372 1
a1372 1
	[  --disable-dired-gzip    disable "gzip", "gunzip" commands],,[AC_DEFINE(OK_GZIP)])
d1380 1
a1380 1
	[AC_DEFINE(LONG_LIST)])
d1388 1
a1388 1
	[AC_DEFINE(NO_PARENT_DIR_REFERENCE)])
d1405 4
a1408 4
AC_DEFINE_UNQUOTED(TAR_UP_OPTIONS,   "$TAR_UP_OPTIONS")
AC_DEFINE_UNQUOTED(TAR_DOWN_OPTIONS, "$TAR_DOWN_OPTIONS")
AC_DEFINE_UNQUOTED(TAR_FILE_OPTIONS, "$TAR_FILE_OPTIONS")
AC_DEFINE_UNQUOTED(TAR_PIPE_OPTIONS, "$TAR_PIPE_OPTIONS")
d1506 1
a1506 1
		AC_DEFINE(USE_SCROLLBAR)
@


1.26
log
@update port and base to Lynx 2.8.8dev.12
@
text
@d1 1
a1 1
dnl $LynxId: configure.in,v 1.231 2011/06/12 00:49:44 tom Exp $
d32 1
a32 1
AC_REVISION(2.8.8dev.12)
d67 1
a67 1
VERSION=2.8.8dev.12
d110 1
d113 4
d772 4
a775 4
AC_CHECK_SIZEOF(int,4)
AC_CHECK_SIZEOF(long,4)
AC_CHECK_SIZEOF(off_t,4)
AC_CHECK_SIZEOF(time_t,4)
d787 1
@


1.25
log
@fastmerge
@
text
@d32 1
a32 1
AC_REVISION(2.8.8dev.11)
d67 1
a67 1
VERSION=2.8.8dev.11
@


1.24
log
@merge lynx2.8.8dev.10a and fix some spelling
@
text
@d32 1
a32 1
AC_REVISION(2.8.8dev.10)
d67 1
a67 1
VERSION=2.8.8dev.10
@


1.23
log
@emergency merge of lynx 2.8.8dev.8
@
text
@d1 1
a1 1
dnl $LynxId: configure.in,v 1.221 2010/09/22 21:29:54 tom Exp $
d10 1
a10 1
dnl Copyright 1997-2009,2010 by Thomas E. Dickey
d32 1
a32 1
AC_REVISION(2.8.8dev.8)
d67 1
a67 1
VERSION=2.8.8dev.8
d455 1
a455 1
# this option is mainly for comparing with/without Lynx's wrapper for GNUTLS.
d494 1
a801 1
	zError \
d875 1
a875 1
[  --disable-sessions      use experimental sessions code],
d887 1
a887 1
[  --disable-session-cache use experimental session-caching code],
d896 3
a898 3
AC_MSG_CHECKING(if experimental address-list page should be used)
CF_ARG_ENABLE(addrlist-page,
[  --enable-addrlist-page  use experimental address-list page],
d900 1
a900 1
	[use_addrlist_page=no])
d902 1
a902 1
test $use_addrlist_page != no && AC_DEFINE(EXP_ADDRLIST_PAGE)
d978 1
a978 1
test $use_alt_bindings != no && AC_DEFINE(EXP_ALT_BINDINGS)
d983 1
a983 1
[  --disable-ascii-ctypes  use ascii case-conversion],
d1001 1
a1001 1
[  --disable-file-upload   use file-upload support],
d1010 1
a1010 1
[  --disable-idna          provide IDNA support],
d1022 1
a1022 1
[  --disable-justify-elts  use element-justification logic],
d1031 1
a1031 1
[  --disable-partial       use partial-display logic],
d1049 1
a1049 1
[  --disable-prettysrc     colorize HTML source],
d1058 1
a1058 1
[  --disable-progressbar   use progress-bar],
d1067 1
a1067 1
[  --disable-read-eta      read-progress message shows ETA],
d1076 1
a1076 1
[  --disable-source-cache  cache HTML source for parse mode changes],
d1085 1
a1085 1
[  --disable-scrollbar     use scrollbar, with mouse],
@


1.22
log
@fastmerge; break since I cant get autoconf-2.13 to work and its late
@
text
@d32 1
a32 1
AC_REVISION(2.8.8dev.7)
d67 1
a67 1
VERSION=2.8.8dev.7
@


1.21
log
@automerge
@
text
@d1 1
a1 1
dnl $LynxId: configure.in,v 1.191 2009/04/12 12:45:06 tom Exp $
d10 1
a10 1
dnl Copyright 1997-2008,2009 by Thomas E. Dickey
d32 1
a32 1
AC_REVISION(2.8.7rel.1)
d62 2
d67 1
a67 1
VERSION=2.8.7rel.1
d109 2
a110 1
AC_CHECK_PROGS(LINT, lint alint lclint tdlint, [])
d420 1
a420 1
CF_XOPEN_SOURCE(600,199506L)
d459 1
a459 1
	[cf_cv_gnutls_compat=$withval],
d758 6
a763 1
CF_CHECK_TYPE(socklen_t, int, [#include <sys/socket.h>])
d836 1
d845 1
d854 1
d863 1
d872 24
d904 1
a904 16
AC_MSG_CHECKING(if experimental ascii case-conversion should be used)
CF_ARG_ENABLE(ascii-ctypes,
[  --enable-ascii-ctypes   use experimental ascii case-conversion],
	[use_ascii_ctypes=$enableval],
	[use_ascii_ctypes=yes])
AC_MSG_RESULT($use_ascii_ctypes)
test $use_ascii_ctypes != no && AC_DEFINE(EXP_ASCII_CTYPES)

AC_MSG_CHECKING(if experimental charset-selection logic should be used)
CF_ARG_ENABLE(charset-choice,
[  --enable-charset-choice use experimental charset-selection logic],
	[use_charset_choice=$enableval],
	[use_charset_choice=no])
AC_MSG_RESULT($use_charset_choice)
test $use_charset_choice != no && AC_DEFINE(EXP_CHARSET_CHOICE)

d913 1
d935 1
a964 40
AC_MSG_CHECKING(if progress-bar code should be used)
CF_ARG_ENABLE(progressbar,
[  --enable-progressbar    use experimental progress-bar],
	[use_progressbar=$enableval],
	[use_progressbar=no])
AC_MSG_RESULT($use_progressbar)
test $use_progressbar != no && AC_DEFINE(USE_PROGRESSBAR)

dnl --------------------------------------------------------------------------
AC_MSG_CHECKING(if scrollbar code should be used)
CF_ARG_ENABLE(scrollbar,
[  --enable-scrollbar      use experimental scrollbar, with mouse],
	[use_scrollbar=$enableval],
	[use_scrollbar=no])
AC_MSG_RESULT($use_scrollbar)

dnl --------------------------------------------------------------------------
AC_MSG_CHECKING(if sessions code should be used)
CF_ARG_ENABLE(sessions,
[  --enable-sessions       use experimental sessions code],
	[use_sessions=$enableval],
	[use_sessions=no])
AC_MSG_RESULT($use_sessions)
if test $use_sessions != no ; then
	AC_DEFINE(USE_SESSIONS)
	EXTRA_OBJS="$EXTRA_OBJS LYSession\$o"
fi

dnl --------------------------------------------------------------------------
AC_MSG_CHECKING(if session-caching code should be used)
CF_ARG_ENABLE(session-cache,
[  --enable-session-cache  use experimental session-caching code],
	[use_session_cache=$enableval],
	[use_session_cache=no])
AC_MSG_RESULT($use_session_cache)
if test $use_session_cache != no ; then
    AC_DEFINE(USE_CACHEJAR)
fi

dnl --------------------------------------------------------------------------
d981 9
d1008 12
d1026 1
a1026 1
test $use_justify_elts != no && AC_DEFINE(EXP_JUSTIFY_ELTS)
d1056 9
d1083 17
d1239 1
a1239 1
	AC_DEFINE(USE_BZLIB)
d1252 1
a1252 1
	AC_DEFINE(USE_ZLIB)
d1296 20
d1510 3
d1522 3
a1524 3
	$CONFIG_SHELL $MKINSTALLDIRS WWW/Library/Implementation
	$CONFIG_SHELL $MKINSTALLDIRS src/chrtrans
	test "$USE_INCLUDED_LIBINTL" = yes && $CONFIG_SHELL $MKINSTALLDIRS intl
@


1.20
log
@fastmerge
@
text
@d1 1
a1 1
dnl $LynxId: configure.in,v 1.181 2008/12/31 20:58:39 tom Exp $
d10 1
a10 1
dnl Copyright 1997-2007,2008 by Thomas E. Dickey
d32 1
a32 1
AC_REVISION(2.8.7dev.12)
d65 1
a65 1
VERSION=2.8.7dev.12
d96 8
d114 2
a115 3
AC_CHECK_TOOL(RANLIB, ranlib, ':')
AC_CHECK_TOOL(AR, ar, ar)
CF_SUBST(archiver options,AR_OPTS,rv)
d270 1
a270 1
	# put these directlyin CPPFLAGS since they will not work in lynx_cfg.h
d349 6
d372 6
a377 1
	ALL_LINGUAS="$ALL_LINGUAS en"
d558 2
d868 1
a868 1
AC_MSG_CHECKING(if experimental ascii case-conversion)
d872 1
a872 1
	[use_ascii_ctypes=no])
@


1.19
log
@fastmerge
@
text
@d1 1
a1 1
dnl $LynxId: configure.in,v 1.173 2008/12/14 19:32:44 tom Exp $
d32 1
a32 1
AC_REVISION(2.8.7dev.11a)
d65 1
a65 1
VERSION=2.8.7dev.11a
d98 1
d262 16
a729 1
CF_VARARGS
d848 8
a911 8
dnl AC_MSG_CHECKING(if experimental JavaScript support should be used)
dnl CF_ARG_ENABLE(libjs,
dnl [  --enable-libjs          use experimental JavaScript support (Mozilla libjs)],
dnl 	[use_libjs=$enableval],
dnl 	[use_libjs=no])
dnl AC_MSG_RESULT($use_libjs)
dnl test $use_libjs != no && AC_DEFINE(EXP_LIBJS)

d946 1
a946 1
    AC_DEFINE(USE_SESSIONS)
d998 1
a998 1
[  --enable-justify-elts   use element-justification logic],
d1141 10
a1150 1
test $use_nsl_fork = yes && AC_DEFINE(NSL_FORK)
@


1.18
log
@upgrade lynx to 2.8.7dev.8  much better multibyte editing support
@
text
@d1 1
a1 1
dnl $LynxId: configure.in,v 1.162 2008/02/17 19:44:13 Zdenek.Prikryl Exp $
d10 1
a10 1
dnl Copyright 1997-2006,2007 by Thomas E. Dickey
d32 1
a32 1
AC_REVISION(2.8.7dev.8)
d65 1
a65 1
VERSION=2.8.7dev.8
d417 8
d446 1
d448 3
d454 5
a458 1
	CF_GNUTLS($cf_cv_use_libgnutls)
d715 1
d720 6
d923 12
a942 2
    AC_DEFINE(USE_SESSIONS)
	EXTRA_OBJS="$EXTRA_OBJS LYSession\$o"
@


1.17
log
@fastmerge
@
text
@d1 1
a1 2
dnl $MirOS: src/gnu/usr.bin/lynx/configure.in,v 1.16 2007/05/20 09:43:20 tg Exp $
dnl $LynxId: configure.in,v 1.158 2007/07/30 22:12:37 tom Exp $
d32 1
a32 1
AC_REVISION(2.8.7dev.7)
d65 1
a65 1
VERSION=2.8.7dev.7
d396 7
a409 1
if test "x$cf_cv_use_libssl" = "xno" ; then
a415 1
fi
d443 2
d760 2
d883 9
d900 13
a999 2
AC_SUBST(EXTRA_OBJS)

@


1.16
log
@ merge (except configure)
 reduce diff against upstream

untested
@
text
@d1 3
a3 2
dnl $MirOS: src/gnu/usr.bin/lynx/configure.in,v 1.15 2006/11/10 20:19:25 tg Exp $
dnl $LynxId: configure.in,v 1.153 2007/05/13 23:26:12 tom Exp $
d5 1
d9 1
d33 1
a33 1
AC_REVISION(2.8.7dev.5)
d66 1
a66 1
VERSION=2.8.7dev.5
d196 2
a197 19
AC_MSG_CHECKING(if you want to link with dbmalloc for testing)
AC_ARG_WITH(dbmalloc,
	[  --with-dbmalloc         test: use Conor Cahill's dbmalloc library],
	[with_dbmalloc=$withval],
	[with_dbmalloc=no])
AC_MSG_RESULT($with_dbmalloc)
if test $with_dbmalloc = yes ; then
	AC_CHECK_LIB(dbmalloc,debug_malloc)
fi

AC_MSG_CHECKING(if you want to link with dmalloc for testing)
AC_ARG_WITH(dmalloc,
	[  --with-dmalloc          test: use Gray Watson's dmalloc library],
	[with_dmalloc=$withval],
	[with_dmalloc=no])
AC_MSG_RESULT($with_dmalloc)
if test $with_dmalloc = yes ; then
	AC_CHECK_LIB(dmalloc,dmalloc_debug)
fi
d596 1
a596 1

d825 4
a828 1
	AC_CHECK_LIB(iconv,libiconv_open)
d996 4
d1002 1
a1002 1
		CF_VERBOSE(Assume $host_os has font-switching)
d1005 3
a1007 1
	if test -n "$SETFONT" ; then
a1008 2
	else
		AC_MSG_WARN(Cannot find a font-setting program)
d1102 1
a1102 1
	CF_WITH_BZLIB
d1115 1
a1115 1
	CF_WITH_ZLIB
@


1.15
log
@fastmerge
@
text
@d1 2
a2 2
dnl $MirOS: src/gnu/usr.bin/lynx/configure.in,v 1.14 2006/10/02 23:12:14 tg Exp $
dnl
d4 1
a4 1
dnl written jan/1997
d8 1
a8 1
dnl Copyright 1997-2005,2006 by Thomas E. Dickey
d30 1
a30 1
AC_REVISION(2.8.7dev.2)
d52 1
d63 2
a64 1
VERSION=2.8.7dev.2
a66 2
AC_SUBST(DESTDIR)
AC_SUBST(CONFIG_H)
d68 7
a74 2
dnl Set of available languages (based on source distribution)
test -z "$ALL_LINGUAS" && ALL_LINGUAS=`test -d $srcdir/po && cd $srcdir/po && echo *.po|sed -e 's/\.po//g' -e 's/*//'`
d350 1
d352 8
d375 1
d396 1
d419 1
a419 1
AC_CACHE_CHECK(if you want experimental gnutls support,cf_cv_use_libgnutls,[
d421 1
a421 1
	[  --with-gnutls{=path}    link with experimental gnutls support],
d455 13
d522 36
d567 2
d575 48
a841 34
AC_MSG_CHECKING(if color-style code should be used)
CF_ARG_DISABLE(color-style,
[  --disable-color-style   use color style (ncurses/curses)],
	[use_color_style=$enableval],
	[use_color_style=$dft_color_style])

case $use_color_style in
no)
	AC_MSG_RESULT(no)
	INSTALL_LSS=
	;;
*)
	AC_DEFINE(USE_COLOR_STYLE)
	AC_MSG_RESULT(yes)

	AC_MSG_CHECKING(for location of style-sheet file)

CF_WITH_PATH(lss-file,
[  --with-lss-file{=path}  specify the default style-sheet file
                         ],
LYNX_LSS_FILE,
SYSCONFDIR/lynx.lss,
$sysconfdir/lynx.lss)

	AC_MSG_RESULT($LYNX_LSS_FILE)

	test "$LYNX_LSS_FILE" = no && LYNX_LSS_FILE=
	AC_DEFINE_UNQUOTED(LYNX_LSS_FILE,"$LYNX_LSS_FILE")

	INSTALL_LSS=install-lss
	;;
esac
AC_SUBST(INSTALL_LSS)

d859 1
a859 27
AC_MSG_CHECKING(if experimental htmlized lynx.cfg should be built)
CF_ARG_ENABLE(htmlized-cfg,
[  --enable-htmlized-cfg   build experimental htmlized lynx.cfg],
	[use_exp_htmlized_cfg=$enableval],
	[use_exp_htmlized_cfg=no])
AC_MSG_RESULT($use_exp_htmlized_cfg)

LYNXCFG_MAKE=''
LYNXCFG_URL=''
if test $use_exp_htmlized_cfg = no ; then
	LYNXCFG_MAKE='#'
	LYNXCFG_URL='http://www.hippo.ru/%7Ehvv/'
fi
AC_SUBST(LYNXCFG_MAKE)
AC_SUBST(LYNXCFG_URL)

### check for ipv6 support
AC_MSG_CHECKING([whether to enable ipv6])
CF_ARG_ENABLE(ipv6,
	[  --enable-ipv6           use experimental ipv6 (with ipv4) support],
[AC_DEFINE(ENABLE_IPV6)])
AC_MSG_RESULT($enableval)
if test "$enableval" = "yes"; then
	CF_CHECK_IPV6
fi
dnl AC_REPLACE_FUNCS(getaddrinfo getnameinfo)

d876 1
a876 8
AC_MSG_CHECKING(if experimental locale-charset selection logic should be used)
CF_ARG_ENABLE(locale-charset,
[  --enable-locale-charset use experimental locale-charset selection logic],
	[use_locale_charset=$enableval],
	[use_locale_charset=yes])
AC_MSG_RESULT($use_locale_charset)
test $use_locale_charset != no && AC_DEFINE(EXP_LOCALE_CHARSET)

d885 1
d900 1
d909 1
d918 1
d927 1
d936 1
d945 1
d954 1
d963 1
d972 1
d983 1
d995 1
d1019 1
d1026 1
d1035 1
d1045 1
d1055 1
d1064 1
d1073 1
d1082 1
d1092 1
d1100 1
d1113 1
d1126 1
d1130 1
d1139 1
d1148 1
d1157 1
d1227 1
d1234 1
d1242 1
d1338 4
@


1.14
log
@fastmerge
@
text
@d1 1
a1 1
dnl $MirOS: src/gnu/usr.bin/lynx/configure.in,v 1.13 2006/09/20 22:03:14 tg Exp $
d30 1
a30 1
AC_REVISION(2.8.6pre.5)
d62 1
a62 1
VERSION=2.8.6pre.5
d252 1
a252 1
	TRY_CFLAGS="$TRY_CFLAGS -DSNAKE"
d464 1
a464 3
	CF_CURSES_CPPFLAGS
	CF_NCURSES_VERSION
	CF_CURSES_LIBS
d469 1
a469 3
	CF_NCURSES_CPPFLAGS
	CF_NCURSES_LIBS
	CF_NCURSES_VERSION
d473 1
a473 3
	CF_NCURSES_CPPFLAGS(ncursesw)
	CF_NCURSES_LIBS(ncursesw)
	CF_NCURSES_VERSION
@


1.13
log
@fastmerge
@
text
@d1 1
a1 1
dnl $MirOS: src/gnu/usr.bin/lynx/configure.in,v 1.12 2006/09/13 19:18:32 tg Exp $
d30 1
a30 1
AC_REVISION(2.8.6pre.4)
d62 1
a62 1
VERSION=2.8.6pre.4
d633 1
@


1.12
log
@fastmerge
@
text
@d1 1
a1 1
dnl $MirOS: src/gnu/usr.bin/lynx/configure.in,v 1.11 2006/06/30 20:58:57 tg Exp $
d30 1
a30 1
AC_REVISION(2.8.6pre.3)
d62 1
a62 1
VERSION=2.8.6pre.3
@


1.11
log
@build this on sparc w/o EXPERIMENTAL=yes (untested)
@
text
@d1 1
a1 1
dnl $MirOS: src/gnu/usr.bin/lynx/configure.in,v 1.10 2006/06/15 19:36:59 tg Exp $
d7 20
d30 1
a30 1
AC_REVISION(2.8.6dev.18)
d62 1
a62 1
VERSION=2.8.6dev.18
d460 2
d480 1
d488 1
d492 7
d505 2
a506 2
LIBDIR/lynx.cfg,
$libdir/lynx.cfg)
d733 1
a733 1
CF_ARG_ENABLE(color-style,
d736 1
a736 1
	[use_color_style=yes])
d753 2
a754 2
LIBDIR/lynx.lss,
$libdir/lynx.lss)
d928 2
d938 1
a938 1
	LIBOBJS="$LIBOBJS LYExtern\$o"
d1112 1
a1112 1
	LIBOBJS="$LIBOBJS LYLocal\$o"
d1238 3
a1240 1
	CF_WIDEC_CURSES
@


1.10
log
@merge
@
text
@d1 1
a1 1
dnl $MirOS: src/gnu/usr.bin/lynx/configure.in,v 1.9 2006/06/02 19:32:50 tg Exp $
d164 1
a164 1
	CF_GCC_WARNINGS(Wno-cast-qual)
@


1.9
log
@merge (yay, exactly my SSL verification code is in)
@
text
@d1 1
a1 1
dnl $MirOS: src/gnu/usr.bin/lynx/configure.in,v 1.8 2006/02/01 14:42:27 tg Exp $
d362 1
d468 1
a468 4
dnl Get the actual value for $libdir, which we will compile into Lynx as part of
dnl the config pathnames.
eval cf_libdir=$libdir
cf_libdir=`echo $cf_libdir | sed -e s%'^NONE/'%$prefix/% -e s%'^NONE/'%$ac_default_prefix/%`
d470 10
a479 2
AC_MSG_CHECKING(for location of config-file)
LYNX_CFG_FILE=$cf_libdir/lynx.cfg
a480 1
AC_MSG_RESULT($LYNX_CFG_FILE)
d703 1
a703 1
[  --enable-color-style    use optional/experimental color style (ncurses/curses)],
d705 1
a705 1
	[use_color_style=no])
d717 11
a727 1
	LYNX_LSS_FILE=$cf_libdir/lynx.lss
d729 1
a729 1
	AC_MSG_RESULT($LYNX_LSS_FILE)
@


1.8
log
@our libiconv is now named -liconv and contains GNU libiconv compatible symbols
@
text
@d1 1
a1 1
dnl $MirOS: src/gnu/usr.bin/lynx/configure.in,v 1.7 2006/01/31 19:21:56 tg Exp $
d10 1
a10 1
AC_REVISION(2.8.6dev.16)
d42 1
a42 1
VERSION=2.8.6dev.16
@


1.7
log
@oops, not libiconv_open, me dummy
@
text
@d1 1
a1 1
dnl $MirOS: src/gnu/usr.bin/lynx/configure.in,v 1.6 2006/01/31 19:18:15 tg Exp $
a692 1
	AC_CHECK_LIB(citrus_iconv,iconv_open,,
a693 1
	)
@


1.6
log
@find libcitrus_iconv too
@
text
@d1 1
a1 1
dnl $MirOS: src/gnu/usr.bin/lynx/configure.in,v 1.5 2005/12/19 23:56:59 tg Exp $
d693 1
a693 1
	AC_CHECK_LIB(citrus_iconv,libiconv_open,,
@


1.5
log
@fastmerge
@
text
@d1 1
a1 1
dnl $MirOS: src/gnu/usr.bin/lynx/configure.in,v 1.4 2005/10/21 21:42:31 tg Exp $
d693 1
d695 1
@


1.4
log
@merge
@
text
@d1 1
a1 1
dnl $MirOS: src/gnu/usr.bin/lynx/configure.in,v 1.3 2005/06/22 11:15:43 tg Exp $
d10 1
a10 1
AC_REVISION(2.8.6dev.14)
d42 1
a42 1
VERSION=2.8.6dev.14
d577 1
a763 8
AC_MSG_CHECKING(if experimental element-justification logic should be used)
CF_ARG_ENABLE(justify-elts,
[  --enable-justify-elts   use experimental element-justification logic],
	[use_exp_justify_elts=$enableval],
	[use_exp_justify_elts=no])
AC_MSG_RESULT($use_exp_justify_elts)
test $use_exp_justify_elts != no && AC_DEFINE(EXP_JUSTIFY_ELTS)

d834 8
d899 16
a914 1
test $use_setfont = yes && AC_DEFINE(EXP_CHARTRANS_AUTOSWITCH)
d1208 1
@


1.3
log
@merge
@
text
@d1 1
a1 1
dnl $MirOS: src/gnu/usr.bin/lynx/configure.in,v 1.2 2005/03/27 22:42:31 tg Exp $
d10 1
a10 1
AC_REVISION(2.8.6dev.13)
d42 1
a42 1
VERSION=2.8.6dev.13
d323 2
d376 1
a376 1
	[  --with-ssl[=path]       link with ssl library if available],
d384 1
a384 1
	[  --with-gnutls[=path]    link with experimental gnutls support],
d392 1
a392 1
	[  --with-socks[=path]     link with socks library if available],
d399 1
a399 1
	[  --with-socks5[=path]    link with socks5 library if available],
@


1.2
log
@initial port of MirBSD Lynx
@
text
@d1 1
a1 1
dnl $MirOS$
d10 1
a10 1
AC_REVISION(2.8.6dev.11)
d42 1
a42 1
VERSION=2.8.6dev.11
@


1.1
log
@Initial revision
@
text
@d1 2
d164 1
a164 1
	CF_GCC_WARNINGS
@


1.1.109.1
log
@Lynx 2.8.6dev.11h (pre-patch) minus
* lib
* po
* scripts
@
text
@@


1.1.109.2
log
@update our Lynx
@
text
@d8 1
a8 1
AC_REVISION(2.8.6dev.13)
d40 1
a40 1
VERSION=2.8.6dev.13
@


1.1.109.3
log
@Import new Lynx snapshot
@
text
@d8 1
a8 1
AC_REVISION(2.8.6dev.14)
d40 1
a40 1
VERSION=2.8.6dev.14
a320 2
CF_LARGEFILE

d372 1
a372 1
	[  --with-ssl{=path}       link with ssl library if available],
d380 1
a380 1
	[  --with-gnutls{=path}    link with experimental gnutls support],
d388 1
a388 1
	[  --with-socks{=path}     link with socks library if available],
d395 1
a395 1
	[  --with-socks5{=path}    link with socks5 library if available],
@


1.1.109.4
log
@Import new Standard Webbrowser
Sorry, but I've waited for it.
@
text
@d8 1
a8 1
AC_REVISION(2.8.6dev.16)
d40 1
a40 1
VERSION=2.8.6dev.16
a574 1
	ctermid \
d761 8
a838 8
AC_MSG_CHECKING(if element-justification logic should be used)
CF_ARG_DISABLE(justify-elts,
[  --enable-justify-elts   use element-justification logic],
	[use_justify_elts=$enableval],
	[use_justify_elts=yes])
AC_MSG_RESULT($use_justify_elts)
test $use_justify_elts != no && AC_DEFINE(EXP_JUSTIFY_ELTS)

d896 1
a896 16
if test $use_setfont = yes ; then
	case $host_os in
	linux*)
		CF_PATH_PROG(SETFONT, consolechars, setfont)
		;;
	*)
		SETFONT=unknown
		CF_VERBOSE(Assume $host_os has font-switching)
		;;
	esac
	if test -n "$SETFONT" ; then
		AC_DEFINE(EXP_CHARTRANS_AUTOSWITCH)
	else
		AC_MSG_WARN(Cannot find a font-setting program)
	fi
fi
a1189 1
		use_legacy_coding \
@


1.1.109.5
log
@import Lynx/2.8.6dev.18 (hopefully with our SSL fixes)
@
text
@d8 1
a8 1
AC_REVISION(2.8.6dev.18)
d40 1
a40 1
VERSION=2.8.6dev.18
@


1.1.109.6
log
@apply lynx 2.8.6dev.16c patch
@
text
@a359 1
CF_SIGWINCH
d465 4
a468 8
AC_MSG_CHECKING(for the default configuration-file)

CF_WITH_PATH(cfg-file,
[  --with-cfg-file{=path}  specify the default configuration file
                         ],
LYNX_CFG_FILE,
LIBDIR/lynx.cfg,
$libdir/lynx.cfg)
d470 3
a474 3
test "$LYNX_CFG_FILE" = no && LYNX_CFG_FILE=
AC_DEFINE_UNQUOTED(LYNX_CFG_FILE,"$LYNX_CFG_FILE")

d696 1
a696 1
[  --disable-color-style   use color style (ncurses/curses)],
d698 1
a698 1
	[use_color_style=yes])
d710 2
a711 8

CF_WITH_PATH(lss-file,
[  --with-lss-file{=path}  specify the default style-sheet file
                         ],
LYNX_LSS_FILE,
LIBDIR/lynx.lss,
$libdir/lynx.lss)

a712 4

	test "$LYNX_LSS_FILE" = no && LYNX_LSS_FILE=
	AC_DEFINE_UNQUOTED(LYNX_LSS_FILE,"$LYNX_LSS_FILE")

@


1.1.109.7
log
@Import Lynx 2.8.6pre.3
@
text
@a4 20
dnl ---------------------------------------------------------------------------
dnl Copyright 1997-2005,2006 by Thomas E. Dickey
dnl 
dnl Permission to use, copy, modify, and distribute this software and its
dnl documentation for any purpose and without fee is hereby granted,
dnl provided that the above copyright notice appear in all copies and that
dnl both that copyright notice and this permission notice appear in
dnl supporting documentation, and that the name of the above listed
dnl copyright holder(s) not be used in advertising or publicity pertaining
dnl to distribution of the software without specific, written prior
dnl permission.
dnl 
dnl THE ABOVE LISTED COPYRIGHT HOLDER(S) DISCLAIM ALL WARRANTIES WITH REGARD
dnl TO THIS SOFTWARE, INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
dnl AND FITNESS, IN NO EVENT SHALL THE ABOVE LISTED COPYRIGHT HOLDER(S) BE
dnl LIABLE FOR ANY SPECIAL, INDIRECT OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
dnl WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
dnl ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
dnl OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
dnl ---------------------------------------------------------------------------
d8 1
a8 1
AC_REVISION(2.8.6pre.3)
d40 1
a40 1
VERSION=2.8.6pre.3
a437 2
cf_wide_curses=no
dft_color_style=yes
a455 1
	cf_wide_curses=yes
a462 1
	dft_color_style=no
a465 7
AC_MSG_CHECKING(if you want the wide-curses features)
CF_ARG_ENABLE(widec, 
[  --enable-widec          enable wide-curses features], 
	[use_wide_curses=$enableval],
	[use_wide_curses=$cf_wide_curses])
AC_MSG_RESULT($use_wide_curses)

d472 2
a473 2
SYSCONFDIR/lynx.cfg,
$sysconfdir/lynx.cfg)
d700 1
a700 1
CF_ARG_DISABLE(color-style,
d703 1
a703 1
	[use_color_style=$dft_color_style])
d720 2
a721 2
SYSCONFDIR/lynx.lss,
$sysconfdir/lynx.lss)
a894 2
AC_SUBST(EXTRA_OBJS)

d903 1
a903 1
	EXTRA_OBJS="$EXTRA_OBJS LYExtern\$o"
d1077 1
a1077 1
	EXTRA_OBJS="$EXTRA_OBJS LYLocal\$o"
d1203 1
a1203 3
	if test "$use_wide_curses" = yes ; then
		CF_WIDEC_CURSES
	fi
@


1.1.109.8
log
@Import Lynx 2.8.6pre.4
@
text
@d28 1
a28 1
AC_REVISION(2.8.6pre.4)
d60 1
a60 1
VERSION=2.8.6pre.4
@


1.1.109.9
log
@Update to lynx 2.8.6pre.5
This is a required update, because earlier versions contain some
non-free, non-redistributable files!
@
text
@d28 1
a28 1
AC_REVISION(2.8.6pre.5)
d60 1
a60 1
VERSION=2.8.6pre.5
a630 1
	zError \
@


1.1.109.10
log
@Update to Lynx 2.8.7dev.2 in src, too (possibly security relevant)
@
text
@d28 1
a28 1
AC_REVISION(2.8.7dev.2)
d60 1
a60 1
VERSION=2.8.7dev.2
d250 1
a250 1
	TRY_CFLAGS="$TRY_CFLAGS -DSNAKE -D_XOPEN_SOURCE_EXTENDED"
d462 3
a464 1
	CF_CURSES_CONFIG
d469 3
a471 1
	CF_NCURSES_CONFIG
d475 3
a477 1
	CF_NCURSES_CONFIG(ncursesw)
@


1.1.109.11
log
@Finally, a new Lynx snapshot!
@
text
@a0 1
dnl $LynxId: configure.in,v 1.153 2007/05/13 23:26:12 tom Exp $
d2 1
a2 1
dnl created jan/1997
d6 1
a6 1
dnl Copyright 1997-2006,2007 by Thomas E. Dickey
d28 1
a28 1
AC_REVISION(2.8.7dev.5)
a49 1
AC_SUBST(CONFIG_H)
d60 1
a60 2
VERSION=2.8.7dev.5

d63 2
d66 2
a67 7
AC_MSG_CHECKING(for DESTDIR)
CF_WITH_PATH(destdir,
[  --with-destdir=XXX      set DESTDIR destination for install],
DESTDIR,
[$DESTDIR],
[$DESTDIR])
AC_MSG_RESULT($DESTDIR)
a342 1
dnl --------------------------------------------------------------------------
a343 8
dnl --------------------------------------------------------------------------

dnl Set of available languages (based on source distribution)
if test -z "$ALL_LINGUAS" ; then
	ALL_LINGUAS=`test -d $srcdir/po && cd $srcdir/po && echo *.po|sed -e 's/\.po//g' -e 's/*//'`
	ALL_LINGUAS="$ALL_LINGUAS en"
fi

a358 1
dnl --------------------------------------------------------------------------
a378 1
dnl --------------------------------------------------------------------------
d401 1
a401 1
AC_CACHE_CHECK(if you want gnutls support,cf_cv_use_libgnutls,[
d403 1
a403 1
	[  --with-gnutls{=path}    link with gnutls support],
a436 13
dnl --------------------------------------------------------------------------
### check for ipv6 support
AC_MSG_CHECKING([whether to enable ipv6])
CF_ARG_ENABLE(ipv6,
[  --enable-ipv6           use ipv6 (with ipv4) support],
	[AC_DEFINE(ENABLE_IPV6)])
AC_MSG_RESULT($enableval)
if test "$enableval" = "yes"; then
	CF_CHECK_IPV6
fi
dnl AC_REPLACE_FUNCS(getaddrinfo getnameinfo)

dnl --------------------------------------------------------------------------
a490 36
AC_MSG_CHECKING(if color-style code should be used)
CF_ARG_DISABLE(color-style,
[  --disable-color-style   use color style (ncurses/curses)],
	[use_color_style=$enableval],
	[use_color_style=$dft_color_style])

case $use_color_style in
no)
	AC_MSG_RESULT(no)
	INSTALL_LSS=
	;;
*)
	AC_DEFINE(USE_COLOR_STYLE)
	AC_MSG_RESULT(yes)

	AC_MSG_CHECKING(for location of style-sheet file)

CF_WITH_PATH(lss-file,
[  --with-lss-file{=path}  specify the default style-sheet file
                         ],
LYNX_LSS_FILE,
SYSCONFDIR/lynx.lss,
$sysconfdir/lynx.lss)

	AC_MSG_RESULT($LYNX_LSS_FILE)

	test "$LYNX_LSS_FILE" = no && LYNX_LSS_FILE=
	AC_DEFINE_UNQUOTED(LYNX_LSS_FILE,"$LYNX_LSS_FILE")

	INSTALL_LSS=install-lss
	;;
esac
AC_SUBST(INSTALL_LSS)

dnl --------------------------------------------------------------------------

a499 2
dnl --------------------------------------------------------------------------

a505 48
AC_MSG_CHECKING(if htmlized lynx.cfg should be built)
CF_ARG_ENABLE(htmlized-cfg,
[  --enable-htmlized-cfg   build htmlized lynx.cfg],
	[use_htmlized_cfg=$enableval],
	[use_htmlized_cfg=no])
AC_MSG_RESULT($use_htmlized_cfg)

LYNXCFG_MAKE=''
if test $use_htmlized_cfg = no ; then
	LYNXCFG_MAKE='#'
fi
AC_SUBST(LYNXCFG_MAKE)

dnl --------------------------------------------------------------------------
AC_MSG_CHECKING(if local doc directory should be linked to help page)
CF_ARG_ENABLE(local-docs,
[  --enable-local-docs     link local doc-directory to help-page],
	[use_local_docs=$enableval],
	[use_local_docs=no])
AC_MSG_RESULT($use_local_docs)

LYNXDOC_MAKE=''
if test $use_local_docs = no ; then
	LYNXDOC_MAKE='#'
fi
AC_SUBST(LYNXDOC_MAKE)

dnl --------------------------------------------------------------------------

AC_MSG_CHECKING(for MIME library directory)
CF_WITH_PATH(mime-libdir,
[  --with-mime-libdir=DIR  MIME data, mime.types and mailcap],
MIME_LIBDIR,
[/etc])
AC_MSG_RESULT($MIME_LIBDIR)

AC_DEFINE_UNQUOTED(MIME_LIBDIR,"$MIME_LIBDIR")

dnl --------------------------------------------------------------------------
AC_MSG_CHECKING(if locale-charset selection logic should be used)
CF_ARG_ENABLE(locale-charset,
[  --enable-locale-charset use locale-charset selection logic],
	[use_locale_charset=$enableval],
	[use_locale_charset=yes])
AC_MSG_RESULT($use_locale_charset)
test $use_locale_charset != no && AC_DEFINE(USE_LOCALE_CHARSET)

dnl --------------------------------------------------------------------------
d725 34
d776 27
a802 1
dnl --------------------------------------------------------------------------
d819 8
a826 1
dnl --------------------------------------------------------------------------
a834 1
dnl --------------------------------------------------------------------------
a848 1
dnl --------------------------------------------------------------------------
a856 1
dnl --------------------------------------------------------------------------
a864 1
dnl --------------------------------------------------------------------------
a872 1
dnl --------------------------------------------------------------------------
a880 1
dnl --------------------------------------------------------------------------
a888 1
dnl --------------------------------------------------------------------------
a896 1
dnl --------------------------------------------------------------------------
a904 1
dnl --------------------------------------------------------------------------
a912 1
dnl --------------------------------------------------------------------------
a922 1
dnl --------------------------------------------------------------------------
a933 1
dnl --------------------------------------------------------------------------
a956 1
dnl --------------------------------------------------------------------------
a962 1
dnl --------------------------------------------------------------------------
a970 1
dnl --------------------------------------------------------------------------
a979 1
dnl --------------------------------------------------------------------------
a988 1
dnl --------------------------------------------------------------------------
a996 1
dnl --------------------------------------------------------------------------
a1004 1
dnl --------------------------------------------------------------------------
a1012 1
dnl --------------------------------------------------------------------------
a1021 1
dnl --------------------------------------------------------------------------
a1028 1
dnl --------------------------------------------------------------------------
a1040 1
dnl --------------------------------------------------------------------------
a1052 1
dnl --------------------------------------------------------------------------
a1055 1
dnl --------------------------------------------------------------------------
a1063 1
dnl --------------------------------------------------------------------------
a1071 1
dnl --------------------------------------------------------------------------
a1079 1
dnl --------------------------------------------------------------------------
a1148 1
dnl --------------------------------------------------------------------------
a1154 1
dnl --------------------------------------------------------------------------
a1161 1
dnl --------------------------------------------------------------------------
a1256 4
	AC_CHECK_FUNCS( \
		_nc_free_and_exit \
		_nc_freeall \
		)
@


1.1.109.12
log
@Import Lynx 2.8.7dev.7 into base as well
@
text
@d1 1
a1 2
dnl $LynxId: configure.in,v 1.158 2007/07/30 22:12:37 tom Exp $
dnl
a2 1
dnl
a5 1
dnl
d29 1
a29 1
AC_REVISION(2.8.7dev.7)
d62 1
a62 1
VERSION=2.8.7dev.7
d192 19
a210 2
CF_WITH_DBMALLOC
CF_WITH_DMALLOC
d609 1
a609 1
MIME_LIBDIR=`echo "$MIME_LIBDIR" | sed -e 's,/$,,' -e 's,$,/,'`
d838 1
a838 4
	AM_ICONV
	if test "$USE_NLS" != yes ; then
	  LIBS="$LIBICONV $LIBS"
	fi
a1005 4
	os2*)
		SETFONT=built-in
		CF_VERBOSE(Assume $host_os has font-switching)
		;;
d1008 1
a1008 1
		CF_VERBOSE(Assume $host_os has no font-switching)
d1011 3
a1013 1
	if test -z "$SETFONT" ; then
a1014 2
	elif test "$SETFONT" != unknown ; then
		AC_DEFINE(EXP_CHARTRANS_AUTOSWITCH)
d1108 1
a1108 1
	CF_WITH_BZLIB($use_bzlib)
d1121 1
a1121 1
	CF_WITH_ZLIB($use_zlib)
@


1.1.109.13
log
@Import Lynx 2.8.7dev.8
@
text
@d1 1
a1 1
dnl $LynxId: configure.in,v 1.162 2008/02/17 19:44:13 Zdenek.Prikryl Exp $
d32 1
a32 1
AC_REVISION(2.8.7dev.8)
d65 1
a65 1
VERSION=2.8.7dev.8
a395 7
AC_CACHE_CHECK(if you want NSS compatible SSL libraries,cf_cv_use_libnss_compat,[
AC_ARG_WITH(nss-compat,
	[  --with-nss-compat{=path}       link with nss_compat library if available],
	[cf_cv_use_libnss_compat=$withval],
	[cf_cv_use_libnss_compat=no])
])

d403 1
d410 1
a437 2
elif test "x$cf_cv_use_libnss_compat"  != xno ; then
	CF_NSS_COMPAT($cf_cv_use_libnss_compat)
a752 2
AC_SUBST(EXTRA_OBJS)

a873 9
AC_MSG_CHECKING(if progress-bar code should be used)
CF_ARG_ENABLE(progressbar,
[  --enable-progressbar    use experimental progress-bar],
	[use_progressbar=$enableval],
	[use_progressbar=no])
AC_MSG_RESULT($use_progressbar)
test $use_progressbar != no && AC_DEFINE(USE_PROGRESSBAR)

dnl --------------------------------------------------------------------------
a881 13
AC_MSG_CHECKING(if session-caching code should be used)
CF_ARG_ENABLE(session-cache,
[  --enable-session-cache  use experimental session-caching code],
	[use_session_cache=$enableval],
	[use_session_cache=no])
AC_MSG_RESULT($use_session_cache)
if test $use_session_cache != no ; then
    AC_DEFINE(USE_CACHEJAR)
    AC_DEFINE(USE_SESSIONS)
	EXTRA_OBJS="$EXTRA_OBJS LYSession\$o"
fi

dnl --------------------------------------------------------------------------
d969 2
@


1.1.109.14
log
@Import Lynx 2.8.7dev.11a via eMail from Tom Dickey:
Message-ID: <20081215010313.GA8373@@invisible-island.net>
Message-ID: <20081216012408.GA15364@@invisible-island.net>
@
text
@d1 1
a1 1
dnl $LynxId: configure.in,v 1.173 2008/12/14 19:32:44 tom Exp $
d10 1
a10 1
dnl Copyright 1997-2007,2008 by Thomas E. Dickey
d32 1
a32 1
AC_REVISION(2.8.7dev.11)
d65 1
a65 1
VERSION=2.8.7dev.11
a416 8
# this option is mainly for comparing with/without Lynx's wrapper for GNUTLS.
AC_CACHE_CHECK(if you want gnutls-openssl compat,cf_cv_gnutls_compat,[
AC_ARG_ENABLE(gnutls-compat,
	[  --enable-gnutls-compat  link with gnutls-openssl compat],
	[cf_cv_gnutls_compat=$withval],
	[cf_cv_gnutls_compat=no])
])

a437 1

a438 3

CF_PKG_CONFIG

d442 1
a442 5
    if test "x$cf_cv_gnutls_compat" = xno ; then
        CF_GNUTLS($cf_cv_use_libgnutls,tidy_tls\$o)
    else
        CF_GNUTLS($cf_cv_use_libgnutls)
    fi
a698 1
AC_TYPE_OFF_T
a702 6
CF_TM_GMTOFF

AC_CHECK_SIZEOF(int,4)
AC_CHECK_SIZEOF(long,4)
AC_CHECK_SIZEOF(off_t,4)
AC_CHECK_SIZEOF(time_t,4)
a899 12
AC_MSG_CHECKING(if sessions code should be used)
CF_ARG_ENABLE(sessions,
[  --enable-sessions       use experimental sessions code],
	[use_sessions=$enableval],
	[use_sessions=no])
AC_MSG_RESULT($use_sessions)
if test $use_sessions != no ; then
    AC_DEFINE(USE_SESSIONS)
	EXTRA_OBJS="$EXTRA_OBJS LYSession\$o"
fi

dnl --------------------------------------------------------------------------
d908 2
@


1.1.109.15
log
@Import Lynx 2.8.7dev.12
@
text
@d1 1
a1 1
dnl $LynxId: configure.in,v 1.181 2008/12/31 20:58:39 tom Exp $
d32 1
a32 1
AC_REVISION(2.8.7dev.12)
d65 1
a65 1
VERSION=2.8.7dev.12
a97 1
AC_PROG_YACC
a260 16
mingw*)
	# put these directlyin CPPFLAGS since they will not work in lynx_cfg.h
	CF_ADD_CFLAGS(\
		-DWIN32_LEAN_AND_MEAN \
		-DDOSPATH \
		-DNOSIGHUP \
		-DNOUSERS \
		-DWIN_EX \
		-D_CONSOLE \
		-D_MBCS \
		-D_WINDOWS \
		-D_WIN_CC \
		-D__WIN32__ \
	)
	EXTRA_OBJS="$EXTRA_OBJS Xsystem\$o"
	;;
d713 1
a831 8
AC_MSG_CHECKING(if experimental ascii case-conversion)
CF_ARG_ENABLE(ascii-ctypes,
[  --enable-ascii-ctypes   use experimental ascii case-conversion],
	[use_ascii_ctypes=$enableval],
	[use_ascii_ctypes=no])
AC_MSG_RESULT($use_ascii_ctypes)
test $use_ascii_ctypes != no && AC_DEFINE(EXP_ASCII_CTYPES)

d888 8
d930 1
a930 1
	AC_DEFINE(USE_SESSIONS)
d982 1
a982 1
[  --disable-justify-elts  use element-justification logic],
d1125 1
a1125 10
if test $use_nsl_fork = yes ; then
	case $host_os in
	mingw*)
		AC_DEFINE(_WINDOWS_NSL)
		;;
	*)
		AC_DEFINE(NSL_FORK)
		;;
	esac
fi
@


1.1.109.16
log
@Woohoo, theres a new Lynx release!
@
text
@d1 1
a1 1
dnl $LynxId: configure.in,v 1.191 2009/04/12 12:45:06 tom Exp $
d10 1
a10 1
dnl Copyright 1997-2008,2009 by Thomas E. Dickey
d32 1
a32 1
AC_REVISION(2.8.7rel.1)
d65 1
a65 1
VERSION=2.8.7rel.1
a95 8
case $host_os in
mingw*)
LN_S="cp -p"
AC_MSG_RESULT(Override: No symbolic links in mingw.)
	;;
*)
	;;
esac
d106 3
a108 2
CF_PROG_RANLIB
CF_AR_FLAGS
d263 1
a263 1
	# put these directly in CPPFLAGS since they will not work in lynx_cfg.h
a341 6
case $host_os in
mingw*)
	EXTRA_OBJS="$EXTRA_OBJS LYIcon\$o"
	;;
esac

d359 1
a359 6
	AM_PATH_PROG_WITH_TEST(MSGINIT, msginit,
		[$ac_dir/$ac_word --no-translator --version /dev/null >/dev/null 2>&1], :)
	if test "$MSGINIT" != ":" ; then
		CF_VERBOSE(adding en.po)
		ALL_LINGUAS="$ALL_LINGUAS en"
	fi
a539 2
CF_CURSES_CHTYPE

d848 1
a848 1
AC_MSG_CHECKING(if experimental ascii case-conversion should be used)
d852 1
a852 1
	[use_ascii_ctypes=yes])
@


1.1.109.17
log
@Import lynx-current
@
text
@d1 1
a1 1
dnl $LynxId: configure.in,v 1.221 2010/09/22 21:29:54 tom Exp $
d10 1
a10 1
dnl Copyright 1997-2009,2010 by Thomas E. Dickey
d32 1
a32 1
AC_REVISION(2.8.8dev.7)
a61 2
AC_ARG_PROGRAM

d65 1
a65 1
VERSION=2.8.8dev.7
d107 1
a107 2
CF_PROG_LINT
CF_MAKE_TAGS
d417 1
a417 1
CF_XOPEN_SOURCE(500,199506L)
d456 1
a456 1
	[cf_cv_gnutls_compat=$enableval],
d755 1
a755 6
CF_CHECK_TYPE(ssize_t, int)
CF_CHECK_TYPE(socklen_t, int, [
#include <sys/types.h>
#include <sys/socket.h>
])
CF_TYPE_LONG_LONG
a827 1
dnl --------------------------------------------------------------------------
a835 1
dnl --------------------------------------------------------------------------
a843 1
dnl --------------------------------------------------------------------------
a851 1
dnl --------------------------------------------------------------------------
a859 24
dnl --------------------------------------------------------------------------
AC_MSG_CHECKING(if sessions code should be used)
CF_ARG_DISABLE(sessions,
[  --disable-sessions      use experimental sessions code],
	[use_sessions=$enableval],
	[use_sessions=yes])
AC_MSG_RESULT($use_sessions)
if test $use_sessions != no ; then
	AC_DEFINE(USE_SESSIONS)
	EXTRA_OBJS="$EXTRA_OBJS LYSession\$o"
fi

dnl --------------------------------------------------------------------------
AC_MSG_CHECKING(if session-caching code should be used)
CF_ARG_DISABLE(session-cache,
[  --disable-session-cache use experimental session-caching code],
	[use_session_cache=$enableval],
	[use_session_cache=yes])
AC_MSG_RESULT($use_session_cache)
if test $use_session_cache != no ; then
    AC_DEFINE(USE_CACHEJAR)
fi

dnl --------------------------------------------------------------------------
d868 16
a883 1
dnl --------------------------------------------------------------------------
a891 1
dnl --------------------------------------------------------------------------
a912 1
dnl --------------------------------------------------------------------------
d942 40
a997 9
AC_MSG_CHECKING(if ascii case-conversion should be used)
CF_ARG_DISABLE(ascii-ctypes,
[  --disable-ascii-ctypes  use ascii case-conversion],
	[use_ascii_ctypes=$enableval],
	[use_ascii_ctypes=yes])
AC_MSG_RESULT($use_ascii_ctypes)
test $use_ascii_ctypes != no && AC_DEFINE(USE_ASCII_CTYPES)

dnl --------------------------------------------------------------------------
a1015 12
AC_MSG_CHECKING(if IDNA support should be used)
CF_ARG_DISABLE(idna,
[  --disable-idna          provide IDNA support],
	[use_idna=$enableval],
	[use_idna=yes])
AC_MSG_RESULT($use_idna)

if test "$use_idna" = yes ; then
	CF_WITH_IDNA($use_idna)
fi

dnl --------------------------------------------------------------------------
d1022 1
a1022 1
test $use_justify_elts != no && AC_DEFINE(USE_JUSTIFY_ELTS)
a1051 9
AC_MSG_CHECKING(if progress-bar code should be used)
CF_ARG_DISABLE(progressbar,
[  --disable-progressbar   use progress-bar],
	[use_progressbar=$enableval],
	[use_progressbar=yes])
AC_MSG_RESULT($use_progressbar)
test $use_progressbar != no && AC_DEFINE(USE_PROGRESSBAR)

dnl --------------------------------------------------------------------------
a1069 17
AC_MSG_CHECKING(if scrollbar code should be used)
CF_ARG_DISABLE(scrollbar,
[  --disable-scrollbar     use scrollbar, with mouse],
	[use_scrollbar=$enableval],
	[use_scrollbar=yes])
AC_MSG_RESULT($use_scrollbar)

dnl --------------------------------------------------------------------------
AC_MSG_CHECKING(if charset-selection logic should be used)
CF_ARG_ENABLE(charset-choice,
[  --enable-charset-choice use charset-selection logic],
	[use_charset_choice=$enableval],
	[use_charset_choice=no])
AC_MSG_RESULT($use_charset_choice)
test $use_charset_choice != no && AC_DEFINE(USE_CHARSET_CHOICE)

dnl --------------------------------------------------------------------------
d1209 1
a1209 1
	test "x$cf_cv_find_linkage_bz2" = "xyes" && AC_DEFINE(USE_BZLIB)
d1222 1
a1222 1
	test "x$cf_cv_find_linkage_z" = "xyes" && AC_DEFINE(USE_ZLIB)
a1265 20
AC_MSG_CHECKING(if you want to include WAIS code)
CF_ARG_ENABLE(wais,
[  --enable-wais           enable WAIS logic],
      [use_wais=yes],
      [use_wais=no])
AC_MSG_RESULT($use_wais)

MAKE_WAIS="#"
if test $use_wais != "no"
then
	AC_CHECK_LIB(wais,fs_free,[
		CF_MATH_LIB
		CF_ADD_LIB(wais)
		AC_CHECK_HEADERS(wais.h)
		MAKE_WAIS=
		],[AC_MSG_WARN(could not find WAIS library)])
fi
AC_SUBST(MAKE_WAIS)

dnl --------------------------------------------------------------------------
a1459 3
# use rpath for libraries in unusual places
CF_DISABLE_RPATH_HACK

d1469 3
a1471 3
	mkdir -p WWW/Library/Implementation
	mkdir -p src/chrtrans
	test "$USE_INCLUDED_LIBINTL" = yes && mkdir -p intl
@


1.1.109.18
log
@emergency update to lynx2.8.8dev.8.tar.gz (only tested changes in it)
@
text
@d32 1
a32 1
AC_REVISION(2.8.8dev.8)
d67 1
a67 1
VERSION=2.8.8dev.8
@


1.1.109.19
log
@Import Lynx 2.8.8dev.10 plus dev.10a patch from invisible-island plus
fix for lynx -help output by KIHARA Hideto, by import-3rdpty,v 1.43
@
text
@d1 1
a1 1
dnl $LynxId: configure.in,v 1.231 2011/06/12 00:49:44 tom Exp $
d10 1
a10 1
dnl Copyright 1997-2010,2011 by Thomas E. Dickey
d32 1
a32 1
AC_REVISION(2.8.8dev.10)
d67 1
a67 1
VERSION=2.8.8dev.10
a493 1
		AC_CHECK_FUNCS(gnutls_priority_set_direct)
d801 1
d875 1
a875 1
[  --disable-sessions      use sessions code],
d887 1
a887 1
[  --disable-session-cache use session-caching code],
d896 3
a898 3
AC_MSG_CHECKING(if address-list page should be used)
CF_ARG_DISABLE(addrlist-page,
[  --disable-addrlist-page disable address-list page],
d900 1
a900 1
	[use_addrlist_page=yes])
d902 1
a902 1
test $use_addrlist_page != no && AC_DEFINE(USE_ADDRLIST_PAGE)
d978 1
a978 1
test $use_alt_bindings != no && AC_DEFINE(USE_ALT_BINDINGS)
d983 1
a983 1
[  --disable-ascii-ctypes  disable use of ascii case-conversion],
d1001 1
a1001 1
[  --disable-file-upload   disable file-upload support],
d1010 1
a1010 1
[  --disable-idna          disable IDNA support],
d1022 1
a1022 1
[  --disable-justify-elts  disable element-justification logic],
d1031 1
a1031 1
[  --disable-partial       disable partial-display logic],
d1049 1
a1049 1
[  --disable-prettysrc     disable colorization of HTML source],
d1058 1
a1058 1
[  --disable-progressbar   disable progress-bar],
d1067 1
a1067 1
[  --disable-read-eta      disable read-progress message shows ETA],
d1076 1
a1076 1
[  --disable-source-cache  do not cache HTML source for parse mode changes],
d1085 1
a1085 1
[  --disable-scrollbar     disable scrollbar with mouse],
@


1.1.109.20
log
@May as well properly merge dev.11 now; dev.12 will probably take a while,
and its good to have a baseline for an updated MirPort.
@
text
@d32 1
a32 1
AC_REVISION(2.8.8dev.11)
d67 1
a67 1
VERSION=2.8.8dev.11
@


1.1.109.21
log
@Another development release of Lynx fixing minor bugs
@
text
@d32 1
a32 1
AC_REVISION(2.8.8dev.12)
d67 1
a67 1
VERSION=2.8.8dev.12
@


1.1.109.22
log
@lynx2.8.8dev.14
@
text
@d1 1
a1 1
dnl $LynxId: configure.in,v 1.239 2012/08/10 15:31:34 tom Exp $
d32 1
a32 1
AC_REVISION(2.8.8dev.14)
d67 1
a67 1
VERSION=2.8.8dev.14
a109 1
CF_MAKEFLAGS
a111 4
CF_ACVERSION_CHECK(2.52,
	[AC_PATH_TOOL(WINDRES, windres, none)],
	[AC_PATH_PROG(WINDRES, windres, none)])

d767 4
a770 4
CF_CHECK_SIZEOF(int,4)
CF_CHECK_SIZEOF(long,4)
CF_CHECK_SIZEOF(off_t,4)
CF_CHECK_SIZEOF(time_t,4)
a781 1
	atoll \
@


1.1.109.23
log
@Import Lynx 2.8.8dev.15 as suggested by lewellyn on IRC
@
text
@d1 1
a1 1
dnl $LynxId: configure.in,v 1.244 2012/11/09 10:28:16 tom Exp $
d32 1
a32 1
AC_REVISION(2.8.8dev.15)
d67 1
a67 1
VERSION=2.8.8dev.15
d95 1
a95 1
CF_PROG_CC
d117 3
d148 1
a148 1
test "$with_leak_checks" = "yes" && AC_DEFINE(LY_FIND_LEAKS,1,[Define to 1 if you want to check memory-leaks])
d186 1
a186 1
test $with_trace = no && AC_DEFINE(NO_LYNX_TRACE,1,[Define to 1 if you want to enable lynx trace code])
d194 1
a194 1
test $with_vertrace = yes && AC_DEFINE(LY_TRACELINE,__LINE__,[Define to __LINE__ if you want verbose trace code])
d219 3
a221 1
AC_DEFINE(UNIX,1,[Define to 1 if we can run a configure script])
d224 1
d352 1
a352 1
		[AC_DEFINE(HAVE_CURSESX_H,1,[Define to 1 if we have cursesX.h])
d410 1
a410 1
test $with_full_paths = no && AC_DEFINE(USE_EXECVP,1,[Define to 1 if you want full utility pathnames])
d512 1
a512 1
	[AC_DEFINE(ENABLE_IPV6,1,[Define to 1 if we should enable ipv6])])
d588 1
a588 1
	AC_DEFINE(USE_COLOR_STYLE,1,[Define to 1 if we should enable color-style])
d603 1
a603 1
	AC_DEFINE_UNQUOTED(LYNX_LSS_FILE,"$LYNX_LSS_FILE",[Define to default path for Lynx lss-file])
d626 1
a626 1
AC_DEFINE_UNQUOTED(LYNX_CFG_FILE,"$LYNX_CFG_FILE",[Define to default path for Lynx cfg-file])
d665 1
a665 1
AC_DEFINE_UNQUOTED(MIME_LIBDIR,"$MIME_LIBDIR",[Define to default path for MIME library])
d674 1
a674 1
test $use_locale_charset != no && AC_DEFINE(USE_LOCALE_CHARSET,1,[Define to 1 if locale-charset selection logic should be used])
d690 1
a690 1
	AC_DEFINE(ALL_CHARSETS,0,[Define to 0 if xxx])
d849 1
a849 1
test $use_bibp_urls = no && AC_DEFINE(DISABLE_BIBP,1,[Define to 1 if bibp: URLs should be supported])
d858 1
a858 1
test $use_config_info = no && AC_DEFINE(NO_CONFIG_INFO,1,[Define to 1 if configuration info should be browsable])
d867 1
a867 1
test $use_forms_options = no && AC_DEFINE(NO_OPTION_FORMS,1,[Define to 1 if new-style forms-based options screen should be used])
d876 1
a876 1
test $use_menu_options = no && AC_DEFINE(NO_OPTION_MENU,1,[Define to 1 if old-style options menu should be used])
d886 1
a886 1
	AC_DEFINE(USE_SESSIONS,1,[Define to 1 if sessions code should be used])
d898 1
a898 1
    AC_DEFINE(USE_CACHEJAR,1,[Define to 1 if session-caching code should be used])
d908 1
a908 1
test $use_addrlist_page != no && AC_DEFINE(USE_ADDRLIST_PAGE,1,[Define to 1 if address-list page should be used])
d917 1
a917 1
test $use_cjk != no && AC_DEFINE(CJK_EX,1,[Define to 1 if experimental CJK logic should be used])
d927 1
a927 1
	AC_DEFINE(EXP_JAPANESEUTF8_SUPPORT,1,[Define to 1 if experimental Japanese UTF-8 logic should be used])
d949 1
a949 1
test $use_dft_colors = "yes" && AC_DEFINE(USE_DEFAULT_COLORS,1,[Define to 1 if you want to use default-colors])
d959 1
a959 1
test $use_kbd_layout != no && AC_DEFINE(EXP_KEYBOARD_LAYOUT,1,[Define to 1 if experimental keyboard-layout logic should be used])
d968 1
a968 1
test $use_nested_tables != no && AC_DEFINE(EXP_NESTED_TABLES,1,[Define to 1 if experimental nested-table logic should be used])
d984 1
a984 1
test $use_alt_bindings != no && AC_DEFINE(USE_ALT_BINDINGS,1,[Define to 1 if alternative line-edit bindings should be used])
d993 1
a993 1
test $use_ascii_ctypes != no && AC_DEFINE(USE_ASCII_CTYPES,1,[Define to 1 if ascii case-conversion should be used])
d1002 1
a1002 1
test $use_ext_htmldtd = "no" && AC_DEFINE(NO_EXTENDED_HTMLDTD,1,[Define to 1 if you want to use extended HTML DTD logic])
d1011 1
a1011 1
test $use_file_upload != no && AC_DEFINE(USE_FILE_UPLOAD,1,[Define to 1 if file-upload logic should be used])
d1032 1
a1032 1
test $use_justify_elts != no && AC_DEFINE(USE_JUSTIFY_ELTS,1,[Define to 1 if element-justification logic should be used])
d1041 1
a1041 1
test $use_partial_display != no && AC_DEFINE(DISP_PARTIAL,1,[Define to 1 if partial-display should be used])
d1050 1
a1050 1
test $use_filed_cookies != no && AC_DEFINE(USE_PERSISTENT_COOKIES,1,[Define to 1 if persistent-cookie logic should be used])
d1059 1
a1059 1
test $use_prettysrc != no && AC_DEFINE(USE_PRETTYSRC,1,[Define to 1 if html source should be colorized])
d1068 1
a1068 1
test $use_progressbar != no && AC_DEFINE(USE_PROGRESSBAR,1,[Define to 1 if progress-bar code should be used])
d1077 1
a1077 1
test $use_read_eta != no && AC_DEFINE(USE_READPROGRESS,1,[Define to 1 if read-progress message should show ETA])
d1086 1
a1086 1
test $use_source_cache != no && AC_DEFINE(USE_SOURCE_CACHE,1,[Define to 1 if source caching should be used])
d1103 1
a1103 1
test $use_charset_choice != no && AC_DEFINE(USE_CHARSET_CHOICE,1,[Define to 1 if charset-selection logic should be used])
d1113 1
a1113 1
	AC_DEFINE(USE_EXTERNALS,1,[Define to 1 if you want to use external commands])
d1141 1
a1141 1
		AC_DEFINE(EXP_CHARTRANS_AUTOSWITCH,1,[Define to 1 if you want to use setfont support])
d1149 1
a1149 1
	[AC_DEFINE(LYNXCGI_LINKS,1,[Define to 1 if you want cgi-link support])])
d1159 1
a1159 1
test $use_change_exec = yes && AC_DEFINE(ENABLE_OPTS_CHANGE_EXEC,1,[Define to 1 if you want change-exec support])
d1169 1
a1169 1
test $use_exec_links = yes && AC_DEFINE(EXEC_LINKS,1,[Define to 1 if you want exec-links support])
d1179 1
a1179 1
test $use_exec_scripts = yes && AC_DEFINE(EXEC_SCRIPTS,1,[Define to 1 if you want exec-scripts support])
d1188 1
a1188 1
test $use_internal_links = no && AC_DEFINE(DONT_TRACK_INTERNAL_LINKS,1,[Define to 1 if you want internal-links feature])
d1200 1
a1200 1
		AC_DEFINE(_WINDOWS_NSL,1,[Define to 1 if we want NSL-fork with Windows])
d1203 1
a1203 1
		AC_DEFINE(NSL_FORK,1,[Define to 1 if we want NSL-fork])
d1215 1
a1215 1
test $use_syslog = yes && AC_DEFINE(SYSLOG_REQUESTED_URLS,1,[Define to 1 if you want to log URL requests via syslog])
d1224 2
a1225 2
test $use_underline = yes && AC_DEFINE(UNDERLINE_LINKS,1,[Define to 1 if xxx])
test $use_underline = no  && AC_DEFINE(UNDERLINE_LINKS,0,[Define to 0 if xxx])
d1245 1
a1245 1
	test "x$cf_cv_find_linkage_bz2" = "xyes" && AC_DEFINE(USE_BZLIB,1,[Define to 1 if you want to use libbz2 for decompression of some bzip2 files])
d1258 1
a1258 1
	test "x$cf_cv_find_linkage_z" = "xyes" && AC_DEFINE(USE_ZLIB,1,[Define to 1 if you want to use zlib for decompression of some gzip files])
d1272 1
a1272 1
test $use_finger != "no" && AC_DEFINE(DISABLE_FINGER,1,[Define to 1 if you want to exclude FINGER code])
d1281 1
a1281 1
test $use_gopher != "no" && AC_DEFINE(DISABLE_GOPHER,1,[Define to 1 if you want to exclude GOPHER code])
d1290 1
a1290 1
test $use_news != "no" && AC_DEFINE(DISABLE_NEWS,1,[Define to 1 if you want to exclude NEWS code])
d1299 1
a1299 1
test $use_ftp != "no" && AC_DEFINE(DISABLE_FTP,1,[Define to 1 if you want to exclude FTP code])
d1339 1
a1339 1
	AC_DEFINE(DIRED_SUPPORT,1,[Define to 1 if we want dired support])
d1343 1
a1343 1
	[  --disable-dired-dearchive disable dearchiving commands],[AC_DEFINE(ARCHIVE_ONLY,1,[Define to 1 if you wish to allow extracting from archives via DirEd])])
d1348 1
a1348 1
	[  --disable-dired-override disable DirEd override keymap],,[AC_DEFINE(OK_OVERRIDE,1,[Define to 1 if DirEd mode should override keys])])
d1353 1
a1353 1
	[  --disable-dired-permit  disable chmod/attrib commands],,[AC_DEFINE(OK_PERMIT,1,[Define to 1 if you wish to allow permissions commands via DirEd])])
d1358 1
a1358 1
	[  --disable-dired-xpermit disable chmod/attrib commands],[AC_DEFINE(NO_CHANGE_EXECUTE_PERMS,1,[Define to 1 if you wish to allow executable-permission commands via DirEd])])
d1363 1
a1363 1
	[  --disable-dired-tar     disable "tar" command],,[AC_DEFINE(OK_TAR,1,[Define to 1 if if you wish to allow "tar" commands from DirEd])])
d1368 1
a1368 1
	[  --disable-dired-uudecode disable "uudecode" command],,[AC_DEFINE(OK_UUDECODE,1,[Define to 1 if you wish to allow "uudecode" commands from DirEd])])
d1373 1
a1373 1
	[  --disable-dired-zip     disable "zip", "unzip"  commands],,[AC_DEFINE(OK_ZIP,1,[Define to 1 if you wish to allow "zip" and "unzip" commands from DirEd])])
d1378 1
a1378 1
	[  --disable-dired-gzip    disable "gzip", "gunzip" commands],,[AC_DEFINE(OK_GZIP,1,[Define to 1 if you wish to allow "gzip" and "gunzip" commands from DirEd])])
d1386 1
a1386 1
	[AC_DEFINE(LONG_LIST,1,[Define to 1 if you want long-directory listings])])
d1394 1
a1394 1
	[AC_DEFINE(NO_PARENT_DIR_REFERENCE,1,[Define to 1 if parent-directory references are permitted])])
d1411 4
a1414 4
AC_DEFINE_UNQUOTED(TAR_UP_OPTIONS,   "$TAR_UP_OPTIONS",[Define to command for tar'ing up files])
AC_DEFINE_UNQUOTED(TAR_DOWN_OPTIONS, "$TAR_DOWN_OPTIONS",[Define to command for untar'ing files])
AC_DEFINE_UNQUOTED(TAR_FILE_OPTIONS, "$TAR_FILE_OPTIONS",[Define to options for tar to work with files])
AC_DEFINE_UNQUOTED(TAR_PIPE_OPTIONS, "$TAR_PIPE_OPTIONS",[Define to options for tar to work with pipes])
d1512 1
a1512 1
		AC_DEFINE(USE_SCROLLBAR,1,[Define to 1 if configuration supports ACS_xxx definitions])
@


1.1.109.24
log
@Update to the latest Lynx patchkit
@
text
@d1 1
a1 1
dnl $LynxId: configure.in,v 1.247 2013/05/01 08:54:16 tom Exp $
d10 1
a10 1
dnl Copyright 1997-2012,2013 by Thomas E. Dickey
d32 1
a32 1
AC_REVISION(2.8.8dev.15e)
d67 1
a67 1
VERSION=2.8.8dev.15e
a769 1
AC_CHECK_TYPE(intptr_t, long)
d1182 1
a1182 1
test $use_internal_links = yes && AC_DEFINE(TRACK_INTERNAL_LINKS,1,[Define to 1 if you want internal-links feature])
@


1.1.109.25
log
@Update
@
text
@d32 1
a32 1
AC_REVISION(2.8.8dev.16)
d67 1
a67 1
VERSION=2.8.8dev.16
@


