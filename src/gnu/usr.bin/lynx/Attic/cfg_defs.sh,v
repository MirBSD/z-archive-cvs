head	1.2;
access;
symbols
	MIRBSD_8:1.1.109.1.0.2
	MIRBSD_8_BASE:1.1.109.1
	lynx-2_8_6dev_16:1.1.109.1
	lynx:1.1.109;
locks; strict;
comment	@# @;


1.2
date	2006.06.02.19.32.50;	author tg;	state dead;
branches;
next	1.1;
commitid	1004480926F0D407628;

1.1
date	2005.03.27.22.11.52;	author tg;	state Exp;
branches
	1.1.109.1;
next	;

1.1.109.1
date	2005.03.27.22.11.52;	author tg;	state Exp;
branches;
next	1.1.109.2;

1.1.109.2
date	2006.06.15.19.33.34;	author tg;	state dead;
branches;
next	;
commitid	1004491B61C19ABA389;


desc
@@


1.2
log
@merge (yay, exactly my SSL verification code is in)
@
text
@#!/bin/sh
# Translate the lynx_cfg.h and config.cache data into a table, useful for
# display at runtime.

TOP="${1-.}"
OUT=cfg_defs.h

# just in case we want to run this outside the makefile
: ${SHELL:=/bin/sh}

cat >$OUT <<EOF
#ifndef CFG_DEFS_H
#define CFG_DEFS_H 1

static const struct {
	const char *name;
	const char *value;
} config_cache[] = {
EOF

sed \
	-e '/^#/d'     \
	-e 's/^.[^=]*_cv_//' \
	-e 's/=\${.*=/=/'  \
	-e 's/}$//'          \
	config.cache | $SHELL $TOP/cfg_edit.sh >>$OUT

cat >>$OUT <<EOF
};

static const struct {
	const char *name;
	const char *value;
} config_defines[] = {
EOF
fgrep	'#define' lynx_cfg.h |
sed	-e 's@@	@@ @@g' \
	-e 's@@  @@ @@g' \
	-e 's@@^[ 	]*#define[ 	]*@@@@' \
	-e 's@@[ ]*/\*.*\*/@@@@' \
	-e 's@@[ 	][ 	]*@@=@@' \
    | $SHELL $TOP/cfg_edit.sh >>$OUT

cat >>$OUT <<EOF
};

#endif /* CFG_DEFS_H */
EOF
@


1.1
log
@Initial revision
@
text
@@


1.1.109.1
log
@Lynx 2.8.6dev.11h (pre-patch) minus
* lib
* po
* scripts
@
text
@@


1.1.109.2
log
@apply lynx 2.8.6dev.16c patch
@
text
@@

