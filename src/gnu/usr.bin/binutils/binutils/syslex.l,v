head	1.5;
access;
symbols
	MIRBSD_10:1.5.0.4
	MIRBSD_10_BASE:1.5
	MIRBSD_9_BASE:1.5
	MIRBSD_8:1.5.0.2
	MIRBSD_8_BASE:1.5
	binutils-20050707:1.1.101.3
	FSF:1.1.101;
locks; strict;
comment	@ * @;


1.5
date	2005.06.05.21.24.09;	author tg;	state Exp;
branches;
next	1.4;
commitid	3cf942a36d3e2dcb;

1.4
date	2005.03.28.23.39.49;	author tg;	state Exp;
branches;
next	1.3;

1.3
date	2005.03.28.22.06.05;	author tg;	state Exp;
branches;
next	1.2;

1.2
date	2005.03.13.16.06.54;	author tg;	state Exp;
branches;
next	1.1;

1.1
date	2005.02.05.00.18.31;	author tg;	state Exp;
branches
	1.1.101.1;
next	;

1.1.101.1
date	2005.02.05.00.18.31;	author tg;	state Exp;
branches;
next	1.1.101.2;

1.1.101.2
date	2005.03.28.15.36.16;	author tg;	state Exp;
branches;
next	1.1.101.3;

1.1.101.3
date	2005.05.14.16.42.02;	author tg;	state Exp;
branches;
next	;
commitid	3a6242862a097542;


desc
@@


1.5
log
@first attempt to merge binutils and gdb of today (minus generated files)
XXX elf.sc yields equivalent results for MirOS; double-check against
XXX other platforms. this merger took as much time as ALL the other files!
@
text
@%{
/* Copyright 2001, 2003, 2005 Free Software Foundation, Inc.

This file is part of GNU Binutils.

This program is free software; you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation; either version 2, or (at your option)
any later version.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.

You should have received a copy of the GNU General Public License
along with GLD; see the file COPYING.  If not, write to the Free
Software Foundation, 51 Franklin Street - Fifth Floor, Boston, MA
02110-1301, USA.  */

#include "config.h"
#ifdef HAVE_STRING_H
#include <string.h>
#else
#ifdef HAVE_STRINGS_H
#include <strings.h>
#endif
#endif
#include "sysinfo.h"

#define YY_NO_UNPUT

#ifndef yywrap
static int yywrap (void) { return 1; }
#endif

extern int yylex (void);
%}
%%
"(" { return '(';}
")" { return ')';}
"[" { return '[';}
"]" { return ']';}
" " { ; }
";".* { ; } 
"\t" { ; }
"\n" { ; }
"\""[^\"]*"\"" {
	yylval.s = malloc (yyleng - 1);
	memcpy (yylval.s, yytext + 1, yyleng - 2);
	yylval.s[yyleng - 2] = '\0';
        return NAME;
	}

0x[0-9a-f]+ {
        yylval.i = strtol(yytext,0,16);
	return  NUMBER;
	}

[0-9]+ {
        yylval.i = atoi(yytext);
	return  NUMBER;
	}


"bits" { yylval.i =1 ;return UNIT;}
"bit" { yylval.i = 1; return UNIT;}
"bytes" { yylval.i= 8; return UNIT;}
"byte" { yylval.i = 8; return UNIT;}

"int" { yylval.s = "INT"; return TYPE;}
"barray" { yylval.s = "BARRAY"; return TYPE;}
"chars" { yylval.s = "CHARS"; return TYPE;}
"variable" { yylval.i = 0; return NUMBER;}
"counted" { yylval.i = -4; return NUMBER;}
"addrsize" { yylval.i = -2; return NUMBER; }
"segsize" { yylval.i = -1; return NUMBER; }
"cond" { return COND;}
"repeat" { return REPEAT;}
@


1.4
log
@make 'em compile (and finish merging ;) ops)
@
text
@d4 1
a4 1
This file is part of GLD, the Gnu Linker.
d6 1
a6 1
GLD is free software; you can redistribute it and/or modify
d11 1
a11 1
GLD is distributed in the hope that it will be useful,
d18 2
a19 2
Software Foundation, 59 Temple Place - Suite 330, Boston, MA
02111-1307, USA.  */
a29 3
char *word;
int number;
int unit;
@


1.3
log
@merge binutils
@
text
@a0 1
%option nounput
a1 2
/* $MirOS: src/gnu/usr.bin/binutils/binutils/syslex.l,v 1.2 2005/03/13 16:06:54 tg Exp $ */

a29 4
#include <string.h>

__RCSID("$MirOS: src/gnu/usr.bin/binutils/binutils/syslex.l,v 1.2 2005/03/13 16:06:54 tg Exp $");

@


1.2
log
@merge binutils, minus generated files, plus generated+hacked files
@
text
@d3 1
a3 1
/* $MirOS$ */
d5 1
a5 1
/* Copyright 2001, 2003 Free Software Foundation, Inc.
d24 8
d35 1
a35 1
__RCSID("$MirOS$");
d41 2
d46 2
d59 3
a61 3
yylval.s = malloc(strlen (yytext));
strcpy(yylval.s, yytext+1);
yylval.s[strlen(yylval.s)-1] = 0;
@


1.1
log
@Initial revision
@
text
@d1 1
d3 2
d25 4
@


1.1.101.1
log
@GNU binutils (CVS snapshot)
@
text
@@


1.1.101.2
log
@GNU binutils (CVS snapshot), without
* top-level files
* bfd/po
* binutils/po
* binutils/testsuite
* gas/po
* gas/testsuite
* gprof
* intl
* ld/po
* ld/testsuite
* libiberty/config
* opcodes/po
* texinfo
(same procedure as usual)
@
text
@d2 1
a2 1
/* Copyright 2001, 2003, 2005 Free Software Foundation, Inc.
a20 8
#include "config.h"
#ifdef HAVE_STRING_H
#include <string.h>
#else
#ifdef HAVE_STRINGS_H
#include <strings.h>
#endif
#endif
a25 2
#define YY_NO_UNPUT

a28 2

extern int yylex (void);
d40 3
a42 3
	yylval.s = malloc (yyleng - 1);
	memcpy (yylval.s, yytext + 1, yyleng - 2);
	yylval.s[yyleng - 2] = '\0';
@


1.1.101.3
log
@GNU binutils, -current (mainline) snapshot as of today,
with the usual bunch of files removed
@
text
@d4 1
a4 1
This file is part of GNU Binutils.
d6 1
a6 1
This program is free software; you can redistribute it and/or modify
d11 1
a11 1
This program is distributed in the hope that it will be useful,
d18 2
a19 2
Software Foundation, 51 Franklin Street - Fifth Floor, Boston, MA
02110-1301, USA.  */
d30 3
@


