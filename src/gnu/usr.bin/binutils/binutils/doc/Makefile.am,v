head	1.4;
access;
symbols
	MIRBSD_10:1.4.0.4
	MIRBSD_10_BASE:1.4
	MIRBSD_9_BASE:1.4
	MIRBSD_8:1.4.0.2
	MIRBSD_8_BASE:1.4
	binutils-20050707:1.1.101.2
	FSF:1.1.101;
locks; strict;
comment	@# @;


1.4
date	2005.06.13.20.25.30;	author tg;	state Exp;
branches;
next	1.3;
commitid	1a0042adebc81504;

1.3
date	2005.06.05.21.24.10;	author tg;	state Exp;
branches;
next	1.2;
commitid	3cf942a36d3e2dcb;

1.2
date	2005.03.13.16.06.55;	author tg;	state Exp;
branches;
next	1.1;

1.1
date	2005.02.05.00.18.31;	author tg;	state Exp;
branches
	1.1.101.1;
next	;

1.1.101.1
date	2005.02.05.00.18.31;	author tg;	state Exp;
branches;
next	1.1.101.2;

1.1.101.2
date	2005.06.05.17.45.13;	author tg;	state Exp;
branches;
next	;
commitid	7ce142a33a2d11fb;


desc
@@


1.4
log
@no need to hackery Makefile.in any more, wow
@
text
@# $MirOS: src/gnu/usr.bin/binutils/binutils/doc/Makefile.am,v 1.3 2005/06/05 21:24:10 tg Exp $
#
## Process this file with automake to generate Makefile.in

AUTOMAKE_OPTIONS = cygnus

AM_MAKEINFOFLAGS = --no-split

# What version of the manual you want; "all" includes everything
CONFIG=all

# Options to extract the man page from as.texinfo
MANCONF = -Dman

TEXI2POD = perl $(top_srcdir)/../etc/texi2pod.pl

POD2MAN = pod2man --center="GNU Development Tools" \
	 --release="binutils-$(VERSION)" --section=1

# List of man pages generated from binutils.texi
man_MANS = \
	addr2line.1 \
	ar.1 \
	dlltool.1 \
	nlmconv.1 \
	nm.1 \
	objcopy.1 \
	objdump.1 \
	ranlib.1 \
	readelf.1 \
	size.1 \
	strings.1 \
	strip.1 \
	windres.1 \
	$(DEMANGLER_NAME).1

info_TEXINFOS = binutils.texi
binutils_TEXINFOS = config.texi
binutils_TEXI = $(srcdir)/binutils.texi

DISTCLEANFILES = *.info*

config.texi: $(srcdir)/../../bfd/configure $(binutils_TEXI)
	rm -f config.texi
	eval `grep '^ *VERSION=' $(srcdir)/../../bfd/configure`; \
	  echo "@@set VERSION $$VERSION" > $@@
	echo "@@set UPDATED `date "+%B %Y"`" >> config.texi

# Man page generation from texinfo
addr2line.1:	$(binutils_TEXI)
	touch $@@
	-$(TEXI2POD) $(MANCONF) -Daddr2line < $(binutils_TEXI) > addr2line.pod
	-($(POD2MAN) addr2line.pod | sed -e '/^.if n .na/d' > $@@.T$$$$ && \
		mv -f $@@.T$$$$ $@@) || (rm -f $@@.T$$$$ && exit 1)
	rm -f addr2line.pod

ar.1:	$(binutils_TEXI)
	touch $@@
	-$(TEXI2POD) $(MANCONF) -Dar < $(binutils_TEXI) > ar.pod
	-($(POD2MAN) ar.pod | sed -e '/^.if n .na/d' > $@@.T$$$$ && \
		mv -f $@@.T$$$$ $@@) || (rm -f $@@.T$$$$ && exit 1)
	rm -f ar.pod

dlltool.1:	$(binutils_TEXI)
	touch $@@
	-$(TEXI2POD) $(MANCONF) -Ddlltool < $(binutils_TEXI) > dlltool.pod
	-($(POD2MAN) dlltool.pod | sed -e '/^.if n .na/d' > $@@.T$$$$ && \
		mv -f $@@.T$$$$ $@@) || (rm -f $@@.T$$$$ && exit 1)
	rm -f dlltool.pod

nlmconv.1:	$(binutils_TEXI)
	touch $@@
	-$(TEXI2POD) $(MANCONF) -Dnlmconv < $(binutils_TEXI) > nlmconv.pod
	-($(POD2MAN) nlmconv.pod | sed -e '/^.if n .na/d' > $@@.T$$$$ && \
		mv -f $@@.T$$$$ $@@) || (rm -f $@@.T$$$$ && exit 1)
	rm -f nlmconv.pod

nm.1:	$(binutils_TEXI)
	touch $@@
	-$(TEXI2POD) $(MANCONF) -Dnm < $(binutils_TEXI) > nm.pod
	-($(POD2MAN) nm.pod | sed -e '/^.if n .na/d' > $@@.T$$$$ && \
		mv -f $@@.T$$$$ $@@) || (rm -f $@@.T$$$$ && exit 1)
	rm -f nm.pod

objcopy.1:	$(binutils_TEXI)
	touch $@@
	-$(TEXI2POD) $(MANCONF) -Dobjcopy < $(binutils_TEXI) > objcopy.pod
	-($(POD2MAN) objcopy.pod | sed -e '/^.if n .na/d' > $@@.T$$$$ && \
		mv -f $@@.T$$$$ $@@) || (rm -f $@@.T$$$$ && exit 1)
	rm -f objcopy.pod

objdump.1:	$(binutils_TEXI)
	touch $@@
	-$(TEXI2POD) $(MANCONF) -Dobjdump < $(binutils_TEXI) > objdump.pod
	-($(POD2MAN) objdump.pod | sed -e '/^.if n .na/d' > $@@.T$$$$ && \
		mv -f $@@.T$$$$ $@@) || (rm -f $@@.T$$$$ && exit 1)
	rm -f objdump.pod

ranlib.1:	$(binutils_TEXI)
	touch $@@
	-$(TEXI2POD) $(MANCONF) -Dranlib < $(binutils_TEXI) > ranlib.pod
	-($(POD2MAN) ranlib.pod | sed -e '/^.if n .na/d' > $@@.T$$$$ && \
		mv -f $@@.T$$$$ $@@) || (rm -f $@@.T$$$$ && exit 1)
	rm -f ranlib.pod

readelf.1:	$(binutils_TEXI)
	touch $@@
	-$(TEXI2POD) $(MANCONF) -Dreadelf < $(binutils_TEXI) > readelf.pod
	-($(POD2MAN) readelf.pod | sed -e '/^.if n .na/d' > $@@.T$$$$ && \
		mv -f $@@.T$$$$ $@@) || (rm -f $@@.T$$$$ && exit 1)
	rm -f readelf.pod

size.1:	$(binutils_TEXI)
	touch $@@
	-$(TEXI2POD) $(MANCONF) -Dsize < $(binutils_TEXI) > size.pod
	-($(POD2MAN) size.pod | sed -e '/^.if n .na/d' > $@@.T$$$$ && \
		mv -f $@@.T$$$$ $@@) || (rm -f $@@.T$$$$ && exit 1)
	rm -f size.pod

strings.1:	$(binutils_TEXI)
	touch $@@
	-$(TEXI2POD) $(MANCONF) -Dstrings < $(binutils_TEXI) > strings.pod
	-($(POD2MAN) strings.pod | sed -e '/^.if n .na/d' > $@@.T$$$$ && \
		mv -f $@@.T$$$$ $@@) || (rm -f $@@.T$$$$ && exit 1)
	rm -f strings.pod

strip.1:	$(binutils_TEXI)
	touch $@@
	-$(TEXI2POD) $(MANCONF) -Dstrip < $(binutils_TEXI) > strip.pod
	-($(POD2MAN) strip.pod | sed -e '/^.if n .na/d' > $@@.T$$$$ && \
		mv -f $@@.T$$$$ $@@) || (rm -f $@@.T$$$$ && exit 1)
	rm -f strip.pod

windres.1:	$(binutils_TEXI)
	touch $@@
	-$(TEXI2POD) $(MANCONF) -Dwindres < $(binutils_TEXI) > windres.pod
	-($(POD2MAN) windres.pod | sed -e '/^.if n .na/d' > $@@.T$$$$ && \
		mv -f $@@.T$$$$ $@@) || (rm -f $@@.T$$$$ && exit 1)
	rm -f windres.pod

cxxfilt.man:	$(binutils_TEXI)
	touch $@@
	-$(TEXI2POD) $(MANCONF) -Dcxxfilt < $(binutils_TEXI) > $(DEMANGLER_NAME).pod
	-($(POD2MAN) $(DEMANGLER_NAME).pod | sed -e '/^.if n .na/d' > $@@.T$$$$ && \
		mv -f $@@.T$$$$ $@@) || (rm -f $@@.T$$$$ && exit 1)
	rm -f $(DEMANGLER_NAME).pod

MAINTAINERCLEANFILES = config.texi
MOSTLYCLEANFILES     = $(DEMANGLER_NAME).1

$(DEMANGLER_NAME).1: cxxfilt.man Makefile
	if test -f cxxfilt.man; then \
	  man=cxxfilt.man; \
	else \
	  man=$(srcdir)/cxxfilt.man; \
	fi; \
	sed -e 's/@@PROGRAM@@/$(DEMANGLER_NAME)/' \
	    -e 's/cxxfilt/$(DEMANGLER_NAME)/' < $$man \
		> $(DEMANGLER_NAME).1

# We want install to imply install-info as per GNU standards, despite the
# cygnus option.
install-data-local: install-info

# Maintenance

# We need it for the taz target in ../../Makefile.in.
info-local: $(MANS)
@


1.3
log
@first attempt to merge binutils and gdb of today (minus generated files)
XXX elf.sc yields equivalent results for MirOS; double-check against
XXX other platforms. this merger took as much time as ALL the other files!
@
text
@d1 1
a1 1
# $MirOS: src/gnu/usr.bin/binutils/binutils/doc/Makefile.am,v 1.2 2005/03/13 16:06:55 tg Exp $
d41 2
@


1.2
log
@merge binutils, minus generated files, plus generated+hacked files
@
text
@d1 1
a1 1
# $MirOS$
d38 2
d41 1
a41 1
config.texi: Makefile
d43 2
a44 1
	echo '@@set VERSION $(VERSION)' > config.texi
a46 6
binutils_TEXI = $(srcdir)/binutils.texi

binutils.dvi:  $(binutils_TEXI) config.texi

binutils.info: $(binutils_TEXI) config.texi

a146 1
DISTCLEANFILES       = config.texi
d161 1
a161 1
install: install-info
d166 1
a166 1
info: $(MANS)
@


1.1
log
@Initial revision
@
text
@d1 2
d7 2
@


1.1.101.1
log
@GNU binutils (CVS snapshot)
@
text
@@


1.1.101.2
log
@Import GNU binutils and gdb as of today (snapshot), appropriately shortened
using src/scripts/binutils-import,v 1.4
@
text
@a33 2
binutils_TEXINFOS = config.texi
binutils_TEXI = $(srcdir)/binutils.texi
d35 1
a35 1
config.texi: $(srcdir)/../../bfd/configure $(binutils_TEXI)
d37 1
a37 2
	eval `grep '^ *VERSION=' $(srcdir)/../../bfd/configure`; \
	  echo "@@set VERSION $$VERSION" > $@@
d40 6
d146 1
d161 1
a161 1
install-data-local: install-info
d166 1
a166 1
info-local: $(MANS)
@

