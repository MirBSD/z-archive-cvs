head	1.6;
access;
symbols
	MIRBSD_10:1.5.0.4
	MIRBSD_10_BASE:1.5
	MIRBSD_9_BASE:1.5
	MIRBSD_8:1.5.0.2
	MIRBSD_8_BASE:1.5
	binutils-20050707:1.1.101.4
	FSF:1.1.101;
locks; strict;
comment	@# @;


1.6
date	2009.02.24.21.47.25;	author tg;	state Exp;
branches;
next	1.5;
commitid	10049A46AFA6E60516A;

1.5
date	2005.07.17.14.25.29;	author tg;	state Exp;
branches;
next	1.4;
commitid	548742da6a6bfc90;

1.4
date	2005.06.05.21.24.14;	author tg;	state Exp;
branches;
next	1.3;
commitid	3cf942a36d3e2dcb;

1.3
date	2005.03.28.21.40.36;	author tg;	state Exp;
branches;
next	1.2;

1.2
date	2005.03.13.16.06.58;	author tg;	state Exp;
branches;
next	1.1;

1.1
date	2005.02.05.00.18.49;	author tg;	state Exp;
branches
	1.1.101.1;
next	;

1.1.101.1
date	2005.02.05.00.18.49;	author tg;	state Exp;
branches;
next	1.1.101.2;

1.1.101.2
date	2005.03.28.15.40.19;	author tg;	state Exp;
branches;
next	1.1.101.3;

1.1.101.3
date	2005.05.14.16.49.09;	author tg;	state Exp;
branches;
next	1.1.101.4;
commitid	3a6242862a097542;

1.1.101.4
date	2005.06.05.17.45.39;	author tg;	state Exp;
branches;
next	;
commitid	7ce142a33a2d11fb;


desc
@@


1.6
log
@ensure texi2pod.pl sets $ibase correctly
@
text
@# $MirOS: src/gnu/usr.bin/binutils/gas/doc/Makefile.am,v 1.5 2005/07/17 14:25:29 tg Exp $
#
## Process this file with automake to generate Makefile.in

AUTOMAKE_OPTIONS = 1.8 cygnus

AM_MAKEINFOFLAGS = --no-split

# What version of the manual you want; "all" includes everything
CONFIG=all

# Options to extract the man page from as.texinfo
MANCONF = -Dman

TEXI2POD = perl $(top_srcdir)/../etc/texi2pod.pl

POD2MAN = pod2man --center="GNU Development Tools" \
	--release="binutils-$(VERSION)" --section=1

man_MANS = as.1

info_TEXINFOS = as.texinfo 

asconfig.texi: $(CONFIG).texi
	rm -f asconfig.texi
	ln -s $(srcdir)/$(CONFIG).texi ./asconfig.texi >/dev/null 2>&1 \
	  || ln $(srcdir)/$(CONFIG).texi ./asconfig.texi >/dev/null 2>&1 \
	  || cp $(srcdir)/$(CONFIG).texi ./asconfig.texi

CPU_DOCS = \
	c-a29k.texi \
	c-alpha.texi \
	c-arc.texi \
	c-arm.texi \
	c-d10v.texi \
	c-cris.texi \
	c-h8300.texi \
	c-h8500.texi \
	c-hppa.texi \
	c-i370.texi \
	c-i386.texi \
	c-i860.texi \
	c-i960.texi \
	c-ip2k.texi \
	c-m32r.texi \
	c-m68hc11.texi \
	c-m68k.texi \
	c-m88k.texi \
	c-mips.texi \
	c-mmix.texi \
	c-msp430.texi \
	c-ns32k.texi \
	c-pdp11.texi \
	c-pj.texi \
	c-ppc.texi \
	c-sh.texi \
	c-sh64.texi \
	c-sparc.texi \
        c-tic54x.texi \
	c-vax.texi \
	c-v850.texi \
	c-xtensa.texi \
	c-z8k.texi

gasver.texi: $(srcdir)/../../bfd/configure
	rm -f $@@
	eval `grep '^ *VERSION=' $(srcdir)/../../bfd/configure`; \
	  echo "@@set VERSION $$VERSION" > $@@

# We want install to imply install-info as per GNU standards, despite the
# cygnus option.
install-data-local: install-info

# This one isn't ready for prime time yet.  Not even a little bit.

noinst_TEXINFOS = internals.texi

DISTCLEANFILES = asconfig.texi as.info as.info-*

MAINTAINERCLEANFILES = asconfig.texi gasver.texi

BASEDIR = $(srcdir)/../..
BFDDIR = $(BASEDIR)/bfd

CONFIG_STATUS_DEPENDENCIES = $(BFDDIR)/configure.in

# Maintenance

# We need it for the taz target in ../../Makefile.in.
info-local: $(MANS)

# Build the man page from the texinfo file
# The sed command removes the no-adjust Nroff command so that
# the man output looks standard.
as.1: $(srcdir)/as.texinfo asconfig.texi gasver.texi $(CPU_DOCS)
	touch $@@
	-$(TEXI2POD) $(MANCONF) $(srcdir)/as.texinfo > as.pod
	-($(POD2MAN) as.pod | \
	        sed -e '/^.if n .na/d' > $@@.T$$$$ && \
	        mv -f $@@.T$$$$ $@@) || \
	        (rm -f $@@.T$$$$ && exit 1)
	rm -f as.pod
@


1.5
log
@I doubt this is needed
@
text
@d1 1
a1 1
# $MirOS: src/gnu/usr.bin/binutils/gas/doc/Makefile.am,v 1.4 2005/06/05 21:24:14 tg Exp $
d97 1
a97 1
	-$(TEXI2POD) $(MANCONF) < $(srcdir)/as.texinfo > as.pod
@


1.4
log
@first attempt to merge binutils and gdb of today (minus generated files)
XXX elf.sc yields equivalent results for MirOS; double-check against
XXX other platforms. this merger took as much time as ALL the other files!
@
text
@d1 1
a1 1
# $MirOS: src/gnu/usr.bin/binutils/gas/doc/Makefile.am,v 1.3 2005/03/28 21:40:36 tg Exp $
a91 3
INSTALL_MAN=install-man1
install-man: $(INSTALL_MAN)

@


1.3
log
@automatic merge of gas
@
text
@d1 1
a1 1
# $MirOS: src/gnu/usr.bin/binutils/gas/doc/Makefile.am,v 1.2 2005/03/13 16:06:58 tg Exp $
d65 1
a65 1
gasver.texi: Makefile
d67 2
a68 1
	echo '@@set VERSION $(VERSION)' > $@@
d80 1
a80 1
MAINTAINERCLEANFILES = gasver.texi
@


1.2
log
@merge binutils, minus generated files, plus generated+hacked files
@
text
@d1 1
a1 1
# $MirOS$
a68 3
#as.info: $(srcdir)/as.texinfo asconfig.texi gasver.texi $(CPU_DOCS)
#as.dvi: $(srcdir)/as.texinfo asconfig.texi gasver.texi $(CPU_DOCS)

@


1.1
log
@Initial revision
@
text
@d1 2
d7 2
d69 2
a70 2
as.info: $(srcdir)/as.texinfo asconfig.texi gasver.texi $(CPU_DOCS)
as.dvi: $(srcdir)/as.texinfo asconfig.texi gasver.texi $(CPU_DOCS)
d80 1
a80 1
DISTCLEANFILES = asconfig.texi
d94 3
@


1.1.101.1
log
@GNU binutils (CVS snapshot)
@
text
@@


1.1.101.2
log
@GNU binutils (CVS snapshot), without
* top-level files
* bfd/po
* binutils/po
* binutils/testsuite
* gas/po
* gas/testsuite
* gprof
* intl
* ld/po
* ld/testsuite
* libiberty/config
* opcodes/po
* texinfo
(same procedure as usual)
@
text
@d65 1
a65 1
$(srcdir)/as.info: $(srcdir)/as.texinfo asconfig.texi gasver.texi $(CPU_DOCS)
@


1.1.101.3
log
@GNU binutils, -current (mainline) snapshot as of today,
with the usual bunch of files removed
@
text
@d61 1
a61 1
gasver.texi: $(srcdir)/../../bfd/configure
d63 1
a63 1
	eval `grep '^ *VERSION=' $<`; echo "@@set VERSION $$VERSION" > $@@
d76 3
a78 1
MAINTAINERCLEANFILES = asconfig.texi gasver.texi
@


1.1.101.4
log
@Import GNU binutils and gdb as of today (snapshot), appropriately shortened
using src/scripts/binutils-import,v 1.4
@
text
@d63 1
a63 2
	eval `grep '^ *VERSION=' $(srcdir)/../../bfd/configure`; \
	  echo "@@set VERSION $$VERSION" > $@@
@


