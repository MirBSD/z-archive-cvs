head	1.8;
access;
symbols
	MIRBSD_10:1.8.0.2
	MIRBSD_10_BASE:1.8
	MIRBSD_9_BASE:1.7
	MIRBSD_8:1.7.0.2
	MIRBSD_8_BASE:1.7
	mirbsd:1.1.7;
locks; strict;
comment	@# @;


1.8
date	2006.10.17.22.17.04;	author tg;	state Exp;
branches;
next	1.7;
commitid	100453554CF31EEEA43;

1.7
date	2005.06.13.20.12.30;	author tg;	state Exp;
branches;
next	1.6;
commitid	75a142ade8b80767;

1.6
date	2005.06.13.19.16.33;	author tg;	state Exp;
branches;
next	1.5;
commitid	792442addb9ac5dc;

1.5
date	2005.06.05.21.23.49;	author tg;	state Exp;
branches;
next	1.4;
commitid	3cf942a36d3e2dcb;

1.4
date	2005.06.05.17.35.12;	author tg;	state Exp;
branches;
next	1.3;
commitid	11ac42a337e1ee25;

1.3
date	2005.03.29.00.08.28;	author tg;	state Exp;
branches;
next	1.2;

1.2
date	2005.03.28.21.54.18;	author tg;	state Exp;
branches;
next	1.1;

1.1
date	2005.03.06.16.58.49;	author tg;	state Exp;
branches
	1.1.7.1;
next	;

1.1.7.1
date	2005.03.06.16.58.49;	author tg;	state Exp;
branches;
next	;


desc
@@


1.8
log
@remove that (silly?) GPL infection warning
cf. http://groups.google.com/group/comp.lang.python/msg/29c7588fbecd8289
cf. http://www.rosenlaw.com/html/GPL.PDF
cf. http://www.rosenlaw.com/html/GL18.pdf
@
text
@# $MirOS: src/gnu/usr.bin/binutils/bfd/Makefile.bsd-wrapper,v 1.7 2005/06/13 20:12:30 tg Exp $

.include "../Makefile.inc"

FSFSRC=		${GNU_BINUTILS_BFD}
CLEANFILES+=	bfd_inst.h doc/aoutx.texi doc/archive.texi \
		doc/archures.texi doc/bfdio.texi doc/bfdt.texi \
		doc/bfdwin.texi doc/cache.texi doc/coffcode.texi \
		doc/core.texi doc/elf.texi doc/elfcode.texi doc/format.texi \
		doc/hash.texi doc/init.texi doc/libbfd.texi doc/linker.texi \
		doc/mmo.texi doc/opncls.texi doc/reloc.texi doc/section.texi \
		doc/syms.texi doc/targets.texi

all: bfd_inst.h

bfd.h: build

bfd_inst.h: bfd.h ${GNU_LIBIBERTY_INC}/ansidecl.h \
    ${GNU_LIBIBERTY_INC}/symcat.h
	sed -e '/^#include "ansidecl.h"/r${GNU_LIBIBERTY_INC}/ansidecl.h' -e \
	    '//d' -e '/^#include "symcat.h"/r${GNU_LIBIBERTY_INC}/symcat.h' \
	    -e '//d' <bfd.h >$@@

post-install:
	chown ${LIBOWN}:${LIBGRP} ${DESTDIR}/usr/lib/libbfd.{a,la}
	chmod ${LIBMODE} ${DESTDIR}/usr/lib/libbfd.{a,la}
	${INSTALL_DATA} bfd_inst.h ${DESTDIR}/usr/include/bfd.h
	${INSTALL_DATA} bfdver.h ${DESTDIR}/usr/include/
	${INSTALL_DATA} ${GNU_LIBIBERTY_INC}/bfdlink.h ${DESTDIR}/usr/include/

.include <bsd.cfwrap.mk>
@


1.7
log
@regenerate
@
text
@d1 1
a1 1
# $MirOS: src/gnu/usr.bin/binutils/bfd/Makefile.bsd-wrapper,v 1.6 2005/06/13 19:16:33 tg Exp $
d6 1
a6 1
CLEANFILES+=	_gplwarn.c bfd_inst.h doc/aoutx.texi doc/archive.texi \
a13 2
config.status: _gplwarn.c

a15 3
_gplwarn.c: ${GNUSYSTEM_AUX_DIR}/_gplwarn.c
	cp $> $@@

@


1.6
log
@regenerate generated files (quite an effort for libbfd...)
@
text
@d1 1
a1 1
# $MirOS: src/gnu/usr.bin/binutils/bfd/Makefile.bsd-wrapper,v 1.5 2005/06/05 21:23:49 tg Exp $
d30 2
a31 2
#	chown ${LIBOWN}:${LIBGRP} ${DESTDIR}/usr/lib/libbfd.{a,la}
#	chmod ${LIBMODE} ${DESTDIR}/usr/lib/libbfd.{a,la}
@


1.5
log
@first attempt to merge binutils and gdb of today (minus generated files)
XXX elf.sc yields equivalent results for MirOS; double-check against
XXX other platforms. this merger took as much time as ALL the other files!
@
text
@d1 1
a1 1
# $MirOS: src/gnu/usr.bin/binutils/bfd/Makefile.bsd-wrapper,v 1.4 2005/06/05 17:35:12 tg Exp $
d30 2
a31 2
	chown ${LIBOWN}:${LIBGRP} ${DESTDIR}/usr/lib/libbfd.{a,la}
	chmod ${LIBMODE} ${DESTDIR}/usr/lib/libbfd.{a,la}
@


1.4
log
@remove hooks for libbfd.so
@
text
@d1 1
a1 1
# $MirOS: src/gnu/usr.bin/binutils/bfd/Makefile.bsd-wrapper,v 1.3 2005/03/29 00:08:28 tg Exp $
a5 1
ALL_TARGET=	all info
@


1.3
log
@we'll need a new major
found out the hard way
@
text
@d1 1
a1 1
# $MirOS: src/gnu/usr.bin/binutils/bfd/Makefile.bsd-wrapper,v 1.2 2005/03/28 21:54:18 tg Exp $
a5 2
SHLIB_VERSION?=	3.0
XARGS+=		libbfd_la_LDFLAGS="-version-info ${SHLIB_VERSION:S/./:/}"
a32 6
.if !defined(NOPIC) || ${NOPIC:L} == "no"
	chown ${LIBOWN}:${LIBGRP} \
	    ${DESTDIR}/usr/lib/libbfd.so.${SHLIB_VERSION}
	chmod ${LIBMODE} \
	    ${DESTDIR}/usr/lib/libbfd.so.${SHLIB_VERSION}
.endif
@


1.2
log
@automatically regenerate; bump lib minor
@
text
@d1 1
a1 1
# $MirOS: src/gnu/usr.bin/binutils/bfd/Makefile.bsd-wrapper,v 1.1.7.1 2005/03/06 16:58:49 tg Exp $
d6 1
a6 1
SHLIB_VERSION?=	2.1
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $MirOS$
d6 1
a6 1
SHLIB_VERSION?=	2.0
@


1.1.7.1
log
@standard MirOS build infrastructure for certain GNU tools
@
text
@@
