head	1.8;
access;
symbols
	MIRBSD_10:1.8.0.2
	MIRBSD_10_BASE:1.8
	MIRBSD_9_BASE:1.4
	MIRBSD_8:1.3.0.2
	MIRBSD_8_BASE:1.3
	mirbsd:1.1.7;
locks; strict;
comment	@# @;


1.8
date	2007.06.09.17.29.31;	author tg;	state Exp;
branches;
next	1.7;
commitid	100466AE371230359D1;

1.7
date	2007.06.07.00.46.24;	author tg;	state Exp;
branches;
next	1.6;
commitid	1004667557102182C45;

1.6
date	2006.07.03.16.30.32;	author tg;	state Exp;
branches;
next	1.5;
commitid	10044A9460B6D576C77;

1.5
date	2006.06.29.17.39.43;	author tg;	state Exp;
branches;
next	1.4;
commitid	10044A410040D0960D9;

1.4
date	2006.06.16.23.34.33;	author tg;	state Exp;
branches;
next	1.3;
commitid	10044934015499AF41A;

1.3
date	2005.06.14.00.12.51;	author tg;	state Exp;
branches;
next	1.2;
commitid	82e42ae20fddeaa;

1.2
date	2005.04.19.20.14.50;	author tg;	state Exp;
branches;
next	1.1;

1.1
date	2005.03.06.16.58.49;	author tg;	state Exp;
branches
	1.1.7.1;
next	;

1.1.7.1
date	2005.03.06.16.58.49;	author tg;	state Exp;
branches;
next	;


desc
@@


1.8
log
@only NOPIC=no platforms are allowed to get gdb and lynx now (as they pull
in libiconv, and it's easier this way, and all our platforms do PIC anyway)
@
text
@# $MirOS: src/gnu/usr.bin/binutils/Makefile,v 1.7 2007/06/07 00:46:24 tg Exp $

.include <bsd.own.mk>

  # libraries
# SUBDIR+= libiberty	# now pulled from src/lib/Makefile
  SUBDIR+= bfd
  SUBDIR+= opcodes

  # executables
  SUBDIR+= binutils
  SUBDIR+= gas
.if ${NOPIC:L} == "no"
  SUBDIR+= gdb
.endif
  SUBDIR+= ld

build prereq: _SUBDIRUSE

copies:
	cd bfd && cp /usr/include/bfd.h /usr/include/bfdver.h \
	    /usr/lib/libbfd.la .
	cd opcodes && cp /usr/lib/libopcodes.la .

.include <bsd.obj.mk>
.include <bsd.subdir.mk>
@


1.7
log
@allow recursive build target
@
text
@d1 3
a3 1
# $MirOS: src/gnu/usr.bin/binutils/Makefile,v 1.6 2006/07/03 16:30:32 tg Exp $
d13 1
d15 1
@


1.6
log
@libiberty is also installed and thus required for the rest of the system
thus build it with the other libraries

libbfd and libopcodes aren't because they're reachover-pulled by the rest
@
text
@d1 1
a1 1
# $MirOS: src/gnu/usr.bin/binutils/Makefile,v 1.5 2006/06/29 17:39:43 tg Exp $
d14 1
a14 1
prereq: _SUBDIRUSE
@


1.5
log
@* port the GNU debugger to sparc (actually, I just missed that
  OpenBSD/sparc hosts use the NetBSD/sparc/ELF host MD
* MirOS BSD hosts need -lz as explicit -lkvm dependency, at
  least on static arches, so duplicate host MD files and add it
* remove obsolete arches, sync with each other
@
text
@d1 1
a1 1
# $MirOS: src/gnu/usr.bin/binutils/Makefile,v 1.4 2006/06/16 23:34:33 tg Exp $
d4 1
a4 1
  SUBDIR+= libiberty
@


1.4
log
@don't build gdb on sparc for now
it hasn't been ported
@
text
@d1 1
a1 1
# $MirOS: src/gnu/usr.bin/binutils/Makefile,v 1.3 2005/06/14 00:12:51 tg Exp $
a10 1
.if ${MACHINE} != "sparc"
a11 1
.endif
@


1.3
log
@* add "copy" mode for fast recompilation of a binutil
  (from xbuild-binutils.sh)
* regen
@
text
@d1 1
a1 1
# $MirOS: src/gnu/usr.bin/binutils/Makefile,v 1.2 2005/04/19 20:14:50 tg Exp $
d11 1
d13 1
@


1.2
log
@enable gdb for testing by everybody
@
text
@d1 1
a1 1
# $MirOS: src/gnu/usr.bin/binutils/Makefile,v 1.1.7.1 2005/03/06 16:58:49 tg Exp $
d16 6
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $MirOS$
d11 1
a11 1
# SUBDIR+= gdb
@


1.1.7.1
log
@standard MirOS build infrastructure for certain GNU tools
@
text
@@
