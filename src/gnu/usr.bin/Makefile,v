head	1.15;
access;
symbols
	MIRBSD_10:1.14.0.2
	MIRBSD_10_BASE:1.14
	MIRBSD_9_BASE:1.8
	MIRBSD_8:1.4.0.2
	MIRBSD_8_BASE:1.4
	cvs-200507211800:1.1.1.1
	openbsd:1.1.1;
locks; strict;
comment	@# @;


1.15
date	2008.08.06.00.29.07;	author tg;	state Exp;
branches;
next	1.14;
commitid	1004898F055454D236C;

1.14
date	2007.06.12.21.44.10;	author tg;	state Exp;
branches;
next	1.13;
commitid	100466F13BA5C2BC68D;

1.13
date	2007.06.12.21.43.33;	author tg;	state Exp;
branches;
next	1.12;
commitid	100466F1393365BE25E;

1.12
date	2007.06.12.21.37.01;	author tg;	state Exp;
branches;
next	1.11;
commitid	100466F11D15AB74760;

1.11
date	2007.06.12.21.11.22;	author tg;	state Exp;
branches;
next	1.10;
commitid	100466F0C081D6F8D5A;

1.10
date	2007.06.12.18.44.28;	author tg;	state Exp;
branches;
next	1.9;
commitid	100466EE99B799281A2;

1.9
date	2007.06.09.17.29.31;	author tg;	state Exp;
branches;
next	1.8;
commitid	100466AE371230359D1;

1.8
date	2006.06.16.23.48.34;	author tg;	state Exp;
branches;
next	1.7;
commitid	1004493436970448BFB;

1.7
date	2006.06.16.23.35.58;	author tg;	state Exp;
branches;
next	1.6;
commitid	10044934075600932ED;

1.6
date	2006.06.16.23.35.36;	author tg;	state Exp;
branches;
next	1.5;
commitid	10044934042741B467A;

1.5
date	2006.06.16.22.01.13;	author tg;	state Exp;
branches;
next	1.4;
commitid	10044932A340E25C80B;

1.4
date	2005.03.27.22.52.43;	author tg;	state Exp;
branches;
next	1.3;

1.3
date	2005.03.13.17.26.58;	author tg;	state Exp;
branches;
next	1.2;

1.2
date	2005.03.13.15.50.29;	author tg;	state Exp;
branches;
next	1.1;

1.1
date	2005.02.05.17.22.15;	author tg;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2005.02.05.17.22.15;	author tg;	state Exp;
branches;
next	;


desc
@@


1.15
log
@decouple J�rg Schilling’s mkisofs from build
to be cvs deleted tomorrow, or so…
@
text
@# $MirOS: src/gnu/usr.bin/Makefile,v 1.14 2007/06/12 21:44:10 tg Exp $

.include <bsd.own.mk>

  SUBDIR+= binutils
.if ${CROSS_MODE:L} != "yes"
  SUBDIR+= cvs anoncvs
.  if ${NOPIC:L} == "no"
  SUBDIR+= lynx
.  endif
  SUBDIR+= perl		# must be after binutils (why?)
  SUBDIR+= rcs
  SUBDIR+= texinfo	# last, builds the info 'dir' file
.endif

.include <bsd.subdir.mk>
@


1.14
log
@ok, back to before, it just doesn't pay off
@
text
@d1 1
a1 1
# $MirOS: src/gnu/usr.bin/Makefile,v 1.13 2007/06/12 21:43:33 tg Exp $
a10 1
  SUBDIR+= mkisofs
@


1.13
log
@apparently I removed the cross-compiling support here
earlier accidentally, oops ☺
@
text
@d1 1
a1 1
# $MirOS: src/gnu/usr.bin/Makefile,v 1.12 2007/06/12 21:37:01 tg Exp $
a10 1
.endif
a11 1
.if ${CROSS_MODE:L} != "yes"
a12 1
.endif
a13 1
.if ${CROSS_MODE:L} != "yes"
@


1.12
log
@lynx isn't really cross-compilable, it adds -I/usr/include to cflags,
which produces stuff like this:

/usr/cross/sparc-ecce-mirbsd10/host-tools/bin/sparc-ecce-mirbsd10-gcc -isystem /usr/cross/sparc-ecce-mirbsd10/usr/include -DHAVE_CONFIG_H  -I/usr/include -DZCONST=const -DLYNX_VERSION=\"2.8.7dev.5-MirOS\" -idirafter /usr/src/gnu/usr.bin/lynx -nostdinc -isystem /usr/cross/sparc-ecce-mirbsd10/usr/include -DXTSTRINGDEFINES   -I../../..  -I../../../src  -I/usr/src/gnu/usr.bin/lynx  -I/usr/src/gnu/usr.bin/lynx/src   -I/usr/src/gnu/usr.bin/lynx/WWW/Library/Implementation -Os -fweb -frename-registers -Wformat -Wstrict-aliasing -Wbounded -fwrapv -fno-align-functions -fno-align-labels -falign-loops=4 -falign-jumps=4 -mcpu=v8 -mtune=supersparc -fhonour-copts -W -Wall -Wbad-function-cast -Wcast-align -Wcast-qual -Winline -Wmissing-declarations -Wmissing-prototypes -Wnested-externs -Wpointer-arith -Wshadow -Wstrict-prototypes -Wundef -Wno-cast-qual -Wno-cast-align   -I/usr/src/gnu/usr.bin/lynx/WWW/Library/Implementation/ -DACCESS_AUTH -c /usr/src/gnu/usr.bin/lynx/WWW/Library/Implementation/HTParse.c
In file included from /usr/src/gnu/usr.bin/lynx/WWW/Library/Implementation/HTUtils.h:257,
                 from /usr/src/gnu/usr.bin/lynx/WWW/Library/Implementation/HTParse.c:5:
/usr/include/stdlib.h:163:25: warning: "__builtin_alloca" is not defined
/usr/include/stdlib.h:163:35: warning: "__builtin_alloca" is not defined
In file included from /usr/include/openssl/ssl.h:171,
                 from /usr/src/gnu/usr.bin/lynx/WWW/Library/Implementation/HTUtils.h:597,
                 from /usr/src/gnu/usr.bin/lynx/WWW/Library/Implementation/HTParse.c:5:
/usr/include/openssl/comp.h:15: warning: function declaration isn't a prototype
[…]
In file included from /usr/src/gnu/usr.bin/lynx/src/LYCurses.h:167,
                 from /usr/src/gnu/usr.bin/lynx/src/LYKeymap.h:6,
                 from /usr/src/gnu/usr.bin/lynx/src/LYUtils.h:5,
                 from /usr/src/gnu/usr.bin/lynx/WWW/Library/Implementation/HTParse.c:8:
/usr/include/signal.h: In function `sigaddset':
/usr/include/signal.h:66: warning: function declaration isn't a prototype
/usr/include/signal.h:66: warning: nested extern declaration of `__errno'
/usr/include/signal.h: In function `sigdelset':
/usr/include/signal.h:77: warning: function declaration isn't a prototype
/usr/include/signal.h:77: warning: nested extern declaration of `__errno'
[…]
@
text
@d1 1
a1 1
# $MirOS: src/gnu/usr.bin/Makefile,v 1.11 2007/06/12 21:11:22 tg Exp $
d17 1
d19 1
@


1.11
log
@not cross-compilable:
checking whether printf supports %p... configure: error: cannot run test program while cross compiling
@
text
@d1 1
a1 1
# $MirOS: src/gnu/usr.bin/Makefile,v 1.10 2007/06/12 18:44:28 tg Exp $
d8 1
a8 2
.endif
.if ${NOPIC:L} == "no"
d10 1
@


1.10
log
@no reason to not cross-compile everything save perl
@
text
@d1 1
a1 1
# $MirOS: src/gnu/usr.bin/Makefile,v 1.9 2007/06/09 17:29:31 tg Exp $
d6 3
a8 2
  SUBDIR+= cvs
  SUBDIR+= anoncvs	# must be after CVS
@


1.9
log
@only NOPIC=no platforms are allowed to get gdb and lynx now (as they pull
in libiconv, and it's easier this way, and all our platforms do PIC anyway)
@
text
@d1 1
a1 1
# $MirOS: src/gnu/usr.bin/Makefile,v 1.8 2006/06/16 23:48:34 tg Exp $
a5 1
.if ${CROSS_MODE:L} != "yes"
d8 1
a8 1
.  if ${NOPIC:L} == "no"
d10 1
a10 1
.  endif
d12 1
d14 1
a16 1
.endif
@


1.8
log
@cvs cannot be cross-compiled either, so cannot build anoncvs; lynx, mkisofs, texinfo are just not important either; rcs probably needs cvs
@
text
@d1 1
a1 1
# $MirOS: src/gnu/usr.bin/Makefile,v 1.7 2006/06/16 23:35:58 tg Exp $
d9 1
d11 1
@


1.7
log
@optimise
@
text
@d1 1
a1 1
# $MirOS: src/gnu/usr.bin/Makefile,v 1.6 2006/06/16 23:35:36 tg Exp $
d6 1
a10 1
.if ${CROSS_MODE:L} != "yes"
a11 1
.endif
d14 1
@


1.6
log
@build as many programme that can be cross-built as possible,
even if it doesn't necessarily make sense, because of pride,
and being better than the Other BSD
@
text
@d1 1
a1 1
# $MirOS: src/gnu/usr.bin/Makefile,v 1.5 2006/06/16 22:01:13 tg Exp $
d10 1
a10 1
.if !defined(CROSS_MODE) || (${CROSS_MODE:L} != "yes")
@


1.5
log
@perl can't be cross-built except miniperl, so don't even try it
@
text
@d1 3
a3 1
# $MirOS: src/gnu/usr.bin/Makefile,v 1.4 2005/03/27 22:52:43 tg Exp $
@


1.4
log
@re-enable lynx and fix
@
text
@d1 1
a1 1
# $MirOS: src/gnu/usr.bin/Makefile,v 1.3 2005/03/13 17:26:58 tg Exp $
d8 1
d10 1
@


1.3
log
@comment out lynx for now
@
text
@d1 1
a1 1
# $MirOS: src/gnu/usr.bin/Makefile,v 1.2 2005/03/13 15:50:29 tg Exp $
d6 1
a6 1
# SUBDIR+= lynx
@


1.2
log
@merge src/gnu except binutils, lynx and generated files
@
text
@d1 1
a1 1
# $MirOS$
d6 1
a6 1
  SUBDIR+= lynx
@


1.1
log
@Initial revision
@
text
@d1 1
a1 2
#	$OpenBSD: Makefile,v 1.43 2004/05/17 22:11:32 drahn Exp $
#	$NetBSD: Makefile,v 1.35 1996/04/03 21:20:52 chuck Exp $
d3 8
a10 22
.include <bsd.own.mk>
USE_GCC3?=No

.if make(obj)
SUBDIR+=	gcc ../egcs/gcc
.else
.  if ${USE_GCC3:L} == "yes"
SUBDIR+=	gcc
.  else
SUBDIR+=	../egcs/gcc
.  endif
.endif

SUBDIR+=	cxxfilt cvs groff lynx rcs sendbug binutils

# most ports use binutils gas and ld, some do not (yet).
.if ${ELF_TOOLCHAIN:L} == "no"
SUBDIR+=	gas ld
.endif

# Do these last; texinfo builds the info 'dir' file, perl must be after binutils
SUBDIR+=	perl texinfo
@


1.1.1.1
log
@Import the OpenBSD foundation of MirOS BSD
@
text
@@
