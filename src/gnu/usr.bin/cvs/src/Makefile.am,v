head	1.9;
access;
symbols
	MIRBSD_10:1.4.0.4
	MIRBSD_10_BASE:1.4
	MIRBSD_9_BASE:1.4
	MIRBSD_8:1.4.0.2
	MIRBSD_8_BASE:1.4
	cvs-1_12_13:1.1.101.3
	cvs-1_12_12:1.1.101.2
	FSF:1.1.101;
locks; strict;
comment	@# @;


1.9
date	2017.08.12.18.15.18;	author tg;	state Exp;
branches;
next	1.8;
commitid	100598F45C01EEEDCB7;

1.8
date	2011.12.04.22.50.41;	author tg;	state Exp;
branches;
next	1.7;
commitid	1004EDBF9471BE301D0;

1.7
date	2011.12.04.14.15.05;	author tg;	state Exp;
branches;
next	1.6;
commitid	1004EDB807D022A3D4D;

1.6
date	2011.06.11.02.56.58;	author tg;	state Exp;
branches;
next	1.5;
commitid	1004DF2D97507883CA3;

1.5
date	2010.09.16.20.56.00;	author tg;	state Exp;
branches;
next	1.4;
commitid	1004C928463526833A8;

1.4
date	2005.12.05.22.12.46;	author tg;	state Exp;
branches;
next	1.3;
commitid	78e44394bb6132ce;

1.3
date	2005.04.19.20.58.20;	author tg;	state Exp;
branches;
next	1.2;

1.2
date	2005.03.13.15.50.38;	author tg;	state Exp;
branches;
next	1.1;

1.1
date	2005.03.06.15.17.55;	author tg;	state Exp;
branches
	1.1.101.1;
next	;

1.1.101.1
date	2005.03.06.15.17.55;	author tg;	state Exp;
branches;
next	1.1.101.2;

1.1.101.2
date	2005.04.19.20.33.17;	author tg;	state Exp;
branches;
next	1.1.101.3;

1.1.101.3
date	2005.12.05.21.43.43;	author tg;	state Exp;
branches;
next	;
commitid	2cec4394b499b817;


desc
@@


1.9
log
@add, but not enable, noredirectcheck; document why (didnâ€™t this used to work?)
@
text
@## Process this file with automake to produce Makefile.in
# $MirOS: src/gnu/usr.bin/cvs/src/Makefile.am,v 1.7 2011/12/04 14:15:05 tg Exp $
# Makefile for GNU CVS program.
#
# Copyright (C) 1986-2005 The Free Software Foundation, Inc.
#
# Portions Copyright (C) 1998-2005 Derek Price, Ximbiot <http://ximbiot.com>,
#                                  and others.

# This program is free software; you can redistribute it and/or modify
# it under the terms of the GNU General Public License as published by
# the Free Software Foundation; either version 2, or (at your option)
# any later version.

# This program is distributed in the hope that it will be useful,
# but WITHOUT ANY WARRANTY; without even the implied warranty of
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
# GNU General Public License for more details.

SHELL = /bin/sh

AM_CPPFLAGS = -I$(top_srcdir)/lib -I$(top_builddir)/lib \
              -I$(top_srcdir)/diff $(ZLIB_CPPFLAGS)

bin_PROGRAMS = cvs

# The cvs executable
cvs_SOURCES = \
	add.c \
	admin.c \
	annotate.c \
	buffer.c \
	checkin.c \
	checkout.c \
	classify.c \
	client.c \
	commit.c \
	create_adm.c \
	cvsrc.c \
	diff.c \
	edit.c \
	entries.c \
	error.c \
	exithandle.c \
	expand_path.c \
	fileattr.c \
	filesubr.c \
	find_names.c \
	hardlink.c \
	hash.c \
	history.c \
	ignore.c \
	import.c \
	lock.c \
	log.c \
	log-buffer.c log-buffer.h \
	login.c \
	logmsg.c \
	ls.c \
	main.c \
	mkmodules.c \
	modules.c \
	ms-buffer.c ms-buffer.h \
	myndbm.c \
	no_diff.c \
	parseinfo.c parseinfo.h \
	patch.c \
	rcs.c \
	rcscmds.c \
	recurse.c \
	release.c \
	remove.c \
	repos.c \
	root.c \
	rsh-client.c rsh-client.h \
	run.c \
	scramble.c \
	server.c \
	stack.c stack.h \
	status.c \
	subr.c subr.h \
	suck.c \
	tag.c \
	update.c \
	version.c \
	vers_ts.c \
	watch.c \
	wrapper.c \
	zlib.c \
	buffer.h \
	client.h \
	cvs.h \
	edit.h \
	fileattr.h \
	hardlink.h \
	hash.h \
	history.h \
	myndbm.h \
	rcs.h \
	root.h \
	server.h \
	update.h \
	watch.h

EXTRA_cvs_SOURCES = gssapi-client.c gssapi-client.h \
                    kerberos4-client.c kerberos4-client.h \
		    socket-client.c socket-client.h

cvs_DEPENDENCIES = $(cvs_client_objects) \
	../diff/libdiff.a \
	../lib/libcvs.a \
	$(ZLIB_LIBS)
cvs_LDFLAGS = -Wl,--as-needed
cvs_LDADD = $(cvs_client_objects) \
	../diff/libdiff.a \
	../lib/libcvs.a \
	$(ZLIB_LIBS) \
	$(LIB_CLOCK_GETTIME) \
	$(LIB_NANOSLEEP) \
	$(LIBINTL)

# General
EXTRA_DIST = \
	.cvsignore \
	ChangeLog-9194 \
	ChangeLog-9395 \
	ChangeLog-96 \
	ChangeLog-97 \
	build_src.com \
	sanity.sh

# noredirectcheck currently stalls in config2-init-3 because
# it gets back a compressed(?) response from the server it
# cannot deal with and waits for commands? replies?
check-local: localcheck remotecheck proxycheck #noredirectcheck

.PHONY: localcheck
localcheck: sanity.config.sh
	$(SHELL) $(srcdir)/sanity.sh `pwd`/cvs$(EXEEXT)

.PHONY: remotecheck
remotecheck: all sanity.config.sh
	$(SHELL) $(srcdir)/sanity.sh -r `pwd`/cvs$(EXEEXT)

.PHONY: proxycheck
proxycheck: all sanity.config.sh
	$(SHELL) $(srcdir)/sanity.sh -p `pwd`/cvs$(EXEEXT)

.PHONY: noredirectcheck
noredirectcheck: all sanity.config.sh
	$(SHELL) $(srcdir)/sanity.sh -n `pwd`/cvs$(EXEEXT)

# Our distclean targets
distclean-local:
	rm -f check.log check.plog check.plog~

## MAINTAINER Targets

# for backwards compatibility with the old makefiles
.PHONY: realclean
realclean: maintainer-clean
@


1.8
log
@resurrect use of cvs::myndbm, getting rid of CVSROOT/{modules,val-tags}.db
@
text
@d132 4
a135 1
check-local: localcheck remotecheck proxycheck
d149 4
@


1.7
log
@Use -Wl,--as-needed for the link to appease dpkg-shlibdebs
@
text
@d2 1
a2 1
# $MirOS: src/gnu/usr.bin/cvs/src/Makefile.am,v 1.6 2011/06/11 02:56:58 tg Exp $
d64 1
d98 1
@


1.6
log
@write a new command for direct ,v file download (Closes: #421119)
@
text
@d2 1
a2 1
# $MirOS: src/gnu/usr.bin/cvs/src/Makefile.am,v 1.5 2010/09/16 20:56:00 tg Exp $
d111 1
@


1.5
log
@begin attempting to synchronise with the port
@
text
@d2 1
a2 1
# $MirOS: src/gnu/usr.bin/cvs/src/Makefile.am,v 1.4 2005/12/05 22:12:46 tg Exp $
d81 1
@


1.4
log
@merge (sans generated files)
re-do the commitid generator
@
text
@d2 1
a2 1
# $MirOS: src/gnu/usr.bin/cvs/src/Makefile.am,v 1.3 2005/04/19 20:58:20 tg Exp $
d102 4
d120 6
@


1.3
log
@initial fubar'ing of the CVS port
this won't even build right now...
@
text
@d2 1
a2 1
# $MirOS: src/gnu/usr.bin/cvs/src/Makefile.am,v 1.2 2005/03/13 15:50:38 tg Exp $
a77 1
	socket-client.c socket-client.h \
@


1.2
log
@merge src/gnu except binutils, lynx and generated files
@
text
@d2 1
a2 1
# $MirOS$
d4 5
a8 3
# Copyright (C) 1986, 1987, 1988, 1989, 1990, 1991, 1992, 1993, 1994,
#               1995, 1996, 1997, 1998, 1999, 2000, 2001, 2002, 2003
#               Free Software Foundation, Inc.
@


1.1
log
@Initial revision
@
text
@d2 1
a23 1
bin_SCRIPTS = cvsbug
a61 1
	myndbm.c \
a94 1
	myndbm.h \
a100 3
EXTRA_cvs_SOURCES = gssapi-client.c gssapi-client.h \
                    kerberos4-client.c kerberos4-client.h

a114 6
	.cvsignore \
	ChangeLog-9194 \
	ChangeLog-9395 \
	ChangeLog-96 \
	ChangeLog-97 \
	build_src.com \
@


1.1.101.1
log
@GNU CVS 1.12.11 with the following directories removed:
- contrib/pam
- emx
- os2
- tools
- vms
- windows-NT
- zlib
@
text
@@


1.1.101.2
log
@GNU CVS 1.12.12 "should" fix security issues
@
text
@d3 3
a5 5
#
# Copyright (C) 1986-2005 The Free Software Foundation, Inc.
#
# Portions Copyright (C) 1998-2005 Derek Price, Ximbiot <http://ximbiot.com>,
#                                  and others.
@


1.1.101.3
log
@Import current version of GNU CVS, in the hope to actually fix bugs...
@
text
@d79 1
d106 1
a106 2
                    kerberos4-client.c kerberos4-client.h \
		    socket-client.c socket-client.h
@


