head	1.4;
access;
symbols
	sendmail-8_14_9:1.1.127.2
	sendmail-8_14_7:1.1.127.1
	sendmail-8_14_6:1.1.127.1
	sendmail-8_14_5-ERRATA-1:1.1.127.1
	mbsd-20101220_mergebase:1.2.2.1
	sendmail-8_14_5:1.1.127.1
	cvs-201107021500:1.1.1.4
	cvs-20101220:1.1.1.4
	mbsd-20101220:1.2.0.2
	cvs-201012191730:1.1.1.3
	sendmail-8_14_5_Beta0:1.1.127.1
	sendmail-8_14_3:1.1.127.1
	sendmail:1.1.127
	cvs-200812170000:1.1.1.3
	cvs-200805071200:1.1.1.3
	MIRBSD_10:1.1.1.2.0.2
	MIRBSD_10_BASE:1.1.1.2
	cvs-200803022030:1.1.1.2
	cvs-200707152000:1.1.1.2
	cvs-200704292000:1.1.1.2
	cvs-200702051700:1.1.1.1
	openbsd:1.1.1;
locks; strict;
comment	@# @;


1.4
date	2014.06.09.15.17.20;	author tg;	state Exp;
branches;
next	1.3;
commitid	1005395CFC65E5646F1;

1.3
date	2011.07.02.15.03.46;	author tg;	state Exp;
branches;
next	1.2;
commitid	1004E0F31C5496AB95F;

1.2
date	2008.05.07.11.57.04;	author tg;	state Exp;
branches
	1.2.2.1;
next	1.1;
commitid	100482198DE5A7916C7;

1.1
date	2007.02.05.17.05.57;	author tg;	state Exp;
branches
	1.1.1.1
	1.1.127.1;
next	;
commitid	10045C763C551AABAF7;

1.2.2.1
date	2011.07.02.15.02.17;	author tg;	state Exp;
branches;
next	;
commitid	1004E0F31C5496AB95F;

1.1.1.1
date	2007.02.05.17.05.57;	author tg;	state Exp;
branches;
next	1.1.1.2;
commitid	10045C763C551AABAF7;

1.1.1.2
date	2007.04.29.20.07.08;	author tg;	state Exp;
branches
	1.1.1.2.2.1;
next	1.1.1.3;
commitid	1004634FAED5BC54DF0;

1.1.1.3
date	2008.05.07.12.31.48;	author tg;	state Exp;
branches;
next	1.1.1.4;
commitid	1004821A13C1FC036E1;

1.1.1.4
date	2011.07.02.14.59.56;	author tg;	state Exp;
branches;
next	;
commitid	1004E0F31C5496AB95F;

1.1.1.2.2.1
date	2008.05.17.19.11.55;	author tg;	state Exp;
branches;
next	;
commitid	100482F2DC168C89AEA;

1.1.127.1
date	2010.12.19.14.45.53;	author tg;	state Exp;
branches;
next	1.1.127.2;
commitid	1004D0E1A94384778FD;

1.1.127.2
date	2014.06.09.14.29.25;	author tg;	state Exp;
branches;
next	;
commitid	1005395C4CC1A6DB9EE;


desc
@@


1.4
log
@merge
@
text
@<HTML>
<HEAD><TITLE>smfi_version()</TITLE></HEAD>
<BODY>
<!--
$Id: smfi_version.html,v 1.7 2013-11-22 20:51:39 ca Exp $
-->
<H1>smfi_version()</H1>

<TABLE BORDER="0" CELLSPACING=4 CELLPADDING=4>
<!---------- Synopsis ----------->
<TR><TH VALIGN="TOP" ALIGN=LEFT WIDTH=100>SYNOPSIS</TH><TD>
<PRE>
#include &lt;libmilter/mfapi.h&gt;
int smfi_version(
	unsigned int *pmajor,
	unsigned int *pminor,
	unsigned int *ppl
);
</PRE>
Get the (runtime) version of libmilter.
</TD></TR>

<!----------- Description ---------->
<TR><TH VALIGN="TOP" ALIGN=LEFT>DESCRIPTION</TH><TD>
<TABLE BORDER="1" CELLSPACING=1 CELLPADDING=4>
<TR ALIGN="LEFT" VALIGN=TOP>
<TH WIDTH="80">Called When</TH>
<TD>smfi_version may be called at any time.</TD>
</TR>
<TR ALIGN="LEFT" VALIGN=TOP>
<TH WIDTH="80">Effects</TH>
<TD>None.</TD>
</TR>
</TABLE>

<!----------- Arguments ---------->
<TR><TH VALIGN="TOP" ALIGN=LEFT>ARGUMENTS</TH><TD>
    <TABLE BORDER="1" CELLSPACING=0>
    <TR BGCOLOR="#dddddd"><TH>Argument</TH><TH>Description</TH></TR>
    <TR VALIGN="TOP"><TD>pmajor</TD>
	<TD>Pointer to an unsigned int variable to store major version number.
	</TD></TR>
    <TR VALIGN="TOP"><TD>pminor</TD>
	<TD>Pointer to an unsigned int variable to store minor version number.
	</TD></TR>
    <TR VALIGN="TOP"><TD>ppl</TD>
	<TD>Pointer to an unsigned int variable to store patch level number.
	</TD></TR>
    </TABLE>
</TD></TR>

<!----------- Return values ---------->
<TR>
<TH VALIGN="TOP" ALIGN=LEFT>RETURN VALUES</TH>
<TD>smfi_version returns MI_SUCCESS.</TD>
</TR>

</TABLE>

Note: the compile time version of libmilter is available in the macro
<CODE>SMFI_VERSION</CODE>.
To extract the major and minor version as well as the current patch level
from this macro, the macros
<CODE>SM_LM_VRS_MAJOR(v)</CODE>,
<CODE>SM_LM_VRS_MINOR(v)</CODE>, and
<CODE>SM_LM_VRS_PLVL(v)</CODE>
can be used, respectively.
A milter can check the
<CODE>SMFI_VERSION</CODE>
macro to determine which functions to use
(at compile time via C preprocessor statements).
Using this macro and the
<CODE>smfi_version()</CODE>
function,
a milter can determine at runtime whether it has been (dynamically)
linked against the expected libmilter version.
Such a function should only compare the major and minor version,
not the patch level,
i.e., the libmilter library will be compatible despite
different patch levels.


<HR SIZE="1">
<FONT SIZE="-1">
Copyright (c) 2006-2008 Proofpoint, Inc. and its suppliers.
All rights reserved.
<BR>
By using this file, you agree to the terms and conditions set
forth in the LICENSE.
</FONT>
</BODY>
</HTML>
@


1.3
log
@Replace “$Sendmail: ” with “$Id: ” (the latter is used by upstream)
@
text
@d5 1
a5 1
$Id: smfi_version.html,v 1.6 2008/05/02 23:06:26 ca Exp $
d85 1
a85 1
Copyright (c) 2006-2008 Sendmail, Inc. and its suppliers.
@


1.2
log
@update to sendmail 8.14.3 (which has been on my TODO for 4 days *shames*),
a hah-I-knew-it! update for a bug I reported in IRC… (which seems lost, as
only DFBSD, OBSD etc. are credited for finding):

Sendmail, Inc., and the Sendmail Consortium announce the availability
of sendmail 8.14.3. This version fixes some bugs:

o the MTA accessed storage after it free()d it. This was a regression
  introduced in 8.14.2, but the bug only showed up on a few operating
  systems.
o ruleset processing: the function cataddr() could cause the
  addition of the BlankSub character between some tokens when it
  should not happen and thus failures in rule matching.  It seems
  that none of the default rules were affected by this bug and hence
  the problem did not show up for default configurations.
o the libmilter state engine did not deal correctly with milters
  that requested the omission of protocol steps during the negotiation
  callback.

A complete list of changes can be found in the release notes […]
@
text
@d5 1
a5 1
$Sendmail: smfi_version.html,v 1.6 2008/05/02 23:06:26 ca Exp $
@


1.2.2.1
log
@Replace “$Sendmail: ” with “$Id: ” (the latter is used by upstream)
@
text
@d5 1
a5 1
$Id: smfi_version.html,v 1.6 2008/05/02 23:06:26 ca Exp $
@


1.1
log
@Initial revision
@
text
@d5 1
a5 1
$Sendmail: smfi_version.html,v 1.4 2006/12/21 18:30:35 ca Exp $
d14 1
a14 1
void* smfi_version(
d17 1
a17 1
	unsigned int *ppl,
d62 9
a70 1
A milter can check this macro to determine which functions to use
d77 4
a80 6
To extract the major and minor version as well as the current patch level
from this macro, the macros
<CODE>SM_LM_VRS_MAJOR(v)</CODE>,
<CODE>SM_LM_VRS_MINOR(v)</CODE>, and
<CODE>SM_LM_VRS_PLVL(v)</CODE>
can be used, respectively.
d85 1
a85 1
Copyright (c) 2006 Sendmail, Inc. and its suppliers.
@


1.1.127.1
log
@Import Sendmail 8.14.3, suitably stripped down by the not yet committed
contrib/samples/import-3rdpty,v 1.35; we have some new and renamed files
@
text
@d5 1
a5 1
$Id: smfi_version.html,v 1.6 2008/05/02 23:06:26 ca Exp $
d14 1
a14 1
int smfi_version(
d17 1
a17 1
	unsigned int *ppl
d62 7
a74 13
A milter can check the
<CODE>SMFI_VERSION</CODE>
macro to determine which functions to use
(at compile time via C preprocessor statements).
Using this macro and the
<CODE>smfi_version()</CODE>
function,
a milter can determine at runtime whether it has been (dynamically)
linked against the expected libmilter version.
Such a function should only compare the major and minor version,
not the patch level,
i.e., the libmilter library will be compatible despite
different patch levels.
d79 1
a79 1
Copyright (c) 2006-2008 Sendmail, Inc. and its suppliers.
@


1.1.127.2
log
@Import sendmail 8.14.9
@
text
@d5 1
a5 1
$Id: smfi_version.html,v 1.7 2013-11-22 20:51:39 ca Exp $
d85 1
a85 1
Copyright (c) 2006-2008 Proofpoint, Inc. and its suppliers.
@


1.1.1.1
log
@Import Sendmail 8.14.0 via OpenBSD
@
text
@@


1.1.1.2
log
@import openbsd compress, ssh, perl, sendmail for minor bugfixes
@
text
@d5 1
a5 1
$Sendmail: smfi_version.html,v 1.5 2007/03/22 17:30:57 ca Exp $
d14 1
a14 1
int smfi_version(
d17 1
a17 1
	unsigned int *ppl
d79 1
a79 1
Copyright (c) 2006, 2007 Sendmail, Inc. and its suppliers.
@


1.1.1.2.2.1
log
@MFC sendmail update to 8.14.3

agreed bsiegert@@
@
text
@d5 1
a5 1
$Sendmail: smfi_version.html,v 1.6 2008/05/02 23:06:26 ca Exp $
d62 7
a74 13
A milter can check the
<CODE>SMFI_VERSION</CODE>
macro to determine which functions to use
(at compile time via C preprocessor statements).
Using this macro and the
<CODE>smfi_version()</CODE>
function,
a milter can determine at runtime whether it has been (dynamically)
linked against the expected libmilter version.
Such a function should only compare the major and minor version,
not the patch level,
i.e., the libmilter library will be compatible despite
different patch levels.
d79 1
a79 1
Copyright (c) 2006-2008 Sendmail, Inc. and its suppliers.
@


1.1.1.3
log
@OpenBSD finally has upgraded their sendmail, too…
@
text
@d5 1
a5 1
$Sendmail: smfi_version.html,v 1.6 2008/05/02 23:06:26 ca Exp $
d62 7
a74 13
A milter can check the
<CODE>SMFI_VERSION</CODE>
macro to determine which functions to use
(at compile time via C preprocessor statements).
Using this macro and the
<CODE>smfi_version()</CODE>
function,
a milter can determine at runtime whether it has been (dynamically)
linked against the expected libmilter version.
Such a function should only compare the major and minor version,
not the patch level,
i.e., the libmilter library will be compatible despite
different patch levels.
d79 1
a79 1
Copyright (c) 2006-2008 Sendmail, Inc. and its suppliers.
@


1.1.1.4
log
@Replace “$Sendmail: ” with “$Id: ” (the latter is used by upstream)
@
text
@d5 1
a5 1
$Id: smfi_version.html,v 1.6 2008/05/02 23:06:26 ca Exp $
@


