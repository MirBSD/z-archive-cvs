head	1.4;
access;
symbols
	sendmail-8_14_9:1.1.127.2
	sendmail-8_14_7:1.1.127.1
	sendmail-8_14_6:1.1.127.1
	sendmail-8_14_5-ERRATA-1:1.1.127.1
	mbsd-20101220_mergebase:1.1.1.3.2.1
	sendmail-8_14_5:1.1.127.1
	cvs-201107021500:1.1.1.5
	cvs-20101220:1.1.1.4
	mbsd-20101220:1.1.1.3.0.2
	cvs-201012191730:1.1.1.3
	sendmail-8_14_5_Beta0:1.1.127.1
	sendmail-8_14_3:1.1.127.1
	sendmail:1.1.127
	cvs-200812170000:1.1.1.2
	cvs-200805071200:1.1.1.2
	MIRBSD_10:1.1.1.2.0.2
	MIRBSD_10_BASE:1.1.1.2
	cvs-200803022030:1.1.1.2
	cvs-200707152000:1.1.1.2
	cvs-200704292000:1.1.1.2
	cvs-200702051700:1.1.1.1
	cvs-200609121900:1.1.1.1
	MIRBSD_9_BASE:1.1.1.1
	cvs-200606151800:1.1.1.1
	cvs-200603231300:1.1.1.1
	MIRBSD_8:1.1.1.1.0.2
	MIRBSD_8_BASE:1.1.1.1
	cvs-200507211800:1.1.1.1
	cvs-200504262050:1.1.1.1
	openbsd:1.1.1;
locks; strict;
comment	@.\" @;


1.4
date	2014.06.09.15.17.49;	author tg;	state Exp;
branches;
next	1.3;
commitid	1005395CFC65E5646F1;

1.3
date	2012.12.31.21.02.43;	author tg;	state Exp;
branches;
next	1.2;
commitid	10050E1FD6765F66D0C;

1.2
date	2011.07.02.15.04.09;	author tg;	state Exp;
branches;
next	1.1;
commitid	1004E0F31C5496AB95F;

1.1
date	2005.02.05.17.24.28;	author tg;	state Exp;
branches
	1.1.1.1
	1.1.127.1;
next	;

1.1.1.1
date	2005.02.05.17.24.28;	author tg;	state Exp;
branches;
next	1.1.1.2;

1.1.1.2
date	2007.04.29.20.07.11;	author tg;	state Exp;
branches;
next	1.1.1.3;
commitid	1004634FAED5BC54DF0;

1.1.1.3
date	2010.12.19.17.39.44;	author tg;	state Exp;
branches
	1.1.1.3.2.1;
next	1.1.1.4;
commitid	1004D0E436269567D7C;

1.1.1.4
date	2011.07.02.15.00.47;	author tg;	state Exp;
branches;
next	1.1.1.5;
commitid	1004E0F31C5496AB95F;

1.1.1.5
date	2011.07.02.15.17.42;	author tg;	state Exp;
branches;
next	;
commitid	1004E0F36A10B5CA95B;

1.1.1.3.2.1
date	2011.07.02.15.02.56;	author tg;	state Exp;
branches;
next	;
commitid	1004E0F31C5496AB95F;

1.1.127.1
date	2010.12.19.14.45.43;	author tg;	state Exp;
branches;
next	1.1.127.2;
commitid	1004D0E1A94384778FD;

1.1.127.2
date	2014.06.09.14.29.15;	author tg;	state Exp;
branches;
next	;
commitid	1005395C4CC1A6DB9EE;


desc
@@


1.4
log
@merge
@
text
@.\"	$OpenBSD: mailq.8,v 1.10 2010/09/23 14:51:57 jmc Exp $
.\"
.\" Copyright (c) 1998-2000, 2002, 2007 Sendmail, Inc. and its suppliers.
.\"	 All rights reserved.
.\" Copyright (c) 1983, 1997 Eric P. Allman.  All rights reserved.
.\" Copyright (c) 1985, 1990, 1993
.\"	The Regents of the University of California.  All rights reserved.
.\"
.\" By using this file, you agree to the terms and conditions set
.\" forth in the LICENSE file which can be found at the top level of
.\" the sendmail distribution.
.\"
.\"
.\"     $Id: mailq.1,v 8.22 2013-11-22 20:51:55 ca Exp $
.\"
.Dd $Mdocdate: December 31 2012 $
.Dt MAILQ 8
.Os
.Sh NAME
.Nm mailq
.Nd print the mail queue
.Sh SYNOPSIS
.Nm mailq
.Op Fl \&Ac
.Op Fl q...
.Op Fl v
.Sh DESCRIPTION
.Nm
prints a summary of the mail messages queued for future delivery.
It may only be run by the superuser.
.Pp
The first line printed for each message
shows the internal identifier used on this host
for the message with a possible status character,
the size of the message in bytes,
the date and time the message was accepted into the queue,
and the envelope sender of the message.
The second line shows the error message that caused this message
to be retained in the queue;
it will not be present if the message is being processed
for the first time.
The status characters are either
.Sq *
to indicate the job is being processed;
.Sq X
to indicate that the load is too high to process the job; and
.Sq -
to indicate that the job is too young to process.
The following lines show message recipients,
one per line.
.Pp
.Nm
is identical to
.Dq Li "sendmail -bp" .
.Pp
The options are as follows:
.Bl -tag -width Ds
.It Fl \&Ac
Show the mail submission queue specified in
.Pa /etc/mail/submit.cf
instead of the MTA queue specified in
.Pa /etc/mail/sendmail.cf .
.It Fl qL
Show the
.Dq lost
items in the mail queue instead of the normal queue items.
.It Fl qQ
Show the quarantined items in the mail queue instead of the normal queue
items.
.It Fl q\fR[\fI!\fR] Ns Cm I Ar substr
Limit processed jobs to those containing
.Ar substr
as a substring of the queue ID or not when
.Sq \&!
is specified.
.It Fl q\fR[\fI!\fR] Ns Cm Q Ar substr
Limit processed jobs to quarantined jobs containing
.Ar substr
as a substring of the quarantine reason or not when
.Sq \&!
is specified.
.It Fl q\fR[\fI!\fR] Ns Cm R Ar substr
Limit processed jobs to those containing
.Ar substr
as a substring of one of the recipients or not when
.Sq \&!
is specified.
.It Fl q\fR[\fI!\fR] Ns Cm S Ar substr
Limit processed jobs to those containing
.Ar substr
as a substring of the sender or not when
.Sq \&!
is specified.
.It Fl v
Print verbose information.
This adds the priority of the message and
a single character indicator (``+'' or blank)
indicating whether a warning message has been sent
on the first line of the message.
Additionally, extra lines may be intermixed with the recipients
indicating the
.Dq controlling user
information;
this shows who will own any programs that are executed
on behalf of this message
and the name of the alias this command expanded from, if any.
Moreover, status messages for each recipient are printed
if available.
.El
.Pp
Several sendmail.cf options influence the behavior of the
.Nm
utility.
The number of items printed per queue group is restricted by
.Li MaxQueueRunSize
if that value is set.
The status character
.Sq *
is not printed for some values of
.Li QueueSortOrder ,
e.g.,
.Ar filename ,
.Ar random ,
.Ar modification ,
and
.Ar none ,
unless a
.Fl q
option is used to limit the processed jobs.
.Sh EXIT STATUS
.Ex -std mailq
.Sh SEE ALSO
.Xr mailer.conf 5 ,
.Xr sendmail 8
.Sh HISTORY
The
.Nm
command appeared in
.Bx 4.0 .
@


1.3
log
@merge sendmail 8.14.6
@
text
@d14 1
a14 1
.\"     $Id: mailq.1,v 8.21 2007/03/22 18:21:27 ca Exp $
d16 1
a16 1
.Dd $Mdocdate: July 2 2011 $
@


1.2
log
@Replace “$Sendmail: ” with “$Id: ” (the latter is used by upstream)
@
text
@d4 1
a4 1
.\"	All rights reserved.
d16 1
a16 1
.Dd $Mdocdate: December 19 2010 $
@


1.1
log
@Initial revision
@
text
@d1 3
a3 1
.\" Copyright (c) 1998-2000, 2002 Sendmail, Inc. and its suppliers.
d14 1
a14 1
.\"     $Sendmail: mailq.1,v 8.20 2002/06/27 22:47:34 gshapiro Exp $
d16 1
a16 1
.Dd September 26, 2002
d28 1
a28 1
.Nm mailq
d111 1
a111 1
The
d113 19
a131 1
utility exits 0 on success, and >0 if an error occurs.
@


1.1.127.1
log
@Import Sendmail 8.14.3, suitably stripped down by the not yet committed
contrib/samples/import-3rdpty,v 1.35; we have some new and renamed files
@
text
@d1 2
a2 2
.\" Copyright (c) 1998-2000, 2002, 2007 Sendmail, Inc. and its suppliers.
.\"	 All rights reserved.
d12 1
a12 1
.\"     $Id: mailq.1,v 8.21 2007/03/22 18:21:27 ca Exp $
d14 13
a26 11
.TH MAILQ 1 "$Date: 2007/03/22 18:21:27 $"
.SH NAME
mailq
\- print the mail queue
.SH SYNOPSIS
.B mailq
.RB [ \-Ac ]
.RB [ \-q... ]
.RB [ \-v ]
.SH DESCRIPTION
.B Mailq
d28 5
a32 4
.PP
The first line printed for each message 
shows the internal identifier used on this host 
for the message with a possible status character, 
d34 6
a39 6
the date and time the message was accepted into the queue, 
and the envelope sender of the message.  
The second line shows the error message that caused this message 
to be retained in the queue; 
it will not be present if the message is being processed 
for the first time.  
d41 1
a41 1
.B *
d43 1
a43 1
.B X
d45 1
a45 1
.B -
d47 1
a47 1
The following lines show message recipients, 
d49 8
a56 7
.PP
.B Mailq
is identical to ``sendmail -bp''.
.PP
The relevant options are as follows:
.TP
.B \-Ac
d58 1
a58 1
.I /etc/mail/submit.cf
d60 6
a65 6
.IR /etc/mail/sendmail.cf .
.TP
.B \-qL
Show the "lost" items in the mail queue instead of the normal queue items.
.TP
.B \-qQ
d68 1
a68 2
.TP
\fB\-q\fR[\fI!\fR]I substr
d70 3
a72 3
.I substr
as a substring of the queue id or not when
.I !
d74 1
a74 2
.TP
\fB\-q\fR[\fI!\fR]Q substr
d76 1
a76 1
.I substr
d78 1
a78 1
.I !
d80 1
a80 2
.TP
\fB\-q\fR[\fI!\fR]R substr
d82 1
a82 1
.I substr
d84 1
a84 1
.I !
d86 1
a86 2
.TP
\fB\-q\fR[\fI!\fR]S substr
d88 1
a88 1
.I substr
d90 1
a90 1
.I !
d92 5
a96 6
.TP
.B \-v
Print verbose information.  
This adds the priority of the message and 
a single character indicator (``+'' or blank) 
indicating whether a warning message has been sent 
d99 5
a103 3
indicating the ``controlling user'' information; 
this shows who will own any programs that are executed 
on behalf of this message 
d107 2
a108 20
.PP
Several sendmail.cf options influence the behavior of the
.B mailq
utility:
The number of items printed per queue group is restricted by
.B MaxQueueRunSize
if that value is set.
The status character
.B *
is not printed for some values of
.B QueueSortOrder,
e.g.,
filename,
random,
modification, and
none,
unless a
.B -q
option is used to limit the processed jobs.
.PP
d110 1
a110 1
.B mailq
d112 4
a115 3
.SH SEE ALSO
sendmail(8)
.SH HISTORY
d117 3
a119 3
.B mailq
command appeared in 
4.0BSD.
@


1.1.127.2
log
@Import sendmail 8.14.9
@
text
@d1 1
a1 1
.\" Copyright (c) 1998-2000, 2002, 2007 Proofpoint, Inc. and its suppliers.
d12 1
a12 1
.\"     $Id: mailq.1,v 8.22 2013-11-22 20:51:55 ca Exp $
d14 1
a14 1
.TH MAILQ 1 "$Date: 2013-11-22 20:51:55 $"
@


1.1.1.1
log
@Import the OpenBSD foundation of MirOS BSD
@
text
@@


1.1.1.2
log
@import openbsd compress, ssh, perl, sendmail for minor bugfixes
@
text
@d1 1
a1 1
.\" Copyright (c) 1998-2000, 2002, 2007 Sendmail, Inc. and its suppliers.
d12 1
a12 1
.\"     $Sendmail: mailq.1,v 8.21 2007/03/22 18:21:27 ca Exp $
d14 1
a14 1
.Dd March 22, 2007
d26 1
a26 1
.Nm
a108 20
Several sendmail.cf options influence the behavior of the
.Nm
utility.
The number of items printed per queue group is restricted by
.Li MaxQueueRunSize
if that value is set.
The status character
.Sq *
is not printed for some values of
.Li QueueSortOrder ,
e.g.,
.Ar filename ,
.Ar random ,
.Ar modification ,
and
.Ar none ,
unless a
.Fl q
option is used to limit the processed jobs.
.Pp
@


1.1.1.3
log
@Import whatever OpenBSD did to sendmail 8.14.3 in the last two years
@
text
@a0 2
.\"	$OpenBSD: mailq.8,v 1.10 2010/09/23 14:51:57 jmc Exp $
.\"
d14 1
a14 1
.Dd $Mdocdate: September 23 2010 $
d128 4
a131 2
.Sh EXIT STATUS
.Ex -std mailq
@


1.1.1.3.2.1
log
@Replace “$Sendmail: ” with “$Id: ” (the latter is used by upstream)
@
text
@d14 1
a14 1
.\"     $Id: mailq.1,v 8.21 2007/03/22 18:21:27 ca Exp $
d16 1
a16 1
.Dd $Mdocdate: December 19 2010 $
@


1.1.1.4
log
@Replace “$Sendmail: ” with “$Id: ” (the latter is used by upstream)
@
text
@d14 1
a14 1
.\"     $Id: mailq.1,v 8.21 2007/03/22 18:21:27 ca Exp $
d16 1
a16 1
.Dd $Mdocdate: December 19 2010 $
@


1.1.1.5
log
@Import OpenBSD’s sendmail 8.14.5, RCS IDs properly sedded back
@
text
@d16 1
a16 1
.Dd $Mdocdate: September 23 2010 $
@


