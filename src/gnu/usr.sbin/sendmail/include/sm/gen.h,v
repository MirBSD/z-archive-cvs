head	1.8;
access;
symbols
	sendmail-8_14_9:1.1.127.2
	sendmail-8_14_7:1.1.127.1
	sendmail-8_14_6:1.1.127.1
	sendmail-8_14_5-ERRATA-1:1.1.127.1
	mbsd-20101220_mergebase:1.7
	sendmail-8_14_5:1.1.127.1
	cvs-201107021500:1.1.1.2
	cvs-20101220:1.1.1.2
	mbsd-20101220:1.7.0.2
	cvs-201012191730:1.1.1.1
	sendmail-8_14_5_Beta0:1.1.127.1
	sendmail-8_14_3:1.1.127.1
	sendmail:1.1.127
	cvs-200812170000:1.1.1.1
	cvs-200805071200:1.1.1.1
	MIRBSD_10:1.5.0.2
	MIRBSD_10_BASE:1.5
	cvs-200803022030:1.1.1.1
	cvs-200707152000:1.1.1.1
	cvs-200704292000:1.1.1.1
	cvs-200702051700:1.1.1.1
	cvs-200609121900:1.1.1.1
	MIRBSD_9_BASE:1.2
	cvs-200606151800:1.1.1.1
	cvs-200603231300:1.1.1.1
	MIRBSD_8:1.2.0.2
	MIRBSD_8_BASE:1.2
	cvs-200507211800:1.1.1.1
	cvs-200504262050:1.1.1.1
	openbsd:1.1.1;
locks; strict;
comment	@ * @;


1.8
date	2014.06.09.15.17.08;	author tg;	state Exp;
branches;
next	1.7;
commitid	1005395CFC65E5646F1;

1.7
date	2010.12.19.17.18.07;	author tg;	state Exp;
branches;
next	1.6;
commitid	1004D0E3E2D1286B3DF;

1.6
date	2008.05.07.13.15.20;	author tg;	state Exp;
branches;
next	1.5;
commitid	1004821AB7510EE48FB;

1.5
date	2006.10.03.19.46.15;	author tg;	state Exp;
branches
	1.5.2.1;
next	1.4;
commitid	1004522BE1372DDCA9D;

1.4
date	2006.09.29.21.39.22;	author tg;	state Exp;
branches;
next	1.3;
commitid	100451D92964D81CFBB;

1.3
date	2006.09.29.21.35.42;	author tg;	state Exp;
branches;
next	1.2;
commitid	100451D919071003585;

1.2
date	2005.03.13.15.11.45;	author tg;	state Exp;
branches;
next	1.1;

1.1
date	2005.02.05.17.24.22;	author tg;	state Exp;
branches
	1.1.1.1
	1.1.127.1;
next	;

1.5.2.1
date	2008.05.17.19.11.50;	author tg;	state Exp;
branches;
next	;
commitid	100482F2DC168C89AEA;

1.1.1.1
date	2005.02.05.17.24.22;	author tg;	state Exp;
branches;
next	1.1.1.2;

1.1.1.2
date	2011.07.02.14.59.36;	author tg;	state Exp;
branches;
next	;
commitid	1004E0F31C5496AB95F;

1.1.127.1
date	2010.12.19.14.45.48;	author tg;	state Exp;
branches;
next	1.1.127.2;
commitid	1004D0E1A94384778FD;

1.1.127.2
date	2014.06.09.14.29.20;	author tg;	state Exp;
branches;
next	;
commitid	1005395C4CC1A6DB9EE;


desc
@@


1.8
log
@merge
@
text
@/*
 * Copyright (c) 2000-2002 Proofpoint, Inc. and its suppliers.
 *	All rights reserved.
 *
 * By using this file, you agree to the terms and conditions set
 * forth in the LICENSE file which can be found at the top level of
 * the sendmail distribution.
 *
 *	$MirOS: src/gnu/usr.sbin/sendmail/include/sm/gen.h,v 1.7 2010/12/19 17:18:07 tg Exp $
 *	$Id: gen.h,v 1.24 2013-11-22 20:51:31 ca Exp $
 */

/*
**  libsm general definitions
**  See libsm/gen.html for documentation.
*/

#ifndef SM_GEN_H
# define SM_GEN_H

# include <sm/config.h>
# include <sm/cdefs.h>
# include <sm/types.h>

/*
**  Define SM_RCSID and SM_IDSTR,
**  macros used to embed RCS and SCCS identification strings in object files.
*/

#ifdef __MirBSD__
# include <sys/cdefs.h>
# define SM_RCSID(str)		__RCSID(str);
# define SM_IDSTR(id,str)	__IDSTRING(id,str);
# define SM_COPYRIGHT(str)	__COPYRIGHT(str);
#else
# ifdef lint
#  define SM_RCSID(str)
#  define SM_IDSTR(id,str)
#  define SM_COPYRIGHT(str)
# else /* lint */
#  define SM_RCSID(str) SM_UNUSED(static const char RcsId[]) = str;
#  define SM_IDSTR(id,str) SM_UNUSED(static const char id[]) = str;
#  define SM_COPYRIGHT(str) SM_UNUSED(static char copyright[]) = str;
# endif /* lint */
#endif

/*
**  Define NULL and offsetof (from the C89 standard)
*/

# if SM_CONF_STDDEF_H
#  include <stddef.h>
# else /* SM_CONF_STDDEF_H */
#  ifndef NULL
#   define NULL	0
#  endif /* ! NULL */
#  define offsetof(type, member)	((size_t)(&((type *)0)->member))
# endif /* SM_CONF_STDDEF_H */

/*
**  Define bool, true, false (from the C99 standard)
*/

# if SM_CONF_STDBOOL_H
#  include <stdbool.h>
# else /* SM_CONF_STDBOOL_H */
#  ifndef __cplusplus
    typedef int bool;
#   define false	0
#   define true		1
#   define __bool_true_false_are_defined	1
#  endif /* ! __cplusplus */
# endif /* SM_CONF_STDBOOL_H */

/*
**  Define SM_MAX and SM_MIN
*/

# define SM_MAX(a, b)	((a) > (b) ? (a) : (b))
# define SM_MIN(a, b)	((a) < (b) ? (a) : (b))

/* Define SM_SUCCESS and SM_FAILURE */
# define SM_SUCCESS	0
# define SM_FAILURE	(-1)

/* XXX This needs to be fixed when we start to use threads: */
typedef int SM_ATOMIC_INT_T;
typedef unsigned int SM_ATOMIC_UINT_T;

#endif /* SM_GEN_H */
@


1.7
log
@merge newer sendmail; fix and correct; reduce upstream diffs; prep for deb
@
text
@d2 1
a2 1
 * Copyright (c) 2000-2002 Sendmail, Inc. and its suppliers.
d9 2
a10 2
 *	$MirOS: src/gnu/usr.sbin/sendmail/include/sm/gen.h,v 1.6 2008/05/07 13:15:20 tg Exp $
 *	$Id: gen.h,v 1.23 2003/11/04 18:51:54 ca Exp $
@


1.6
log
@merge and reduce diffs against upstream
@
text
@d9 2
a10 2
 *	$MirOS$
 *	$Sendmail: gen.h,v 1.23 2003/11/04 18:51:54 ca Exp $
d34 1
d39 1
d43 1
@


1.5
log
@use the same idstring stuff everywhere, makes sense
@
text
@d9 1
a9 1
 *	$MirOS: src/gnu/usr.sbin/sendmail/include/sm/gen.h,v 1.4 2006/09/29 21:39:22 tg Exp $
d30 5
d38 3
a40 3
# else
#  define SM_RCSID(str)		__RCSID(str);
#  define SM_IDSTR(id,str)	__IDSTRING(id,str);
d42 1
@


1.5.2.1
log
@MFC sendmail update to 8.14.3

agreed bsiegert@@
@
text
@d9 1
a9 1
 *	$MirOS: src/gnu/usr.sbin/sendmail/include/sm/gen.h,v 1.6 2008/05/07 13:15:20 tg Exp $
a29 5
#ifdef __MirBSD__
# include <sys/cdefs.h>
# define SM_RCSID(str)		__RCSID(str);
# define SM_IDSTR(id,str)	__IDSTRING(id,str);
#else
d33 3
a35 3
# else /* lint */
#  define SM_RCSID(str) SM_UNUSED(static const char RcsId[]) = str;
#  define SM_IDSTR(id,str) SM_UNUSED(static const char id[]) = str;
a36 1
#endif
@


1.4
log
@don't add parens around the string if it's about to be concatenated
@
text
@d9 1
a9 1
 *	$MirOS: src/gnu/usr.sbin/sendmail/include/sm/gen.h,v 1.3 2006/09/29 21:35:42 tg Exp $
d34 2
a35 14
#  if defined(__ELF__) && defined(__GNUC__)
#   define SM_IDSTR(prefix, string)				\
	__asm__(".section .comment"				\
	"\n	.ascii	\"" #prefix ": \""			\
	"\n	.asciz	\"" string "\""				\
	"\n	.previous");
#  else
#   define SM_IDSTR_CONCAT(l,p)		__LINTED__ ## l ## _ ## p
#   define SM_IDSTR_EXPAND(l,p)		SM_IDSTR_CONCAT(l,p)
#   define SM_IDSTR(prefix, string)				\
	static const char SM_IDSTR_EXPAND(__LINE__,prefix) []	\
	    __attribute__((used)) = string;
#  endif
#  define SM_RCSID(str) SM_IDSTR(RcsId,str)
@


1.3
log
@* add __COPYRIGHT()
* add @@(#) to the asm version too, since it gets stripped in
  space-constrained environments anyway
* split @@( and #) so what doesn't run wild on cdefs.h itself
* sync sendmail which provides its own what markers
@
text
@d9 1
a9 1
 *	$MirOS: src/gnu/usr.sbin/sendmail/include/sm/gen.h,v 1.2 2005/03/13 15:11:45 tg Exp $
d45 1
a45 1
	    __attribute__((used)) = (string);
@


1.2
log
@merge sendmail diff against OpenBSD's idea of sendmail port
@
text
@d9 1
a9 1
 *	$MirOS$
d33 15
a47 6
# elif defined(__IDSTRING)
#  define SM_RCSID(str) __RCSID(str);
#  define SM_IDSTR(id,str) __IDSTRING(id,str);
# else /* lint */
#  define SM_RCSID(str) SM_UNUSED(static const char RcsId[]) = str;
#  define SM_IDSTR(id,str) SM_UNUSED(static const char id[]) = str;
@


1.1
log
@Initial revision
@
text
@d9 1
d33 3
@


1.1.127.1
log
@Import Sendmail 8.14.3, suitably stripped down by the not yet committed
contrib/samples/import-3rdpty,v 1.35; we have some new and renamed files
@
text
@d9 1
a9 1
 *	$Id: gen.h,v 1.23 2003/11/04 18:51:54 ca Exp $
@


1.1.127.2
log
@Import sendmail 8.14.9
@
text
@d2 1
a2 1
 * Copyright (c) 2000-2002 Proofpoint, Inc. and its suppliers.
d9 1
a9 1
 *	$Id: gen.h,v 1.24 2013-11-22 20:51:31 ca Exp $
@


1.1.1.1
log
@Import the OpenBSD foundation of MirOS BSD
@
text
@@


1.1.1.2
log
@Replace “$Sendmail: ” with “$Id: ” (the latter is used by upstream)
@
text
@d9 1
a9 1
 *	$Id: gen.h,v 1.23 2003/11/04 18:51:54 ca Exp $
@

