head	1.11;
access;
symbols
	sendmail-8_14_9:1.1.127.2
	sendmail-8_14_7:1.1.127.1
	sendmail-8_14_6:1.1.127.1
	sendmail-8_14_5-ERRATA-1:1.1.127.1
	mbsd-20101220_mergebase:1.9.2.1
	sendmail-8_14_5:1.1.127.1
	cvs-201107021500:1.1.1.4
	cvs-20101220:1.1.1.4
	mbsd-20101220:1.9.0.2
	cvs-201012191730:1.1.1.3
	sendmail-8_14_5_Beta0:1.1.127.1
	sendmail-8_14_3:1.1.127.1
	sendmail:1.1.127
	cvs-200812170000:1.1.1.3
	cvs-200805071200:1.1.1.2
	MIRBSD_10:1.7.0.2
	MIRBSD_10_BASE:1.7
	cvs-200803022030:1.1.1.2
	cvs-200707152000:1.1.1.2
	cvs-200704292000:1.1.1.2
	cvs-200702051700:1.1.1.2
	cvs-200609121900:1.1.1.2
	MIRBSD_9_BASE:1.4
	cvs-200606151800:1.1.1.1
	cvs-200603231300:1.1.1.1
	MIRBSD_8:1.3.0.2
	MIRBSD_8_BASE:1.3
	cvs-200507211800:1.1.1.1
	cvs-200504262050:1.1.1.1
	openbsd:1.1.1;
locks; strict;
comment	@# @;


1.11
date	2014.06.09.15.16.37;	author tg;	state Exp;
branches;
next	1.10;
commitid	1005395CFC65E5646F1;

1.10
date	2011.07.02.15.03.08;	author tg;	state Exp;
branches;
next	1.9;
commitid	1004E0F31C5496AB95F;

1.9
date	2008.12.17.00.42.55;	author tg;	state Exp;
branches
	1.9.2.1;
next	1.8;
commitid	10049484B253D8462E0;

1.8
date	2008.05.07.13.15.16;	author tg;	state Exp;
branches;
next	1.7;
commitid	1004821AB7510EE48FB;

1.7
date	2007.02.04.10.23.58;	author tg;	state Exp;
branches
	1.7.2.1;
next	1.6;
commitid	10045C5B3D42EA61BD4;

1.6
date	2006.11.17.02.48.51;	author tg;	state Exp;
branches;
next	1.5;
commitid	100455D23232039DA51;

1.5
date	2006.09.12.19.29.36;	author tg;	state Exp;
branches;
next	1.4;
commitid	10045070AB34CD62FED;

1.4
date	2006.06.15.19.18.47;	author tg;	state Exp;
branches;
next	1.3;
commitid	1004491B2706C2443B2;

1.3
date	2005.03.15.21.35.54;	author tg;	state Exp;
branches;
next	1.2;

1.2
date	2005.03.13.15.11.42;	author tg;	state Exp;
branches;
next	1.1;

1.1
date	2005.02.05.17.24.18;	author tg;	state Exp;
branches
	1.1.1.1
	1.1.127.1;
next	;

1.9.2.1
date	2011.07.02.15.01.25;	author tg;	state Exp;
branches;
next	;
commitid	1004E0F31C5496AB95F;

1.7.2.1
date	2008.05.17.19.11.42;	author tg;	state Exp;
branches;
next	;
commitid	100482F2DC168C89AEA;

1.1.1.1
date	2005.02.05.17.24.18;	author tg;	state Exp;
branches;
next	1.1.1.2;

1.1.1.2
date	2006.09.12.19.21.45;	author tg;	state Exp;
branches;
next	1.1.1.3;
commitid	100450708CE5C63A8F5;

1.1.1.3
date	2008.12.17.00.31.13;	author tg;	state Exp;
branches;
next	1.1.1.4;
commitid	1004948485811951994;

1.1.1.4
date	2011.07.02.14.58.45;	author tg;	state Exp;
branches;
next	;
commitid	1004E0F31C5496AB95F;

1.1.127.1
date	2010.12.19.14.45.50;	author tg;	state Exp;
branches;
next	1.1.127.2;
commitid	1004D0E1A94384778FD;

1.1.127.2
date	2014.06.09.14.29.22;	author tg;	state Exp;
branches;
next	;
commitid	1005395C4CC1A6DB9EE;


desc
@@


1.11
log
@merge
@
text
@divert(-1)
#
# Copyright (c) 2001-2003 Proofpoint, Inc. and its suppliers.
#	All rights reserved.
#
# By using this file, you agree to the terms and conditions set
# forth in the LICENSE file which can be found at the top level of
# the sendmail distribution.
#
#

#
#  This is the prototype file for a set-group-ID sm-msp sendmail that
#  acts as a initial mail submission program.
#

divert(0)dnl
VERSIONID(`$Id: submit.mc,v 8.15 2013-11-22 20:51:08 ca Exp $')
define(`confCF_VERSION', `Submit')dnl
define(`__OSTYPE__',`')dnl dirty hack to keep proto.m4 from complaining
define(`_USE_DECNET_SYNTAX_', `1')dnl support DECnet
define(`confTIME_ZONE', `USE_TZ')dnl
define(`confDONT_INIT_GROUPS', `True')dnl
dnl
dnl If you use IPv6 only, change [127.0.0.1] to [IPv6:::1]
FEATURE(`msp', `[127.0.0.1]')dnl
@


1.10
log
@Replace “$Sendmail: ” with “$Id: ” (the latter is used by upstream)
@
text
@d3 1
a3 1
# Copyright (c) 2001-2003 Sendmail, Inc. and its suppliers.
d18 1
a18 1
VERSIONID(`$Id: submit.mc,v 8.14 2006/04/05 05:54:41 ca Exp $')
@


1.9
log
@merge
@
text
@d18 1
a18 1
VERSIONID(`$Sendmail: submit.mc,v 8.14 2006/04/05 05:54:41 ca Exp $')
@


1.9.2.1
log
@Replace “$Sendmail: ” with “$Id: ” (the latter is used by upstream)
@
text
@d18 1
a18 1
VERSIONID(`$Id: submit.mc,v 8.14 2006/04/05 05:54:41 ca Exp $')
@


1.8
log
@merge and reduce diffs against upstream
@
text
@a2 5
# $MirOS: src/gnu/usr.sbin/sendmail/cf/cf/submit.mc,v 1.7 2007/02/04 10:23:58 tg Exp $
# $Sendmail: submit.mc,v 8.14 2006/04/05 05:54:41 ca Exp $
#
# Copyright (c) 2004, 2005, 2006, 2008
#	Thorsten "mirabilos" Glaser <tg@@MirBSD.de>
d18 1
a18 1
VERSIONID(`$MirOS: src/gnu/usr.sbin/sendmail/cf/cf/submit.mc,v 1.7 2007/02/04 10:23:58 tg Exp $')
a22 1
define(`confBIND_OPTS', `WorkAroundBrokenAAAA')dnl
a23 10
define(`confEIGHT_BIT_HANDLING', `mimefy')dnl
define(`confDEF_CHAR_SET', `utf-8')dnl
define(`_DEF_SMTP_MAILER_FLAGS', `LmDFMuX')dnl
define(`SMTP_MAILER_FLAGS', `67E')dnl
FEATURE(`accept_unresolvable_domains')dnl
FEATURE(`msp', `[IPv6:::1]')dnl
dnl
LOCAL_CONFIG
dnl
dnl Parts of these Content-type are never base64-encoded, only QP
d25 2
a26 1
Cqtext/plain
@


1.7
log
@prevent text/plain from being base64-encoded
(any other content-types to add to this class? I could add text/* but
that might have other implications; OTOH this is for submission only,
not for non-local-originating stuff; intended for the calendar which,
since we have russian utf-8, is often sent out as base64, and as such
triggers bmf)

XXX according to 09.sendmailop, text/plain is always in $=q - why not?
@
text
@d3 2
a4 1
# $MirOS: src/gnu/usr.sbin/sendmail/cf/cf/submit.mc,v 1.6 2006/11/17 02:48:51 tg Exp $
d6 1
a6 1
# Copyright (c) 2004, 2005, 2006
d23 1
a23 2
VERSIONID(`$MirOS: src/gnu/usr.sbin/sendmail/cf/cf/submit.mc,v 1.6 2006/11/17 02:48:51 tg Exp $')
VERSIONID(`$Sendmail: submit.mc,v 8.14 2006/04/05 05:54:41 ca Exp $')
@


1.7.2.1
log
@MFC sendmail update to 8.14.3

agreed bsiegert@@
@
text
@d3 1
a3 2
# $MirOS: src/gnu/usr.sbin/sendmail/cf/cf/submit.mc,v 1.8 2008/05/07 13:15:16 tg Exp $
# $Sendmail: submit.mc,v 8.14 2006/04/05 05:54:41 ca Exp $
d5 1
a5 1
# Copyright (c) 2004, 2005, 2006, 2008
d22 2
a23 1
VERSIONID(`$MirOS: src/gnu/usr.sbin/sendmail/cf/cf/submit.mc,v 1.8 2008/05/07 13:15:16 tg Exp $')
@


1.6
log
@now we can switch this one to utf-8
@
text
@d3 1
a3 1
# $MirOS: src/gnu/usr.sbin/sendmail/cf/cf/submit.mc,v 1.5 2006/09/12 19:29:36 tg Exp $
d22 1
a22 1
VERSIONID(`$MirOS: src/gnu/usr.sbin/sendmail/cf/cf/submit.mc,v 1.5 2006/09/12 19:29:36 tg Exp $')
d36 6
@


1.5
log
@fastmerge sendmail update
@
text
@d3 1
a3 1
# $MirOS: src/gnu/usr.sbin/sendmail/cf/cf/submit.mc,v 1.4 2006/06/15 19:18:47 tg Exp $
d5 2
a6 2
# Copyright (c) 2004, 2005
#	Thorsten "mirabile" Glaser <tg@@MirBSD.de>
d22 1
a22 1
VERSIONID(`$MirOS: src/gnu/usr.sbin/sendmail/cf/cf/submit.mc,v 1.4 2006/06/15 19:18:47 tg Exp $')
d31 1
a31 1
define(`confDEF_CHAR_SET', `iso-8859-1')dnl
@


1.4
log
@mirbsd.org, 66h.42h.de, bsdadvocacy.org, and whatnot
we changed that too often, try to clean up the mess
mostly outside the www/ module which is dead anyway.
@
text
@d3 1
a3 1
# $MirOS: src/gnu/usr.sbin/sendmail/cf/cf/submit.mc,v 1.3 2005/03/15 21:35:54 tg Exp $
d22 2
a23 2
VERSIONID(`$MirOS: src/gnu/usr.sbin/sendmail/cf/cf/submit.mc,v 1.3 2005/03/15 21:35:54 tg Exp $')
VERSIONID(`$Sendmail: submit.mc,v 8.13 2003/09/10 22:12:48 ca Exp $')
@


1.3
log
@default character encoding for locally started (via mailx(1)) eMails
is ISO-8859-1 (since we're not locale aware anyway, and it's only
used if the sender does not support MIME, and this allows for 8bit
chars in CVS commit mails).

ok and prodded bsiegert@@
@
text
@d3 1
a3 1
# $MirOS: src/gnu/usr.sbin/sendmail/cf/cf/submit.mc,v 1.2 2005/03/13 15:11:42 tg Exp $
d6 1
a6 1
#	Thorsten "mirabile" Glaser <tg@@MirBSD.org>
d22 1
a22 1
VERSIONID(`$MirOS: src/gnu/usr.sbin/sendmail/cf/cf/submit.mc,v 1.2 2005/03/13 15:11:42 tg Exp $')
@


1.2
log
@merge sendmail diff against OpenBSD's idea of sendmail port
@
text
@d3 1
a3 1
# $MirOS$
d6 1
a6 1
#	Thorsten "mirabile" Glaser <tg@@66h.42h.de>
d22 1
a22 1
VERSIONID(`$MirOS$')
d31 1
@


1.1
log
@Initial revision
@
text
@d3 4
d22 1
d30 3
d34 1
a34 1
FEATURE(`msp', `[127.0.0.1]')dnl
@


1.1.127.1
log
@Import Sendmail 8.14.3, suitably stripped down by the not yet committed
contrib/samples/import-3rdpty,v 1.35; we have some new and renamed files
@
text
@d18 1
a18 1
VERSIONID(`$Id: submit.mc,v 8.14 2006/04/05 05:54:41 ca Exp $')
d23 1
d25 1
a25 2
dnl
dnl If you use IPv6 only, change [127.0.0.1] to [IPv6:::1]
@


1.1.127.2
log
@Import sendmail 8.14.9
@
text
@d3 1
a3 1
# Copyright (c) 2001-2003 Proofpoint, Inc. and its suppliers.
d18 1
a18 1
VERSIONID(`$Id: submit.mc,v 8.15 2013-11-22 20:51:08 ca Exp $')
@


1.1.1.1
log
@Import the OpenBSD foundation of MirOS BSD
@
text
@@


1.1.1.2
log
@Import latest Sendmail
@
text
@d18 1
a18 1
VERSIONID(`$Sendmail: submit.mc,v 8.14 2006/04/05 05:54:41 ca Exp $')
@


1.1.1.3
log
@OpenBSD-current sendmail (while it lasts)
@
text
@d23 1
d25 1
a25 2
dnl
dnl If you use IPv6 only, change [127.0.0.1] to [IPv6:::1]
@


1.1.1.4
log
@Replace “$Sendmail: ” with “$Id: ” (the latter is used by upstream)
@
text
@d18 1
a18 1
VERSIONID(`$Id: submit.mc,v 8.14 2006/04/05 05:54:41 ca Exp $')
@


