head	1.6;
access;
symbols
	mbsd-20101220_mergebase:1.4
	cvs-201107021500:1.1.1.1
	cvs-20101220:1.1.1.1
	mbsd-20101220:1.4.0.2
	cvs-201012191730:1.1.1.1
	cvs-200812170000:1.1.1.1
	openbsd:1.1.1;
locks; strict;
comment	@# @;


1.6
date	2019.02.19.03.30.39;	author tg;	state Exp;
branches;
next	1.5;
commitid	1005C6B786D306CADA4;

1.5
date	2011.07.02.18.53.07;	author tg;	state Exp;
branches;
next	1.4;
commitid	1004E0F691F4FCE39B3;

1.4
date	2010.12.19.17.17.57;	author tg;	state Exp;
branches;
next	1.3;
commitid	1004D0E3E2D1286B3DF;

1.3
date	2009.11.18.09.16.14;	author tg;	state Exp;
branches;
next	1.2;
commitid	1004B03BB6708FEBBAE;

1.2
date	2008.12.17.00.42.55;	author tg;	state Exp;
branches;
next	1.1;
commitid	10049484B253D8462E0;

1.1
date	2008.12.17.00.31.13;	author tg;	state Exp;
branches
	1.1.1.1;
next	;
commitid	1004948485811951994;

1.1.1.1
date	2008.12.17.00.31.13;	author tg;	state Exp;
branches;
next	;
commitid	1004948485811951994;


desc
@@


1.6
log
@weâ€™re transitioning to 0640 root:ssl-cert on default.key, so allow that
@
text
@divert(-1)
#
# $MirOS: src/gnu/usr.sbin/sendmail/cf/cf/openbsd-submit.mc,v 1.5 2011/07/02 18:53:07 tg Exp $
# $OpenBSD: openbsd-submit.mc,v 1.1 2008/10/03 16:29:05 millert Exp $
#
# Copyright (c) 2004, 2005, 2006, 2008, 2011, 2019
#	mirabilos <m@@mirbsd.org>
# Copyright (c) 2001-2003 Sendmail, Inc. and its suppliers.
#	All rights reserved.
#
# By using this file, you agree to the terms and conditions set
# forth in the LICENSE file which can be found at the top level of
# the sendmail distribution.
#
#

#
#  This is the prototype file for a set-group-ID sm-msp sendmail
#  that acts as a initial mail submission program.
#

divert(0)dnl
VERSIONID(`$MirOS: src/gnu/usr.sbin/sendmail/cf/cf/openbsd-submit.mc,v 1.5 2011/07/02 18:53:07 tg Exp $')
define(`confCF_VERSION', `Submit')dnl
OSTYPE(openbsd)dnl
define(`_USE_DECNET_SYNTAX_', `1')dnl support DECnet
define(`confTIME_ZONE', `USE_TZ')dnl
define(`confDONT_BLAME_SENDMAIL', `GroupReadableKeyFile')dnl
define(`confBIND_OPTS', `WorkAroundBrokenAAAA')dnl
define(`confDONT_INIT_GROUPS', `True')dnl
define(`confEIGHT_BIT_HANDLING', `mimefy')dnl
define(`confDEF_CHAR_SET', `utf-8')dnl
define(`confCACERT_PATH', `/etc/ssl/certs')dnl
define(`_DEF_SMTP_MAILER_FLAGS', `LmDFMuX')dnl
define(`SMTP_MAILER_FLAGS', `67E')dnl
define(`confCT_FILE', `-o MAIL_SETTINGS_DIR`'trusted-users')dnl
FEATURE(`use_ct_file')dnl
FEATURE(`accept_unresolvable_domains')dnl
dnl
dnl First is for IPv4, second is for IPv6
dnl FEATURE(`msp', `[127.0.0.1]')dnl
FEATURE(`msp', `[IPv6:::1]')dnl
dnl
LOCAL_CONFIG
dnl
dnl Parts of these Content-type are never base64-encoded, only QP
dnl
Cqtext/plain
@


1.5
log
@take care of merging cf-related changes and work on them a bit more
@
text
@d3 1
a3 1
# $MirOS: src/gnu/usr.sbin/sendmail/cf/cf/openbsd-submit.mc,v 1.4 2010/12/19 17:17:57 tg Exp $
d6 2
a7 2
# Copyright (c) 2004, 2005, 2006, 2008, 2011
#	Thorsten "mirabilos" Glaser <tg@@mirbsd.org>
d23 1
a23 1
VERSIONID(`$MirOS: src/gnu/usr.sbin/sendmail/cf/cf/openbsd-submit.mc,v 1.4 2010/12/19 17:17:57 tg Exp $')
d28 1
@


1.4
log
@merge newer sendmail; fix and correct; reduce upstream diffs; prep for deb
@
text
@d3 2
a4 1
# $MirOS: src/gnu/usr.sbin/sendmail/cf/cf/openbsd-submit.mc,v 1.3 2009/11/18 09:16:14 tg Exp $
d6 2
a7 2
# Copyright (c) 2004, 2005, 2006, 2008
#	Thorsten "mirabilos" Glaser <tg@@MirBSD.org>
d18 2
a19 2
#  This is the prototype file for a set-group-ID sm-msp sendmail that
#  acts as a initial mail submission program.
d23 1
a23 2
VERSIONID(`$MirOS: src/gnu/usr.sbin/sendmail/cf/cf/openbsd-submit.mc,v 1.3 2009/11/18 09:16:14 tg Exp $')
VERSIONID(`$OpenBSD: openbsd-submit.mc,v 1.1 2008/10/03 16:29:05 millert Exp $')
@


1.3
log
@attempt to allow peer certificate verification even for the MSA
sponsored by tarent GmbH
@
text
@d3 1
a3 1
# $MirOS: src/gnu/usr.sbin/sendmail/cf/cf/openbsd-submit.mc,v 1.2 2008/12/17 00:42:55 tg Exp $
d22 1
a23 1
VERSIONID(`$MirOS: src/gnu/usr.sbin/sendmail/cf/cf/openbsd-submit.mc,v 1.2 2008/12/17 00:42:55 tg Exp $')
@


1.2
log
@merge
@
text
@d3 1
a3 1
# $MirOS: src/gnu/usr.sbin/sendmail/cf/cf/submit.mc,v 1.8 2008/05/07 13:15:16 tg Exp $
d23 1
a23 1
VERSIONID(`$MirOS: src/gnu/usr.sbin/sendmail/cf/cf/submit.mc,v 1.8 2008/05/07 13:15:16 tg Exp $')
d32 1
@


1.1
log
@Initial revision
@
text
@d3 4
d23 1
d30 4
d38 9
a46 2
dnl If you use IPv6 only, change [127.0.0.1] to [IPv6:::1]
FEATURE(`msp', `[127.0.0.1]')dnl
@


1.1.1.1
log
@OpenBSD-current sendmail (while it lasts)
@
text
@@
