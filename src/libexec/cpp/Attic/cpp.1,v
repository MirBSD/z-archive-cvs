head	1.3;
access;
symbols
	pcc_cpp:1.2.0.2
	cvs-20081118:1.1.121.1
	pcc:1.1.121;
locks; strict;
comment	@.\" @;


1.3
date	2008.11.22.13.06.43;	author tg;	state dead;
branches;
next	1.2;
commitid	100492803F07424968F;

1.2
date	2008.11.18.19.51.52;	author tg;	state Exp;
branches;
next	1.1;
commitid	10049231CD61DED021C;

1.1
date	2008.11.18.19.01.05;	author tg;	state Exp;
branches
	1.1.121.1;
next	;
commitid	100492310FE49616AA5;

1.1.121.1
date	2008.11.18.19.01.05;	author tg;	state Exp;
branches;
next	;
commitid	100492310FE49616AA5;


desc
@@


1.3
log
@switch MAIN branch back to Reiser CCCP (for now)
@
text
@.\"	$MirOS: src/libexec/cpp/cpp.1,v 1.2 2008/11/18 19:51:52 tg Exp $
.\"	$Id: cpp.1,v 1.10 2008/07/02 01:12:41 gmcgarry Exp $
.\"	$NetBSD$
.\"	$OpenBSD$
.\"
.\" Copyright (c) 2007 Jeremy C. Reed <reed@@reedmedia.net>
.\"
.\" Permission to use, copy, modify, and/or distribute this software for any
.\" purpose with or without fee is hereby granted, provided that the above
.\" copyright notice and this permission notice appear in all copies.
.\"
.\" THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR AND CONTRIBUTORS DISCLAIM
.\" ALL WARRANTIES WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED
.\" WARRANTIES OF MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL AUTHOR AND
.\" CONTRIBUTORS BE LIABLE FOR ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL
.\" DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR
.\" PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS
.\" ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR PERFORMANCE OF
.\" THIS SOFTWARE.
.\"
.Dd $Mdocdate: November 18 2008 $
.Dt CPP 1
.Os
.Sh NAME
.Nm cpp
.Nd C preprocessor
.Sh SYNOPSIS
.Nm
.\" TODO also document -Dvar and below without spaces?
.Op Fl CdMtVv
.Op Fl D Ar macro[=value]
.Op Fl I Ar path
.Op Fl i Ar file
.Op Fl S Ar path
.Op Fl U Ar macro
.Op Ar infile | \-
.Op Ar outfile
.Sh DESCRIPTION
The
.Nm
utility is a macro preprocessor used by the
.Xr pcc 1
compiler and the
.Xr X 7
Windowing System.
It is used to include header files,
expand macro definitions,
and perform conditional compilation.
.Pp
The
.Ar infile
.Pq input file
argument is optional.
If not provided or the file name is
.Qq \-
(dash),
.Nm
reads its initial file from standard input.
The
.Ar outfile
.Pq output file
argument is also optional.
It writes by default to standard output.
.Pp
.\" TODO: document MAXARG  250 args to a macro, limited by char value
.\" TODO: Include order:
.\" For "..." files, first search "current" dir, then as <...> files.
.\" For <...> files, first search -I directories, then system directories.
.\"
The options are as follows:
.Bl -tag -width Ds
.It Fl ?
Show command line usage for
.Nm .
.It Fl C
Do not discard comments.
.It Fl D Ar macro[=value]
Fake a definition at the beginning by using
.Dq #define Ar macro=value .
If
.Ar value
is not set on the command line, then define it as 1.
.\" TODO: show example
.It Fl dM
Print list of
.Dq #define
statements to standard output for all defined macros other than
builtin macros (see below).
The normal results of preprocessing are not output.
.\" TODO this doesn't show predefined macros
.\" other -d options are ignored
.It Fl I Ar path
Add
.Ar path
to the list of directories containing needed header files.
This may be used to override system include directories
(see
.Fl S
option).
.Fl I
may be specified multiple times.
.It Fl i Ar file
Include a file at the beginning by using
.Dq #include Ar file .
.\" Note: I did not use the .In macro above
.It Fl M
Generate dependencies for
.Xr make 1 .
.\" TODO: explain and show example?
.It Fl P
Inhibit generation of line markers.
This is sometimes useful when
running the preprocessor on something other than C code.
.It Fl S Ar path
Add
.Ar path
to the list of system directories containing needed header files.
The
.Fl S
option may be specified multiple times.
Note:
.Nm
does not have a default include directory defined.
.\" TODO: explain difference between -I and -S
.\" The directories listed by -I are searched first?
.It Fl t
Traditional cpp syntax.
Do not define the
.Dv __TIME__ ,
.Dv __DATE__ ,
.Dv __STDC__ ,
and
.Dv __STDC_VERSION__
macros.
.\"
.It Fl U Ar macro
Undefine a macro at the beginning by using
.Dq #undef Ar macro .
.It Fl V
Verbose debugging output.
.Fl V
can be repeated for further details.
.\" -V only available if cpp source built with CPP_DEBUG, which is the default.
.It Fl v
Display version.
.El
.Ss Builtin Macros
A few macros are interpreted inside the
.Nm cpp
program:
.Bl -tag -width __STDC_VERSION__
.It __DATE__
Expands to the date in abbreviated month, day, and year format from
.Xr ctime 3
in quotes.
.\" TODO: is that ctime(3) format output change according to locale?
.It __FILE__
Expands to the name of the current input file in quotes.
When read from standard input, it expands to
.Qq Aq stdin .
.It __LINE__
Expands to the line number of the current line containing the macro.
.It __STDC__
Expands to the constant 1.
This means the compiler conforms to
.St -isoC-90
.Po also known as \&
.Dq ANSI C
or \&
.Do C89 Dc Pc .
.It __STDC_VERSION__
Expands to
.Dq 199901L
which indicates that
.Nm
supports
.St -isoC-99 .
.It __TIME__
Expands to the time in hour, minutes, and seconds from
.Xr ctime 3
in quotes.
.El
.Pp
Also see the
.Fl t
option.
.Sh EXIT STATUS
The
.Nm
utility exits with one of the following values:
.Bl -tag -width Ds
.It 0
Successfully finished.
.It 1
An error occurred.
.El
.Sh SEE ALSO
.Xr as 1 ,
.Xr ccom 1 ,
.Xr pcc 1
.\"
.Sh HISTORY
The
.Nm
command comes from the original Portable C Compiler by S. C. Johnson,
written in the late 70's.
The code originates from the V6 preprocessor with some additions
from V7 cpp and
.Tn ANSI / C99
support.
.Pp
A lot of the PCC code was rewritten by Anders Magnusson.
.Pp
This product includes software developed or owned by Caldera
International, Inc.
@


1.2
log
@introduce pcc-cpp instead of Reiser CCCP
passes all but 2 regression tests (whitespace issues)
@
text
@d1 1
a1 1
.\"	$MirOS$
d21 1
a21 1
.Dd $Mdocdate$
@


1.1
log
@Initial revision
@
text
@d1 1
d5 1
a5 1
."\
d21 1
a21 1
.Dd September 17, 2007
d36 1
a36 1
.Op Ar infile | -
d43 3
a45 1
compiler.
d52 2
a53 1
input file is optional.
d55 1
a55 1
.Qq -
d61 2
a62 1
output file is also optional.
d79 1
a79 2
.Do #define
.Ar macro=value Dc .
d82 1
a82 1
is not set on command-line, then define it as 1.
d104 1
a104 2
.Do #include
.Ar file Dc .
d111 2
a112 1
Inhibit generation of line markers.  This is sometimes useful when
d138 1
a138 2
.Do #undef
.Ar macro Dc .
d151 1
a151 1
.Bl -diag
d166 5
a170 3
.St -isoC
.Po also known as
.Do C90 Dc Pc .
d177 1
a177 3
.St -isoC-99
.Po commonly referred to as
.Do C99 Dc Pc .
d208 3
a210 1
from V7 cpp and ansi/c99 support.
@


1.1.121.1
log
@somewhat C99 capable cpp from pcc
@
text
@@
