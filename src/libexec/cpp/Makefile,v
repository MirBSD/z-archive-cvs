head	1.8;
access;
symbols
	pcc_cpp:1.5.0.2
	reiser_cccp:1.4.0.4
	MIRBSD_10:1.4.0.2
	MIRBSD_10_BASE:1.4
	MIRBSD_9_BASE:1.2
	MIRBSD_8:1.2.0.2
	MIRBSD_8_BASE:1.2
	tg:1.1.201;
locks; strict;
comment	@# @;


1.8
date	2008.11.30.11.22.41;	author tg;	state Exp;
branches;
next	1.7;
commitid	1004932777B60FD9CFC;

1.7
date	2008.11.22.13.08.48;	author tg;	state Exp;
branches;
next	1.6;
commitid	1004928046E547640AC;

1.6
date	2008.11.22.13.06.42;	author tg;	state Exp;
branches;
next	1.5;
commitid	100492803F07424968F;

1.5
date	2008.11.18.19.51.51;	author tg;	state Exp;
branches;
next	1.4;
commitid	10049231CD61DED021C;

1.4
date	2007.08.24.14.20.04;	author tg;	state Exp;
branches;
next	1.3;
commitid	10046CEE8E817DEC27F;

1.3
date	2007.04.28.00.12.45;	author tg;	state Exp;
branches;
next	1.2;
commitid	1004632918E6CE6474D;

1.2
date	2005.03.06.19.23.58;	author tg;	state Exp;
branches;
next	1.1;

1.1
date	2005.02.05.01.42.55;	author tg;	state Exp;
branches
	1.1.201.1;
next	;

1.1.201.1
date	2005.02.05.01.42.55;	author tg;	state Exp;
branches;
next	;


desc
@@


1.8
log
@bump patchlevel; allow cpp change
@
text
@# $MirOS: src/libexec/cpp/Makefile,v 1.7 2008/11/22 13:08:48 tg Exp $
# @@(#)Makefile	5.2 (Berkeley) 5/12/90

PROG=		cpp
SRCS=		cpp.c cpy.y
NOMAN=		yes

.include <bsd.own.mk>

CPPFLAGS+=	-Dunix -DFLEXNAMES
COPTS+=		-std=gnu89

.include <bsd.prog.mk>
@


1.7
log
@beautify
@
text
@d1 1
a1 1
# $MirOS: src/libexec/cpp/Makefile,v 1.6 2008/11/22 13:06:42 tg Exp $
a12 5
#XXX for now
afterinstall:
	${INSTALL} ${INSTALL_COPY} -o ${BINOWN} -g ${BINGRP} -m ${BINMODE} \
	    ${.CURDIR}/xcpp.sh ${DESTDIR}/usr/bin/cpp

@


1.6
log
@switch MAIN branch back to Reiser CCCP (for now)
@
text
@d1 1
a1 1
# $MirOS: src/libexec/cpp/Makefile,v 1.4 2007/08/24 14:20:04 tg Exp $
d10 1
a10 1
CPPFLAGS+=	-Dunix=1 -DFLEXNAMES
a11 1
YFLAGS=
d13 1
@


1.5
log
@introduce pcc-cpp instead of Reiser CCCP
passes all but 2 regression tests (whitespace issues)
@
text
@d1 2
a2 1
# $MirOS$
d5 8
a12 2
SRCS=		cpp.c cpy.y scanner.l
CPPFLAGS+=	-DCPP_DEBUG -I.
a13 1
# for now
@


1.4
log
@• add -std=gnu99 to default CFLAGS
• first round of assorted fixes
@
text
@d1 1
a1 2
# $MirOS: src/libexec/cpp/Makefile,v 1.3 2007/04/28 00:12:45 tg Exp $
# @@(#)Makefile	5.2 (Berkeley) 5/12/90
d4 2
a5 8
SRCS=		cpp.c cpy.y
NOMAN=		yes

.include <bsd.own.mk>

CPPFLAGS+=	-Dunix=1 -DFLEXNAMES
COPTS+=		-std=gnu89
YFLAGS=
d7 1
@


1.3
log
@more lex/yacc overhaul, tentatively
@
text
@d1 1
a1 1
# $MirOS: src/libexec/cpp/Makefile,v 1.2 2005/03/06 19:23:58 tg Exp $
d7 3
d11 1
@


1.2
log
@merge src/libexec
@
text
@d1 1
a1 1
# $MirOS$
d5 1
a5 1
SRCS=		cpp.c cpy.c rodata.o
d8 1
a8 10
CLEANFILES+=	cpy.c rodata.c

beforedepend: cpy.c

rodata.c: cpy.c

cpy.c: cpy.y
	${YACC} -r ${.ALLSRC}
	mv y.tab.c rodata.c
	mv y.code.c cpy.c
@


1.1
log
@Initial revision
@
text
@d1 2
a2 1
#	@@(#)Makefile	5.2 (Berkeley) 5/12/90
d4 5
a8 5
PROG=	cpp
CFLAGS+=-Dunix=1 -DFLEXNAMES -I${.CURDIR}
SRCS=	cpp.c cpy.c rodata.o
CLEANFILES+=cpy.c rodata.c
NOMAN=	noman
d10 3
a12 2
rodata.o: cpy.c
	${CC} ${CFLAGS} -R -c ${.PREFIX}.c
d15 7
a21 3
	${YACC} ${.ALLSRC}
	yyfix rodata.c
	mv y.tab.c cpy.c
@


1.1.201.1
log
@Reiser CPP
@
text
@@
