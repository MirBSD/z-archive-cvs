head	1.8;
access;
symbols
	MIRBSD_10:1.7.0.2
	MIRBSD_10_BASE:1.7
	MIRBSD_9_BASE:1.6
	MIRBSD_8:1.6.0.2
	MIRBSD_8_BASE:1.6
	cvs-200511231542:1.1.1.3
	cvs-200507211800:1.1.1.2
	openbsd:1.1.1;
locks; strict;
comment	@# @;


1.8
date	2013.09.28.19.55.18;	author tg;	state Exp;
branches;
next	1.7;
commitid	100524733DE1CEE6C8A;

1.7
date	2007.07.07.20.32.05;	author tg;	state Exp;
branches;
next	1.6;
commitid	100468FF6665289063C;

1.6
date	2005.07.09.14.58.37;	author tg;	state Exp;
branches;
next	1.5;
commitid	52df42cfe62814ff;

1.5
date	2005.06.26.17.34.44;	author tg;	state Exp;
branches;
next	1.4;
commitid	3f0542bee7469eb5;

1.4
date	2005.05.04.13.02.52;	author tg;	state Exp;
branches;
next	1.3;
commitid	99f4278c80bb976;

1.3
date	2005.03.29.02.19.38;	author tg;	state Exp;
branches;
next	1.2;

1.2
date	2005.03.06.19.23.57;	author tg;	state Exp;
branches;
next	1.1;

1.1
date	2005.02.05.17.26.19;	author tg;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2005.02.05.17.26.19;	author tg;	state Exp;
branches;
next	1.1.1.2;

1.1.1.2
date	2005.07.21.20.56.36;	author tg;	state Exp;
branches;
next	1.1.1.3;
commitid	560042e0092f571e;

1.1.1.3
date	2005.11.23.15.47.33;	author tg;	state Exp;
branches;
next	;
commitid	26ae43848f1e303f;


desc
@@


1.8
log
@ITIMER_PROF is driven from hardintr, not rtcintr, what a shame!
with this cprng(8) brings virtually no entropy but at pretty high
CPU cost nevertheless (I never liked it much, anyway…) so rid it
(think about adding jytter later)

basically we’ll need something that signals us at stathz intervals
(or profhz), for this to work
@
text
@# $MirOS: src/libexec/Makefile,v 1.7 2007/07/07 20:32:05 tg Exp $

.include <bsd.own.mk>

  SUBDIR+= anoncvssh
  SUBDIR+= cpp
  SUBDIR+= fingerd
  SUBDIR+= ftpd
  SUBDIR+= getty
  SUBDIR+= identd
.if (${OBJECT_FMT:U} == "ELF") && !(defined(NOPIC) && ${NOPIC:L} != "no")
  SUBDIR+= ld.so
.endif
  SUBDIR+= lockspool
  SUBDIR+= login_chpass
  SUBDIR+= login_lchpass
  SUBDIR+= login_passwd
  SUBDIR+= login_radius
  SUBDIR+= login_reject
  SUBDIR+= login_skey
  SUBDIR+= login_token
  SUBDIR+= mail.local
  SUBDIR+= makewhatis
  SUBDIR+= randshuffle
  SUBDIR+= rpc.rquotad
  SUBDIR+= rpc.rstatd
  SUBDIR+= rpc.rusersd
  SUBDIR+= rpc.rwalld
  SUBDIR+= rpc.sprayd
  SUBDIR+= spamd
  SUBDIR+= spamd-setup
  SUBDIR+= spamlogd
  SUBDIR+= talkd
  SUBDIR+= tftpd

.include <bsd.subdir.mk>
@


1.7
log
@add cprng, a RNG feeding entropy generated from the oscillation differences
between the CPU clock and the mainboard/bus clock into /dev/urandom (by de-
fault and if run by root), or writing them to stdout (under quite high load
for the CPU), after whitening. The entropy is quite good (if you get enough
to feed ports/math/ent), only the χ² lets me worry.

Tested on my systems:
• nwt (80486DX-33): 7.3 bit per byte, but as bad as rand()
• demo (SPARCstaion 20): 7.4 bit per byte, not much better
• herc (Pentium 233 MMX): 7.6 bit per byte, quality sort of okay
• odem (Athlon XP 500): 7.8 bit per byte, quality very good
• odem (Athlon XP 1200): 7.8 bit per byte, no difference to clocked-down

Instead of adding more post-processing or other functions to improve output
especially on the slower systems (I know I could manage quite something) it
is just fed to the kernel random(9) subsystem; users shall get /dev/arandom
if they require entropy of good quality or /dev/urandom if a high entrophic
values (actual randomness per bit) is desired (almost only for generating a
key for asymmetric cryptography, and even then you want to mix in a few bit
from arcfour).

This dæmon runs by default on our installer, installed system and the base-
live CD; users should disable it on their system after installation if they
have enough entropy sources (for example, interactive input). Users of slow
non-interactively-used servers should combine cprng with hotbits or similar
(see the commented out entries in the default crontab) for quality.
@
text
@d1 1
a1 1
# $MirOS: src/libexec/Makefile,v 1.6 2005/07/09 14:58:37 tg Exp $
a6 1
  SUBDIR+= cprng
@


1.6
log
@-getNAME

while here, remove commented ftp-proxy entry too
@
text
@d1 1
a1 1
# $MirOS: src/libexec/Makefile,v 1.5 2005/06/26 17:34:44 tg Exp $
d7 1
@


1.5
log
@bye bye telnetd(8)
@
text
@d1 1
a1 1
# $MirOS: src/libexec/Makefile,v 1.4 2005/05/04 13:02:52 tg Exp $
a7 1
# SUBDIR+= ftp-proxy
a8 1
  SUBDIR+= getNAME
@


1.4
log
@ftp-proxy is broken for the release, WONTFIX
@
text
@d1 1
a1 1
# $MirOS: src/libexec/Makefile,v 1.3 2005/03/29 02:19:38 tg Exp $
a35 1
  SUBDIR+= telnetd
@


1.3
log
@time to die for a feature which has been disabled in MirOS
for a good two years, maybe longer, with nobody complaining

pf can do this functionality equally well, I think
@
text
@d1 1
a1 1
# $MirOS: src/libexec/Makefile,v 1.2 2005/03/06 19:23:57 tg Exp $
d8 1
a8 1
  SUBDIR+= ftp-proxy
@


1.2
log
@merge src/libexec
@
text
@d1 1
a1 1
# $MirOS$
a35 1
  SUBDIR+= tcpd
@


1.1
log
@Initial revision
@
text
@d1 1
a1 2
#	from: @@(#)Makefile	5.7 (Berkeley) 4/1/91
#	$OpenBSD: Makefile,v 1.38 2004/02/26 07:28:54 beck Exp $
d5 10
a14 17
SUBDIR=	comsat fingerd ftpd ftp-proxy getNAME getty identd lockspool \
	mail.local makewhatis \
	rpc.rquotad rpc.rstatd rpc.rusersd rpc.rwalld rpc.sprayd spamd \
	spamlogd spamd-setup rshd talkd tcpd telnetd tftpd uucpd
SUBDIR+=login_passwd login_skey login_reject \
	login_chpass login_lchpass login_token login_radius

.if (${YP:L} == "yes")
SUBDIR+=rpc.yppasswdd
.endif

.if (${ELF_TOOLCHAIN:L} == "yes") && !defined(NOPIC)
SUBDIR+=ld.so
.endif

.if (${KERBEROS5:L} == "yes")
SUBDIR+=login_krb5 login_krb5-or-pwd
d16 23
@


1.1.1.1
log
@Import the OpenBSD foundation of MirOS BSD
@
text
@@


1.1.1.2
log
@Import almost everything (no ancontrol, ifconfig, pfctl, wicontrol)
of (the undeleted parts of) OpenBSD-current's userland of about 3 hours ago.
Warning: this introduces major breakage!
@
text
@d2 1
a2 1
#	$OpenBSD: Makefile,v 1.40 2005/05/24 03:23:38 deraadt Exp $
d9 1
a9 1
	spamlogd spamd-setup rshd talkd tcpd tftpd uucpd
d11 1
a11 1
	login_chpass login_lchpass login_token login_radius login_tis
@


1.1.1.3
log
@Import current OpenBSD src/libexec to gain (among others) ld.so fixes
@
text
@d2 1
a2 1
#	$OpenBSD: Makefile,v 1.41 2005/11/16 09:17:42 camield Exp $
d6 1
a6 1
SUBDIR=	comsat fingerd ftpd getNAME getty identd lockspool \
@


