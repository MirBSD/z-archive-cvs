head	1.40;
access;
symbols
	paxmirabilis-20190825:1.40
	paxmirabilis-20190224:1.40
	paxmirabilis-20190210:1.38
	npax:1.1.1.9.0.2
	cvs-20181212:1.1.1.9
	paxmirabilis-20171021:1.35
	paxmirabilis-20161104:1.33
	paxmirabilis-20161031:1.33
	paxmirabilis-20161025:1.32
	paxmirabilis-20160306:1.29
	cvs-201603041945:1.1.1.5
	paxmirabilis-20151013:1.27
	paxmirabilis-20140703:1.27
	paxmirabilis-20120606:1.26
	paxmirabilis-20120605:1.26
	cvs-201206051745:1.1.1.4
	paxmirabilis-20120520:1.23
	paxmirabilis-20120216:1.22
	paxmirabilis-20120212:1.22
	cvs-201202112230:1.1.1.4
	paxmirabilis-20110817:1.18
	MIRBSD_10:1.9.0.2
	MIRBSD_10_BASE:1.9
	cvs-200710231945:1.1.1.3
	cvs-200606232242:1.1.1.2
	MIRBSD_9_BASE:1.6
	MIRBSD_8:1.4.0.2
	MIRBSD_8_BASE:1.4
	cvs-200507211800:1.1.1.2
	cvs-200504291700:1.1.1.1
	openbsd:1.1.1;
locks; strict;
comment	@.\" @;


1.40
date	2019.02.24.01.51.49;	author tg;	state Exp;
branches;
next	1.39;
commitid	1005C71F8C8370E866B;

1.39
date	2019.02.24.01.49.18;	author tg;	state Exp;
branches;
next	1.38;
commitid	1005C71F80D12F84641;

1.38
date	2018.12.25.19.38.11;	author tg;	state Exp;
branches;
next	1.37;
commitid	1005C22871909EC7FE2;

1.37
date	2018.12.12.18.08.47;	author tg;	state Exp;
branches;
next	1.36;
commitid	1005C114EA81986F5EC;

1.36
date	2018.12.12.00.23.07;	author tg;	state Exp;
branches;
next	1.35;
commitid	1005C1054FE750D63F3;

1.35
date	2017.08.07.20.10.19;	author tg;	state Exp;
branches;
next	1.34;
commitid	1005988C69344442E37;

1.34
date	2017.03.29.01.52.30;	author tg;	state Exp;
branches;
next	1.33;
commitid	10058DB13781FFCE83A;

1.33
date	2016.10.31.16.29.06;	author tg;	state Exp;
branches;
next	1.32;
commitid	10058177166064E9A3F;

1.32
date	2016.10.25.19.27.12;	author tg;	state Exp;
branches;
next	1.31;
commitid	100580FB2217F8FFA4F;

1.31
date	2016.10.25.19.26.13;	author tg;	state Exp;
branches;
next	1.30;
commitid	100580FB1EC442C03A0;

1.30
date	2016.10.25.18.57.56;	author tg;	state Exp;
branches;
next	1.29;
commitid	100580FAB4B20AD4FA2;

1.29
date	2016.03.06.13.47.12;	author tg;	state Exp;
branches;
next	1.28;
commitid	10056DC34E25F0AA0A6;

1.28
date	2016.02.11.20.12.10;	author tg;	state Exp;
branches;
next	1.27;
commitid	10056BCEAFF41919B5B;

1.27
date	2014.07.03.18.57.18;	author tg;	state Exp;
branches;
next	1.26;
commitid	10053B5A7967833D26E;

1.26
date	2012.06.05.19.29.34;	author tg;	state Exp;
branches;
next	1.25;
commitid	1004FCE5E341EA37634;

1.25
date	2012.05.20.20.04.32;	author tg;	state Exp;
branches;
next	1.24;
commitid	1004FB94E665B6D9B12;

1.24
date	2012.05.20.19.59.26;	author tg;	state Exp;
branches;
next	1.23;
commitid	1004FB94D3503BF1FD5;

1.23
date	2012.05.20.17.21.45;	author tg;	state Exp;
branches;
next	1.22;
commitid	1004FB9283F72C8E596;

1.22
date	2012.02.12.02.49.41;	author tg;	state Exp;
branches;
next	1.21;
commitid	1004F3728CB5FE3415F;

1.21
date	2012.02.12.01.48.21;	author tg;	state Exp;
branches;
next	1.20;
commitid	1004F371A63217504BD;

1.20
date	2012.02.12.00.04.33;	author tg;	state Exp;
branches;
next	1.19;
commitid	1004F37020D48949196;

1.19
date	2012.02.11.23.37.52;	author tg;	state Exp;
branches;
next	1.18;
commitid	1004F36FBE0634FBDC9;

1.18
date	2011.08.17.09.03.58;	author tg;	state Exp;
branches;
next	1.17;
commitid	1004E4B8392073278B7;

1.17
date	2011.08.16.21.32.48;	author tg;	state Exp;
branches;
next	1.16;
commitid	1004E4AE1EF00AF3003;

1.16
date	2011.08.16.14.17.24;	author tg;	state Exp;
branches;
next	1.15;
commitid	1004E4A7C0359BB0B3A;

1.15
date	2011.08.16.13.45.01;	author tg;	state Exp;
branches;
next	1.14;
commitid	1004E4A74015B88F988;

1.14
date	2011.08.16.13.27.02;	author tg;	state Exp;
branches;
next	1.13;
commitid	1004E4A702C39E0597C;

1.13
date	2009.11.22.18.23.40;	author tg;	state Exp;
branches;
next	1.12;
commitid	1004B0981B210A68B89;

1.12
date	2009.11.22.15.55.24;	author tg;	state Exp;
branches;
next	1.11;
commitid	1004B095EF92797429F;

1.11
date	2009.10.27.18.47.27;	author tg;	state Exp;
branches;
next	1.10;
commitid	1004AE74055714A6EEB;

1.10
date	2008.03.14.17.05.06;	author tg;	state Exp;
branches;
next	1.9;
commitid	10047DAB05868FB6D0C;

1.9
date	2007.10.23.20.07.43;	author tg;	state Exp;
branches;
next	1.8;
commitid	100471E5499154FE86E;

1.8
date	2006.07.21.17.34.59;	author tg;	state Exp;
branches;
next	1.7;
commitid	10044C1103610EA28BB;

1.7
date	2006.07.16.16.14.50;	author tg;	state Exp;
branches;
next	1.6;
commitid	10044BA65F92A873301;

1.6
date	2006.06.19.20.31.05;	author tg;	state Exp;
branches;
next	1.5;
commitid	100449709733F6F9BF6;

1.5
date	2006.06.19.19.40.55;	author tg;	state Exp;
branches;
next	1.4;
commitid	1004496FDD922F52248;

1.4
date	2005.12.17.07.20.23;	author tg;	state Exp;
branches;
next	1.3;
commitid	10043A3BC2A60852C4D;

1.3
date	2005.10.21.11.02.36;	author tg;	state Exp;
branches;
next	1.2;
commitid	6c0b4358cac0ef88;

1.2
date	2005.02.28.20.04.58;	author tg;	state Exp;
branches;
next	1.1;

1.1
date	2005.02.05.17.22.06;	author tg;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2005.02.05.17.22.06;	author tg;	state Exp;
branches;
next	1.1.1.2;

1.1.1.2
date	2005.07.21.20.45.27;	author tg;	state Exp;
branches;
next	1.1.1.3;
commitid	560042e0092f571e;

1.1.1.3
date	2007.10.23.19.50.48;	author tg;	state Exp;
branches;
next	1.1.1.4;
commitid	100471E50A5256C77AE;

1.1.1.4
date	2012.02.11.22.47.21;	author tg;	state Exp;
branches;
next	1.1.1.5;
commitid	1004F36F008225F3522;

1.1.1.5
date	2016.03.04.19.46.09;	author tg;	state Exp;
branches;
next	1.1.1.6;
commitid	10056D9E61429EE6550;

1.1.1.6
date	2016.03.04.20.55.04;	author tg;	state Exp;
branches;
next	1.1.1.7;
commitid	10056D9F62E152ECBA5;

1.1.1.7
date	2016.10.25.18.46.12;	author tg;	state Exp;
branches;
next	1.1.1.8;
commitid	100580FA88137705D31;

1.1.1.8
date	2018.12.12.00.15.07;	author tg;	state Exp;
branches;
next	1.1.1.9;
commitid	1005C1052FA5E745A2C;

1.1.1.9
date	2018.12.12.00.24.23;	author tg;	state Exp;
branches
	1.1.1.9.2.1;
next	;
commitid	1005C1055452C78F9E4;

1.1.1.9.2.1
date	2018.12.12.06.03.15;	author tg;	state Exp;
branches;
next	1.1.1.9.2.2;
commitid	1005C10A4B12E5998CE;

1.1.1.9.2.2
date	2018.12.12.13.59.53;	author tg;	state Exp;
branches;
next	1.1.1.9.2.3;
commitid	1005C11146A087C44FB;

1.1.1.9.2.3
date	2018.12.12.17.34.43;	author tg;	state Exp;
branches;
next	;
commitid	1005C1146CD41F9978E;


desc
@@


1.40
log
@shockingly, bsdtar -o means ustar‚Ä¶
@
text
@.\"	$MirOS: src/bin/pax/tar.1,v 1.39 2019/02/24 01:49:18 tg Exp $
.\"	$OpenBSD: tar.1,v 1.61 2018/07/23 19:02:49 kn Exp $
.\"
.\" Copyright (c) 2005, 2008, 2009, 2011, 2012, 2014, 2016,
.\"		  2017, 2018, 2019
.\"	mirabilos <m@@mirbsd.org>
.\" Copyright (c) 1996 SigmaSoft, Th. Lockert
.\" All rights reserved.
.\"
.\" Redistribution and use in source and binary forms, with or without
.\" modification, are permitted provided that the following conditions
.\" are met:
.\" 1. Redistributions of source code must retain the above copyright
.\"    notice, this list of conditions and the following disclaimer.
.\" 2. Redistributions in binary form must reproduce the above copyright
.\"    notice, this list of conditions and the following disclaimer in the
.\"    documentation and/or other materials provided with the distribution.
.\"
.\" THIS SOFTWARE IS PROVIDED BY THE AUTHOR ``AS IS'' AND ANY EXPRESS OR
.\" IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES
.\" OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.
.\" IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY DIRECT, INDIRECT,
.\" INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT
.\" NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
.\" DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
.\" THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
.\" (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF
.\" THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
.\"-
.\" Try to make GNU groff and AT&T nroff more compatible
.\" * ` generates ‚Äò in gnroff, so use \`
.\" * ' generates ‚Äô in gnroff, \' generates ¬¥, so use \*(aq
.\" * - generates ‚Äê in gnroff, \- generates ‚àí, so .tr it to -
.\"   thus use - for hyphens and \- for minus signs and option dashes
.\" * ~ is size-reduced and placed atop in groff, so use \*(TI
.\" * ^ is size-reduced and placed atop in groff, so use \*(ha
.\" * \(en does not work in nroff, so use \*(en
.\" * <>| are problematic, so redefine and use \*(Lt\*(Gt\*(Ba
.\" Also make sure to use \& *before* a punctuation char that is to not
.\" be interpreted as punctuation, and especially with two-letter words
.\" but also (after) a period that does not end a sentence (‚Äúe.g.\&‚Äù).
.\" The section after the "doc" macropackage has been loaded contains
.\" additional code to convene between the UCB mdoc macropackage (and
.\" its variant as BSD mdoc in groff) and the GNU mdoc macropackage.
.\"
.ie \n(.g \{\
.	if \*[.T]ascii .tr \-\N'45'
.	if \*[.T]latin1 .tr \-\N'45'
.	if \*[.T]utf8 .tr \-\N'45'
.	ds <= \[<=]
.	ds >= \[>=]
.	ds Rq \[rq]
.	ds Lq \[lq]
.	ds sL \(aq
.	ds sR \(aq
.	if \*[.T]utf8 .ds sL `
.	if \*[.T]ps .ds sL `
.	if \*[.T]utf8 .ds sR '
.	if \*[.T]ps .ds sR '
.	ds aq \(aq
.	ds TI \(ti
.	ds ha \(ha
.	ds en \(en
.\}
.el \{\
.	ds aq '
.	ds TI ~
.	ds ha ^
.	ds en \(em
.\}
.\"
.\" Implement .Dd with the Mdocdate RCS keyword
.\"
.rn Dd xD
.de Dd
.ie \\$1$Mdocdate: \{\
.	xD \\$2 \\$3, \\$4
.\}
.el .xD \\$1 \\$2 \\$3 \\$4 \\$5 \\$6 \\$7 \\$8
..
.\"
.\" .Dd must come before definition of .Mx, because when called
.\" with -mandoc, it might implement .Mx itself, but we want to
.\" use our own definition. And .Dd must come *first*, always.
.\"
.Dd $Mdocdate: February 24 2019 $
.\"
.\" Check which macro package we use, and do other -mdoc setup.
.\"
.ie \n(.g \{\
.	if \*[.T]utf8 .tr \[la]\*(Lt
.	if \*[.T]utf8 .tr \[ra]\*(Gt
.	ie d volume-ds-1 .ds tT gnu
.	el .ie d doc-volume-ds-1 .ds tT gnp
.	el .ds tT bsd
.\}
.el .ds tT ucb
.\"
.\" Implement .Mx (MirBSD)
.\"
.ie "\*(tT"gnu" \{\
.	eo
.	de Mx
.	nr curr-font \n[.f]
.	nr curr-size \n[.ps]
.	ds str-Mx \f[\n[curr-font]]\s[\n[curr-size]u]
.	ds str-Mx1 \*[Tn-font-size]\%MirBSD\*[str-Mx]
.	if !\n[arg-limit] \
.	if \n[.$] \{\
.	ds macro-name Mx
.	parse-args \$@@
.	\}
.	if (\n[arg-limit] > \n[arg-ptr]) \{\
.	nr arg-ptr +1
.	ie (\n[type\n[arg-ptr]] == 2) \
.	as str-Mx1 \~\*[arg\n[arg-ptr]]
.	el \
.	nr arg-ptr -1
.	\}
.	ds arg\n[arg-ptr] "\*[str-Mx1]
.	nr type\n[arg-ptr] 2
.	ds space\n[arg-ptr] "\*[space]
.	nr num-args (\n[arg-limit] - \n[arg-ptr])
.	nr arg-limit \n[arg-ptr]
.	if \n[num-args] \
.	parse-space-vector
.	print-recursive
..
.	ec
.	ds sP \s0
.	ds tN \*[Tn-font-size]
.\}
.el .ie "\*(tT"gnp" \{\
.	eo
.	de Mx
.	nr doc-curr-font \n[.f]
.	nr doc-curr-size \n[.ps]
.	ds doc-str-Mx \f[\n[doc-curr-font]]\s[\n[doc-curr-size]u]
.	ds doc-str-Mx1 \*[doc-Tn-font-size]\%MirBSD\*[doc-str-Mx]
.	if !\n[doc-arg-limit] \
.	if \n[.$] \{\
.	ds doc-macro-name Mx
.	doc-parse-args \$@@
.	\}
.	if (\n[doc-arg-limit] > \n[doc-arg-ptr]) \{\
.	nr doc-arg-ptr +1
.	ie (\n[doc-type\n[doc-arg-ptr]] == 2) \
.	as doc-str-Mx1 \~\*[doc-arg\n[doc-arg-ptr]]
.	el \
.	nr doc-arg-ptr -1
.	\}
.	ds doc-arg\n[doc-arg-ptr] "\*[doc-str-Mx1]
.	nr doc-type\n[doc-arg-ptr] 2
.	ds doc-space\n[doc-arg-ptr] "\*[doc-space]
.	nr doc-num-args (\n[doc-arg-limit] - \n[doc-arg-ptr])
.	nr doc-arg-limit \n[doc-arg-ptr]
.	if \n[doc-num-args] \
.	doc-parse-space-vector
.	doc-print-recursive
..
.	ec
.	ds sP \s0
.	ds tN \*[doc-Tn-font-size]
.\}
.el \{\
.	de Mx
.	nr cF \\n(.f
.	nr cZ \\n(.s
.	ds aa \&\f\\n(cF\s\\n(cZ
.	if \\n(aC==0 \{\
.		ie \\n(.$==0 \&MirBSD\\*(aa
.		el .aV \\$1 \\$2 \\$3 \\$4 \\$5 \\$6 \\$7 \\$8 \\$9
.	\}
.	if \\n(aC>\\n(aP \{\
.		nr aP \\n(aP+1
.		ie \\n(C\\n(aP==2 \{\
.			as b1 \&MirBSD\ #\&\\*(A\\n(aP\\*(aa
.			ie \\n(aC>\\n(aP \{\
.				nr aP \\n(aP+1
.				nR
.			\}
.			el .aZ
.		\}
.		el \{\
.			as b1 \&MirBSD\\*(aa
.			nR
.		\}
.	\}
..
.\}
.\"-
.ie \ng==1 \{\
.	ds nc mircpio
.	ds np mirpax
.	ds nt mirtar
.	ds nm mirtar
.	Dt MIRTAR 1
.\}
.el .ie \ng==2 \{\
.	ds nc paxcpio
.	ds np pax
.	ds nt paxtar
.	ds nm paxtar
.	Dt PAXTAR 1
.\}
.el \{\
.	ds nc cpio
.	ds np pax
.	ds nt tar
.	ds nm tar
.	Dt TAR 1
.\}
.\"-
.Os MirBSD
.Sh NAME
.ie \ng==1 \{\
.Nm mirtar
.Nd tape archiver
.\}
.el .ie \ng==2 \{\
.Nm paxtar
.Nd tape archiver
.\}
.el \{\
.Nm tar
.Nd tape archiver
.\}
.Sh SYNOPSIS
.Nm \*(nm
.Sm off
.No { Cm crtux No } Op Cm 014578AabefHhJjLmNOoPpqsvwXZz
.Sm on
.Bk -words
.Op Ar blocking-factor \*(Ba archive \*(Ba replstr
.Op Fl C Ar directory
.Op Fl I Ar file
.Op Ar
.Ek
.Nm \*(nm
.No { Ns Fl crtux Ns }
.Bk -words
.Op Fl 014578AaeHhJjLmNOoPpqvwXZz
.Op Fl b Ar blocking-factor
.Op Fl C Ar directory
.Op Fl f Ar archive
.Op Fl I Ar file
.Op Fl M Ar flag
.Op Fl s Ar replstr
.Op Ar
.Ek
.Sh DESCRIPTION
The
.Nm
command creates, adds files to, or extracts files from an
archive file in
.Dq tar
format.
A tar archive is often stored on a magnetic tape, but can be
stored equally well on a floppy, CD-ROM, or in a regular disk file.
.Pp
In the first (legacy) form, all option flags except for
.Fl C
and
.Fl I
must be contained within the first argument to
.Nm
and must not be prefixed by a hyphen
.Pq Sq \-\& .
Option arguments, if any, are processed as subsequent arguments to
.Nm
and are processed in the order in which their corresponding option
flags have been presented on the command line.
.Pp
In the second and preferred form, option flags may be given in any order
and are immediately followed by their corresponding option argument
values.
.Pp
One of the following flags must be present:
.Bl -tag -width Ds
.It Fl c
Create new archive, or overwrite an existing archive,
adding the specified files to it.
.It Fl r
Append the named new files to existing archive.
Note that this will only work on media on which an end-of-file mark
can be overwritten.
.It Fl t
List contents of archive.
If any files are named on the
command line, only those files will be listed.
The
.Ar file
arguments may be specified as glob patterns (see
.Xr glob 7
for more information), in which case
.Nm
will list all archive members that match each pattern.
.It Fl u
Alias for
.Fl r .
.It Fl x
Extract files from archive.
If any files are named on the
command line, only those files will be extracted from the
archive.
The
.Ar file
arguments may be specified as glob patterns (see
.Xr glob 7
for more information), in which case
.Nm
will extract all archive members that match each pattern.
.Pp
If more than one copy of a file exists in the
archive, later copies will overwrite earlier copies during
extraction.
The file mode and modification time are preserved
if possible.
The file mode is subject to modification by the
.Xr umask 2 .
.El
.Pp
In addition to the flags mentioned above, any of the following
flags may be used:
.Bl -tag -width Ds
.It Fl A
Write Unix Archiver libraries instead of tape archives.
.It Fl a
Guess the compression utility based on the archive filename.
Inability to guess will result in quietly not using any compression.
This option only exists for semi-compatibility with
.Tn GNU
.Nm tar ;
it is strongly recommended to archive to stdout and pipe into
an external compression utility with appropriate arguments instead:
.Pp
.Dl tar \-cf \- foo \*(Ba xz \-2e \*(Gtfoo.txz
.It Fl b Ar blocking-factor
Set blocking factor to use for the archive.
.Nm
uses 512-byte blocks.
The default is 20, the maximum is 126.
Archives with a blocking factor larger than 63 violate the
.Tn POSIX
standard and will not be portable to all systems.
.It Fl C Ar directory
This is a positional argument which sets the working directory for the
following files.
When extracting, files will be extracted into
the specified directory; when creating, the specified files will be matched
from the directory.
.It Fl e
Stop after the first error.
.It Fl f Ar archive
Filename where the archive is stored.
Defaults to
.Pa /dev/rst0 .
If set to hyphen
.Pq Sq \-\&
standard output is used.
See also the
.Ev TAPE
environment variable.
.It Fl H
Follow symlinks given on the command line only.
.It Fl h
Follow symbolic links as if they were normal files
or directories.
In extract mode this means that a directory entry in the archive
will not overwrite an existing symbolic link, but rather what the
link ultimately points to.
.It Fl I Ar file
This is a positional argument which reads the names of files to
archive or extract from the given file, one per line.
.It Fl J
Use the xz utility to compress the archive.
.It Fl j
Use the bzip2 utility to compress the archive.
.It Fl L
Synonym for the
.Fl h
option.
.It Fl M Ar flag
Configure the archive normaliser.
.Ar flag
is either a numeric value compatible to
.Xr strtonum 3
which is directly stored in the flags word, or
one of the following values, optionally prefixed with
.Dq no\-
to turn them off:
.Pp
.Bl -tag -width xxxxxx -compact
.It Ar inodes
0x0001: Serialise inodes, zero device info.
.br
(cpio, sv4cpio, sv4crc)
.It Ar links
0x0002: Store content of hard links only once.
.br
(cpio, sv4cpio, sv4crc)
.It Ar mtime
0x0004: Zero out the file modification time.
.br
(ar, cpio, sv4cpio, sv4crc, ustar)
.It Ar uidgid
0x0008: Set owner to 0:0
.Pq Li root Ns : Ns Li wheel .
.br
(ar, cpio, sv4cpio, sv4crc, ustar)
.It Ar verb
0x0010: Debug this option.
.It Ar debug
0x0020: Debug file header storage.
.It Ar lncp
0x0040: Extract hard links by copy if link fails.
.It Ar numid
0x0080: Use only numeric uid and gid values.
.br
(ustar)
.It Ar gslash
0x0100: Append a slash after directory names.
.br
(ustar)
.It Ar set
0x0003: Keep ownership and mtime intact.
.It Ar dist
0x008B: Clean everything except mtime.
.It Ar norm
0x008F: Clean everything.
.It Ar root
0x0089: Clean owner and device information.
.El
.Pp
When creating an archive and verbosely listing output, these
normalisation operations are not reflected in the output,
because they are made only after the output has been shown.
.Pp
This option is only implemented for the ar, cpio, sv4cpio,
sv4crc, and ustar file format writing routines.
.It Fl m
Do not preserve modification time.
.It Fl N
Same as
.Fl M Ar numid .
.It Fl O
If reading, extract files to standard output.
.br
If writing, write old-style (non-POSIX) archives.
.It Fl o
If writing, write old-style (non-POSIX) archives.
Don't write directory information that the older (V7) style
.Nm tar
is unable to decode.
.It Fl P
For security reasons,
.Nm
skips pathnames containing dotdot
.Pq Dq ..\&
components and strips leading slashes
.Pq Sq /
from pathnames by default; this option disables that behaviour.
.It Fl p
Preserve user and group ID as well as file mode regardless of
the current
.Xr umask 2 .
The setuid and setgid bits are only preserved if the user and group ID
could be preserved.
Only meaningful in conjunction with the
.Fl x
flag.
.It Fl q
Select the first archive member that matches each
.Ar file
operand.
No more than one archive member is matched for each
.Ar file .
When members of type directory are matched, the file hierarchy rooted at that
directory is also matched.
.It Fl s Ar replstr
Modify the archive member names according to the substitution expression
.Ar replstr ,
using the syntax of the
.Xr ed 1
utility regular expressions.
.Ar file
arguments may be given to restrict the list of archive members to those
specified.
.Pp
The format of these regular expressions is
.Pp
.Dl /old/new/[gp]
.Pp
As in
.Xr ed 1 ,
.Va old
is a basic regular expression (see
.Xr re_format 7 )
and
.Va new
can contain an ampersand
.Pq Ql & ,
.Ql \e Ns Em n
(where
.Em n
is a digit) back-references,
or subexpression matching.
The
.Va old
string may also contain newline characters.
Any non-null character can be used as a delimiter
.Po
.Ql /
is shown here
.Pc .
Multiple
.Fl s
expressions can be specified.
The expressions are applied in the order they are specified on the
command line, terminating with the first successful substitution.
.Pp
The optional trailing
.Cm g
continues to apply the substitution expression to the pathname substring,
which starts with the first character following the end of the last successful
substitution.
The first unsuccessful substitution stops the operation of the
.Cm g
option.
The optional trailing
.Cm p
will cause the final result of a successful substitution to be written to
standard error in the following format:
.Pp
.D1 Em original-pathname No \*(Gt\*(Gt Em new-pathname
.Pp
File or archive member names that substitute to the empty string
are not selected and will be skipped.
.It Fl v
Verbose operation mode.
If
.Fl v
is specified multiple times or if the
.Fl t
option is also specified,
.Nm
will use a long format for listing files, similar to
.Xr ls 1
.Fl l .
.It Fl w
Interactively rename files.
This option causes
.Nm
to prompt the user for the filename to use when storing or
extracting files in an archive.
.It Fl X
Do not cross mount points in the filesystem.
.It Fl Z
Use the
.Xr compress 1
utility to compress the archive.
.It Fl z
Use the
.Xr gzip 1
utility to compress the archive.
.El
.Pp
The options
.Op Fl 014578
can be used to select one of the compiled-in backup devices,
.Pa /dev/rstN .
.Sh ENVIRONMENT
.Bl -tag -width Fl
.It Ev TMPDIR
Path in which to store temporary files.
.It Ev TAPE
Default tape device to use instead of
.Pa /dev/rst0 .
If set to hyphen
.Pq Sq \-\&
standard output is used.
.El
.Sh FILES
.Bl -tag -width "/dev/rst0"
.It Pa /dev/rst0
default archive name
.El
.Sh EXIT STATUS
The
.Nm
utility exits with one of the following values:
.Pp
.Bl -tag -width Ds -offset indent -compact
.It 0
All files were processed successfully.
.It 1
An error occurred.
.El
.Sh EXAMPLES
Create an archive on the default tape drive, containing the files named
.Pa bonvole
and
.Pa sekve :
.Pp
.Dl $ \*(nm c bonvole sekve
.Pp
Output a
.Xr gzip 1
compressed archive containing the files
.Pa bonvole
and
.Pa sekve
to a file called
.Pa foriru.tar.gz :
.Pp
.Dl $ \*(nm zcf foriru.tar.gz bonvole sekve
.Pp
Verbosely create an archive, called
.Pa backup.tar.gz ,
of all files matching the shell
.Xr glob 7
function
.Pa *.c :
.Pp
.Dl $ \*(nm zcvf backup.tar.gz *.c
.Pp
Verbosely list, but do not extract, all files ending in
.Pa .jpeg
from a compressed archive named
.Pa backup.tar.gz .
Note that the glob pattern has been quoted to avoid expansion by the shell:
.Pp
.Dl $ \*(nm tvzf backup.tar.gz \*(aq*.jpeg\*(aq
.Pp
For more detailed examples, see
.Xr \*(np 1 .
.Sh DIAGNOSTICS
Whenever
.Nm
cannot create a file or a link when extracting an archive or cannot
find a file while writing an archive, or cannot preserve the user
ID, group ID, file mode, or access and modification times when the
.Fl p
option is specified, a diagnostic message is written to standard
error and a non-zero exit value will be returned, but processing
will continue.
In the case where
.Nm
cannot create a link to a file,
unless
.Fl M Ar lncp
is given,
.Nm
will not create a second copy of the file.
.Pp
If the extraction of a file from an archive is prematurely terminated
by a signal or error,
.Nm
may have only partially extracted the file the user wanted.
Additionally, the file modes of extracted files and directories may
have incorrect file bits, and the modification and access times may
be wrong.
.Pp
If the creation of an archive is prematurely terminated by a signal
or error,
.Nm
may have only partially created the archive, which may violate the
specific archive format specification.
.Sh SEE ALSO
.Xr ar 1 ,
.Xr cpio 1 ,
.ie \ng==1 \{\
.Xr mircpio 1 ,
.Xr mirpax 1 ,
.Xr pax 1 ,
.Xr tar 1 ,
.Xr deb 5
.\}
.el .ie \ng==2 \{\
.Xr pax 1 ,
.Xr paxcpio 1 ,
.Xr tar 1 ,
.Xr deb 5
.\}
.el \{\
.Xr pax 1
.\}
.Sh HISTORY
A
.Nm tar
command first appeared in
.At v7 .
.Sh AUTHORS
.An -nosplit
.An Keith Muller
at the University of California, San Diego.
.Mx
extensions by
.An mirabilos Aq m@@mirbsd.org .
.Sh CAVEATS
The flags
.Fl AaJjLMNo
are not portable to other implementations of
.Nm tar
where they may have a different meaning or not exist at all.
This implementation may have support for other non-standard options that
are undocumented because removal-inducing deprecation was issued.
There is no option to select a different output format from
.Cm ustar
or
.Cm tar
except
.Fl A ,
which selects
.Cm ar ;
use the
.Xr \*(nc 1
or
.Xr \*(np 1
front-ends for that.
.Sh BUGS
The
.Ar pax
file format is not yet supported.
@


1.39
log
@deprecate some old earliest MirCPIO extensions:

‚Ä¢ tar -R and -S (also dedocumented)
‚Ä¢ the dist, v4norm, v4root formats (which already were undocumented)

but indicate in tar(1) that YMMV
@
text
@d1 1
a1 1
.\"	$MirOS: src/bin/pax/tar.1,v 1.37 2018/12/12 18:08:47 tg Exp $
d86 1
a86 1
.Dd $Mdocdate: December 12 2018 $
d702 1
a702 1
.Fl AaJjLMN
@


1.38
log
@update from contrib/samples/portmdoc,v 1.11
@
text
@d5 1
a5 1
.\"		  2017, 2018
d86 1
a86 1
.Dd $Mdocdate: December 25 2018 $
d231 1
a231 1
.No { Cm crtux No } Op Cm 014578AabefHhJjLmNOoPpqRSsvwXZz
d242 1
a242 1
.Op Fl 014578AaeHhJjLmNOoPpqRSvwXZz
a479 8
.It Fl R
Write SysVR4 CPIO files instead of tar or POSIX ustar files.
Serialise inode numbers, zero out device information.
The file content of hard links is stored only once.
.It Fl S
Write SysVR4 CPIO files with CRC instead of tar or POSIX ustar files.
Serialise inode numbers, zero out device information.
The file content of hard links is stored only once.
d702 1
a702 1
.Fl AaJjLMNRS
d706 15
@


1.37
log
@merge the npax branch into MAIN

asides from a missing dprintf and portability, this ought to be
good enough for people (well me) to play with for now
@
text
@d1 1
a1 1
.\"	$MirOS: src/bin/pax/tar.1,v 1.35 2017/08/07 20:10:19 tg Exp $
d86 1
a86 1
.Dd $Mdocdate: August 7 2017 $
d94 1
d107 1
a107 1
.	ds str-Mx1 \*[Tn-font-size]\%MirOS\*[str-Mx]
d133 32
d171 1
a171 1
.		ie \\n(.$==0 \&MirOS\\*(aa
d177 1
a177 1
.			as b1 \&MirOS\ #\&\\*(A\\n(aP\\*(aa
d185 1
a185 1
.			as b1 \&MirOS\\*(aa
@


1.36
log
@slowmerge (untested though)
@
text
@d4 2
a5 1
.\" Copyright (c) 2005, 2008, 2009, 2011, 2012, 2014, 2016, 2017
d198 1
a198 1
.No { Cm crtux No } Op Cm 014578AabefHhJjLmNOoPRSpqsvwXZz
d235 1
a235 1
.Pq Sq \- .
d326 1
a326 1
.Pq Sq \-
d374 2
a375 1
0x0008: Set owner to 0:0 (root:wheel).
d555 1
a555 1
.Pq Sq \-
@


1.35
log
@filesystem
@
text
@d1 2
a2 2
.\"	$MirOS: src/bin/pax/tar.1,v 1.34 2017/03/29 01:52:30 tg Exp $
.\"	$OpenBSD: tar.1,v 1.55 +1.58 +1.59 2010/12/02 04:08:27 tedu Exp $
d85 1
a85 1
.Dd $Mdocdate: March 29 2017 $
d260 1
a260 1
.Xr glob 3
d275 1
a275 1
.Xr glob 3
d514 9
d594 1
a594 1
.Xr glob 3
@


1.34
log
@layout fix
@
text
@d1 1
a1 1
.\"	$MirOS: src/bin/pax/tar.1,v 1.30 2016/10/25 18:57:56 tg Exp $
d85 1
a85 1
.Dd $Mdocdate: October 25 2016 $
d521 1
a521 1
Do not cross mount points in the file system.
@


1.33
log
@When extracting, skip ".." members (CVE-2016-6321); fix inspired by Debian
@
text
@d4 1
a4 1
.\" Copyright (c) 2005, 2008, 2009, 2011, 2012, 2014, 2016
d658 1
@


1.32
log
@fixup after the import, also clears up lies in the manpage
@
text
@d421 5
a425 1
Do not strip leading slashes
d427 1
a427 2
from pathnames.
The default is to strip leading slashes.
@


1.31
log
@fix new bugs in TFM
@
text
@d416 1
a419 3
This implies the
.Fl O
flag.
@


1.30
log
@fastmerge
@
text
@d1 1
a1 1
.\"	$MirOS: src/bin/pax/tar.1,v 1.29 2016/03/06 13:47:12 tg Exp $
d85 1
a85 1
.Dd $Mdocdate: March 6 2016 $
d325 1
a325 1
.Pq Sq -
d543 1
a543 1
.Pq Sq -
@


1.29
log
@apply changes from mpax-erstmalnurderbackport branch not related to the CVEs
@
text
@d1 2
a2 2
.\"	$MirOS: src/bin/pax/tar.1,v 1.26 2012/06/05 19:29:34 tg Exp $
.\"	$OpenBSD: tar.1,v 1.55 2010/12/02 04:08:27 tedu Exp $
d85 1
a85 1
.Dd $Mdocdate: June 5 2012 $
d324 6
d431 2
a432 2
The setuid and setgid bits are only preserved if the user is
the superuser.
d542 3
@


1.28
log
@merge most recent portmdoc into aÃ≤lÃ≤lÃ≤ of its users; fixup .\& into \&. like
in mksh(1), for Schillix ditroff
@
text
@d648 2
a649 2
Keith Muller at the University of California, San Diego.
.Pp
d652 1
a652 1
.An Thorsten Glaser Aq tg@@mirbsd.org .
@


1.27
log
@document why 'tar -M dist -cvvf - foo' does not show 0:0 owner etc.
@
text
@d4 2
a5 2
.\" Copyright (c) 2005, 2008, 2009, 2011, 2012, 2014
.\"	Thorsten Glaser <tg@@mirbsd.org>
d38 3
a40 1
.\" Also make sure to use \& especially with two-letter words.
@


1.26
log
@mention n≈çn-support (TOOD) of pax file format
@
text
@d1 1
a1 1
.\"	$MirOS: src/bin/pax/tar.1,v 1.25 2012/05/20 20:04:32 tg Exp $
d4 1
a4 1
.\" Copyright (c) 2005, 2008, 2009, 2011, 2012
d83 1
a83 1
.Dd $Mdocdate: May 20 2012 $
d392 4
@


1.25
log
@update portmdoc; re-check its rules
@
text
@d1 1
a1 1
.\"	$MirOS: src/bin/pax/tar.1,v 1.24 2012/05/20 19:59:26 tg Exp $
d83 1
a83 1
.Dd $Mdocdate: March 15 2010 $
d653 4
@


1.24
log
@use \- consistently, even when not strictly needed
@
text
@d1 1
a1 1
.\"	$MirOS: src/bin/pax/tar.1,v 1.23 2012/05/20 17:21:45 tg Exp $
d37 2
d83 1
a83 1
.Dd $Mdocdate: May 20 2012 $
d85 1
a85 1
.\" Check which macro package we use
d88 2
d198 1
a198 1
.Op Ar blocking-factor | archive | replstr
@


1.23
log
@implement archive format auto-guessing ‚Äì inspired by http://petereisentraut.blogspot.de/2012/05/time-to-retrain-fingers.html ‚Äì with silent failback to no compressor; uses lzma only when writing .tlz and lzop transparently
@
text
@d1 1
a1 1
.\"	$MirOS: src/bin/pax/tar.1,v 1.22 2012/02/12 02:49:41 tg Exp $
d81 1
a81 1
.Dd $Mdocdate: February 12 2012 $
d297 1
a297 1
.Dl tar -cf - foo \*(Ba xz -2e \*(Gtfoo.txz
@


1.22
log
@‚Ä¢ brown paper bag: pasto
‚Ä¢ GNU groff, in 2012, still doesn‚Äôt know about POSIX 2008
@
text
@d1 1
a1 1
.\"	$MirOS: src/bin/pax/tar.1,v 1.21 2012/02/12 01:48:21 tg Exp $
d191 1
a191 1
.No { Cm crtux No } Op Cm 014578AbefHhJjLmNOoPRSpqsvwXZz
d202 1
a202 1
.Op Fl 014578AeHhJjLmNOoPpqRSvwXZz
d288 10
d645 1
a645 1
.Fl AJjLMNRS
d648 1
a648 1
where they may have a different meaning.
@


1.21
log
@-rg2: paxcpio / pax / paxtar (new)
-rg1: mircpio / mirpax / mirtar (old)
-rg0: cpio / pax / tar (default)
@
text
@d1 1
a1 1
.\"	$MirOS: src/bin/pax/tar.1,v 1.20 2012/02/12 00:04:33 tg Exp $
d181 1
a181 1
.Nm mirtar
@


1.20
log
@slowmerge options.c; sort getopt/getoldopt arguments AGAIN, finally
merge usage changes from obsd; add xz support
@
text
@d1 1
a1 1
.\"	$MirOS: src/bin/pax/tar.1,v 1.19 2012/02/11 23:37:52 tg Exp $
d81 1
a81 1
.Dd $Mdocdate: February 11 2012 $
d159 7
d180 4
d613 6
@


1.19
log
@slowmerge, fix and extend the manual pages
@
text
@d1 1
a1 1
.\"	$MirOS: src/bin/pax/tar.1,v 1.18 2011/08/17 09:03:58 tg Exp $
d81 1
a81 1
.Dd $Mdocdate: August 17 2011 $
d180 1
a180 1
.No { Cm crtux No } Op Cm 014578AbefHhjLmNOoPRSpqsvwXZz
d191 1
a191 1
.Op Fl 014578AeHhjLmNOoPpqRSvwXZz
d308 2
d618 1
a618 1
.Fl AjLMNRS
@


1.18
log
@Debian idiotically uses something called lexgrog(1) to parse manpages
for whatis information which fails even worse than mdocml(1)‚Ä¶
@
text
@d1 2
a2 2
.\"	$MirOS: src/bin/pax/tar.1,v 1.17 2011/08/16 21:32:48 tg Exp $
.\"	$OpenBSD: tar.1,v 1.48 2007/05/31 19:19:15 jmc Exp $
d4 1
a4 1
.\" Copyright (c) 2005, 2008, 2009, 2011
d81 1
a81 1
.Dd $Mdocdate: August 16 2011 $
d180 1
a180 1
.No { Cm crtux No } Op Cm 014578AbefHhLmOoPRSpqsvwXZz
d186 1
a186 1
.Op Ar file ...
a187 1
.Pp
d190 2
a191 1
.Op Fl 014578AeHhLmOoPpqRSvwXZz
d198 2
a199 1
.Op Ar file ...
d308 2
d369 3
d378 1
a378 1
.Nm
d483 3
a485 2
Compress archive using
.Xr compress 1 .
d487 3
a489 2
Compress archive using
.Xr gzip 1 .
d509 11
a558 9
.Nm
will exit with one of the following values:
.Bl -tag -width 2n -offset indent
.It 0
All files were processed successfully.
.It 1
An error occurred.
.El
.Pp
d605 1
a605 1
.Nm
d610 4
d615 5
a619 12
The
.Fl L
flag is not portable to other versions of
.Nm
where it may have a different meaning.
The
.Fl R ,
.Fl S ,
and
.Fl M
options are extensions specific to
.Mx .
@


1.17
log
@backend for Unix Archiver libraries ‚Äì ar(5) and deb(5) format files
(since GNU binutils on ELF systems thinks SYSV style ar is used‚Ä¶)
@
text
@d1 1
a1 1
.\"	$MirOS: src/bin/pax/tar.1,v 1.16 2011/08/16 14:17:24 tg Exp $
d169 6
a174 1
.Nm \*(nm
d176 1
@


1.16
log
@with -rg1 the manpages are now mir‚Äôd
@
text
@d1 1
a1 1
.\"	$MirOS: src/bin/pax/tar.1,v 1.15 2011/08/16 13:45:01 tg Exp $
d4 2
a28 3
.\" Copyright (c) 2008, 2009
.\"	Thorsten ‚Äúmirabilos‚Äù Glaser <tg@@mirbsd.org>
.\"-
d174 1
a174 1
.No { Cm crtux No } Op Cm 014578befHhLmOoPRSpqsvwXZz
d185 1
a185 1
.Op Fl 014578eHhLmOoPpqRSvwXZz
d268 2
d308 4
a311 1
is either a number or a string, optionally prefixed with
d313 1
a313 4
to turn it off.
See
.Xr \*(nc 1
for a comprehensive list and compatibility notes.
d318 2
d322 2
d326 2
d330 6
d337 1
a337 1
0x0040: Extract hard links by copying if linking fails.
d340 2
d344 10
d356 1
a356 1
This option is only implemented for the cpio, sv4cpio,
a357 10
For the ustar format, the
.Ar inodes
and
.Ar links
specifiers are ignored.
For all formats except ustar, the
.Ar numid
and
.Ar gslash
specifiers are ignored.
d575 1
d581 2
a582 1
.Xr tar 1
@


1.15
log
@‚Ä¶ aaaand the even longer awaited functionality to append a slash to a
directory‚Äôs name upon ustar creation (like gtar)
@
text
@d1 1
a1 1
.\"	$MirOS: src/bin/pax/tar.1,v 1.14 2011/08/16 13:27:02 tg Exp $
d153 15
a167 1
.Dt TAR 1
d170 1
a170 1
.Nm tar
d173 1
a173 1
.Nm tar
d184 1
a184 1
.Nm tar
d311 1
a311 1
.Xr cpio 1
d486 1
a486 1
.Dl $ tar c bonvole sekve
d497 1
a497 1
.Dl $ tar zcf foriru.tar.gz bonvole sekve
d506 1
a506 1
.Dl $ tar zcvf backup.tar.gz *.c
d514 1
a514 1
.Dl $ tar tvzf backup.tar.gz \*(aq*.jpeg\*(aq
d517 1
a517 1
.Xr pax 1 .
d561 7
d569 1
@


1.14
log
@implement the long-awaited option to skip writing the ASCII uid/gid
@
text
@d1 1
a1 1
.\"	$MirOS: src/bin/pax/tar.1,v 1.13 2009/11/22 18:23:40 tg Exp $
d82 1
a82 1
.Dd $Mdocdate: November 22 2009 $
d313 2
d326 3
a328 1
specifier is ignored.
@


1.13
log
@fix more manpages
@
text
@d1 1
a1 1
.\"	$MirOS: src/bin/pax/tar.1,v 1.12 2009/11/22 15:55:24 tg Exp $
d311 2
d322 3
@


1.12
log
@update to contrib/samples/portmdoc,v 1.6
@
text
@d1 1
a1 1
.\"	$MirOS: src/bin/pax/tar.1,v 1.11 2009/10/27 18:47:27 tg Exp $
d82 1
a82 1
.Dd $Mdocdate: November 17 2009 $
d197 1
a197 1
.Pq Sq - .
d294 1
a294 1
.Dq no-
d418 1
a418 1
.D1 Em original-pathname No >> Em new-pathname
d491 1
a491 1
.Dl $ tar tvzf backup.tar.gz '*.jpeg'
@


1.11
log
@new option ‚Äú-M lncp‚Äù, see TFM for details
@
text
@d1 1
a1 1
.\"	$MirOS: src/bin/pax/tar.1,v 1.10 2008/03/14 17:05:06 tg Exp $
d26 3
a28 3
.\"
.\"	$OpenBSD: tar.1,v 1.48 2007/05/31 19:19:15 jmc Exp $
.\"
d31 3
a33 3
.\" * ` generates ‚Äò in groff, so use \`
.\" * ' generates ‚Äô in groff, \' generates ¬¥, so use \*(aq
.\" * - generates ‚Äê in groff, \- generates ‚àí, fixed in tmac/mdoc/doc-groff
d38 4
d43 13
d69 1
d81 10
a90 1
.Dd $Mdocdate: March 14 2008 $
d93 32
a124 7
.de Mx
.nr cF \\n(.f
.nr cZ \\n(.s
.ds aa \&\f\\n(cF\s\\n(cZ
.if \\n(aC==0 \{\
.	ie \\n(.$==0 \&MirOS\\*(aa
.	el .aV \\$1 \\$2 \\$3 \\$4 \\$5 \\$6 \\$7 \\$8 \\$9
d126 21
a146 6
.if \\n(aC>\\n(aP \{\
.	nr aP \\n(aP+1
.	ie \\n(C\\n(aP==2 \{\
.		as b1 \&MirOS\ #\&\\*(A\\n(aP\\*(aa
.		ie \\n(aC>\\n(aP \{\
.			nr aP \\n(aP+1
a148 5
.		el .aZ
.	\}
.	el \{\
.		as b1 \&MirOS\\*(aa
.		nR
d150 1
d152 1
a152 1
..
@


1.10
log
@switch to portmdoc
@
text
@d1 1
a1 1
.\"	$MirOS: src/bin/pax/tar.1,v 1.9 2007/10/23 20:07:43 tg Exp $
d246 2
d454 3
@


1.9
log
@merge openbsd changes and fix tar -R, -S flag misdocumentation
@
text
@d1 1
a1 1
.\"	$MirOS: src/bin/pax/tar.1,v 1.8 2006/07/21 17:34:59 tg Exp $
d29 37
a65 4
.Dd October 23, 2007
.Dt TAR 1
.Os MirBSD
.\" for portability
d71 2
a72 1
.	if \\n(.$==0 \&MirBSD\\*(aa
d74 14
a87 3
.if \\n(.$==1 \{\
.	if "\\$1"."  \&MirBSD\\$1\\*(aa
.	if "\\$1","  \&MirBSD\\$1\\*(aa
d90 2
@


1.8
log
@* add -M option to pax
* sync manpages
* don't document deprecated format names in pax(1) any more
* add .de Mx for portability
* improve -M verb to show archive fmt
@
text
@d1 2
a2 2
.\"	$MirOS: src/bin/pax/tar.1,v 1.7 2006/07/16 16:14:50 tg Exp $
.\"	$OpenBSD: tar.1,v 1.47 2005/05/24 16:33:45 jaredy Exp $
d27 1
a27 1
.\"	$OpenBSD: tar.1,v 1.47 2005/05/24 16:33:45 jaredy Exp $
d29 1
a29 1
.Dd July 21, 2006
d62 1
a62 1
.Op Fl 014578eHhLmOoPpqvwXZz
d67 1
a67 1
.Op Fl M Ar value
d180 1
a180 1
.It Fl M Ar value
d182 1
a182 1
.Ar value
d185 1
a185 1
to turn the flag off.
@


1.7
log
@* -Wall clean
* implement tar -xO mode for extracting to stdout, GNU tar compatible

for freewrt

"schˆn" wbx@@
@
text
@d1 1
a1 1
.\"	$MirOS: src/bin/pax/tar.1,v 1.6 2006/06/19 20:31:05 tg Exp $
d29 1
a29 1
.Dd February 7, 2001
d31 14
a44 1
.Os
d202 1
a202 1
ustar, and sv4crc file format writing routines.
@


1.6
log
@* fix -M option processing in tar(1)
* support ustar (in cpio(1) and tar(1)) with -M uidgid and -M mtime,
  as well as the -M debug and -M verb options
@
text
@d1 1
a1 1
.\"	$MirOS: src/bin/pax/tar.1,v 1.5 2006/06/19 19:40:55 tg Exp $
d198 3
a200 1
Write old-style (non-POSIX) archives.
@


1.5
log
@bring the -M option to tar(1)
@
text
@d1 1
a1 1
.\"	$MirOS: src/bin/pax/tar.1,v 1.4 2005/12/17 07:20:23 tg Exp $
d189 6
a194 1
and sv4crc file format writing routines.
@


1.4
log
@shave off some bytes out our *.cgz files (MirPorts archives)
by applying the same -Mset option to tar(1)s -R and -S flags
@
text
@d1 1
a1 1
.\"	$MirOS: src/bin/pax/tar.1,v 1.3 2005/10/21 11:02:36 tg Exp $
d54 1
d167 23
d418 2
a419 1
.Fl R
d421 1
a421 1
.Fl S
@


1.3
log
@* merge bin and lib completely
* convert some ancient RCSID styles etc. to more modern stuff
* fix use of CDIAGFLAGS+=, CFLAGS+= and COPTS+= to the correct
  variant (include bsd.own.mk _then_ COPTS+=) so they're added
  after any user-specified flags
  (this is probably lurking in more places than I can imagine)
* fix some indenting, comments, etc.
* make stuff compile (fix warnings/errors)
* add script to review _all_ shlib_version after an openbsd import
* remove two more obsolete /usr/lib/debug/ references
* bin/ps: comment out some SMP code
@
text
@d1 1
a1 1
.\"	$MirOS: src/bin/pax/tar.1,v 1.2 2005/02/28 20:04:58 tg Exp $
d201 2
d205 2
@


1.2
log
@merge
@
text
@d1 2
a2 2
.\"	$MirOS$
.\"	$OpenBSD: tar.1,v 1.46 2004/08/10 13:33:15 millert Exp $
d27 1
a27 1
.\"	$OpenBSD: tar.1,v 1.46 2004/08/10 13:33:15 millert Exp $
d38 1
a38 1
.Oo \&- Oc {crtux} Op befhmopqsvwzHLOPRSXZ014578
d40 2
a41 4
.Op Ar blocksize
.Op Ar archive
.Op Ar replstr
.\" XXX how to do this right?
d45 11
d66 17
d84 1
a84 1
.Bl -tag -width Ar
d96 7
d111 8
d130 2
a131 2
.Bl -tag -width Ar
.It Fl b Ar "blocking factor"
d134 1
a134 1
uses 512 byte blocks.
d139 6
d151 2
d159 7
d177 5
d193 1
a193 1
.Ar pattern
d196 1
a196 1
.Ar pattern .
d204 1
a204 5
Modify the file or archive member names specified by the
.Ar pattern
or
.Ar file
operands according to the substitution expression
d209 6
a214 1
The format of these regular expressions is:
d216 1
d219 11
a229 4
.Cm old
is a basic regular expression and
.Cm new
can contain an ampersand (&), \\n (where n is a digit) back-references,
d232 7
a238 5
.Cm old
string may also contain
.Dv <newline>
characters.
Any non-null character can be used as a delimiter (/ is shown here).
d244 1
d256 4
a259 3
.Dv standard error
in the following format:
.Dl <original pathname> >> <new pathname>
a269 22
.It Fl z
Compress archive using gzip.
.It Fl C Ar directory
This is a positional argument which sets the working directory for the
following files.
When extracting, files will be extracted into
the specified directory; when creating, the specified files will be matched
from the directory.
.It Fl H
Follow symlinks given on command line only.
.It Fl L
Synonym for the
.Fl h
option.
.It Fl P
Do not strip leading slashes
.Pq Sq /
from pathnames.
The default is to strip leading slashes.
.It Fl I Ar file
This is a positional argument which reads the names of files to
archive or extract from the given file, one per line.
d273 5
a277 1
Compress archive using compress.
d298 1
a298 3
.Li $ tar c bonvole sekve
.Pp
Creates an archive on the default tape drive, containing the files named
d301 1
a301 1
.Pa sekve .
d303 1
a303 1
.Li $ tar zcf foriru.tar.gz bonvole sekve
d305 1
a305 1
Outputs a
d312 1
a312 1
.Pa foriru.tar.gz .
d314 1
a314 1
.Li $ tar zcvf backup.tar.gz *.c
d316 1
a316 1
Verbosely creates an archive, called
d321 1
a321 1
.Pa *.c .
d323 1
a323 1
.Li $ tar tvzf backup.tar.gz '*.jpeg'
d325 1
a325 1
Verbosely lists, but does not extract, all files ending in
d329 3
a331 1
Note that the glob pattern has been quoted to avoid expansion by the shell.
d338 1
a338 1
.Bl -tag -width 2n
@


1.1
log
@Initial revision
@
text
@d1 1
d38 1
a38 1
.Oo \&- Oc {crtux} Op befhmopqsvwzHLOPXZ014578
d138 4
d333 6
@


1.1.1.1
log
@Import the OpenBSD foundation of MirOS BSD
@
text
@@


1.1.1.2
log
@Import almost everything (no ancontrol, ifconfig, pfctl, wicontrol)
of (the undeleted parts of) OpenBSD-current's userland of about 3 hours ago.
Warning: this introduces major breakage!
@
text
@d1 1
a1 1
.\"	$OpenBSD: tar.1,v 1.47 2005/05/24 16:33:45 jaredy Exp $
d26 1
a26 1
.\"	$OpenBSD: tar.1,v 1.47 2005/05/24 16:33:45 jaredy Exp $
d37 1
a37 1
.No { Cm crtux No } Op Cm 014578befHhLmOoPpqsvwXZz
d39 4
a42 2
.Bk -words
.Op Ar blocking-factor | archive | replstr
a45 11
.Ek
.Pp
.Nm tar
.No { Ns Fl crtux Ns }
.Op Fl 014578eHhLmOoPpqvwXZz
.Op Fl b Ar blocking-factor
.Op Fl C Ar directory
.Op Fl f Ar archive
.Op Fl I Ar file
.Op Fl s Ar replstr
.Op Ar file ...
a55 17
In the first (legacy) form, all option flags except for
.Fl C
and
.Fl I
must be contained within the first argument to
.Nm
and must not be prefixed by a hyphen
.Pq Sq - .
Option arguments, if any, are processed as subsequent arguments to
.Nm
and are processed in the order in which their corresponding option
flags have been presented on the command line.
.Pp
In the second and preferred form, option flags may be given in any order
and are immediately followed by their corresponding option argument
values.
.Pp
d57 1
a57 1
.Bl -tag -width Ds
a68 7
The
.Ar file
arguments may be specified as glob patterns (see
.Xr glob 3
for more information), in which case
.Nm
will list all archive members that match each pattern.
a76 8
The
.Ar file
arguments may be specified as glob patterns (see
.Xr glob 3
for more information), in which case
.Nm
will extract all archive members that match each pattern.
.Pp
d88 2
a89 2
.Bl -tag -width Ds
.It Fl b Ar blocking-factor
d92 1
a92 1
uses 512-byte blocks.
a96 6
.It Fl C Ar directory
This is a positional argument which sets the working directory for the
following files.
When extracting, files will be extracted into
the specified directory; when creating, the specified files will be matched
from the directory.
a102 2
.It Fl H
Follow symlinks given on the command line only.
a108 7
.It Fl I Ar file
This is a positional argument which reads the names of files to
archive or extract from the given file, one per line.
.It Fl L
Synonym for the
.Fl h
option.
a119 5
.It Fl P
Do not strip leading slashes
.Pq Sq /
from pathnames.
The default is to strip leading slashes.
d131 1
a131 1
.Ar file
d134 1
a134 1
.Ar file .
d138 5
a142 1
Modify the archive member names according to the substitution expression
d147 1
a147 6
.Ar file
arguments may be given to restrict the list of archive members to those
specified.
.Pp
The format of these regular expressions is
.Pp
a148 1
.Pp
d151 4
a154 11
.Va old
is a basic regular expression (see
.Xr re_format 7 )
and
.Va new
can contain an ampersand
.Pq Ql & ,
.Ql \e Ns Em n
(where
.Em n
is a digit) back-references,
d157 5
a161 7
.Va old
string may also contain newline characters.
Any non-null character can be used as a delimiter
.Po
.Ql /
is shown here
.Pc .
a166 1
.Pp
d178 3
a180 4
standard error in the following format:
.Pp
.D1 Em original-pathname No >> Em new-pathname
.Pp
d191 22
d216 1
a216 5
Compress archive using
.Xr compress 1 .
.It Fl z
Compress archive using
.Xr gzip 1 .
d237 3
a239 1
Create an archive on the default tape drive, containing the files named
d242 1
a242 1
.Pa sekve :
d244 1
a244 1
.Dl $ tar c bonvole sekve
d246 1
a246 1
Output a
d253 1
a253 1
.Pa foriru.tar.gz :
d255 1
a255 1
.Dl $ tar zcf foriru.tar.gz bonvole sekve
d257 1
a257 1
Verbosely create an archive, called
d262 1
a262 1
.Pa *.c :
d264 1
a264 1
.Dl $ tar zcvf backup.tar.gz *.c
d266 1
a266 1
Verbosely list, but do not extract, all files ending in
d270 1
a270 3
Note that the glob pattern has been quoted to avoid expansion by the shell:
.Pp
.Dl $ tar tvzf backup.tar.gz '*.jpeg'
d277 1
a277 1
.Bl -tag -width 2n -offset indent
@


1.1.1.3
log
@import latest OpenCPIO ‚ò∫
@
text
@d1 1
a1 1
.\"	$OpenBSD: tar.1,v 1.48 2007/05/31 19:19:15 jmc Exp $
d26 1
a26 1
.\"	$OpenBSD: tar.1,v 1.48 2007/05/31 19:19:15 jmc Exp $
d28 1
a28 1
.Dd $Mdocdate$
@


1.1.1.4
log
@import up-to-date pax from OpenBSD 5.1-current
@
text
@d1 1
a1 1
.\"	$OpenBSD: tar.1,v 1.55 2010/12/02 04:08:27 tedu Exp $
d26 3
a28 1
.Dd $Mdocdate: December 2 2010 $
d37 1
a37 1
.No { Cm crtux No } Op Cm 014578befHhjLmNOoPpqsvwXZz
d43 1
a43 1
.Op Ar
d45 1
d48 1
a48 2
.Bk -words
.Op Fl 014578eHhjLmNOoPpqvwXZz
d54 1
a54 2
.Op Ar
.Ek
a160 3
.It Fl j
Compress archive using bzip2.
The bzip2 utility must be installed separately.
a166 3
.It Fl N
Use only the numeric UID and GID values when creating or extracting an
archive.
a291 11
.Sh EXIT STATUS
The
.Nm
utility exits with one of the following values:
.Pp
.Bl -tag -width Ds -offset indent -compact
.It 0
All files were processed successfully.
.It 1
An error occurred.
.El
d331 9
a379 2
.Fl j
and
d381 1
a381 1
flags are not portable to other versions of
d383 1
a383 1
where they may have a different meaning.
@


1.1.1.5
log
@pull newer paxtar from OpenBSD
@
text
@d1 1
a1 1
.\"	$OpenBSD: tar.1,v 1.59 2015/09/13 15:42:11 guenther Exp $
d26 1
a26 1
.Dd $Mdocdate: September 13 2015 $
d134 3
a136 2
Archives with a blocking factor larger than 63
violate the POSIX standard and will not be portable to all systems.
a148 6
If set to hyphen
.Pq Sq -
standard output is used.
See also the
.Ev TAPE
environment variable.
d190 2
a191 2
The setuid and setgid bits are only preserved if the user and group ID
could be preserved.
a290 3
If set to hyphen
.Pq Sq -
standard output is used.
d384 1
a384 2
.An Keith Muller
at the University of California, San Diego.
@


1.1.1.6
log
@revert the import; we‚Äôll just backport the CVE fixes, for now ‚òπ
@
text
@d1 1
a1 1
.\"	$OpenBSD: tar.1,v 1.55 2010/12/02 04:08:27 tedu Exp $
d26 1
a26 1
.Dd $Mdocdate: February 11 2012 $
d134 2
a135 3
Archives with a blocking factor larger than 63 violate the
.Tn POSIX
standard and will not be portable to all systems.
d148 6
d195 2
a196 2
The setuid and setgid bits are only preserved if the user is
the superuser.
d296 3
d392 2
a393 1
Keith Muller at the University of California, San Diego.
@


1.1.1.7
log
@bunch of cherry-picks from OpenBSD
@
text
@d1 1
a1 1
.\"	$OpenBSD: tar.1,v 1.55 +1.58 +1.59 2010/12/02 04:08:27 tedu Exp $
d26 1
a26 1
.Dd $Mdocdate: March 4 2016 $
a148 6
If set to hyphen
.Pq Sq -
standard output is used.
See also the
.Ev TAPE
environment variable.
d190 2
a191 2
The setuid and setgid bits are only preserved if the user and group ID
could be preserved.
a290 3
If set to hyphen
.Pq Sq -
standard output is used.
@


1.1.1.8
log
@merge what OpenBSD did between our last cherry-pick and today minus one commit

(‚ÄúUse the new libc uid_from_user() and gid_from_group() instead of
  the pax-specific functions in cache.c‚Äù is ignored, for now)
@
text
@d1 1
a1 1
.\"	$OpenBSD: tar.1,v 1.61 2018/07/23 19:02:49 kn Exp $
d26 1
a26 1
.Dd $Mdocdate: October 25 2016 $
d97 1
a97 1
.Xr glob 7
d112 1
a112 1
.Xr glob 7
a269 9
If
.Fl v
is specified multiple times or if the
.Fl t
option is also specified,
.Nm
will use a long format for listing files, similar to
.Xr ls 1
.Fl l .
d339 1
a339 1
.Xr glob 7
@


1.1.1.9
log
@Import latest OpenBSD paxtar, unmodified, into vendor branch
@
text
@d26 1
a26 1
.Dd $Mdocdate: July 23 2018 $
d134 3
a136 2
Archives with a blocking factor larger than 63
violate the POSIX standard and will not be portable to all systems.
d402 1
a402 2
.An Keith Muller
at the University of California, San Diego.
@


1.1.1.9.2.1
log
@do the ‚Äòc‚Äôs
@
text
@d26 1
a26 1
.Dd $Mdocdate: December 12 2018 $
d285 1
a285 1
Do not cross mount points in the filesystem.
@


1.1.1.9.2.2
log
@documentation (modulo how the different flavours are built)
@
text
@a2 3
.\" Copyright (c) 2005, 2008, 2009, 2011, 2012, 2014, 2016,
.\"		  2017, 2018
.\"	mirabilos <m@@mirbsd.org>
a24 16
.\"-
.\" Try to make GNU groff and AT&T nroff more compatible
.\" * ` generates ‚Äò in gnroff, so use \`
.\" * ' generates ‚Äô in gnroff, \' generates ¬¥, so use \*(aq
.\" * - generates ‚Äê in gnroff, \- generates ‚àí, so .tr it to -
.\"   thus use - for hyphens and \- for minus signs and option dashes
.\" * ~ is size-reduced and placed atop in groff, so use \*(TI
.\" * ^ is size-reduced and placed atop in groff, so use \*(ha
.\" * \(en does not work in nroff, so use \*(en
.\" * <>| are problematic, so redefine and use \*(Lt\*(Gt\*(Ba
.\" Also make sure to use \& *before* a punctuation char that is to not
.\" be interpreted as punctuation, and especially with two-letter words
.\" but also (after) a period that does not end a sentence (‚Äúe.g.\&‚Äù).
.\" The section after the "doc" macropackage has been loaded contains
.\" additional code to convene between the UCB mdoc macropackage (and
.\" its variant as BSD mdoc in groff) and the GNU mdoc macropackage.
d26 3
a28 136
.ie \n(.g \{\
.	if \*[.T]ascii .tr \-\N'45'
.	if \*[.T]latin1 .tr \-\N'45'
.	if \*[.T]utf8 .tr \-\N'45'
.	ds <= \[<=]
.	ds >= \[>=]
.	ds Rq \[rq]
.	ds Lq \[lq]
.	ds sL \(aq
.	ds sR \(aq
.	if \*[.T]utf8 .ds sL `
.	if \*[.T]ps .ds sL `
.	if \*[.T]utf8 .ds sR '
.	if \*[.T]ps .ds sR '
.	ds aq \(aq
.	ds TI \(ti
.	ds ha \(ha
.	ds en \(en
.\}
.el \{\
.	ds aq '
.	ds TI ~
.	ds ha ^
.	ds en \(em
.\}
.\"
.\" Implement .Dd with the Mdocdate RCS keyword
.\"
.rn Dd xD
.de Dd
.ie \\$1$Mdocdate: \{\
.	xD \\$2 \\$3, \\$4
.\}
.el .xD \\$1 \\$2 \\$3 \\$4 \\$5 \\$6 \\$7 \\$8
..
.\"
.\" .Dd must come before definition of .Mx, because when called
.\" with -mandoc, it might implement .Mx itself, but we want to
.\" use our own definition. And .Dd must come *first*, always.
.\"
.Dd $Mdocdate: February 11 2016 $
.\"
.\" Check which macro package we use, and do other -mdoc setup.
.\"
.ie \n(.g \{\
.	if \*[.T]utf8 .tr \[la]\*(Lt
.	if \*[.T]utf8 .tr \[ra]\*(Gt
.	ie d volume-ds-1 .ds tT gnu
.	el .ds tT bsd
.\}
.el .ds tT ucb
.\"
.\" Implement .Mx (MirBSD)
.\"
.ie "\*(tT"gnu" \{\
.	eo
.	de Mx
.	nr curr-font \n[.f]
.	nr curr-size \n[.ps]
.	ds str-Mx \f[\n[curr-font]]\s[\n[curr-size]u]
.	ds str-Mx1 \*[Tn-font-size]\%MirOS\*[str-Mx]
.	if !\n[arg-limit] \
.	if \n[.$] \{\
.	ds macro-name Mx
.	parse-args \$@@
.	\}
.	if (\n[arg-limit] > \n[arg-ptr]) \{\
.	nr arg-ptr +1
.	ie (\n[type\n[arg-ptr]] == 2) \
.	as str-Mx1 \~\*[arg\n[arg-ptr]]
.	el \
.	nr arg-ptr -1
.	\}
.	ds arg\n[arg-ptr] "\*[str-Mx1]
.	nr type\n[arg-ptr] 2
.	ds space\n[arg-ptr] "\*[space]
.	nr num-args (\n[arg-limit] - \n[arg-ptr])
.	nr arg-limit \n[arg-ptr]
.	if \n[num-args] \
.	parse-space-vector
.	print-recursive
..
.	ec
.	ds sP \s0
.	ds tN \*[Tn-font-size]
.\}
.el \{\
.	de Mx
.	nr cF \\n(.f
.	nr cZ \\n(.s
.	ds aa \&\f\\n(cF\s\\n(cZ
.	if \\n(aC==0 \{\
.		ie \\n(.$==0 \&MirOS\\*(aa
.		el .aV \\$1 \\$2 \\$3 \\$4 \\$5 \\$6 \\$7 \\$8 \\$9
.	\}
.	if \\n(aC>\\n(aP \{\
.		nr aP \\n(aP+1
.		ie \\n(C\\n(aP==2 \{\
.			as b1 \&MirOS\ #\&\\*(A\\n(aP\\*(aa
.			ie \\n(aC>\\n(aP \{\
.				nr aP \\n(aP+1
.				nR
.			\}
.			el .aZ
.		\}
.		el \{\
.			as b1 \&MirOS\\*(aa
.			nR
.		\}
.	\}
..
.\}
.\"-
.ie \ng==1 \{\
.	ds nc mircpio
.	ds np mirpax
.	ds nt mirtar
.	ds nm mirtar
.	Dt MIRTAR 1
.\}
.el .ie \ng==2 \{\
.	ds nc paxcpio
.	ds np pax
.	ds nt paxtar
.	ds nm paxtar
.	Dt PAXTAR 1
.\}
.el \{\
.	ds nc cpio
.	ds np pax
.	ds nt tar
.	ds nm tar
.	Dt TAR 1
.\}
.\"-
.Os MirBSD
a29 9
.ie \ng==1 \{\
.Nm mirtar
.Nd tape archiver
.\}
.el .ie \ng==2 \{\
.Nm paxtar
.Nd tape archiver
.\}
.el \{\
a31 1
.\}
d33 1
a33 1
.Nm \*(nm
d35 1
a35 1
.No { Cm crtux No } Op Cm 014578AabefHhJjLmNOoPRSpqsvwXZz
d38 1
a38 1
.Op Ar blocking-factor \*(Ba archive \*(Ba replstr
d43 1
a43 1
.Nm \*(nm
d46 1
a46 1
.Op Fl 014578AaeHhJjLmNOoPpqRSvwXZz
a50 1
.Op Fl M Ar flag
d71 1
a71 1
.Pq Sq \-\& .
a128 12
.It Fl A
Write Unix Archiver libraries instead of tape archives.
.It Fl a
Guess the compression utility based on the archive filename.
Inability to guess will result in quietly not using any compression.
This option only exists for semi-compatibility with
.Tn GNU
.Nm tar ;
it is strongly recommended to archive to stdout and pipe into
an external compression utility with appropriate arguments instead:
.Pp
.Dl tar \-cf \- foo \*(Ba xz \-2e \*(Gtfoo.txz
d134 2
a135 3
Archives with a blocking factor larger than 63 violate the
.Tn POSIX
standard and will not be portable to all systems.
d149 1
a149 1
.Pq Sq \-\&
a164 2
.It Fl J
Use the xz utility to compress the archive.
d166 2
a167 1
Use the bzip2 utility to compress the archive.
a171 58
.It Fl M Ar flag
Configure the archive normaliser.
.Ar flag
is either a numeric value compatible to
.Xr strtonum 3
which is directly stored in the flags word, or
one of the following values, optionally prefixed with
.Dq no\-
to turn them off:
.Pp
.Bl -tag -width xxxxxx -compact
.It Ar inodes
0x0001: Serialise inodes, zero device info.
.br
(cpio, sv4cpio, sv4crc)
.It Ar links
0x0002: Store content of hard links only once.
.br
(cpio, sv4cpio, sv4crc)
.It Ar mtime
0x0004: Zero out the file modification time.
.br
(ar, cpio, sv4cpio, sv4crc, ustar)
.It Ar uidgid
0x0008: Set owner to 0:0
.Pq Li root Ns : Ns Li wheel .
.br
(ar, cpio, sv4cpio, sv4crc, ustar)
.It Ar verb
0x0010: Debug this option.
.It Ar debug
0x0020: Debug file header storage.
.It Ar lncp
0x0040: Extract hard links by copy if link fails.
.It Ar numid
0x0080: Use only numeric uid and gid values.
.br
(ustar)
.It Ar gslash
0x0100: Append a slash after directory names.
.br
(ustar)
.It Ar set
0x0003: Keep ownership and mtime intact.
.It Ar dist
0x008B: Clean everything except mtime.
.It Ar norm
0x008F: Clean everything.
.It Ar root
0x0089: Clean owner and device information.
.El
.Pp
When creating an archive and verbosely listing output, these
normalisation operations are not reflected in the output,
because they are made only after the output has been shown.
.Pp
This option is only implemented for the ar, cpio, sv4cpio,
sv4crc, and ustar file format writing routines.
d175 2
a176 2
Same as
.Fl M Ar numid .
d178 1
a178 3
If reading, extract files to standard output.
.br
If writing, write old-style (non-POSIX) archives.
a179 1
If writing, write old-style (non-POSIX) archives.
d181 1
a181 1
.Nm tar
d183 3
d187 1
a187 5
For security reasons,
.Nm
skips pathnames containing dotdot
.Pq Dq ..\&
components and strips leading slashes
d189 2
a190 1
from pathnames by default; this option disables that behaviour.
a207 8
.It Fl R
Write SysVR4 CPIO files instead of tar or POSIX ustar files.
Serialise inode numbers, zero out device information.
The file content of hard links is stored only once.
.It Fl S
Write SysVR4 CPIO files with CRC instead of tar or POSIX ustar files.
Serialise inode numbers, zero out device information.
The file content of hard links is stored only once.
d263 1
a263 1
.D1 Em original-pathname No \*(Gt\*(Gt Em new-pathname
d287 2
a288 3
Use the
.Xr compress 1
utility to compress the archive.
d290 2
a291 3
Use the
.Xr gzip 1
utility to compress the archive.
d306 1
a306 1
.Pq Sq \-\&
d331 1
a331 1
.Dl $ \*(nm c bonvole sekve
d342 1
a342 1
.Dl $ \*(nm zcf foriru.tar.gz bonvole sekve
d351 1
a351 1
.Dl $ \*(nm zcvf backup.tar.gz *.c
d359 1
a359 1
.Dl $ \*(nm tvzf backup.tar.gz \*(aq*.jpeg\*(aq
d362 1
a362 1
.Xr \*(np 1 .
a375 3
unless
.Fl M Ar lncp
is given,
a392 1
.Xr ar 1 ,
a393 14
.ie \ng==1 \{\
.Xr mircpio 1 ,
.Xr mirpax 1 ,
.Xr pax 1 ,
.Xr tar 1 ,
.Xr deb 5
.\}
.el .ie \ng==2 \{\
.Xr pax 1 ,
.Xr paxcpio 1 ,
.Xr tar 1 ,
.Xr deb 5
.\}
.el \{\
a394 1
.\}
d397 1
a397 1
.Nm tar
a400 1
.An -nosplit
a402 3
.Mx
extensions by
.An mirabilos Aq m@@mirbsd.org .
a403 6
The flags
.Fl AaJjLMNRS
are not portable to other implementations of
.Nm tar
where they may have a different meaning or not exist at all.
.Sh BUGS
d405 6
a410 2
.Ar pax
file format is not yet supported.
@


1.1.1.9.2.3
log
@getoptsort
@
text
@d85 1
a85 1
.Dd $Mdocdate: December 12 2018 $
d197 1
a197 1
.No { Cm crtux No } Op Cm 014578AabefHhJjLmNOoPpqRSsvwXZz
@


