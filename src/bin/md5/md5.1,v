head	1.10;
access;
symbols
	MIRBSD_10:1.4.0.2
	MIRBSD_10_BASE:1.4
	MIRBSD_9_BASE:1.4
	MIRBSD_8:1.2.0.2
	MIRBSD_8_BASE:1.2
	cvs-200507211800:1.1.1.1
	openbsd:1.1.1;
locks; strict;
comment	@.\" @;


1.10
date	2018.12.25.19.38.07;	author tg;	state Exp;
branches;
next	1.9;
commitid	1005C22871909EC7FE2;

1.9
date	2018.10.07.01.10.10;	author tg;	state Exp;
branches;
next	1.8;
commitid	1005BB95CA10BF418E8;

1.8
date	2016.02.11.20.12.09;	author tg;	state Exp;
branches;
next	1.7;
commitid	10056BCEAFF41919B5B;

1.7
date	2009.11.17.21.28.26;	author tg;	state Exp;
branches;
next	1.6;
commitid	1004B0315904EBABBA5;

1.6
date	2009.11.17.21.20.42;	author tg;	state Exp;
branches;
next	1.5;
commitid	1004B0313C2207233C4;

1.5
date	2009.05.17.14.09.25;	author tg;	state Exp;
branches;
next	1.4;
commitid	1004A101A5960DAB717;

1.4
date	2006.05.09.22.50.31;	author tg;	state Exp;
branches;
next	1.3;
commitid	10044611CC96745E7B2;

1.3
date	2006.05.09.22.17.34;	author tg;	state Exp;
branches;
next	1.2;
commitid	1004461151461D91848;

1.2
date	2005.03.06.18.55.22;	author tg;	state Exp;
branches
	1.2.2.1;
next	1.1;

1.1
date	2005.02.05.17.22.06;	author tg;	state Exp;
branches
	1.1.1.1;
next	;

1.2.2.1
date	2006.05.10.17.51.08;	author tg;	state Exp;
branches;
next	;
commitid	1004462281503DB3DA7;

1.1.1.1
date	2005.02.05.17.22.06;	author tg;	state Exp;
branches;
next	;


desc
@@


1.10
log
@update from contrib/samples/portmdoc,v 1.11
@
text
@.\"	$MirOS: src/bin/md5/md5.1,v 1.9 2018/10/07 01:10:10 tg Exp $
.\"	$OpenBSD: md5.1,v 1.20 2004/08/24 21:22:25 tom Exp $
.\"
.\" Copyright (c) 2008, 2009, 2010, 2016, 2018
.\"	mirabilos <m@@mirbsd.org>
.\" Copyright (c) 2003, 2004 Todd C. Miller <Todd.Miller@@courtesan.com>
.\"
.\" Permission to use, copy, modify, and distribute this software for any
.\" purpose with or without fee is hereby granted, provided that the above
.\" copyright notice and this permission notice appear in all copies.
.\"
.\" THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
.\" WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
.\" MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
.\" ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
.\" WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
.\" ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
.\" OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
.\"
.\" Sponsored in part by the Defense Advanced Research Projects
.\" Agency (DARPA) and Air Force Research Laboratory, Air Force
.\" Materiel Command, USAF, under agreement number F39502-99-1-0512.
.\"
.\"-
.\" Try to make GNU groff and AT&T nroff more compatible
.\" * ` generates ‘ in gnroff, so use \`
.\" * ' generates ’ in gnroff, \' generates ´, so use \*(aq
.\" * - generates ‐ in gnroff, \- generates −, so .tr it to -
.\"   thus use - for hyphens and \- for minus signs and option dashes
.\" * ~ is size-reduced and placed atop in groff, so use \*(TI
.\" * ^ is size-reduced and placed atop in groff, so use \*(ha
.\" * \(en does not work in nroff, so use \*(en
.\" * <>| are problematic, so redefine and use \*(Lt\*(Gt\*(Ba
.\" Also make sure to use \& *before* a punctuation char that is to not
.\" be interpreted as punctuation, and especially with two-letter words
.\" but also (after) a period that does not end a sentence (“e.g.\&”).
.\" The section after the "doc" macropackage has been loaded contains
.\" additional code to convene between the UCB mdoc macropackage (and
.\" its variant as BSD mdoc in groff) and the GNU mdoc macropackage.
.\"
.ie \n(.g \{\
.	if \*[.T]ascii .tr \-\N'45'
.	if \*[.T]latin1 .tr \-\N'45'
.	if \*[.T]utf8 .tr \-\N'45'
.	ds <= \[<=]
.	ds >= \[>=]
.	ds Rq \[rq]
.	ds Lq \[lq]
.	ds sL \(aq
.	ds sR \(aq
.	if \*[.T]utf8 .ds sL `
.	if \*[.T]ps .ds sL `
.	if \*[.T]utf8 .ds sR '
.	if \*[.T]ps .ds sR '
.	ds aq \(aq
.	ds TI \(ti
.	ds ha \(ha
.	ds en \(en
.\}
.el \{\
.	ds aq '
.	ds TI ~
.	ds ha ^
.	ds en \(em
.\}
.\"
.\" Implement .Dd with the Mdocdate RCS keyword
.\"
.rn Dd xD
.de Dd
.ie \\$1$Mdocdate: \{\
.	xD \\$2 \\$3, \\$4
.\}
.el .xD \\$1 \\$2 \\$3 \\$4 \\$5 \\$6 \\$7 \\$8
..
.\"
.\" .Dd must come before definition of .Mx, because when called
.\" with -mandoc, it might implement .Mx itself, but we want to
.\" use our own definition. And .Dd must come *first*, always.
.\"
.Dd $Mdocdate: December 25 2018 $
.\"
.\" Check which macro package we use, and do other -mdoc setup.
.\"
.ie \n(.g \{\
.	if \*[.T]utf8 .tr \[la]\*(Lt
.	if \*[.T]utf8 .tr \[ra]\*(Gt
.	ie d volume-ds-1 .ds tT gnu
.	el .ie d doc-volume-ds-1 .ds tT gnp
.	el .ds tT bsd
.\}
.el .ds tT ucb
.\"
.\" Implement .Mx (MirBSD)
.\"
.ie "\*(tT"gnu" \{\
.	eo
.	de Mx
.	nr curr-font \n[.f]
.	nr curr-size \n[.ps]
.	ds str-Mx \f[\n[curr-font]]\s[\n[curr-size]u]
.	ds str-Mx1 \*[Tn-font-size]\%MirBSD\*[str-Mx]
.	if !\n[arg-limit] \
.	if \n[.$] \{\
.	ds macro-name Mx
.	parse-args \$@@
.	\}
.	if (\n[arg-limit] > \n[arg-ptr]) \{\
.	nr arg-ptr +1
.	ie (\n[type\n[arg-ptr]] == 2) \
.	as str-Mx1 \~\*[arg\n[arg-ptr]]
.	el \
.	nr arg-ptr -1
.	\}
.	ds arg\n[arg-ptr] "\*[str-Mx1]
.	nr type\n[arg-ptr] 2
.	ds space\n[arg-ptr] "\*[space]
.	nr num-args (\n[arg-limit] - \n[arg-ptr])
.	nr arg-limit \n[arg-ptr]
.	if \n[num-args] \
.	parse-space-vector
.	print-recursive
..
.	ec
.	ds sP \s0
.	ds tN \*[Tn-font-size]
.\}
.el .ie "\*(tT"gnp" \{\
.	eo
.	de Mx
.	nr doc-curr-font \n[.f]
.	nr doc-curr-size \n[.ps]
.	ds doc-str-Mx \f[\n[doc-curr-font]]\s[\n[doc-curr-size]u]
.	ds doc-str-Mx1 \*[doc-Tn-font-size]\%MirBSD\*[doc-str-Mx]
.	if !\n[doc-arg-limit] \
.	if \n[.$] \{\
.	ds doc-macro-name Mx
.	doc-parse-args \$@@
.	\}
.	if (\n[doc-arg-limit] > \n[doc-arg-ptr]) \{\
.	nr doc-arg-ptr +1
.	ie (\n[doc-type\n[doc-arg-ptr]] == 2) \
.	as doc-str-Mx1 \~\*[doc-arg\n[doc-arg-ptr]]
.	el \
.	nr doc-arg-ptr -1
.	\}
.	ds doc-arg\n[doc-arg-ptr] "\*[doc-str-Mx1]
.	nr doc-type\n[doc-arg-ptr] 2
.	ds doc-space\n[doc-arg-ptr] "\*[doc-space]
.	nr doc-num-args (\n[doc-arg-limit] - \n[doc-arg-ptr])
.	nr doc-arg-limit \n[doc-arg-ptr]
.	if \n[doc-num-args] \
.	doc-parse-space-vector
.	doc-print-recursive
..
.	ec
.	ds sP \s0
.	ds tN \*[doc-Tn-font-size]
.\}
.el \{\
.	de Mx
.	nr cF \\n(.f
.	nr cZ \\n(.s
.	ds aa \&\f\\n(cF\s\\n(cZ
.	if \\n(aC==0 \{\
.		ie \\n(.$==0 \&MirBSD\\*(aa
.		el .aV \\$1 \\$2 \\$3 \\$4 \\$5 \\$6 \\$7 \\$8 \\$9
.	\}
.	if \\n(aC>\\n(aP \{\
.		nr aP \\n(aP+1
.		ie \\n(C\\n(aP==2 \{\
.			as b1 \&MirBSD\ #\&\\*(A\\n(aP\\*(aa
.			ie \\n(aC>\\n(aP \{\
.				nr aP \\n(aP+1
.				nR
.			\}
.			el .aZ
.		\}
.		el \{\
.			as b1 \&MirBSD\\*(aa
.			nR
.		\}
.	\}
..
.\}
.\"-
.Dt MD5 1
.Os
.Sh NAME
.Nm md5
.Nd calculate a message-digest fingerprint (checksum) for a file
.Sh SYNOPSIS
.Nm
.Bk -words
.Op Fl b
.Oo
.Fl p | s Ar string |
.Ar file ...
.Oc
.Ek
.Nm
.Bk -words
.Fl G
.Op Ar file ...
.Ek
.Nm
.Bk -words
.Fl t | x |
.Fl c Op Ar checklist ...
.Ek
.Nm md5sum
.Op Fl b | t
.Op Ar file ...
.Sh DESCRIPTION
.Nm
takes as input a message of arbitrary length and produces
as output a 128-bit "fingerprint" or "message digest" of the input.
It was conjectured that it would be computationally infeasible to produce
two messages having the same message digest (a collision), or to produce any
message having a given prespecified target message digest.
However, collisions have now been produced for
.Em MD5 ,
so the use of other message digest functions is now preferred.
.Pp
The
.Em MD5
algorithm is intended for digital signature applications, where a
large file must be "compressed" in a secure manner before being
encrypted with a private (secret) key under a public-key cryptosystem
such as
.Em RSA .
.Pp
The options are as follows:
.Bl -tag -width Ds
.It Fl b
Print the checksum as binary to stdout.
Ignored in GNU mode.
.It Xo
.Fl c
.Op Ar checklist ...
.Xc
Compares all checksums contained in the file
.Ar checklist
with newly computed checksums for the corresponding files.
Output consists of the digest used, the file name,
and an OK or FAILED for the result of the comparison.
This will validate any of the supported checksums (see
.Xr cksum 1 ) .
If no file is given, stdin is used.
.It Fl G
Enable GNU
.Nm md5sum
compatible output mode.
Can also be enabled by calling this program as
.Nm md5sum .
.It Fl p
Echoes stdin to stdout and appends the
.Em MD5
sum to stdout.
.It Fl s Ar string
Prints a checksum of the given
.Ar string .
.It Fl t
Runs a built-in time trial.
Ignored in GNU mode.
.It Fl x
Runs a built-in test script.
.El
.Pp
The MD5 sum of each file listed on the command line is printed after the
options are processed.
.Sh SEE ALSO
.Xr cksum 1 ,
.Xr rmd160 1 ,
.Xr sha1 1
.Rs
.%A R. Rivest
.%T The MD5 Message-Digest Algorithm
.%O RFC 1321
.Re
.Sh BUGS
Since collisions have been found for
.Em MD5 ,
the use of
.Xr rmd160 1
or
.Xr sha1 1
is recommended instead.
@


1.9
log
@spelling cleanup: “programme” is distinct from “program”; even in
British English, the latter is used for computer programs, while
the former serves for things like the TV programme, or a programme
to plant trees
@
text
@d1 1
a1 1
.\"	$MirOS: src/bin/md5/md5.1,v 1.8 2016/02/11 20:12:09 tg Exp $
d4 1
a4 1
.\" Copyright (c) 2008, 2009, 2010, 2016
d81 1
a81 1
.Dd $Mdocdate: February 11 2016 $
d89 1
d102 1
a102 1
.	ds str-Mx1 \*[Tn-font-size]\%MirOS\*[str-Mx]
d128 32
d166 1
a166 1
.		ie \\n(.$==0 \&MirOS\\*(aa
d172 1
a172 1
.			as b1 \&MirOS\ #\&\\*(A\\n(aP\\*(aa
d180 1
a180 1
.			as b1 \&MirOS\\*(aa
@


1.8
log
@merge most recent portmdoc into a̲l̲l̲ of its users; fixup .\& into \&. like
in mksh(1), for Schillix ditroff
@
text
@d1 1
a1 1
.\"	$MirOS: src/bin/md5/md5.1,v 1.6 2009/11/17 21:20:42 tg Exp $
d81 1
a81 1
.Dd $Mdocdate: November 17 2009 $
d221 1
a221 1
Can also be enabled by calling this programme as
@


1.7
log
@fix an editing mistake
@
text
@d4 2
a5 2
.\" Copyright (c) 2008, 2009
.\"	Thorsten “mirabilos” Glaser <tg@@mirbsd.org>
d33 4
d83 1
a83 1
.\" Check which macro package we use
d86 2
@


1.6
log
@these are the first to use the new portmdoc
@
text
@d1 1
a1 1
.\"	$MirOS: src/bin/md5/md5.1,v 1.5 2009/05/17 14:09:25 tg Exp $
d120 1
@


1.5
log
@implement GNU md5sum compatible mode, two-way
• argv[0] = ${algo}sum
• .Fl G

The former accepts (and ignores) either -b or -t (but not both,
due to the rest of the code¹) but rejects -c (not implemented¹)
and -w (unknown) as well as --gnu-long-options.
The latter is more picky but can be called more easily.

① pending rewrite?
@
text
@d1 1
a1 1
.\"	$MirOS: src/bin/md5/md5.1,v 1.4 2006/05/09 22:50:31 tg Exp $
d4 2
d26 3
a28 3
.\" * ` generates ‘ in groff, so use \`
.\" * ' generates ’ in groff, \' generates ´, so use \*(aq
.\" * - generates ‐ in groff, \- generates −, fixed in tmac/mdoc/doc-groff
d33 4
d38 13
d64 1
d76 10
a85 1
.Dd $Mdocdate: April 17 2008 $
d88 53
a140 14
.de Mx
.nr cF \\n(.f
.nr cZ \\n(.s
.ds aa \&\f\\n(cF\s\\n(cZ
.if \\n(aC==0 \{\
.	ie \\n(.$==0 \&MirOS\\*(aa
.	el .aV \\$1 \\$2 \\$3 \\$4 \\$5 \\$6 \\$7 \\$8 \\$9
.\}
.if \\n(aC>\\n(aP \{\
.	nr aP \\n(aP+1
.	ie \\n(C\\n(aP==2 \{\
.		as b1 \&MirOS\ #\&\\*(A\\n(aP\\*(aa
.		ie \\n(aC>\\n(aP \{\
.			nr aP \\n(aP+1
a142 5
.		el .aZ
.	\}
.	el \{\
.		as b1 \&MirOS\\*(aa
.		nR
d144 1
d146 1
a146 1
..
@


1.4
log
@don't adv for sha1 any more
@
text
@d1 1
a1 1
.\"	$MirOS: src/bin/md5/md5.1,v 1.3 2006/05/09 22:17:34 tg Exp $
d22 61
a82 1
.Dd April 30, 2004
d89 3
a91 1
.Nm md5
d93 1
a93 5
.Oo Fl b Oc
.Fl p | t | x |
.Fl c Oo Ar checklist ... Oc |
.Fl s Ar string |
.Oo Fl b Oc
d96 14
d133 1
d146 6
d161 1
@


1.3
log
@fix description and usage of the -b option
@
text
@d1 1
a1 1
.\"	$MirOS: src/bin/md5/md5.1,v 1.2 2005/03/06 18:55:22 tg Exp $
d47 1
a47 3
so the use of other message digest functions, such as
.Xr sha1 1 ,
is now preferred.
@


1.2
log
@merge src/bin
@
text
@d1 1
a1 1
.\"	$MirOS$
d31 1
d35 1
d61 2
@


1.2.2.1
log
@MFC src/bin/md5,-rHEAD

ok bsiegert@@
@
text
@d1 1
a1 1
.\"	$MirOS: src/bin/md5/md5.1,v 1.4 2006/05/09 22:50:31 tg Exp $
a30 1
.Oo Fl b Oc
a33 1
.Oo Fl b Oc
d45 3
a47 1
so the use of other message digest functions is now preferred.
a58 2
.It Fl b
Print the checksum as binary to stdout.
@


1.1
log
@Initial revision
@
text
@d1 1
d99 2
@


1.1.1.1
log
@Import the OpenBSD foundation of MirOS BSD
@
text
@@
