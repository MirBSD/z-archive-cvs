head	1.11;
access;
symbols
	mksh-R57:1.11
	mksh-R56c:1.11
	mksh-R56b:1.10
	mksh-R56:1.10
	mksh-R55:1.10
	mksh-R54:1.10
	mksh-R53a:1.9
	mksh-R53:1.9
	mksh-R52c:1.7
	mksh-R52b:1.7
	mksh-R52:1.7
	mksh-R51:1.6
	mksh-R50f:1.6
	mksh-R50e:1.6
	mksh-R50stable:1.6.0.4
	mksh-R50d:1.6
	mksh-R50c:1.6
	mksh-R50b:1.6
	mksh-R50:1.6
	mksh-R49:1.6
	mksh-R48b:1.6
	mksh-R48:1.6
	mksh-R47:1.6
	mksh-R46:1.6
	mksh-R45:1.6
	mksh-R44:1.6
	mksh-R43:1.6
	mksh-R42b:1.6
	mksh-R41c:1.6
	mksh-R41b:1.6
	mksh-R42:1.6
	mksh-R41:1.6
	mksh-R41stable:1.6.0.2
	mksh-wheezy:1.2.0.6
	tg-multikey-bind:1.2.0.4
	mksh-R40f:1.2
	mksh-R40e:1.2
	mksh-R40d:1.2
	mksh-R40c:1.2
	mksh-R40b:1.2
	mksh-R40stable:1.2.0.2
	mksh-R40:1.2
	mksh-R39c:1.1
	mksh-R39b:1.1
	tg-wcswidth-behaviour:1.1.0.2;
locks; strict;
comment	@ * @;


1.11
date	2018.01.13.21.38.10;	author tg;	state Exp;
branches;
next	1.10;
commitid	1005A5A7C0944B414C1;

1.10
date	2016.11.11.23.31.39;	author tg;	state Exp;
branches;
next	1.9;
commitid	100582654B972655F84;

1.9
date	2016.07.25.21.02.13;	author tg;	state Exp;
branches;
next	1.8;
commitid	10057967E6E4D7B1F1D;

1.8
date	2016.07.25.20.43.54;	author tg;	state Exp;
branches;
next	1.7;
commitid	10057967A0D0C01C9C9;

1.7
date	2015.12.12.21.08.44;	author tg;	state Exp;
branches;
next	1.6;
commitid	100566C8CF54F3FF318;

1.6
date	2012.11.30.16.45.25;	author tg;	state Exp;
branches;
next	1.5;
commitid	10050B8E2BD1B701D7D;

1.5
date	2012.11.26.22.49.51;	author tg;	state Exp;
branches;
next	1.4;
commitid	10050B3F2237B099269;

1.4
date	2012.11.20.18.07.45;	author tg;	state Exp;
branches;
next	1.3;
commitid	10050ABC70641D0E46B;

1.3
date	2012.11.20.17.42.32;	author tg;	state Exp;
branches;
next	1.2;
commitid	10050ABC11D40F1EAFA;

1.2
date	2011.06.05.19.58.21;	author tg;	state Exp;
branches;
next	1.1;
commitid	1004DEBDFBB243C0DCF;

1.1
date	2009.09.26.03.40.03;	author tg;	state Exp;
branches;
next	;
commitid	1004ABD8CE62D55CFD8;


desc
@@


1.11
log
@implement early (mediæval) locale tracking, as a compile-time option,
for SuSE; slightly inspired by the original patch submitted by
From: Dr. Werner Fink <werner@@suse.de>
@
text
@/*-
 * Copyright (c) 2009, 2011, 2012, 2016, 2018
 *	mirabilos <m@@mirbsd.org>
 *
 * Provided that these terms and disclaimer and all copyright notices
 * are retained or reproduced in an accompanying document, permission
 * is granted to deal in this work without restriction, including un-
 * limited rights to use, publicly perform, distribute, sell, modify,
 * merge, give away, or sublicence.
 *
 * This work is provided "AS IS" and WITHOUT WARRANTY of any kind, to
 * the utmost extent permitted by applicable law, neither express nor
 * implied; without malicious intent or gross negligence. In no event
 * may a licensor, author or contributor be held liable for indirect,
 * direct, other damage, loss, or other issues arising in any way out
 * of dealing in the work, even if advised of the possibility of such
 * damage or existence of a defect, except proven that it results out
 * of said person's immediate fault when using the work as intended.
 */

#if defined(VARSPEC_DEFNS)
__RCSID("$MirOS: src/bin/mksh/var_spec.h,v 1.8 2016/07/25 20:43:54 tg Exp $");
#define FN(name)			/* nothing */
#elif defined(VARSPEC_ENUMS)
#define FN(name)			V_##name,
#define F0(name)			V_##name = 0,
#elif defined(VARSPEC_ITEMS)
#define F0(name)			/* nothing */
#define FN(name)			#name,
#endif

#ifndef F0
#define F0 FN
#endif

/* NOTE: F0 are skipped for the ITEMS array, only FN generate names */

/* 0 is always V_NONE */
F0(NONE)

/* 1 and up are special variables */
FN(BASHPID)
#ifdef __OS2__
FN(BEGINLIBPATH)
#endif
FN(COLUMNS)
#ifdef __OS2__
FN(ENDLIBPATH)
#endif
FN(EPOCHREALTIME)
#if HAVE_PERSISTENT_HISTORY
FN(HISTFILE)
#endif
FN(HISTSIZE)
FN(IFS)
#ifdef MKSH_EARLY_LOCALE_TRACKING
FN(LANG)
FN(LC_ALL)
FN(LC_CTYPE)
#endif
#ifdef __OS2__
FN(LIBPATHSTRICT)
#endif
FN(LINENO)
FN(LINES)
FN(OPTIND)
FN(PATH)
FN(RANDOM)
FN(SECONDS)
#ifndef MKSH_NO_CMDLINE_EDITING
FN(TERM)
#endif
FN(TMOUT)
FN(TMPDIR)

#undef FN
#undef F0
#undef VARSPEC_DEFNS
#undef VARSPEC_ENUMS
#undef VARSPEC_ITEMS
@


1.10
log
@collective R54 release preparation multi-merger:

install both lksh and mksh manpages from Build.sh (Martijn Dekker)
spelling fixes (Larry Hynes)
manpage improvements (Martijn Dekker)
initial port to Harvey-OS’ APEX (Ronald G. Minnich, Elbing Miss, Álvaro Jurado)
more from komh’s OS/2 port (KO Myung-Hun)
@
text
@d2 1
a2 1
 * Copyright (c) 2009, 2011, 2012, 2016
d56 5
@


1.9
log
@oops…
@
text
@d43 3
d47 3
d56 3
@


1.8
log
@make tmux hack workable for now (libtermcap is… ugly)

• track $TERM for the types tmux uses /^screen(-.*)?$/
• when tmux is in use (or GNU screen, really), use the, now
  hardcoded, clear-to-EOL string; otherwise, use the old behaviour
• drop unnecessary x_e_rebuildline()

carefully tested to behave no worse than R52b
@
text
@d22 1
a22 1
__RCSID("$MirOS: src/bin/mksh/var_spec.h,v 1.7 2015/12/12 21:08:44 tg Exp $");
d56 1
d58 1
@


1.7
log
@add explicit licence
@
text
@d2 1
a2 1
 * Copyright (c) 2009, 2011, 2012
d22 1
a22 1
__RCSID("$MirOS: src/bin/mksh/var_spec.h,v 1.6 2012/11/30 16:45:25 tg Exp $");
d56 1
@


1.6
log
@oops, this list is s’pos’ta be sorted
@
text
@d1 20
d22 1
a22 1
__RCSID("$MirOS: src/bin/mksh/var_spec.h,v 1.4 2012/11/20 18:07:45 tg Exp $");
@


1.5
log
@use EPOCHREALTIME as variable, somewhat compatible with “zmodload zsh/datetime”, as ormaaj belatedly found out
@
text
@d24 1
a31 1
FN(EPOCHREALTIME)
@


1.4
log
@add MKSH_UNIXTIME
@
text
@d2 1
a2 1
__RCSID("$MirOS: src/bin/mksh/var_spec.h,v 1.2 2011/06/05 19:58:21 tg Exp $");
d31 1
a31 1
FN(MKSH_UNIXTIME)
@


1.3
log
@introduce $BASHPID for ormaaj from #ksh
@
text
@d31 1
@


1.2
log
@• rework hash table interna to avoid gcc-4.1 on Debian etch bug
• also improve behaviour with _a lot_ (>2²⁸) entries
• while here, improve comments and whitespace
@
text
@d2 1
a2 1
__RCSID("$MirOS: src/bin/mksh/var_spec.h,v 1.1 2009/09/26 03:40:03 tg Exp $");
d22 1
@


1.1
log
@further optimise and simplify the handling of $RANDOM, reads and writes
to it are now either arc4random or rand/srand, but srand retains the old
state; set +o arc4random is no longer possible, but if it's there we use
arc4random(3), if not, we use rand(3) for $RANDOM reads; optimise special
variable handling too and fix a few consts and other minor things
@
text
@d2 1
a2 1
__RCSID("$MirOS$");
d16 2
@

