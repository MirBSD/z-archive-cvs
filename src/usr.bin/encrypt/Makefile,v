head	1.7;
access;
symbols
	MIRBSD_10:1.3.0.4
	MIRBSD_10_BASE:1.3
	MIRBSD_9_BASE:1.3
	MIRBSD_8:1.3.0.2
	MIRBSD_8_BASE:1.3
	cvs-200507211800:1.1.1.1
	openbsd:1.1.1;
locks; strict;
comment	@# @;


1.7
date	2010.01.07.22.34.57;	author tg;	state Exp;
branches;
next	1.6;
commitid	1004B46615B7479BC1B;

1.6
date	2009.03.29.13.04.22;	author tg;	state Exp;
branches;
next	1.5;
commitid	10049CF71B654F9EF54;

1.5
date	2008.03.27.14.53.24;	author tg;	state Exp;
branches;
next	1.4;
commitid	10047EBB4DA2B6DE010;

1.4
date	2008.03.27.13.41.32;	author tg;	state Exp;
branches;
next	1.3;
commitid	10047EBA38C76760782;

1.3
date	2005.03.15.19.23.49;	author tg;	state Exp;
branches;
next	1.2;

1.2
date	2005.03.13.18.32.54;	author tg;	state Exp;
branches;
next	1.1;

1.1
date	2005.02.05.17.29.29;	author tg;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2005.02.05.17.29.29;	author tg;	state Exp;
branches;
next	;


desc
@@


1.7
log
@facilitate code and data sharing: move some passwd(8) functions
sources by other stuff into libc or libutil; make commons out of
things like digits, base64 data or code, etc. (publish the data
parts as well, justin case) plus do some const cleanup
@
text
@# $MirOS: src/usr.bin/encrypt/Makefile,v 1.6 2009/03/29 13:04:22 tg Exp $
# $OpenBSD: Makefile,v 1.7 2002/06/27 19:56:03 art Exp $

PROG=		encrypt

LDADD+=		-lutil
DPADD+=		${LIBUTIL}
LIBEXEC?=	/usr/libexec
LINKS=		${BINDIR}/encrypt ${LIBEXEC}/makekey
MLINKS=		encrypt.1 makekey.8

LDSTATIC=	-static

.include <bsd.prog.mk>
@


1.6
log
@• take care of dbins
• #!/bin/mksh shebang, in most places
• rcsid while here
@
text
@d1 1
a1 1
# $MirOS: src/usr.bin/encrypt/Makefile,v 1.5 2008/03/27 14:53:24 tg Exp $
a4 2
SRCS=		encrypt.c pwd_gensalt.c
.PATH: ${.CURDIR}/../passwd
@


1.5
log
@• install these into /usr/dbin, /usr/dsbin instead
• split compressutil (zmore, zdiff, etc.) from compress
  and install them into /usr/bin as usual
@
text
@d1 1
a1 1
# $MirOS: src/usr.bin/encrypt/Makefile,v 1.4 2008/03/27 13:41:32 tg Exp $
a7 1
BINDIR?=	/usr/dbin
d14 2
@


1.4
log
@• do not make these statically linked any more:
  ‣ kdump, ktrace, timedc
• temporarily remove ${STATIC} from LDSTATIC for:
  ‣ ping, ping6, portmap, traceroute, traceroute6 (/sbin)
  ‣ compress, ftp, chroot, vnconfig (system recovery)
  ‣ encrypt, pwd_mkdb (used by ramdisc installer for now)
• hardcode LDSTATIC=-static for ldconfig, as ${STATIC} can
  be set to "" by the user (for dynamically linked /bin /sbin)
@
text
@d1 1
a1 1
# $MirOS: src/usr.bin/encrypt/Makefile,v 1.3 2005/03/15 19:23:49 tg Exp $
d8 1
@


1.3
log
@many more cases of CFLAGS abuse, non-use of ${SHELL}, etc.
@
text
@d1 1
a1 1
# $MirOS: src/usr.bin/encrypt/Makefile,v 1.2 2005/03/13 18:32:54 tg Exp $
a3 3
# Must be static because the floppies use it through a chroot.

LDSTATIC=	${STATIC}
@


1.2
log
@merge src/usr.bin
@
text
@d1 1
a1 1
# $MirOS$
d7 2
a8 2
PROG=	encrypt
SRCS= encrypt.c pwd_gensalt.c
d11 5
a15 8
LDADD = -lutil
DPADD= ${LIBUTIL}
LIBEXEC?=       /usr/libexec

LINKS=	${BINDIR}/encrypt ${LIBEXEC}/makekey
MLINKS=	encrypt.1 makekey.8

CFLAGS_encrypt.o= -Os
@


1.1
log
@Initial revision
@
text
@d1 2
a2 1
#	$OpenBSD: Makefile,v 1.7 2002/06/27 19:56:03 art Exp $
d18 2
@


1.1.1.1
log
@Import the OpenBSD foundation of MirOS BSD
@
text
@@
