head	1.4;
access;
symbols
	cvs-20160325:1.1.1.3
	MIRBSD_10:1.1.1.2.0.4
	MIRBSD_10_BASE:1.1.1.2
	MIRBSD_9_BASE:1.1.1.2
	MIRBSD_8:1.1.1.2.0.2
	MIRBSD_8_BASE:1.1.1.2
	cvs-200507211800:1.1.1.2
	openbsd:1.1.1;
locks; strict;
comment	@ * @;


1.4
date	2016.03.25.19.17.11;	author tg;	state Exp;
branches;
next	1.3;
commitid	10056F58ECC633EC9F6;

1.3
date	2016.03.25.18.55.37;	author tg;	state Exp;
branches;
next	1.2;
commitid	10056F589BF44FCD098;

1.2
date	2013.10.31.20.07.08;	author tg;	state Exp;
branches;
next	1.1;
commitid	1005272B7081B0E5655;

1.1
date	2005.02.05.17.29.48;	author tg;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2005.02.05.17.29.48;	author tg;	state Exp;
branches;
next	1.1.1.2;

1.1.1.2
date	2005.07.21.21.00.07;	author tg;	state Exp;
branches;
next	1.1.1.3;
commitid	560042e0092f571e;

1.1.1.3
date	2016.03.25.18.29.32;	author tg;	state Exp;
branches;
next	;
commitid	10056F5839F0299669A;


desc
@@


1.4
log
@__CRAZY clean
@
text
@/*	$OpenBSD: util.h,v 1.17 2015/07/26 14:32:19 millert Exp $	*/

/*
 * patch - a program to apply diffs to original files
 * 
 * Copyright © 2013, 2016
 *	mirabilos <m@@mirbsd.org>
 * Copyright 1986, Larry Wall
 * 
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following condition is met:
 * 1. Redistributions of source code must retain the above copyright notice,
 * this condition and the following disclaimer.
 * 
 * THIS SOFTWARE IS PROVIDED BY THE AUTHOR AND CONTRIBUTORS ``AS IS'' AND ANY
 * EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED.  IN NO EVENT SHALL THE AUTHOR OR CONTRIBUTORS BE LIABLE FOR
 * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
 * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR
 * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER
 * CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT
 * LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY
 * OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
 * SUCH DAMAGE.
 * 
 * -C option added in 1998, original code by Marc Espie, based on FreeBSD
 * behaviour
 */

#ifndef MIRPATCH_UTIL_H
#define MIRPATCH_UTIL_H "$MirOS: src/usr.bin/patch/util.h,v 1.3 2016/03/25 18:55:37 tg Exp $"

char		*fetchname(const char *, bool *, int);
int		backup_file(const char *);
int		move_file(const char *, const char *);
int		copy_file(const char *, const char *);
void		say(const char *, ...)
		    __attribute__((__format__(__printf__, 1, 2)));
void		fatal(const char *, ...)
		    __attribute__((__noreturn__))
		    __attribute__((__format__(__printf__, 1, 2)));
void		pfatal(const char *, ...)
		    __attribute__((__noreturn__))
		    __attribute__((__format__(__printf__, 1, 2)));
void		ask(const char *, ...)
		    __attribute__((__format__(__printf__, 1, 2)));
char		*savestr(const char *);
char		*xstrdup(const char *);
void		set_signals(int);
void		ignore_signals(void);
void		makedirs(const char *, bool);
void		version(void) __attribute__((__noreturn__));
void		my_exit(int) __attribute__((__noreturn__));

/* in mkpath.c */
extern int mkpath(char *);

#endif
@


1.3
log
@fastmerge
@
text
@d32 1
a32 1
#define MIRPATCH_UTIL_H "$MirOS$"
d41 1
d44 1
d53 1
a53 1
void		version(void);
@


1.2
log
@adapt most __attribute__((…)) occurrences to new KNF style(9)
@
text
@d1 1
a1 2
/*	$MirOS$ */
/*	$OpenBSD: util.h,v 1.15 2005/06/20 07:14:06 otto Exp $	*/
d6 2
a7 2
 * Copyright © 2013
 *	Thorsten “mirabilos” Glaser <tg@@mirbsd.org>
d31 3
a34 1
char		*checked_in(char *);
d47 1
d56 2
@


1.1
log
@Initial revision
@
text
@d1 2
a2 1
/*	$OpenBSD: util.h,v 1.13 2004/08/05 21:47:24 deraadt Exp $	*/
d7 2
d50 4
a53 1
void		my_exit(int) __attribute__((noreturn));
@


1.1.1.1
log
@Import the OpenBSD foundation of MirOS BSD
@
text
@@


1.1.1.2
log
@Import almost everything (no ancontrol, ifconfig, pfctl, wicontrol)
of (the undeleted parts of) OpenBSD-current's userland of about 3 hours ago.
Warning: this introduces major breakage!
@
text
@d1 1
a1 1
/*	$OpenBSD: util.h,v 1.15 2005/06/20 07:14:06 otto Exp $	*/
a47 3

/* in mkpath.c */
extern int mkpath(char *);
@


1.1.1.3
log
@Import latest patch(1) from OpenBSD
@
text
@d1 1
a1 1
/*	$OpenBSD: util.h,v 1.17 2015/07/26 14:32:19 millert Exp $	*/
d30 1
a42 1
char		*xstrdup(const char *);
@


