head	1.4;
access;
symbols
	MIRBSD_10:1.3.0.4
	MIRBSD_10_BASE:1.3
	MIRBSD_9_BASE:1.3
	MIRBSD_8:1.3.0.2
	MIRBSD_8_BASE:1.3
	cvs-200507211800:1.1.1.1
	cvs-200504261445:1.1.1.1
	openbsd:1.1.1;
locks; strict;
comment	@# @;


1.4
date	2010.01.07.22.34.57;	author tg;	state Exp;
branches;
next	1.3;
commitid	1004B46615B7479BC1B;

1.3
date	2005.03.15.19.23.56;	author tg;	state Exp;
branches;
next	1.2;

1.2
date	2005.03.13.18.33.20;	author tg;	state Exp;
branches;
next	1.1;

1.1
date	2005.02.05.17.29.45;	author tg;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2005.02.05.17.29.45;	author tg;	state Exp;
branches;
next	;


desc
@@


1.4
log
@facilitate code and data sharing: move some passwd(8) functions
sources by other stuff into libc or libutil; make commons out of
things like digits, base64 data or code, etc. (publish the data
parts as well, justin case) plus do some const cleanup
@
text
@# $MirOS: src/usr.bin/passwd/Makefile,v 1.3 2005/03/15 19:23:56 tg Exp $
# $OpenBSD: Makefile,v 1.29 2003/08/04 07:29:22 hin Exp $

PROG=	passwd
DPADD+=	${LIBUTIL}
LDADD+=	-lutil

BINMODE=4555
BINOWN=	root

.include <bsd.prog.mk>
@


1.3
log
@many more cases of CFLAGS abuse, non-use of ${SHELL}, etc.
@
text
@d1 1
a1 1
# $MirOS: src/usr.bin/passwd/Makefile,v 1.2 2005/03/13 18:33:20 tg Exp $
a4 2
SRCS=	getpwent.c local_passwd.c passwd.c pwd_check.c pwd_gensalt.c
.PATH:  ${.CURDIR}/../../lib/libc/gen
@


1.2
log
@merge src/usr.bin
@
text
@d1 1
a1 1
# $MirOS$
a9 2
CFLAGS_getpwent.o=-UYP

d11 1
a11 1
BINOWN=root
@


1.1
log
@Initial revision
@
text
@d1 2
a2 3
#	$OpenBSD: Makefile,v 1.29 2003/08/04 07:29:22 hin Exp $

.include <bsd.own.mk>
d5 1
a5 2
SRCS=	local_passwd.c yp_passwd.c passwd.c pwd_gensalt.c getpwent.c \
	pwd_check.c
d7 2
a8 7
DPADD+= ${LIBRPCSVC} ${LIBUTIL}
LDADD+= -lrpcsvc -lutil
CFLAGS+= -I${.CURDIR}

.if (${YP:L} == "yes")
CFLAGS+=-DYP -I${.CURDIR}/../../lib/libc/yp
.endif
d10 1
a10 8
.include <bsd.own.mk>	# For Kerberos

.if (${KERBEROS5:L} == "yes")
SRCS+= krb5_passwd.c
CFLAGS+= -DKRB5
DPADD+=	${LIBKRB5} ${LIBASN1} ${LIBDES} ${LIBCRYPTO}
LDADD+=	-lkrb5 -lasn1 -ldes -lcrypto
.endif
a14 3
getpwent.o: getpwent.c
	${COMPILE.c} -UYP ${.CURDIR}/../../lib/libc/gen/getpwent.c

@


1.1.1.1
log
@Import the OpenBSD foundation of MirOS BSD
@
text
@@
