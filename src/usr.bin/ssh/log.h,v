head	1.6;
access;
symbols
	cvs-200910041320:1.1.1.4
	cvs-200903221200:1.1.1.4
	cvs-200812162015:1.1.1.4
	cvs-200804031830:1.1.1.3
	MIRBSD_10:1.4.0.2
	MIRBSD_10_BASE:1.4
	cvs-200803022030:1.1.1.3
	cvs-200709131337:1.1.1.3
	cvs-200709021830:1.1.1.3
	cvs-200708201200:1.1.1.3
	cvs-200706161500:1.1.1.3
	cvs-200705192215:1.1.1.3
	cvs-200704292000:1.1.1.3
	cvs-200703080900:1.1.1.3
	cvs-200701251600:1.1.1.3
	cvs-200612111600:1.1.1.3
	cvs-200611090230:1.1.1.3
	OPENBSD_4_0:1.1.1.3
	MIRBSD_9_BASE:1.3
	cvs-200606162342:1.1.1.2
	cvs-200606022000:1.1.1.2
	cvs-200604191000:1.1.1.2
	cvs-200602220045:1.1.1.1
	MIRBSD_8:1.1.1.1.0.2
	MIRBSD_8_BASE:1.1.1.1
	cvs-200512201942:1.1.1.1
	cvs-200511231930:1.1.1.1
	cvs-200507211800:1.1.1.1
	cvs-200506221550:1.1.1.1
	cvs-200505050030:1.1.1.1
	cvs-200504291700:1.1.1.1
	cvs-200504261445:1.1.1.1
	cvs-200504141900:1.1.1.1
	openbsd:1.1.1;
locks; strict;
comment	@ * @;


1.6
date	2013.10.31.20.07.12;	author tg;	state Exp;
branches;
next	1.5;
commitid	1005272B7081B0E5655;

1.5
date	2008.12.16.20.55.22;	author tg;	state Exp;
branches;
next	1.4;
commitid	100494815C97ECEEDBF;

1.4
date	2006.09.20.21.40.59;	author tg;	state Exp;
branches;
next	1.3;
commitid	1004511B578580E7F04;

1.3
date	2006.04.19.10.40.48;	author tg;	state Exp;
branches;
next	1.2;
commitid	100444613BD3A91C28B;

1.2
date	2006.02.22.02.16.46;	author tg;	state Exp;
branches;
next	1.1;
commitid	10043FBC991512A442B;

1.1
date	2005.02.05.17.29.52;	author tg;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2005.02.05.17.29.52;	author tg;	state Exp;
branches;
next	1.1.1.2;

1.1.1.2
date	2006.04.19.10.15.03;	author tg;	state Exp;
branches;
next	1.1.1.3;
commitid	10044460DB21E1F715C;

1.1.1.3
date	2006.09.20.19.06.48;	author tg;	state Exp;
branches;
next	1.1.1.4;
commitid	10045119150397FC669;

1.1.1.4
date	2008.12.16.20.15.33;	author tg;	state Exp;
branches;
next	;
commitid	10049480C7A2701F5C0;


desc
@@


1.6
log
@adapt most __attribute__((…)) occurrences to new KNF style(9)
@
text
@/* $MirOS: src/usr.bin/ssh/log.h,v 1.5 2008/12/16 20:55:22 tg Exp $ */
/* $OpenBSD: log.h,v 1.17 2008/06/13 00:12:02 dtucker Exp $ */

/*
 * Author: Tatu Ylonen <ylo@@cs.hut.fi>
 * Copyright © 2013
 *	Thorsten “mirabilos” Glaser <tg@@mirbsd.org>
 * Copyright (c) 1995 Tatu Ylonen <ylo@@cs.hut.fi>, Espoo, Finland
 *                    All rights reserved
 *
 * As far as I am concerned, the code I have written for this software
 * can be used freely for any purpose.  Any derived versions of this
 * software must be clearly marked as such, and if the derived work is
 * incompatible with the protocol description in the RFC file, it must be
 * called by a name other than "ssh" or "Secure Shell".
 */

#ifndef SSH_LOG_H
#define SSH_LOG_H

/* Supported syslog facilities and levels. */
typedef enum {
	SYSLOG_FACILITY_DAEMON,
	SYSLOG_FACILITY_USER,
	SYSLOG_FACILITY_AUTH,
	SYSLOG_FACILITY_LOCAL0,
	SYSLOG_FACILITY_LOCAL1,
	SYSLOG_FACILITY_LOCAL2,
	SYSLOG_FACILITY_LOCAL3,
	SYSLOG_FACILITY_LOCAL4,
	SYSLOG_FACILITY_LOCAL5,
	SYSLOG_FACILITY_LOCAL6,
	SYSLOG_FACILITY_LOCAL7,
	SYSLOG_FACILITY_NOT_SET = -1
}       SyslogFacility;

typedef enum {
	SYSLOG_LEVEL_QUIET,
	SYSLOG_LEVEL_FATAL,
	SYSLOG_LEVEL_ERROR,
	SYSLOG_LEVEL_INFO,
	SYSLOG_LEVEL_VERBOSE,
	SYSLOG_LEVEL_DEBUG1,
	SYSLOG_LEVEL_DEBUG2,
	SYSLOG_LEVEL_DEBUG3,
	SYSLOG_LEVEL_NOT_SET = -1
}       LogLevel;

void     log_init(const char *, LogLevel, SyslogFacility, int);

SyslogFacility	log_facility_number(char *);
const char * 	log_facility_name(SyslogFacility);
LogLevel	log_level_number(char *);
const char *	log_level_name(LogLevel);

void     fatal(const char *, ...) __attribute__((__noreturn__))
    __attribute__((__format__(__printf__, 1, 2)));
void     error(const char *, ...) __attribute__((__format__(__printf__, 1, 2)));
void     sigdie(const char *, ...)  __attribute__((__noreturn__))
    __attribute__((__format__(__printf__, 1, 2)));
void     logit(const char *, ...) __attribute__((__format__(__printf__, 1, 2)));
void     verbose(const char *, ...) __attribute__((__format__(__printf__, 1, 2)));
void     debug(const char *, ...) __attribute__((__format__(__printf__, 1, 2)));
void     debug2(const char *, ...) __attribute__((__format__(__printf__, 1, 2)));
void     debug3(const char *, ...) __attribute__((__format__(__printf__, 1, 2)));

void	 do_log(LogLevel, const char *, va_list)
	    __attribute__((__format__(__printf__, 2, 0)));
void	 cleanup_exit(int) __attribute__((__noreturn__));
#endif
@


1.5
log
@fastmerge, do not use yet!
@
text
@d1 1
a1 1
/* $MirOS: src/usr.bin/ssh/log.h,v 1.4 2006/09/20 21:40:59 tg Exp $ */
d6 2
d56 10
a65 10
void     fatal(const char *, ...) __attribute__((noreturn))
    __attribute__((format(printf, 1, 2)));
void     error(const char *, ...) __attribute__((format(printf, 1, 2)));
void     sigdie(const char *, ...)  __attribute__((noreturn))
    __attribute__((format(printf, 1, 2)));
void     logit(const char *, ...) __attribute__((format(printf, 1, 2)));
void     verbose(const char *, ...) __attribute__((format(printf, 1, 2)));
void     debug(const char *, ...) __attribute__((format(printf, 1, 2)));
void     debug2(const char *, ...) __attribute__((format(printf, 1, 2)));
void     debug3(const char *, ...) __attribute__((format(printf, 1, 2)));
d68 2
a69 2
	    __attribute__((format(printf, 2, 0)));
void	 cleanup_exit(int) __attribute__((noreturn));
@


1.4
log
@finish merging
@
text
@d1 2
a2 2
/* $MirOS: src/usr.bin/ssh/log.h,v 1.3 2006/04/19 10:40:48 tg Exp $ */
/* $OpenBSD: log.h,v 1.15 2006/08/18 09:13:25 deraadt Exp $ */
d50 3
a52 1
LogLevel log_level_number(char *);
d54 2
a55 1
void     fatal(const char *, ...) __dead __attribute__((format(printf, 1, 2)));
d57 2
a58 1
void     sigdie(const char *, ...) __attribute__((format(printf, 1, 2))) __dead;
d67 1
a67 1
void	 cleanup_exit(int) __dead;
@


1.3
log
@merge and clean up
@
text
@d1 2
a2 2
/* $MirOS$ */
/* $OpenBSD: log.h,v 1.12 2006/03/25 22:22:43 djm Exp $ */
d54 1
@


1.2
log
@fix a lot of and kludge a few more __CRAZY problems, sync rcs id
@
text
@d1 2
a2 2
/**	$MirOS$ */
/*	$OpenBSD: log.h,v 1.11 2004/06/21 22:02:58 djm Exp $	*/
@


1.1
log
@Initial revision
@
text
@d1 1
d47 1
a47 1
void     log_init(char *, LogLevel, SyslogFacility, int);
d60 2
a61 1
void	 do_log(LogLevel, const char *, va_list);
@


1.1.1.1
log
@Import the OpenBSD foundation of MirOS BSD
@
text
@@


1.1.1.2
log
@I decided we'd better upgrade OpenSSH before releasing to the general public
@
text
@d1 1
a1 1
/* $OpenBSD: log.h,v 1.12 2006/03/25 22:22:43 djm Exp $ */
@


1.1.1.3
log
@import a few security-wise relevant changes right now
@
text
@d1 1
a1 1
/* $OpenBSD: log.h,v 1.15 2006/08/18 09:13:25 deraadt Exp $ */
a52 1
void     sigdie(const char *, ...) __attribute__((format(printf, 1, 2)));
@


1.1.1.4
log
@OpenSSH-current
@
text
@d1 1
a1 1
/* $OpenBSD: log.h,v 1.17 2008/06/13 00:12:02 dtucker Exp $ */
d49 1
a49 3
const char * 	log_facility_name(SyslogFacility);
LogLevel	log_level_number(char *);
const char *	log_level_name(LogLevel);
d51 1
a51 2
void     fatal(const char *, ...) __attribute__((noreturn))
    __attribute__((format(printf, 1, 2)));
d53 1
a53 2
void     sigdie(const char *, ...)  __attribute__((noreturn))
    __attribute__((format(printf, 1, 2)));
d61 1
a61 1
void	 cleanup_exit(int) __attribute__((noreturn));
@


