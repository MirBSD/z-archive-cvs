head	1.4;
access;
symbols
	cvs-200910041320:1.1.1.1 openbsd:1.1.1;
locks; strict;
comment	@ * @;


1.4
date	2016.01.14.19.23.03;	author tg;	state dead;
branches;
next	1.3;
commitid	1005697F5AA3EA7E36D;

1.3
date	2013.10.31.20.07.13;	author tg;	state Exp;
branches;
next	1.2;
commitid	1005272B7081B0E5655;

1.2
date	2009.10.04.14.29.06;	author tg;	state Exp;
branches;
next	1.1;
commitid	1004AC8B1276FC00211;

1.1
date	2009.10.04.13.25.45;	author tg;	state Exp;
branches
	1.1.1.1;
next	;
commitid	1004AC8A2663BC008C5;

1.1.1.1
date	2009.10.04.13.25.45;	author tg;	state Exp;
branches;
next	;
commitid	1004AC8A2663BC008C5;


desc
@@


1.4
log
@drop roaming code completely
@
text
@/* $OpenBSD: roaming_dummy.c,v 1.3 2009/06/21 09:04:03 dtucker Exp $ */
/*
 * Copyright © 2013
 *	Thorsten “mirabilos” Glaser <tg@@mirbsd.org>
 * Copyright (c) 2004-2009 AppGate Network Security AB
 *
 * Permission to use, copy, modify, and distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 */

/*
 * This file is included in the client programs which should not
 * support roaming.
 */

#include <sys/types.h>
#include <unistd.h>

#include "roaming.h"

__RCSID("$MirOS: src/usr.bin/ssh/roaming_dummy.c,v 1.3 2013/10/31 20:07:13 tg Exp $");

int resume_in_progress = 0;

u_int64_t
get_recv_bytes(void)
{
	return 0;
}

ssize_t
roaming_write(int fd, const void *buf, size_t count,
    int *cont __attribute__((__unused__)))
{
	return write(fd, buf, count);
}

ssize_t
roaming_read(int fd, void *buf, size_t count,
    int *cont __attribute__((__unused__)))
{
	if (cont)
		*cont = 0;
	return read(fd, buf, count);
}

void
add_recv_bytes(u_int64_t num __attribute__((__unused__)))
{
}

int
resume_kex(void)
{
	return 1;
}
@


1.3
log
@adapt most __attribute__((…)) occurrences to new KNF style(9)
@
text
@d30 1
a30 1
__RCSID("$MirOS: src/usr.bin/ssh/roaming_dummy.c,v 1.2 2009/10/04 14:29:06 tg Exp $");
@


1.2
log
@• merge newer OpenSSH
• KNF in our diff – style(9)
• some const cleanliness (build with __CRAZY=Yes mostly)
@
text
@d3 2
d30 1
a30 1
__RCSID("$MirOS$");
d42 1
a42 1
    int *cont __attribute__((unused)))
d49 1
a49 1
    int *cont __attribute__((unused)))
d57 1
a57 1
add_recv_bytes(u_int64_t num __attribute__((unused)))
@


1.1
log
@Initial revision
@
text
@d28 2
d39 2
a40 1
roaming_write(int fd, const void *buf, size_t count, int *cont)
d46 2
a47 1
roaming_read(int fd, void *buf, size_t count, int *cont)
d55 1
a55 1
add_recv_bytes(u_int64_t num)
@


1.1.1.1
log
@Let’s play the version number game – OpenSSH 5.3-current
@
text
@@
