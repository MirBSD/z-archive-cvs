head	1.4;
access;
symbols
	MIRBSD_10:1.4.0.4
	MIRBSD_10_BASE:1.4
	MIRBSD_9_BASE:1.4
	MIRBSD_8:1.4.0.2
	MIRBSD_8_BASE:1.4
	cvs-200507211800:1.1.1.2
	cvs-200506221550:1.1.1.2
	cvs-200504261445:1.1.1.1
	openbsd:1.1.1;
locks; strict;
comment	@# @;


1.4
date	2005.06.22.15.58.51;	author tg;	state Exp;
branches;
next	1.3;
commitid	120b42b98ad1e6ae;

1.3
date	2005.03.15.22.13.31;	author tg;	state Exp;
branches;
next	1.2;

1.2
date	2005.03.13.18.33.38;	author tg;	state Exp;
branches;
next	1.1;

1.1
date	2005.02.05.17.30.00;	author tg;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2005.02.05.17.30.00;	author tg;	state Exp;
branches;
next	1.1.1.2;

1.1.1.2
date	2005.06.22.15.55.53;	author tg;	state Exp;
branches;
next	;
commitid	a4942b98a167a7b;


desc
@@


1.4
log
@merge
@
text
@# $MirOS: src/usr.bin/sudo/lib/Makefile,v 1.3 2005/03/15 22:13:31 tg Exp $
# $OpenBSD: Makefile,v 1.3 2005/06/21 02:11:43 brad Exp $

.PATH:		${.CURDIR}/..

LIB=	sudo
SRCS=	alloc.c defaults.c fileops.c find_path.c gettime.c goodpath.c \
	lex.yy.c sudo.tab.c
CPPFLAGS+=	-I.
CLEANFILES+=	lex.yy.c sudo.tab.c sudo.tab.h

DEBUGLIBS= no

.include <bsd.own.mk>
.if !defined(NOPIC) || ${NOPIC:L} == "no"
CPPFLAGS+= -D_PATH_SUDO_NOEXEC=\"/usr/libexec/sudo_noexec.so\"
NOPIC=	yes
.endif

sudo.tab.c sudo.tab.h: parse.yacc
	rm -f sudo.tab.h sudo.tab.c
	${YACC} -d -b sudo ${.CURDIR}/../parse.yacc

lex.yy.c: parse.lex
	rm -f lex.yy.c
	${LEX} ${.CURDIR}/../parse.lex

install:
	@@echo -n

.include <bsd.lib.mk>
@


1.3
log
@* fix make b-r except
  - missing code (lynx, gcc, X11) - you already know that
  - automatic kernel builds - I've tested with REL_NO_KERNEL=yes
  - automatic manpage build - build_htman.sh still needs to be written
* fix make cleandir
* fix sed(1) docs [XXX kludge, revisit RSN]
* sync lists (don't remove lynx)

so far, no regressions from the merger
@
text
@d1 2
a2 2
# $MirOS: src/usr.bin/sudo/lib/Makefile,v 1.2 2005/03/13 18:33:38 tg Exp $
# $OpenBSD: Makefile,v 1.2 2004/09/28 15:10:51 millert Exp $
@


1.2
log
@merge src/usr.bin
@
text
@d1 1
a1 1
# $MirOS$
d10 1
@


1.1
log
@Initial revision
@
text
@d1 2
a2 1
#	$OpenBSD: Makefile,v 1.2 2004/09/28 15:10:51 millert Exp $
a11 1
NOPROFILE= yes
d14 1
a14 1
.if !defined(NOPIC)
@


1.1.1.1
log
@Import the OpenBSD foundation of MirOS BSD
@
text
@@


1.1.1.2
log
@OpenBSD fixed sudo
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.3 2005/06/21 02:11:43 brad Exp $
a9 2
CLEANFILES=	lex.yy.c sudo.tab.c sudo.tab.h

@

