head	1.3;
access;
symbols
	MIRBSD_10:1.3.0.2
	MIRBSD_10_BASE:1.3
	ncurses-5_2-devel:1.2.0.4
	MIRBSD_9_BASE:1.2
	MIRBSD_8:1.2.0.2
	MIRBSD_8_BASE:1.2
	cvs-200507211800:1.1.1.1
	openbsd:1.1.1;
locks; strict;
comment	@# @;


1.3
date	2006.10.28.19.08.07;	author tg;	state Exp;
branches;
next	1.2;
commitid	1004543AA865C08B5DD;

1.2
date	2005.03.15.19.23.59;	author tg;	state Exp;
branches;
next	1.1;

1.1
date	2005.02.05.17.30.04;	author tg;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2005.02.05.17.30.04;	author tg;	state Exp;
branches;
next	;


desc
@@


1.3
log
@switch to libncurses (for now)
agreed bsiegert@@

ncurses/Makefile: also install HTML docs

switched: libform libmenu libpanel and a few progs, lynx
not switched: tset/clear (but modernised), we use obsd code here
fixed: window
@
text
@# $MirOS$

PROG=		tset
LINKS=		${BINDIR}/tset ${BINDIR}/reset
DPADD+=		${LIBCURSES}
LDADD+=		-lcurses

NCMANSRCS+=	tset.1

MLINKS+=	tset.1 reset.1

.include <bsd.own.mk>

LIBNCDIR?=	${BSDSRCDIR}/lib/libncurses
.include "${LIBNCDIR}/Makefile.inc"

CPPFLAGS+=	-I${NCSRCDIR}/progs
CPPFLAGS+=	-D'PROG_CAPTOINFO="captoinfo"' \
		-D'PROG_INFOTOCAP="infotocap"' \
		-D'PROG_RESET="reset"' -D'PROG_INIT="init"'

.PATH: ${NCSRCDIR}/progs

SRCS+=		dump_entry.c
SRCS+=		tset.c

GENERATED=	ncurses_def.h parametrized.h termsort.c transform.h
CLEANFILES+=	${GENERATED}

beforedepend: ${GENERATED}

ncurses_def.h: ${NCSRCDIR}/include/MKncurses_def.sh \
    ${NCSRCDIR}/include/ncurses_defs
	AWK=${AWK:Q} ${MKSH} ${NCSRCDIR}/include/MKncurses_def.sh \
	    ${NCSRCDIR}/include/ncurses_defs >$@@

parametrized.h: ${NCSRCDIR}/include/MKparametrized.sh ${NCSRCDIR}/include/Caps
	AWK=${AWK:Q} ${MKSH} ${NCSRCDIR}/include/MKparametrized.sh \
	    ${NCSRCDIR}/include/Caps >$@@

termsort.c: ${NCSRCDIR}/progs/MKtermsort.sh ${NCSRCDIR}/include/Caps
	${MKSH} ${NCSRCDIR}/progs/MKtermsort.sh ${AWK:Q} \
	    ${NCSRCDIR}/include/Caps >$@@

transform.h:
	print -n >$@@

.include <bsd.prog.mk>

dump_entry.o: termsort.c
${OBJS}: ${GENERATED:Ntermsort.c}
@


1.2
log
@many more cases of CFLAGS abuse, non-use of ${SHELL}, etc.
@
text
@a1 1
# $OpenBSD: Makefile,v 1.7 2000/02/20 21:50:18 millert Exp $
d3 4
a6 11
PROG=	tset
SRCS=	tset.c dump_entry.c termcap.c
DPADD=	${LIBCURSES}
LDADD=	-lcurses
CURSES= ${.CURDIR}/../../lib/libcurses
TIC= ${.CURDIR}/../tic
CPPFLAGS+= -I${CURSES} -I${TIC} -I${.CURDIR} -I.
CLEANFILES+= termsort.c
.PATH:  ${TIC}
LINKS=	${BINDIR}/tset ${BINDIR}/reset
MLINKS=	tset.1 reset.1
d8 1
a8 1
beforedepend: termsort.c
d10 37
a46 2
termsort.c: ${TIC}/MKtermsort.sh
	${SHELL} ${TIC}/MKtermsort.sh awk ${CURSES}/Caps >$@@
d49 3
@


1.1
log
@Initial revision
@
text
@d1 2
a2 1
#	$OpenBSD: Makefile,v 1.7 2000/02/20 21:50:18 millert Exp $
d10 1
a10 1
CFLAGS+= -I${CURSES} -I${TIC} -I${.CURDIR} -I.
d19 1
a19 1
	sh ${TIC}/MKtermsort.sh awk ${CURSES}/Caps > ${.TARGET}
@


1.1.1.1
log
@Import the OpenBSD foundation of MirOS BSD
@
text
@@
